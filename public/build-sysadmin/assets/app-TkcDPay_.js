var Wce=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports);var Xye=Wce((vwe,XV)=>{function Tne(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var BV={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var jce=BV.exports,zse;function Zce(){return zse||(zse=1,(function(r){(function(a,d){r.exports=a.document?d(a,!0):function(g){if(!g.document)throw new Error("jQuery requires a window with a document");return d(g)}})(typeof window<"u"?window:jce,function(a,d){var g=[],C=Object.getPrototypeOf,k=g.slice,M=g.flat?function(O){return g.flat.call(O)}:function(O){return g.concat.apply([],O)},H=g.push,Y=g.indexOf,V={},te=V.toString,Se=V.hasOwnProperty,ye=Se.toString,je=ye.call(Object),Le={},Ee=function(F){return typeof F=="function"&&typeof F.nodeType!="number"&&typeof F.item!="function"},Ce=function(F){return F!=null&&F===F.window},at=a.document,Je={type:!0,src:!0,nonce:!0,noModule:!0};function xe(O,F,G){G=G||at;var ne,fe,ge=G.createElement("script");if(ge.text=O,F)for(ne in Je)fe=F[ne]||F.getAttribute&&F.getAttribute(ne),fe&&ge.setAttribute(ne,fe);G.head.appendChild(ge).parentNode.removeChild(ge)}function dt(O){return O==null?O+"":typeof O=="object"||typeof O=="function"?V[te.call(O)]||"object":typeof O}var Qt="3.7.1",Et=/HTML$/i,P=function(O,F){return new P.fn.init(O,F)};P.fn=P.prototype={jquery:Qt,constructor:P,length:0,toArray:function(){return k.call(this)},get:function(O){return O==null?k.call(this):O<0?this[O+this.length]:this[O]},pushStack:function(O){var F=P.merge(this.constructor(),O);return F.prevObject=this,F},each:function(O){return P.each(this,O)},map:function(O){return this.pushStack(P.map(this,function(F,G){return O.call(F,G,F)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(O,F){return(F+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(O,F){return F%2}))},eq:function(O){var F=this.length,G=+O+(O<0?F:0);return this.pushStack(G>=0&&G<F?[this[G]]:[])},end:function(){return this.prevObject||this.constructor()},push:H,sort:g.sort,splice:g.splice},P.extend=P.fn.extend=function(){var O,F,G,ne,fe,ge,Me=arguments[0]||{},pt=1,lt=arguments.length,kt=!1;for(typeof Me=="boolean"&&(kt=Me,Me=arguments[pt]||{},pt++),typeof Me!="object"&&!Ee(Me)&&(Me={}),pt===lt&&(Me=this,pt--);pt<lt;pt++)if((O=arguments[pt])!=null)for(F in O)ne=O[F],!(F==="__proto__"||Me===ne)&&(kt&&ne&&(P.isPlainObject(ne)||(fe=Array.isArray(ne)))?(G=Me[F],fe&&!Array.isArray(G)?ge=[]:!fe&&!P.isPlainObject(G)?ge={}:ge=G,fe=!1,Me[F]=P.extend(kt,ge,ne)):ne!==void 0&&(Me[F]=ne));return Me},P.extend({expando:"jQuery"+(Qt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(O){throw new Error(O)},noop:function(){},isPlainObject:function(O){var F,G;return!O||te.call(O)!=="[object Object]"?!1:(F=C(O),F?(G=Se.call(F,"constructor")&&F.constructor,typeof G=="function"&&ye.call(G)===je):!0)},isEmptyObject:function(O){var F;for(F in O)return!1;return!0},globalEval:function(O,F,G){xe(O,{nonce:F&&F.nonce},G)},each:function(O,F){var G,ne=0;if(mn(O))for(G=O.length;ne<G&&F.call(O[ne],ne,O[ne])!==!1;ne++);else for(ne in O)if(F.call(O[ne],ne,O[ne])===!1)break;return O},text:function(O){var F,G="",ne=0,fe=O.nodeType;if(!fe)for(;F=O[ne++];)G+=P.text(F);return fe===1||fe===11?O.textContent:fe===9?O.documentElement.textContent:fe===3||fe===4?O.nodeValue:G},makeArray:function(O,F){var G=F||[];return O!=null&&(mn(Object(O))?P.merge(G,typeof O=="string"?[O]:O):H.call(G,O)),G},inArray:function(O,F,G){return F==null?-1:Y.call(F,O,G)},isXMLDoc:function(O){var F=O&&O.namespaceURI,G=O&&(O.ownerDocument||O).documentElement;return!Et.test(F||G&&G.nodeName||"HTML")},merge:function(O,F){for(var G=+F.length,ne=0,fe=O.length;ne<G;ne++)O[fe++]=F[ne];return O.length=fe,O},grep:function(O,F,G){for(var ne,fe=[],ge=0,Me=O.length,pt=!G;ge<Me;ge++)ne=!F(O[ge],ge),ne!==pt&&fe.push(O[ge]);return fe},map:function(O,F,G){var ne,fe,ge=0,Me=[];if(mn(O))for(ne=O.length;ge<ne;ge++)fe=F(O[ge],ge,G),fe!=null&&Me.push(fe);else for(ge in O)fe=F(O[ge],ge,G),fe!=null&&Me.push(fe);return M(Me)},guid:1,support:Le}),typeof Symbol=="function"&&(P.fn[Symbol.iterator]=g[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(O,F){V["[object "+F+"]"]=F.toLowerCase()});function mn(O){var F=!!O&&"length"in O&&O.length,G=dt(O);return Ee(O)||Ce(O)?!1:G==="array"||F===0||typeof F=="number"&&F>0&&F-1 in O}function Ln(O,F){return O.nodeName&&O.nodeName.toLowerCase()===F.toLowerCase()}var ln=g.pop,et=g.sort,Fe=g.splice,En="[\\x20\\t\\r\\n\\f]",wn=new RegExp("^"+En+"+|((?:^|[^\\\\])(?:\\\\.)*)"+En+"+$","g");P.contains=function(O,F){var G=F&&F.parentNode;return O===G||!!(G&&G.nodeType===1&&(O.contains?O.contains(G):O.compareDocumentPosition&&O.compareDocumentPosition(G)&16))};var Ze=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function U(O,F){return F?O==="\0"?"ï¿½":O.slice(0,-1)+"\\"+O.charCodeAt(O.length-1).toString(16)+" ":"\\"+O}P.escapeSelector=function(O){return(O+"").replace(Ze,U)};var en=at,xt=H;(function(){var O,F,G,ne,fe,ge=xt,Me,pt,lt,kt,on,Nn=P.expando,Jt=0,ho=0,lr=$u(),Qr=$u(),Pr=$u(),ol=$u(),Pi=function(Ke,Ct){return Ke===Ct&&(fe=!0),0},sc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Cu="(?:\\\\[\\da-fA-F]{1,6}"+En+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",qr="\\["+En+"*("+Cu+")(?:"+En+"*([*^$|!~]?=)"+En+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Cu+"))|)"+En+"*\\]",Rl=":("+Cu+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+qr+")*)|.*)\\)|)",Yr=new RegExp(En+"+","g"),Ir=new RegExp("^"+En+"*,"+En+"*"),mh=new RegExp("^"+En+"*([>+~]|"+En+")"+En+"*"),Wc=new RegExp(En+"|>"),Mc=new RegExp(Rl),ph=new RegExp("^"+Cu+"$"),jc={ID:new RegExp("^#("+Cu+")"),CLASS:new RegExp("^\\.("+Cu+")"),TAG:new RegExp("^("+Cu+"|[*])"),ATTR:new RegExp("^"+qr),PSEUDO:new RegExp("^"+Rl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+En+"*(even|odd|(([+-]|)(\\d*)n|)"+En+"*(?:([+-]|)"+En+"*(\\d+)|))"+En+"*\\)|)","i"),bool:new RegExp("^(?:"+sc+")$","i"),needsContext:new RegExp("^"+En+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+En+"*((?:-\\d)?\\d*)"+En+"*\\)|)(?=[^-]|$)","i")},Bu=/^(?:input|select|textarea|button)$/i,ad=/^h\d$/i,Zc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gh=/[+~]/,Ll=new RegExp("\\\\[\\da-fA-F]{1,6}"+En+"?|\\\\([^\\r\\n\\f])","g"),ja=function(Ke,Ct){var Xt="0x"+Ke.slice(1)-65536;return Ct||(Xt<0?String.fromCharCode(Xt+65536):String.fromCharCode(Xt>>10|55296,Xt&1023|56320))},Rd=function(){Ld()},cv=Oa(function(Ke){return Ke.disabled===!0&&Ln(Ke,"fieldset")},{dir:"parentNode",next:"legend"});function Xs(){try{return Me.activeElement}catch{}}try{ge.apply(g=k.call(en.childNodes),en.childNodes),g[en.childNodes.length].nodeType}catch{ge={apply:function(Ct,Xt){xt.apply(Ct,k.call(Xt))},call:function(Ct){xt.apply(Ct,k.call(arguments,1))}}}function ei(Ke,Ct,Xt,tn){var vn,ko,So,ys,Jo,Zs,Js,$s=Ct&&Ct.ownerDocument,fr=Ct?Ct.nodeType:9;if(Xt=Xt||[],typeof Ke!="string"||!Ke||fr!==1&&fr!==9&&fr!==11)return Xt;if(!tn&&(Ld(Ct),Ct=Ct||Me,lt)){if(fr!==11&&(Jo=Zc.exec(Ke)))if(vn=Jo[1]){if(fr===9)if(So=Ct.getElementById(vn)){if(So.id===vn)return ge.call(Xt,So),Xt}else return Xt;else if($s&&(So=$s.getElementById(vn))&&ei.contains(Ct,So)&&So.id===vn)return ge.call(Xt,So),Xt}else{if(Jo[2])return ge.apply(Xt,Ct.getElementsByTagName(Ke)),Xt;if((vn=Jo[3])&&Ct.getElementsByClassName)return ge.apply(Xt,Ct.getElementsByClassName(vn)),Xt}if(!ol[Ke+" "]&&(!kt||!kt.test(Ke))){if(Js=Ke,$s=Ct,fr===1&&(Wc.test(Ke)||mh.test(Ke))){for($s=gh.test(Ke)&&Hu(Ct.parentNode)||Ct,($s!=Ct||!Le.scope)&&((ys=Ct.getAttribute("id"))?ys=P.escapeSelector(ys):Ct.setAttribute("id",ys=Nn)),Zs=dl(Ke),ko=Zs.length;ko--;)Zs[ko]=(ys?"#"+ys:":scope")+" "+qc(Zs[ko]);Js=Zs.join(",")}try{return ge.apply(Xt,$s.querySelectorAll(Js)),Xt}catch{ol(Ke,!0)}finally{ys===Nn&&Ct.removeAttribute("id")}}}return Ba(Ke.replace(wn,"$1"),Ct,Xt,tn)}function $u(){var Ke=[];function Ct(Xt,tn){return Ke.push(Xt+" ")>F.cacheLength&&delete Ct[Ke.shift()],Ct[Xt+" "]=tn}return Ct}function Gr(Ke){return Ke[Nn]=!0,Ke}function Af(Ke){var Ct=Me.createElement("fieldset");try{return!!Ke(Ct)}catch{return!1}finally{Ct.parentNode&&Ct.parentNode.removeChild(Ct),Ct=null}}function lu(Ke){return function(Ct){return Ln(Ct,"input")&&Ct.type===Ke}}function Of(Ke){return function(Ct){return(Ln(Ct,"input")||Ln(Ct,"button"))&&Ct.type===Ke}}function vh(Ke){return function(Ct){return"form"in Ct?Ct.parentNode&&Ct.disabled===!1?"label"in Ct?"label"in Ct.parentNode?Ct.parentNode.disabled===Ke:Ct.disabled===Ke:Ct.isDisabled===Ke||Ct.isDisabled!==!Ke&&cv(Ct)===Ke:Ct.disabled===Ke:"label"in Ct?Ct.disabled===Ke:!1}}function xi(Ke){return Gr(function(Ct){return Ct=+Ct,Gr(function(Xt,tn){for(var vn,ko=Ke([],Xt.length,Ct),So=ko.length;So--;)Xt[vn=ko[So]]&&(Xt[vn]=!(tn[vn]=Xt[vn]))})})}function Hu(Ke){return Ke&&typeof Ke.getElementsByTagName<"u"&&Ke}function Ld(Ke){var Ct,Xt=Ke?Ke.ownerDocument||Ke:en;return Xt==Me||Xt.nodeType!==9||!Xt.documentElement||(Me=Xt,pt=Me.documentElement,lt=!P.isXMLDoc(Me),on=pt.matches||pt.webkitMatchesSelector||pt.msMatchesSelector,pt.msMatchesSelector&&en!=Me&&(Ct=Me.defaultView)&&Ct.top!==Ct&&Ct.addEventListener("unload",Rd),Le.getById=Af(function(tn){return pt.appendChild(tn).id=P.expando,!Me.getElementsByName||!Me.getElementsByName(P.expando).length}),Le.disconnectedMatch=Af(function(tn){return on.call(tn,"*")}),Le.scope=Af(function(){return Me.querySelectorAll(":scope")}),Le.cssHas=Af(function(){try{return Me.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Le.getById?(F.filter.ID=function(tn){var vn=tn.replace(Ll,ja);return function(ko){return ko.getAttribute("id")===vn}},F.find.ID=function(tn,vn){if(typeof vn.getElementById<"u"&&lt){var ko=vn.getElementById(tn);return ko?[ko]:[]}}):(F.filter.ID=function(tn){var vn=tn.replace(Ll,ja);return function(ko){var So=typeof ko.getAttributeNode<"u"&&ko.getAttributeNode("id");return So&&So.value===vn}},F.find.ID=function(tn,vn){if(typeof vn.getElementById<"u"&&lt){var ko,So,ys,Jo=vn.getElementById(tn);if(Jo){if(ko=Jo.getAttributeNode("id"),ko&&ko.value===tn)return[Jo];for(ys=vn.getElementsByName(tn),So=0;Jo=ys[So++];)if(ko=Jo.getAttributeNode("id"),ko&&ko.value===tn)return[Jo]}return[]}}),F.find.TAG=function(tn,vn){return typeof vn.getElementsByTagName<"u"?vn.getElementsByTagName(tn):vn.querySelectorAll(tn)},F.find.CLASS=function(tn,vn){if(typeof vn.getElementsByClassName<"u"&&lt)return vn.getElementsByClassName(tn)},kt=[],Af(function(tn){var vn;pt.appendChild(tn).innerHTML="<a id='"+Nn+"' href='' disabled='disabled'></a><select id='"+Nn+"-\r\\' disabled='disabled'><option selected=''></option></select>",tn.querySelectorAll("[selected]").length||kt.push("\\["+En+"*(?:value|"+sc+")"),tn.querySelectorAll("[id~="+Nn+"-]").length||kt.push("~="),tn.querySelectorAll("a#"+Nn+"+*").length||kt.push(".#.+[+~]"),tn.querySelectorAll(":checked").length||kt.push(":checked"),vn=Me.createElement("input"),vn.setAttribute("type","hidden"),tn.appendChild(vn).setAttribute("name","D"),pt.appendChild(tn).disabled=!0,tn.querySelectorAll(":disabled").length!==2&&kt.push(":enabled",":disabled"),vn=Me.createElement("input"),vn.setAttribute("name",""),tn.appendChild(vn),tn.querySelectorAll("[name='']").length||kt.push("\\["+En+"*name"+En+"*="+En+`*(?:''|"")`)}),Le.cssHas||kt.push(":has"),kt=kt.length&&new RegExp(kt.join("|")),Pi=function(tn,vn){if(tn===vn)return fe=!0,0;var ko=!tn.compareDocumentPosition-!vn.compareDocumentPosition;return ko||(ko=(tn.ownerDocument||tn)==(vn.ownerDocument||vn)?tn.compareDocumentPosition(vn):1,ko&1||!Le.sortDetached&&vn.compareDocumentPosition(tn)===ko?tn===Me||tn.ownerDocument==en&&ei.contains(en,tn)?-1:vn===Me||vn.ownerDocument==en&&ei.contains(en,vn)?1:ne?Y.call(ne,tn)-Y.call(ne,vn):0:ko&4?-1:1)}),Me}ei.matches=function(Ke,Ct){return ei(Ke,null,null,Ct)},ei.matchesSelector=function(Ke,Ct){if(Ld(Ke),lt&&!ol[Ct+" "]&&(!kt||!kt.test(Ct)))try{var Xt=on.call(Ke,Ct);if(Xt||Le.disconnectedMatch||Ke.document&&Ke.document.nodeType!==11)return Xt}catch{ol(Ct,!0)}return ei(Ct,Me,null,[Ke]).length>0},ei.contains=function(Ke,Ct){return(Ke.ownerDocument||Ke)!=Me&&Ld(Ke),P.contains(Ke,Ct)},ei.attr=function(Ke,Ct){(Ke.ownerDocument||Ke)!=Me&&Ld(Ke);var Xt=F.attrHandle[Ct.toLowerCase()],tn=Xt&&Se.call(F.attrHandle,Ct.toLowerCase())?Xt(Ke,Ct,!lt):void 0;return tn!==void 0?tn:Ke.getAttribute(Ct)},ei.error=function(Ke){throw new Error("Syntax error, unrecognized expression: "+Ke)},P.uniqueSort=function(Ke){var Ct,Xt=[],tn=0,vn=0;if(fe=!Le.sortStable,ne=!Le.sortStable&&k.call(Ke,0),et.call(Ke,Pi),fe){for(;Ct=Ke[vn++];)Ct===Ke[vn]&&(tn=Xt.push(vn));for(;tn--;)Fe.call(Ke,Xt[tn],1)}return ne=null,Ke},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(k.apply(this)))},F=P.expr={cacheLength:50,createPseudo:Gr,match:jc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ke){return Ke[1]=Ke[1].replace(Ll,ja),Ke[3]=(Ke[3]||Ke[4]||Ke[5]||"").replace(Ll,ja),Ke[2]==="~="&&(Ke[3]=" "+Ke[3]+" "),Ke.slice(0,4)},CHILD:function(Ke){return Ke[1]=Ke[1].toLowerCase(),Ke[1].slice(0,3)==="nth"?(Ke[3]||ei.error(Ke[0]),Ke[4]=+(Ke[4]?Ke[5]+(Ke[6]||1):2*(Ke[3]==="even"||Ke[3]==="odd")),Ke[5]=+(Ke[7]+Ke[8]||Ke[3]==="odd")):Ke[3]&&ei.error(Ke[0]),Ke},PSEUDO:function(Ke){var Ct,Xt=!Ke[6]&&Ke[2];return jc.CHILD.test(Ke[0])?null:(Ke[3]?Ke[2]=Ke[4]||Ke[5]||"":Xt&&Mc.test(Xt)&&(Ct=dl(Xt,!0))&&(Ct=Xt.indexOf(")",Xt.length-Ct)-Xt.length)&&(Ke[0]=Ke[0].slice(0,Ct),Ke[2]=Xt.slice(0,Ct)),Ke.slice(0,3))}},filter:{TAG:function(Ke){var Ct=Ke.replace(Ll,ja).toLowerCase();return Ke==="*"?function(){return!0}:function(Xt){return Ln(Xt,Ct)}},CLASS:function(Ke){var Ct=lr[Ke+" "];return Ct||(Ct=new RegExp("(^|"+En+")"+Ke+"("+En+"|$)"))&&lr(Ke,function(Xt){return Ct.test(typeof Xt.className=="string"&&Xt.className||typeof Xt.getAttribute<"u"&&Xt.getAttribute("class")||"")})},ATTR:function(Ke,Ct,Xt){return function(tn){var vn=ei.attr(tn,Ke);return vn==null?Ct==="!=":Ct?(vn+="",Ct==="="?vn===Xt:Ct==="!="?vn!==Xt:Ct==="^="?Xt&&vn.indexOf(Xt)===0:Ct==="*="?Xt&&vn.indexOf(Xt)>-1:Ct==="$="?Xt&&vn.slice(-Xt.length)===Xt:Ct==="~="?(" "+vn.replace(Yr," ")+" ").indexOf(Xt)>-1:Ct==="|="?vn===Xt||vn.slice(0,Xt.length+1)===Xt+"-":!1):!0}},CHILD:function(Ke,Ct,Xt,tn,vn){var ko=Ke.slice(0,3)!=="nth",So=Ke.slice(-4)!=="last",ys=Ct==="of-type";return tn===1&&vn===0?function(Jo){return!!Jo.parentNode}:function(Jo,Zs,Js){var $s,fr,no,Fr,Cl,$a=ko!==So?"nextSibling":"previousSibling",Qo=Jo.parentNode,Ha=ys&&Jo.nodeName.toLowerCase(),Ii=!Js&&!ys,ma=!1;if(Qo){if(ko){for(;$a;){for(no=Jo;no=no[$a];)if(ys?Ln(no,Ha):no.nodeType===1)return!1;Cl=$a=Ke==="only"&&!Cl&&"nextSibling"}return!0}if(Cl=[So?Qo.firstChild:Qo.lastChild],So&&Ii){for(fr=Qo[Nn]||(Qo[Nn]={}),$s=fr[Ke]||[],Fr=$s[0]===Jt&&$s[1],ma=Fr&&$s[2],no=Fr&&Qo.childNodes[Fr];no=++Fr&&no&&no[$a]||(ma=Fr=0)||Cl.pop();)if(no.nodeType===1&&++ma&&no===Jo){fr[Ke]=[Jt,Fr,ma];break}}else if(Ii&&(fr=Jo[Nn]||(Jo[Nn]={}),$s=fr[Ke]||[],Fr=$s[0]===Jt&&$s[1],ma=Fr),ma===!1)for(;(no=++Fr&&no&&no[$a]||(ma=Fr=0)||Cl.pop())&&!((ys?Ln(no,Ha):no.nodeType===1)&&++ma&&(Ii&&(fr=no[Nn]||(no[Nn]={}),fr[Ke]=[Jt,ma]),no===Jo)););return ma-=vn,ma===tn||ma%tn===0&&ma/tn>=0}}},PSEUDO:function(Ke,Ct){var Xt,tn=F.pseudos[Ke]||F.setFilters[Ke.toLowerCase()]||ei.error("unsupported pseudo: "+Ke);return tn[Nn]?tn(Ct):tn.length>1?(Xt=[Ke,Ke,"",Ct],F.setFilters.hasOwnProperty(Ke.toLowerCase())?Gr(function(vn,ko){for(var So,ys=tn(vn,Ct),Jo=ys.length;Jo--;)So=Y.call(vn,ys[Jo]),vn[So]=!(ko[So]=ys[Jo])}):function(vn){return tn(vn,0,Xt)}):tn}},pseudos:{not:Gr(function(Ke){var Ct=[],Xt=[],tn=cd(Ke.replace(wn,"$1"));return tn[Nn]?Gr(function(vn,ko,So,ys){for(var Jo,Zs=tn(vn,null,ys,[]),Js=vn.length;Js--;)(Jo=Zs[Js])&&(vn[Js]=!(ko[Js]=Jo))}):function(vn,ko,So){return Ct[0]=vn,tn(Ct,null,So,Xt),Ct[0]=null,!Xt.pop()}}),has:Gr(function(Ke){return function(Ct){return ei(Ke,Ct).length>0}}),contains:Gr(function(Ke){return Ke=Ke.replace(Ll,ja),function(Ct){return(Ct.textContent||P.text(Ct)).indexOf(Ke)>-1}}),lang:Gr(function(Ke){return ph.test(Ke||"")||ei.error("unsupported lang: "+Ke),Ke=Ke.replace(Ll,ja).toLowerCase(),function(Ct){var Xt;do if(Xt=lt?Ct.lang:Ct.getAttribute("xml:lang")||Ct.getAttribute("lang"))return Xt=Xt.toLowerCase(),Xt===Ke||Xt.indexOf(Ke+"-")===0;while((Ct=Ct.parentNode)&&Ct.nodeType===1);return!1}}),target:function(Ke){var Ct=a.location&&a.location.hash;return Ct&&Ct.slice(1)===Ke.id},root:function(Ke){return Ke===pt},focus:function(Ke){return Ke===Xs()&&Me.hasFocus()&&!!(Ke.type||Ke.href||~Ke.tabIndex)},enabled:vh(!1),disabled:vh(!0),checked:function(Ke){return Ln(Ke,"input")&&!!Ke.checked||Ln(Ke,"option")&&!!Ke.selected},selected:function(Ke){return Ke.parentNode&&Ke.parentNode.selectedIndex,Ke.selected===!0},empty:function(Ke){for(Ke=Ke.firstChild;Ke;Ke=Ke.nextSibling)if(Ke.nodeType<6)return!1;return!0},parent:function(Ke){return!F.pseudos.empty(Ke)},header:function(Ke){return ad.test(Ke.nodeName)},input:function(Ke){return Bu.test(Ke.nodeName)},button:function(Ke){return Ln(Ke,"input")&&Ke.type==="button"||Ln(Ke,"button")},text:function(Ke){var Ct;return Ln(Ke,"input")&&Ke.type==="text"&&((Ct=Ke.getAttribute("type"))==null||Ct.toLowerCase()==="text")},first:xi(function(){return[0]}),last:xi(function(Ke,Ct){return[Ct-1]}),eq:xi(function(Ke,Ct,Xt){return[Xt<0?Xt+Ct:Xt]}),even:xi(function(Ke,Ct){for(var Xt=0;Xt<Ct;Xt+=2)Ke.push(Xt);return Ke}),odd:xi(function(Ke,Ct){for(var Xt=1;Xt<Ct;Xt+=2)Ke.push(Xt);return Ke}),lt:xi(function(Ke,Ct,Xt){var tn;for(Xt<0?tn=Xt+Ct:Xt>Ct?tn=Ct:tn=Xt;--tn>=0;)Ke.push(tn);return Ke}),gt:xi(function(Ke,Ct,Xt){for(var tn=Xt<0?Xt+Ct:Xt;++tn<Ct;)Ke.push(tn);return Ke})}},F.pseudos.nth=F.pseudos.eq;for(O in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[O]=lu(O);for(O in{submit:!0,reset:!0})F.pseudos[O]=Of(O);function gn(){}gn.prototype=F.filters=F.pseudos,F.setFilters=new gn;function dl(Ke,Ct){var Xt,tn,vn,ko,So,ys,Jo,Zs=Qr[Ke+" "];if(Zs)return Ct?0:Zs.slice(0);for(So=Ke,ys=[],Jo=F.preFilter;So;){(!Xt||(tn=Ir.exec(So)))&&(tn&&(So=So.slice(tn[0].length)||So),ys.push(vn=[])),Xt=!1,(tn=mh.exec(So))&&(Xt=tn.shift(),vn.push({value:Xt,type:tn[0].replace(wn," ")}),So=So.slice(Xt.length));for(ko in F.filter)(tn=jc[ko].exec(So))&&(!Jo[ko]||(tn=Jo[ko](tn)))&&(Xt=tn.shift(),vn.push({value:Xt,type:ko,matches:tn}),So=So.slice(Xt.length));if(!Xt)break}return Ct?So.length:So?ei.error(Ke):Qr(Ke,ys).slice(0)}function qc(Ke){for(var Ct=0,Xt=Ke.length,tn="";Ct<Xt;Ct++)tn+=Ke[Ct].value;return tn}function Oa(Ke,Ct,Xt){var tn=Ct.dir,vn=Ct.next,ko=vn||tn,So=Xt&&ko==="parentNode",ys=ho++;return Ct.first?function(Jo,Zs,Js){for(;Jo=Jo[tn];)if(Jo.nodeType===1||So)return Ke(Jo,Zs,Js);return!1}:function(Jo,Zs,Js){var $s,fr,no=[Jt,ys];if(Js){for(;Jo=Jo[tn];)if((Jo.nodeType===1||So)&&Ke(Jo,Zs,Js))return!0}else for(;Jo=Jo[tn];)if(Jo.nodeType===1||So)if(fr=Jo[Nn]||(Jo[Nn]={}),vn&&Ln(Jo,vn))Jo=Jo[tn]||Jo;else{if(($s=fr[ko])&&$s[0]===Jt&&$s[1]===ys)return no[2]=$s[2];if(fr[ko]=no,no[2]=Ke(Jo,Zs,Js))return!0}return!1}}function ld(Ke){return Ke.length>1?function(Ct,Xt,tn){for(var vn=Ke.length;vn--;)if(!Ke[vn](Ct,Xt,tn))return!1;return!0}:Ke[0]}function cm(Ke,Ct,Xt){for(var tn=0,vn=Ct.length;tn<vn;tn++)ei(Ke,Ct[tn],Xt);return Xt}function Ve(Ke,Ct,Xt,tn,vn){for(var ko,So=[],ys=0,Jo=Ke.length,Zs=Ct!=null;ys<Jo;ys++)(ko=Ke[ys])&&(!Xt||Xt(ko,tn,vn))&&(So.push(ko),Zs&&Ct.push(ys));return So}function Yl(Ke,Ct,Xt,tn,vn,ko){return tn&&!tn[Nn]&&(tn=Yl(tn)),vn&&!vn[Nn]&&(vn=Yl(vn,ko)),Gr(function(So,ys,Jo,Zs){var Js,$s,fr,no,Fr=[],Cl=[],$a=ys.length,Qo=So||cm(Ct||"*",Jo.nodeType?[Jo]:Jo,[]),Ha=Ke&&(So||!Ct)?Ve(Qo,Fr,Ke,Jo,Zs):Qo;if(Xt?(no=vn||(So?Ke:$a||tn)?[]:ys,Xt(Ha,no,Jo,Zs)):no=Ha,tn)for(Js=Ve(no,Cl),tn(Js,[],Jo,Zs),$s=Js.length;$s--;)(fr=Js[$s])&&(no[Cl[$s]]=!(Ha[Cl[$s]]=fr));if(So){if(vn||Ke){if(vn){for(Js=[],$s=no.length;$s--;)(fr=no[$s])&&Js.push(Ha[$s]=fr);vn(null,no=[],Js,Zs)}for($s=no.length;$s--;)(fr=no[$s])&&(Js=vn?Y.call(So,fr):Fr[$s])>-1&&(So[Js]=!(ys[Js]=fr))}}else no=Ve(no===ys?no.splice($a,no.length):no),vn?vn(null,ys,no,Zs):ge.apply(ys,no)})}function zu(Ke){for(var Ct,Xt,tn,vn=Ke.length,ko=F.relative[Ke[0].type],So=ko||F.relative[" "],ys=ko?1:0,Jo=Oa(function($s){return $s===Ct},So,!0),Zs=Oa(function($s){return Y.call(Ct,$s)>-1},So,!0),Js=[function($s,fr,no){var Fr=!ko&&(no||fr!=G)||((Ct=fr).nodeType?Jo($s,fr,no):Zs($s,fr,no));return Ct=null,Fr}];ys<vn;ys++)if(Xt=F.relative[Ke[ys].type])Js=[Oa(ld(Js),Xt)];else{if(Xt=F.filter[Ke[ys].type].apply(null,Ke[ys].matches),Xt[Nn]){for(tn=++ys;tn<vn&&!F.relative[Ke[tn].type];tn++);return Yl(ys>1&&ld(Js),ys>1&&qc(Ke.slice(0,ys-1).concat({value:Ke[ys-2].type===" "?"*":""})).replace(wn,"$1"),Xt,ys<tn&&zu(Ke.slice(ys,tn)),tn<vn&&zu(Ke=Ke.slice(tn)),tn<vn&&qc(Ke))}Js.push(Xt)}return ld(Js)}function um(Ke,Ct){var Xt=Ct.length>0,tn=Ke.length>0,vn=function(ko,So,ys,Jo,Zs){var Js,$s,fr,no=0,Fr="0",Cl=ko&&[],$a=[],Qo=G,Ha=ko||tn&&F.find.TAG("*",Zs),Ii=Jt+=Qo==null?1:Math.random()||.1,ma=Ha.length;for(Zs&&(G=So==Me||So||Zs);Fr!==ma&&(Js=Ha[Fr])!=null;Fr++){if(tn&&Js){for($s=0,!So&&Js.ownerDocument!=Me&&(Ld(Js),ys=!lt);fr=Ke[$s++];)if(fr(Js,So||Me,ys)){ge.call(Jo,Js);break}Zs&&(Jt=Ii)}Xt&&((Js=!fr&&Js)&&no--,ko&&Cl.push(Js))}if(no+=Fr,Xt&&Fr!==no){for($s=0;fr=Ct[$s++];)fr(Cl,$a,So,ys);if(ko){if(no>0)for(;Fr--;)Cl[Fr]||$a[Fr]||($a[Fr]=ln.call(Jo));$a=Ve($a)}ge.apply(Jo,$a),Zs&&!ko&&$a.length>0&&no+Ct.length>1&&P.uniqueSort(Jo)}return Zs&&(Jt=Ii,G=Qo),Cl};return Xt?Gr(vn):vn}function cd(Ke,Ct){var Xt,tn=[],vn=[],ko=Pr[Ke+" "];if(!ko){for(Ct||(Ct=dl(Ke)),Xt=Ct.length;Xt--;)ko=zu(Ct[Xt]),ko[Nn]?tn.push(ko):vn.push(ko);ko=Pr(Ke,um(vn,tn)),ko.selector=Ke}return ko}function Ba(Ke,Ct,Xt,tn){var vn,ko,So,ys,Jo,Zs=typeof Ke=="function"&&Ke,Js=!tn&&dl(Ke=Zs.selector||Ke);if(Xt=Xt||[],Js.length===1){if(ko=Js[0]=Js[0].slice(0),ko.length>2&&(So=ko[0]).type==="ID"&&Ct.nodeType===9&&lt&&F.relative[ko[1].type]){if(Ct=(F.find.ID(So.matches[0].replace(Ll,ja),Ct)||[])[0],Ct)Zs&&(Ct=Ct.parentNode);else return Xt;Ke=Ke.slice(ko.shift().value.length)}for(vn=jc.needsContext.test(Ke)?0:ko.length;vn--&&(So=ko[vn],!F.relative[ys=So.type]);)if((Jo=F.find[ys])&&(tn=Jo(So.matches[0].replace(Ll,ja),gh.test(ko[0].type)&&Hu(Ct.parentNode)||Ct))){if(ko.splice(vn,1),Ke=tn.length&&qc(ko),!Ke)return ge.apply(Xt,tn),Xt;break}}return(Zs||cd(Ke,Js))(tn,Ct,!lt,Xt,!Ct||gh.test(Ke)&&Hu(Ct.parentNode)||Ct),Xt}Le.sortStable=Nn.split("").sort(Pi).join("")===Nn,Ld(),Le.sortDetached=Af(function(Ke){return Ke.compareDocumentPosition(Me.createElement("fieldset"))&1}),P.find=ei,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,ei.compile=cd,ei.select=Ba,ei.setDocument=Ld,ei.tokenize=dl,ei.escape=P.escapeSelector,ei.getText=P.text,ei.isXML=P.isXMLDoc,ei.selectors=P.expr,ei.support=P.support,ei.uniqueSort=P.uniqueSort})();var Eo=function(O,F,G){for(var ne=[],fe=G!==void 0;(O=O[F])&&O.nodeType!==9;)if(O.nodeType===1){if(fe&&P(O).is(G))break;ne.push(O)}return ne},eo=function(O,F){for(var G=[];O;O=O.nextSibling)O.nodeType===1&&O!==F&&G.push(O);return G},qt=P.expr.match.needsContext,us=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Er(O,F,G){return Ee(F)?P.grep(O,function(ne,fe){return!!F.call(ne,fe,ne)!==G}):F.nodeType?P.grep(O,function(ne){return ne===F!==G}):typeof F!="string"?P.grep(O,function(ne){return Y.call(F,ne)>-1!==G}):P.filter(F,O,G)}P.filter=function(O,F,G){var ne=F[0];return G&&(O=":not("+O+")"),F.length===1&&ne.nodeType===1?P.find.matchesSelector(ne,O)?[ne]:[]:P.find.matches(O,P.grep(F,function(fe){return fe.nodeType===1}))},P.fn.extend({find:function(O){var F,G,ne=this.length,fe=this;if(typeof O!="string")return this.pushStack(P(O).filter(function(){for(F=0;F<ne;F++)if(P.contains(fe[F],this))return!0}));for(G=this.pushStack([]),F=0;F<ne;F++)P.find(O,fe[F],G);return ne>1?P.uniqueSort(G):G},filter:function(O){return this.pushStack(Er(this,O||[],!1))},not:function(O){return this.pushStack(Er(this,O||[],!0))},is:function(O){return!!Er(this,typeof O=="string"&&qt.test(O)?P(O):O||[],!1).length}});var Oo,Ds=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Yt=P.fn.init=function(O,F,G){var ne,fe;if(!O)return this;if(G=G||Oo,typeof O=="string")if(O[0]==="<"&&O[O.length-1]===">"&&O.length>=3?ne=[null,O,null]:ne=Ds.exec(O),ne&&(ne[1]||!F))if(ne[1]){if(F=F instanceof P?F[0]:F,P.merge(this,P.parseHTML(ne[1],F&&F.nodeType?F.ownerDocument||F:at,!0)),us.test(ne[1])&&P.isPlainObject(F))for(ne in F)Ee(this[ne])?this[ne](F[ne]):this.attr(ne,F[ne]);return this}else return fe=at.getElementById(ne[2]),fe&&(this[0]=fe,this.length=1),this;else return!F||F.jquery?(F||G).find(O):this.constructor(F).find(O);else{if(O.nodeType)return this[0]=O,this.length=1,this;if(Ee(O))return G.ready!==void 0?G.ready(O):O(P)}return P.makeArray(O,this)};Yt.prototype=P.fn,Oo=P(at);var yt=/^(?:parents|prev(?:Until|All))/,le={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(O){var F=P(O,this),G=F.length;return this.filter(function(){for(var ne=0;ne<G;ne++)if(P.contains(this,F[ne]))return!0})},closest:function(O,F){var G,ne=0,fe=this.length,ge=[],Me=typeof O!="string"&&P(O);if(!qt.test(O)){for(;ne<fe;ne++)for(G=this[ne];G&&G!==F;G=G.parentNode)if(G.nodeType<11&&(Me?Me.index(G)>-1:G.nodeType===1&&P.find.matchesSelector(G,O))){ge.push(G);break}}return this.pushStack(ge.length>1?P.uniqueSort(ge):ge)},index:function(O){return O?typeof O=="string"?Y.call(P(O),this[0]):Y.call(this,O.jquery?O[0]:O):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(O,F){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(O,F))))},addBack:function(O){return this.add(O==null?this.prevObject:this.prevObject.filter(O))}});function hi(O,F){for(;(O=O[F])&&O.nodeType!==1;);return O}P.each({parent:function(O){var F=O.parentNode;return F&&F.nodeType!==11?F:null},parents:function(O){return Eo(O,"parentNode")},parentsUntil:function(O,F,G){return Eo(O,"parentNode",G)},next:function(O){return hi(O,"nextSibling")},prev:function(O){return hi(O,"previousSibling")},nextAll:function(O){return Eo(O,"nextSibling")},prevAll:function(O){return Eo(O,"previousSibling")},nextUntil:function(O,F,G){return Eo(O,"nextSibling",G)},prevUntil:function(O,F,G){return Eo(O,"previousSibling",G)},siblings:function(O){return eo((O.parentNode||{}).firstChild,O)},children:function(O){return eo(O.firstChild)},contents:function(O){return O.contentDocument!=null&&C(O.contentDocument)?O.contentDocument:(Ln(O,"template")&&(O=O.content||O),P.merge([],O.childNodes))}},function(O,F){P.fn[O]=function(G,ne){var fe=P.map(this,F,G);return O.slice(-5)!=="Until"&&(ne=G),ne&&typeof ne=="string"&&(fe=P.filter(ne,fe)),this.length>1&&(le[O]||P.uniqueSort(fe),yt.test(O)&&fe.reverse()),this.pushStack(fe)}});var fs=/[^\x20\t\r\n\f]+/g;function ns(O){var F={};return P.each(O.match(fs)||[],function(G,ne){F[ne]=!0}),F}P.Callbacks=function(O){O=typeof O=="string"?ns(O):P.extend({},O);var F,G,ne,fe,ge=[],Me=[],pt=-1,lt=function(){for(fe=fe||O.once,ne=F=!0;Me.length;pt=-1)for(G=Me.shift();++pt<ge.length;)ge[pt].apply(G[0],G[1])===!1&&O.stopOnFalse&&(pt=ge.length,G=!1);O.memory||(G=!1),F=!1,fe&&(G?ge=[]:ge="")},kt={add:function(){return ge&&(G&&!F&&(pt=ge.length-1,Me.push(G)),(function on(Nn){P.each(Nn,function(Jt,ho){Ee(ho)?(!O.unique||!kt.has(ho))&&ge.push(ho):ho&&ho.length&&dt(ho)!=="string"&&on(ho)})})(arguments),G&&!F&&lt()),this},remove:function(){return P.each(arguments,function(on,Nn){for(var Jt;(Jt=P.inArray(Nn,ge,Jt))>-1;)ge.splice(Jt,1),Jt<=pt&&pt--}),this},has:function(on){return on?P.inArray(on,ge)>-1:ge.length>0},empty:function(){return ge&&(ge=[]),this},disable:function(){return fe=Me=[],ge=G="",this},disabled:function(){return!ge},lock:function(){return fe=Me=[],!G&&!F&&(ge=G=""),this},locked:function(){return!!fe},fireWith:function(on,Nn){return fe||(Nn=Nn||[],Nn=[on,Nn.slice?Nn.slice():Nn],Me.push(Nn),F||lt()),this},fire:function(){return kt.fireWith(this,arguments),this},fired:function(){return!!ne}};return kt};function js(O){return O}function Vr(O){throw O}function fo(O,F,G,ne){var fe;try{O&&Ee(fe=O.promise)?fe.call(O).done(F).fail(G):O&&Ee(fe=O.then)?fe.call(O,F,G):F.apply(void 0,[O].slice(ne))}catch(ge){G.apply(void 0,[ge])}}P.extend({Deferred:function(O){var F=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],G="pending",ne={state:function(){return G},always:function(){return fe.done(arguments).fail(arguments),this},catch:function(ge){return ne.then(null,ge)},pipe:function(){var ge=arguments;return P.Deferred(function(Me){P.each(F,function(pt,lt){var kt=Ee(ge[lt[4]])&&ge[lt[4]];fe[lt[1]](function(){var on=kt&&kt.apply(this,arguments);on&&Ee(on.promise)?on.promise().progress(Me.notify).done(Me.resolve).fail(Me.reject):Me[lt[0]+"With"](this,kt?[on]:arguments)})}),ge=null}).promise()},then:function(ge,Me,pt){var lt=0;function kt(on,Nn,Jt,ho){return function(){var lr=this,Qr=arguments,Pr=function(){var Pi,sc;if(!(on<lt)){if(Pi=Jt.apply(lr,Qr),Pi===Nn.promise())throw new TypeError("Thenable self-resolution");sc=Pi&&(typeof Pi=="object"||typeof Pi=="function")&&Pi.then,Ee(sc)?ho?sc.call(Pi,kt(lt,Nn,js,ho),kt(lt,Nn,Vr,ho)):(lt++,sc.call(Pi,kt(lt,Nn,js,ho),kt(lt,Nn,Vr,ho),kt(lt,Nn,js,Nn.notifyWith))):(Jt!==js&&(lr=void 0,Qr=[Pi]),(ho||Nn.resolveWith)(lr,Qr))}},ol=ho?Pr:function(){try{Pr()}catch(Pi){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(Pi,ol.error),on+1>=lt&&(Jt!==Vr&&(lr=void 0,Qr=[Pi]),Nn.rejectWith(lr,Qr))}};on?ol():(P.Deferred.getErrorHook?ol.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(ol.error=P.Deferred.getStackHook()),a.setTimeout(ol))}}return P.Deferred(function(on){F[0][3].add(kt(0,on,Ee(pt)?pt:js,on.notifyWith)),F[1][3].add(kt(0,on,Ee(ge)?ge:js)),F[2][3].add(kt(0,on,Ee(Me)?Me:Vr))}).promise()},promise:function(ge){return ge!=null?P.extend(ge,ne):ne}},fe={};return P.each(F,function(ge,Me){var pt=Me[2],lt=Me[5];ne[Me[1]]=pt.add,lt&&pt.add(function(){G=lt},F[3-ge][2].disable,F[3-ge][3].disable,F[0][2].lock,F[0][3].lock),pt.add(Me[3].fire),fe[Me[0]]=function(){return fe[Me[0]+"With"](this===fe?void 0:this,arguments),this},fe[Me[0]+"With"]=pt.fireWith}),ne.promise(fe),O&&O.call(fe,fe),fe},when:function(O){var F=arguments.length,G=F,ne=Array(G),fe=k.call(arguments),ge=P.Deferred(),Me=function(pt){return function(lt){ne[pt]=this,fe[pt]=arguments.length>1?k.call(arguments):lt,--F||ge.resolveWith(ne,fe)}};if(F<=1&&(fo(O,ge.done(Me(G)).resolve,ge.reject,!F),ge.state()==="pending"||Ee(fe[G]&&fe[G].then)))return ge.then();for(;G--;)fo(fe[G],Me(G),ge.reject);return ge.promise()}});var Ws=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(O,F){a.console&&a.console.warn&&O&&Ws.test(O.name)&&a.console.warn("jQuery.Deferred exception: "+O.message,O.stack,F)},P.readyException=function(O){a.setTimeout(function(){throw O})};var In=P.Deferred();P.fn.ready=function(O){return In.then(O).catch(function(F){P.readyException(F)}),this},P.extend({isReady:!1,readyWait:1,ready:function(O){(O===!0?--P.readyWait:P.isReady)||(P.isReady=!0,!(O!==!0&&--P.readyWait>0)&&In.resolveWith(at,[P]))}}),P.ready.then=In.then;function vt(){at.removeEventListener("DOMContentLoaded",vt),a.removeEventListener("load",vt),P.ready()}at.readyState==="complete"||at.readyState!=="loading"&&!at.documentElement.doScroll?a.setTimeout(P.ready):(at.addEventListener("DOMContentLoaded",vt),a.addEventListener("load",vt));var Un=function(O,F,G,ne,fe,ge,Me){var pt=0,lt=O.length,kt=G==null;if(dt(G)==="object"){fe=!0;for(pt in G)Un(O,F,pt,G[pt],!0,ge,Me)}else if(ne!==void 0&&(fe=!0,Ee(ne)||(Me=!0),kt&&(Me?(F.call(O,ne),F=null):(kt=F,F=function(on,Nn,Jt){return kt.call(P(on),Jt)})),F))for(;pt<lt;pt++)F(O[pt],G,Me?ne:ne.call(O[pt],pt,F(O[pt],G)));return fe?O:kt?F.call(O):lt?F(O[0],G):ge},Ns=/^-ms-/,At=/-([a-z])/g;function Bs(O,F){return F.toUpperCase()}function rr(O){return O.replace(Ns,"ms-").replace(At,Bs)}var ir=function(O){return O.nodeType===1||O.nodeType===9||!+O.nodeType};function Gs(){this.expando=P.expando+Gs.uid++}Gs.uid=1,Gs.prototype={cache:function(O){var F=O[this.expando];return F||(F={},ir(O)&&(O.nodeType?O[this.expando]=F:Object.defineProperty(O,this.expando,{value:F,configurable:!0}))),F},set:function(O,F,G){var ne,fe=this.cache(O);if(typeof F=="string")fe[rr(F)]=G;else for(ne in F)fe[rr(ne)]=F[ne];return fe},get:function(O,F){return F===void 0?this.cache(O):O[this.expando]&&O[this.expando][rr(F)]},access:function(O,F,G){return F===void 0||F&&typeof F=="string"&&G===void 0?this.get(O,F):(this.set(O,F,G),G!==void 0?G:F)},remove:function(O,F){var G,ne=O[this.expando];if(ne!==void 0){if(F!==void 0)for(Array.isArray(F)?F=F.map(rr):(F=rr(F),F=F in ne?[F]:F.match(fs)||[]),G=F.length;G--;)delete ne[F[G]];(F===void 0||P.isEmptyObject(ne))&&(O.nodeType?O[this.expando]=void 0:delete O[this.expando])}},hasData:function(O){var F=O[this.expando];return F!==void 0&&!P.isEmptyObject(F)}};var Vn=new Gs,Vt=new Gs,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function _e(O){return O==="true"?!0:O==="false"?!1:O==="null"?null:O===+O+""?+O:J.test(O)?JSON.parse(O):O}function Ie(O,F,G){var ne;if(G===void 0&&O.nodeType===1)if(ne="data-"+F.replace(de,"-$&").toLowerCase(),G=O.getAttribute(ne),typeof G=="string"){try{G=_e(G)}catch{}Vt.set(O,F,G)}else G=void 0;return G}P.extend({hasData:function(O){return Vt.hasData(O)||Vn.hasData(O)},data:function(O,F,G){return Vt.access(O,F,G)},removeData:function(O,F){Vt.remove(O,F)},_data:function(O,F,G){return Vn.access(O,F,G)},_removeData:function(O,F){Vn.remove(O,F)}}),P.fn.extend({data:function(O,F){var G,ne,fe,ge=this[0],Me=ge&&ge.attributes;if(O===void 0){if(this.length&&(fe=Vt.get(ge),ge.nodeType===1&&!Vn.get(ge,"hasDataAttrs"))){for(G=Me.length;G--;)Me[G]&&(ne=Me[G].name,ne.indexOf("data-")===0&&(ne=rr(ne.slice(5)),Ie(ge,ne,fe[ne])));Vn.set(ge,"hasDataAttrs",!0)}return fe}return typeof O=="object"?this.each(function(){Vt.set(this,O)}):Un(this,function(pt){var lt;if(ge&&pt===void 0)return lt=Vt.get(ge,O),lt!==void 0||(lt=Ie(ge,O),lt!==void 0)?lt:void 0;this.each(function(){Vt.set(this,O,pt)})},null,F,arguments.length>1,null,!0)},removeData:function(O){return this.each(function(){Vt.remove(this,O)})}}),P.extend({queue:function(O,F,G){var ne;if(O)return F=(F||"fx")+"queue",ne=Vn.get(O,F),G&&(!ne||Array.isArray(G)?ne=Vn.access(O,F,P.makeArray(G)):ne.push(G)),ne||[]},dequeue:function(O,F){F=F||"fx";var G=P.queue(O,F),ne=G.length,fe=G.shift(),ge=P._queueHooks(O,F),Me=function(){P.dequeue(O,F)};fe==="inprogress"&&(fe=G.shift(),ne--),fe&&(F==="fx"&&G.unshift("inprogress"),delete ge.stop,fe.call(O,Me,ge)),!ne&&ge&&ge.empty.fire()},_queueHooks:function(O,F){var G=F+"queueHooks";return Vn.get(O,G)||Vn.access(O,G,{empty:P.Callbacks("once memory").add(function(){Vn.remove(O,[F+"queue",G])})})}}),P.fn.extend({queue:function(O,F){var G=2;return typeof O!="string"&&(F=O,O="fx",G--),arguments.length<G?P.queue(this[0],O):F===void 0?this:this.each(function(){var ne=P.queue(this,O,F);P._queueHooks(this,O),O==="fx"&&ne[0]!=="inprogress"&&P.dequeue(this,O)})},dequeue:function(O){return this.each(function(){P.dequeue(this,O)})},clearQueue:function(O){return this.queue(O||"fx",[])},promise:function(O,F){var G,ne=1,fe=P.Deferred(),ge=this,Me=this.length,pt=function(){--ne||fe.resolveWith(ge,[ge])};for(typeof O!="string"&&(F=O,O=void 0),O=O||"fx";Me--;)G=Vn.get(ge[Me],O+"queueHooks"),G&&G.empty&&(ne++,G.empty.add(pt));return pt(),fe.promise(F)}});var ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=new RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),Cn=["Top","Right","Bottom","Left"],ro=at.documentElement,Gn=function(O){return P.contains(O.ownerDocument,O)},yn={composed:!0};ro.getRootNode&&(Gn=function(O){return P.contains(O.ownerDocument,O)||O.getRootNode(yn)===O.ownerDocument});var Uo=function(O,F){return O=F||O,O.style.display==="none"||O.style.display===""&&Gn(O)&&P.css(O,"display")==="none"};function zs(O,F,G,ne){var fe,ge,Me=20,pt=ne?function(){return ne.cur()}:function(){return P.css(O,F,"")},lt=pt(),kt=G&&G[3]||(P.cssNumber[F]?"":"px"),on=O.nodeType&&(P.cssNumber[F]||kt!=="px"&&+lt)&&Tt.exec(P.css(O,F));if(on&&on[3]!==kt){for(lt=lt/2,kt=kt||on[3],on=+lt||1;Me--;)P.style(O,F,on+kt),(1-ge)*(1-(ge=pt()/lt||.5))<=0&&(Me=0),on=on/ge;on=on*2,P.style(O,F,on+kt),G=G||[]}return G&&(on=+on||+lt||0,fe=G[1]?on+(G[1]+1)*G[2]:+G[2],ne&&(ne.unit=kt,ne.start=on,ne.end=fe)),fe}var Co={};function Ci(O){var F,G=O.ownerDocument,ne=O.nodeName,fe=Co[ne];return fe||(F=G.body.appendChild(G.createElement(ne)),fe=P.css(F,"display"),F.parentNode.removeChild(F),fe==="none"&&(fe="block"),Co[ne]=fe,fe)}function Mn(O,F){for(var G,ne,fe=[],ge=0,Me=O.length;ge<Me;ge++)ne=O[ge],ne.style&&(G=ne.style.display,F?(G==="none"&&(fe[ge]=Vn.get(ne,"display")||null,fe[ge]||(ne.style.display="")),ne.style.display===""&&Uo(ne)&&(fe[ge]=Ci(ne))):G!=="none"&&(fe[ge]="none",Vn.set(ne,"display",G)));for(ge=0;ge<Me;ge++)fe[ge]!=null&&(O[ge].style.display=fe[ge]);return O}P.fn.extend({show:function(){return Mn(this,!0)},hide:function(){return Mn(this)},toggle:function(O){return typeof O=="boolean"?O?this.show():this.hide():this.each(function(){Uo(this)?P(this).show():P(this).hide()})}});var go=/^(?:checkbox|radio)$/i,Mo=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var O=at.createDocumentFragment(),F=O.appendChild(at.createElement("div")),G=at.createElement("input");G.setAttribute("type","radio"),G.setAttribute("checked","checked"),G.setAttribute("name","t"),F.appendChild(G),Le.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked,F.innerHTML="<textarea>x</textarea>",Le.noCloneChecked=!!F.cloneNode(!0).lastChild.defaultValue,F.innerHTML="<option></option>",Le.option=!!F.lastChild})();var pr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pr.tbody=pr.tfoot=pr.colgroup=pr.caption=pr.thead,pr.th=pr.td,Le.option||(pr.optgroup=pr.option=[1,"<select multiple='multiple'>","</select>"]);function Pn(O,F){var G;return typeof O.getElementsByTagName<"u"?G=O.getElementsByTagName(F||"*"):typeof O.querySelectorAll<"u"?G=O.querySelectorAll(F||"*"):G=[],F===void 0||F&&Ln(O,F)?P.merge([O],G):G}function Cr(O,F){for(var G=0,ne=O.length;G<ne;G++)Vn.set(O[G],"globalEval",!F||Vn.get(F[G],"globalEval"))}var Lr=/<|&#?\w+;/;function bl(O,F,G,ne,fe){for(var ge,Me,pt,lt,kt,on,Nn=F.createDocumentFragment(),Jt=[],ho=0,lr=O.length;ho<lr;ho++)if(ge=O[ho],ge||ge===0)if(dt(ge)==="object")P.merge(Jt,ge.nodeType?[ge]:ge);else if(!Lr.test(ge))Jt.push(F.createTextNode(ge));else{for(Me=Me||Nn.appendChild(F.createElement("div")),pt=(Mo.exec(ge)||["",""])[1].toLowerCase(),lt=pr[pt]||pr._default,Me.innerHTML=lt[1]+P.htmlPrefilter(ge)+lt[2],on=lt[0];on--;)Me=Me.lastChild;P.merge(Jt,Me.childNodes),Me=Nn.firstChild,Me.textContent=""}for(Nn.textContent="",ho=0;ge=Jt[ho++];){if(ne&&P.inArray(ge,ne)>-1){fe&&fe.push(ge);continue}if(kt=Gn(ge),Me=Pn(Nn.appendChild(ge),"script"),kt&&Cr(Me),G)for(on=0;ge=Me[on++];)Wa.test(ge.type||"")&&G.push(ge)}return Nn}var ba=/^([^.]*)(?:\.(.+)|)/;function Xi(){return!0}function Ks(){return!1}function qo(O,F,G,ne,fe,ge){var Me,pt;if(typeof F=="object"){typeof G!="string"&&(ne=ne||G,G=void 0);for(pt in F)qo(O,pt,G,ne,F[pt],ge);return O}if(ne==null&&fe==null?(fe=G,ne=G=void 0):fe==null&&(typeof G=="string"?(fe=ne,ne=void 0):(fe=ne,ne=G,G=void 0)),fe===!1)fe=Ks;else if(!fe)return O;return ge===1&&(Me=fe,fe=function(lt){return P().off(lt),Me.apply(this,arguments)},fe.guid=Me.guid||(Me.guid=P.guid++)),O.each(function(){P.event.add(this,F,fe,ne,G)})}P.event={global:{},add:function(O,F,G,ne,fe){var ge,Me,pt,lt,kt,on,Nn,Jt,ho,lr,Qr,Pr=Vn.get(O);if(ir(O))for(G.handler&&(ge=G,G=ge.handler,fe=ge.selector),fe&&P.find.matchesSelector(ro,fe),G.guid||(G.guid=P.guid++),(lt=Pr.events)||(lt=Pr.events=Object.create(null)),(Me=Pr.handle)||(Me=Pr.handle=function(ol){return typeof P<"u"&&P.event.triggered!==ol.type?P.event.dispatch.apply(O,arguments):void 0}),F=(F||"").match(fs)||[""],kt=F.length;kt--;)pt=ba.exec(F[kt])||[],ho=Qr=pt[1],lr=(pt[2]||"").split(".").sort(),ho&&(Nn=P.event.special[ho]||{},ho=(fe?Nn.delegateType:Nn.bindType)||ho,Nn=P.event.special[ho]||{},on=P.extend({type:ho,origType:Qr,data:ne,handler:G,guid:G.guid,selector:fe,needsContext:fe&&P.expr.match.needsContext.test(fe),namespace:lr.join(".")},ge),(Jt=lt[ho])||(Jt=lt[ho]=[],Jt.delegateCount=0,(!Nn.setup||Nn.setup.call(O,ne,lr,Me)===!1)&&O.addEventListener&&O.addEventListener(ho,Me)),Nn.add&&(Nn.add.call(O,on),on.handler.guid||(on.handler.guid=G.guid)),fe?Jt.splice(Jt.delegateCount++,0,on):Jt.push(on),P.event.global[ho]=!0)},remove:function(O,F,G,ne,fe){var ge,Me,pt,lt,kt,on,Nn,Jt,ho,lr,Qr,Pr=Vn.hasData(O)&&Vn.get(O);if(!(!Pr||!(lt=Pr.events))){for(F=(F||"").match(fs)||[""],kt=F.length;kt--;){if(pt=ba.exec(F[kt])||[],ho=Qr=pt[1],lr=(pt[2]||"").split(".").sort(),!ho){for(ho in lt)P.event.remove(O,ho+F[kt],G,ne,!0);continue}for(Nn=P.event.special[ho]||{},ho=(ne?Nn.delegateType:Nn.bindType)||ho,Jt=lt[ho]||[],pt=pt[2]&&new RegExp("(^|\\.)"+lr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Me=ge=Jt.length;ge--;)on=Jt[ge],(fe||Qr===on.origType)&&(!G||G.guid===on.guid)&&(!pt||pt.test(on.namespace))&&(!ne||ne===on.selector||ne==="**"&&on.selector)&&(Jt.splice(ge,1),on.selector&&Jt.delegateCount--,Nn.remove&&Nn.remove.call(O,on));Me&&!Jt.length&&((!Nn.teardown||Nn.teardown.call(O,lr,Pr.handle)===!1)&&P.removeEvent(O,ho,Pr.handle),delete lt[ho])}P.isEmptyObject(lt)&&Vn.remove(O,"handle events")}},dispatch:function(O){var F,G,ne,fe,ge,Me,pt=new Array(arguments.length),lt=P.event.fix(O),kt=(Vn.get(this,"events")||Object.create(null))[lt.type]||[],on=P.event.special[lt.type]||{};for(pt[0]=lt,F=1;F<arguments.length;F++)pt[F]=arguments[F];if(lt.delegateTarget=this,!(on.preDispatch&&on.preDispatch.call(this,lt)===!1)){for(Me=P.event.handlers.call(this,lt,kt),F=0;(fe=Me[F++])&&!lt.isPropagationStopped();)for(lt.currentTarget=fe.elem,G=0;(ge=fe.handlers[G++])&&!lt.isImmediatePropagationStopped();)(!lt.rnamespace||ge.namespace===!1||lt.rnamespace.test(ge.namespace))&&(lt.handleObj=ge,lt.data=ge.data,ne=((P.event.special[ge.origType]||{}).handle||ge.handler).apply(fe.elem,pt),ne!==void 0&&(lt.result=ne)===!1&&(lt.preventDefault(),lt.stopPropagation()));return on.postDispatch&&on.postDispatch.call(this,lt),lt.result}},handlers:function(O,F){var G,ne,fe,ge,Me,pt=[],lt=F.delegateCount,kt=O.target;if(lt&&kt.nodeType&&!(O.type==="click"&&O.button>=1)){for(;kt!==this;kt=kt.parentNode||this)if(kt.nodeType===1&&!(O.type==="click"&&kt.disabled===!0)){for(ge=[],Me={},G=0;G<lt;G++)ne=F[G],fe=ne.selector+" ",Me[fe]===void 0&&(Me[fe]=ne.needsContext?P(fe,this).index(kt)>-1:P.find(fe,this,null,[kt]).length),Me[fe]&&ge.push(ne);ge.length&&pt.push({elem:kt,handlers:ge})}}return kt=this,lt<F.length&&pt.push({elem:kt,handlers:F.slice(lt)}),pt},addProp:function(O,F){Object.defineProperty(P.Event.prototype,O,{enumerable:!0,configurable:!0,get:Ee(F)?function(){if(this.originalEvent)return F(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[O]},set:function(G){Object.defineProperty(this,O,{enumerable:!0,configurable:!0,writable:!0,value:G})}})},fix:function(O){return O[P.expando]?O:new P.Event(O)},special:{load:{noBubble:!0},click:{setup:function(O){var F=this||O;return go.test(F.type)&&F.click&&Ln(F,"input")&&or(F,"click",!0),!1},trigger:function(O){var F=this||O;return go.test(F.type)&&F.click&&Ln(F,"input")&&or(F,"click"),!0},_default:function(O){var F=O.target;return go.test(F.type)&&F.click&&Ln(F,"input")&&Vn.get(F,"click")||Ln(F,"a")}},beforeunload:{postDispatch:function(O){O.result!==void 0&&O.originalEvent&&(O.originalEvent.returnValue=O.result)}}}};function or(O,F,G){if(!G){Vn.get(O,F)===void 0&&P.event.add(O,F,Xi);return}Vn.set(O,F,!1),P.event.add(O,F,{namespace:!1,handler:function(ne){var fe,ge=Vn.get(this,F);if(ne.isTrigger&1&&this[F]){if(ge)(P.event.special[F]||{}).delegateType&&ne.stopPropagation();else if(ge=k.call(arguments),Vn.set(this,F,ge),this[F](),fe=Vn.get(this,F),Vn.set(this,F,!1),ge!==fe)return ne.stopImmediatePropagation(),ne.preventDefault(),fe}else ge&&(Vn.set(this,F,P.event.trigger(ge[0],ge.slice(1),this)),ne.stopPropagation(),ne.isImmediatePropagationStopped=Xi)}})}P.removeEvent=function(O,F,G){O.removeEventListener&&O.removeEventListener(F,G)},P.Event=function(O,F){if(!(this instanceof P.Event))return new P.Event(O,F);O&&O.type?(this.originalEvent=O,this.type=O.type,this.isDefaultPrevented=O.defaultPrevented||O.defaultPrevented===void 0&&O.returnValue===!1?Xi:Ks,this.target=O.target&&O.target.nodeType===3?O.target.parentNode:O.target,this.currentTarget=O.currentTarget,this.relatedTarget=O.relatedTarget):this.type=O,F&&P.extend(this,F),this.timeStamp=O&&O.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ks,isPropagationStopped:Ks,isImmediatePropagationStopped:Ks,isSimulated:!1,preventDefault:function(){var O=this.originalEvent;this.isDefaultPrevented=Xi,O&&!this.isSimulated&&O.preventDefault()},stopPropagation:function(){var O=this.originalEvent;this.isPropagationStopped=Xi,O&&!this.isSimulated&&O.stopPropagation()},stopImmediatePropagation:function(){var O=this.originalEvent;this.isImmediatePropagationStopped=Xi,O&&!this.isSimulated&&O.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(O,F){function G(ne){if(at.documentMode){var fe=Vn.get(this,"handle"),ge=P.event.fix(ne);ge.type=ne.type==="focusin"?"focus":"blur",ge.isSimulated=!0,fe(ne),ge.target===ge.currentTarget&&fe(ge)}else P.event.simulate(F,ne.target,P.event.fix(ne))}P.event.special[O]={setup:function(){var ne;if(or(this,O,!0),at.documentMode)ne=Vn.get(this,F),ne||this.addEventListener(F,G),Vn.set(this,F,(ne||0)+1);else return!1},trigger:function(){return or(this,O),!0},teardown:function(){var ne;if(at.documentMode)ne=Vn.get(this,F)-1,ne?Vn.set(this,F,ne):(this.removeEventListener(F,G),Vn.remove(this,F));else return!1},_default:function(ne){return Vn.get(ne.target,O)},delegateType:F},P.event.special[F]={setup:function(){var ne=this.ownerDocument||this.document||this,fe=at.documentMode?this:ne,ge=Vn.get(fe,F);ge||(at.documentMode?this.addEventListener(F,G):ne.addEventListener(O,G,!0)),Vn.set(fe,F,(ge||0)+1)},teardown:function(){var ne=this.ownerDocument||this.document||this,fe=at.documentMode?this:ne,ge=Vn.get(fe,F)-1;ge?Vn.set(fe,F,ge):(at.documentMode?this.removeEventListener(F,G):ne.removeEventListener(O,G,!0),Vn.remove(fe,F))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(O,F){P.event.special[O]={delegateType:F,bindType:F,handle:function(G){var ne,fe=this,ge=G.relatedTarget,Me=G.handleObj;return(!ge||ge!==fe&&!P.contains(fe,ge))&&(G.type=Me.origType,ne=Me.handler.apply(this,arguments),G.type=F),ne}}}),P.fn.extend({on:function(O,F,G,ne){return qo(this,O,F,G,ne)},one:function(O,F,G,ne){return qo(this,O,F,G,ne,1)},off:function(O,F,G){var ne,fe;if(O&&O.preventDefault&&O.handleObj)return ne=O.handleObj,P(O.delegateTarget).off(ne.namespace?ne.origType+"."+ne.namespace:ne.origType,ne.selector,ne.handler),this;if(typeof O=="object"){for(fe in O)this.off(fe,F,O[fe]);return this}return(F===!1||typeof F=="function")&&(G=F,F=void 0),G===!1&&(G=Ks),this.each(function(){P.event.remove(this,O,G,F)})}});var tc=/<script|<style|<link/i,nc=/checked\s*(?:[^=]|=\s*.checked.)/i,Zl=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function io(O,F){return Ln(O,"table")&&Ln(F.nodeType!==11?F:F.firstChild,"tr")&&P(O).children("tbody")[0]||O}function Ia(O){return O.type=(O.getAttribute("type")!==null)+"/"+O.type,O}function na(O){return(O.type||"").slice(0,5)==="true/"?O.type=O.type.slice(5):O.removeAttribute("type"),O}function yc(O,F){var G,ne,fe,ge,Me,pt,lt;if(F.nodeType===1){if(Vn.hasData(O)&&(ge=Vn.get(O),lt=ge.events,lt)){Vn.remove(F,"handle events");for(fe in lt)for(G=0,ne=lt[fe].length;G<ne;G++)P.event.add(F,fe,lt[fe][G])}Vt.hasData(O)&&(Me=Vt.access(O),pt=P.extend({},Me),Vt.set(F,pt))}}function Ge(O,F){var G=F.nodeName.toLowerCase();G==="input"&&go.test(O.type)?F.checked=O.checked:(G==="input"||G==="textarea")&&(F.defaultValue=O.defaultValue)}function Qe(O,F,G,ne){F=M(F);var fe,ge,Me,pt,lt,kt,on=0,Nn=O.length,Jt=Nn-1,ho=F[0],lr=Ee(ho);if(lr||Nn>1&&typeof ho=="string"&&!Le.checkClone&&nc.test(ho))return O.each(function(Qr){var Pr=O.eq(Qr);lr&&(F[0]=ho.call(this,Qr,Pr.html())),Qe(Pr,F,G,ne)});if(Nn&&(fe=bl(F,O[0].ownerDocument,!1,O,ne),ge=fe.firstChild,fe.childNodes.length===1&&(fe=ge),ge||ne)){for(Me=P.map(Pn(fe,"script"),Ia),pt=Me.length;on<Nn;on++)lt=fe,on!==Jt&&(lt=P.clone(lt,!0,!0),pt&&P.merge(Me,Pn(lt,"script"))),G.call(O[on],lt,on);if(pt)for(kt=Me[Me.length-1].ownerDocument,P.map(Me,na),on=0;on<pt;on++)lt=Me[on],Wa.test(lt.type||"")&&!Vn.access(lt,"globalEval")&&P.contains(kt,lt)&&(lt.src&&(lt.type||"").toLowerCase()!=="module"?P._evalUrl&&!lt.noModule&&P._evalUrl(lt.src,{nonce:lt.nonce||lt.getAttribute("nonce")},kt):xe(lt.textContent.replace(Zl,""),lt,kt))}return O}function qe(O,F,G){for(var ne,fe=F?P.filter(F,O):O,ge=0;(ne=fe[ge])!=null;ge++)!G&&ne.nodeType===1&&P.cleanData(Pn(ne)),ne.parentNode&&(G&&Gn(ne)&&Cr(Pn(ne,"script")),ne.parentNode.removeChild(ne));return O}P.extend({htmlPrefilter:function(O){return O},clone:function(O,F,G){var ne,fe,ge,Me,pt=O.cloneNode(!0),lt=Gn(O);if(!Le.noCloneChecked&&(O.nodeType===1||O.nodeType===11)&&!P.isXMLDoc(O))for(Me=Pn(pt),ge=Pn(O),ne=0,fe=ge.length;ne<fe;ne++)Ge(ge[ne],Me[ne]);if(F)if(G)for(ge=ge||Pn(O),Me=Me||Pn(pt),ne=0,fe=ge.length;ne<fe;ne++)yc(ge[ne],Me[ne]);else yc(O,pt);return Me=Pn(pt,"script"),Me.length>0&&Cr(Me,!lt&&Pn(O,"script")),pt},cleanData:function(O){for(var F,G,ne,fe=P.event.special,ge=0;(G=O[ge])!==void 0;ge++)if(ir(G)){if(F=G[Vn.expando]){if(F.events)for(ne in F.events)fe[ne]?P.event.remove(G,ne):P.removeEvent(G,ne,F.handle);G[Vn.expando]=void 0}G[Vt.expando]&&(G[Vt.expando]=void 0)}}}),P.fn.extend({detach:function(O){return qe(this,O,!0)},remove:function(O){return qe(this,O)},text:function(O){return Un(this,function(F){return F===void 0?P.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=F)})},null,O,arguments.length)},append:function(){return Qe(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var F=io(this,O);F.appendChild(O)}})},prepend:function(){return Qe(this,arguments,function(O){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var F=io(this,O);F.insertBefore(O,F.firstChild)}})},before:function(){return Qe(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this)})},after:function(){return Qe(this,arguments,function(O){this.parentNode&&this.parentNode.insertBefore(O,this.nextSibling)})},empty:function(){for(var O,F=0;(O=this[F])!=null;F++)O.nodeType===1&&(P.cleanData(Pn(O,!1)),O.textContent="");return this},clone:function(O,F){return O=O??!1,F=F??O,this.map(function(){return P.clone(this,O,F)})},html:function(O){return Un(this,function(F){var G=this[0]||{},ne=0,fe=this.length;if(F===void 0&&G.nodeType===1)return G.innerHTML;if(typeof F=="string"&&!tc.test(F)&&!pr[(Mo.exec(F)||["",""])[1].toLowerCase()]){F=P.htmlPrefilter(F);try{for(;ne<fe;ne++)G=this[ne]||{},G.nodeType===1&&(P.cleanData(Pn(G,!1)),G.innerHTML=F);G=0}catch{}}G&&this.empty().append(F)},null,O,arguments.length)},replaceWith:function(){var O=[];return Qe(this,arguments,function(F){var G=this.parentNode;P.inArray(this,O)<0&&(P.cleanData(Pn(this)),G&&G.replaceChild(F,this))},O)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(O,F){P.fn[O]=function(G){for(var ne,fe=[],ge=P(G),Me=ge.length-1,pt=0;pt<=Me;pt++)ne=pt===Me?this:this.clone(!0),P(ge[pt])[F](ne),H.apply(fe,ne.get());return this.pushStack(fe)}});var Rn=new RegExp("^("+ot+")(?!px)[a-z%]+$","i"),jo=/^--/,Do=function(O){var F=O.ownerDocument.defaultView;return(!F||!F.opener)&&(F=a),F.getComputedStyle(O)},Rs=function(O,F,G){var ne,fe,ge={};for(fe in F)ge[fe]=O.style[fe],O.style[fe]=F[fe];ne=G.call(O);for(fe in F)O.style[fe]=ge[fe];return ne},er=new RegExp(Cn.join("|"),"i");(function(){function O(){if(kt){lt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",kt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ro.appendChild(lt).appendChild(kt);var on=a.getComputedStyle(kt);G=on.top!=="1%",pt=F(on.marginLeft)===12,kt.style.right="60%",ge=F(on.right)===36,ne=F(on.width)===36,kt.style.position="absolute",fe=F(kt.offsetWidth/3)===12,ro.removeChild(lt),kt=null}}function F(on){return Math.round(parseFloat(on))}var G,ne,fe,ge,Me,pt,lt=at.createElement("div"),kt=at.createElement("div");kt.style&&(kt.style.backgroundClip="content-box",kt.cloneNode(!0).style.backgroundClip="",Le.clearCloneStyle=kt.style.backgroundClip==="content-box",P.extend(Le,{boxSizingReliable:function(){return O(),ne},pixelBoxStyles:function(){return O(),ge},pixelPosition:function(){return O(),G},reliableMarginLeft:function(){return O(),pt},scrollboxSize:function(){return O(),fe},reliableTrDimensions:function(){var on,Nn,Jt,ho;return Me==null&&(on=at.createElement("table"),Nn=at.createElement("tr"),Jt=at.createElement("div"),on.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Nn.style.cssText="box-sizing:content-box;border:1px solid",Nn.style.height="1px",Jt.style.height="9px",Jt.style.display="block",ro.appendChild(on).appendChild(Nn).appendChild(Jt),ho=a.getComputedStyle(Nn),Me=parseInt(ho.height,10)+parseInt(ho.borderTopWidth,10)+parseInt(ho.borderBottomWidth,10)===Nn.offsetHeight,ro.removeChild(on)),Me}}))})();function os(O,F,G){var ne,fe,ge,Me,pt=jo.test(F),lt=O.style;return G=G||Do(O),G&&(Me=G.getPropertyValue(F)||G[F],pt&&Me&&(Me=Me.replace(wn,"$1")||void 0),Me===""&&!Gn(O)&&(Me=P.style(O,F)),!Le.pixelBoxStyles()&&Rn.test(Me)&&er.test(F)&&(ne=lt.width,fe=lt.minWidth,ge=lt.maxWidth,lt.minWidth=lt.maxWidth=lt.width=Me,Me=G.width,lt.width=ne,lt.minWidth=fe,lt.maxWidth=ge)),Me!==void 0?Me+"":Me}function gr(O,F){return{get:function(){if(O()){delete this.get;return}return(this.get=F).apply(this,arguments)}}}var _n=["Webkit","Moz","ms"],da=at.createElement("div").style,vr={};function Ho(O){for(var F=O[0].toUpperCase()+O.slice(1),G=_n.length;G--;)if(O=_n[G]+F,O in da)return O}function Ls(O){var F=P.cssProps[O]||vr[O];return F||(O in da?O:vr[O]=Ho(O)||O)}var mi=/^(none|table(?!-c[ea]).+)/,pi={position:"absolute",visibility:"hidden",display:"block"},Xo={letterSpacing:"0",fontWeight:"400"};function gi(O,F,G){var ne=Tt.exec(F);return ne?Math.max(0,ne[2]-(G||0))+(ne[3]||"px"):F}function ya(O,F,G,ne,fe,ge){var Me=F==="width"?1:0,pt=0,lt=0,kt=0;if(G===(ne?"border":"content"))return 0;for(;Me<4;Me+=2)G==="margin"&&(kt+=P.css(O,G+Cn[Me],!0,fe)),ne?(G==="content"&&(lt-=P.css(O,"padding"+Cn[Me],!0,fe)),G!=="margin"&&(lt-=P.css(O,"border"+Cn[Me]+"Width",!0,fe))):(lt+=P.css(O,"padding"+Cn[Me],!0,fe),G!=="padding"?lt+=P.css(O,"border"+Cn[Me]+"Width",!0,fe):pt+=P.css(O,"border"+Cn[Me]+"Width",!0,fe));return!ne&&ge>=0&&(lt+=Math.max(0,Math.ceil(O["offset"+F[0].toUpperCase()+F.slice(1)]-ge-lt-pt-.5))||0),lt+kt}function fa(O,F,G){var ne=Do(O),fe=!Le.boxSizingReliable()||G,ge=fe&&P.css(O,"boxSizing",!1,ne)==="border-box",Me=ge,pt=os(O,F,ne),lt="offset"+F[0].toUpperCase()+F.slice(1);if(Rn.test(pt)){if(!G)return pt;pt="auto"}return(!Le.boxSizingReliable()&&ge||!Le.reliableTrDimensions()&&Ln(O,"tr")||pt==="auto"||!parseFloat(pt)&&P.css(O,"display",!1,ne)==="inline")&&O.getClientRects().length&&(ge=P.css(O,"boxSizing",!1,ne)==="border-box",Me=lt in O,Me&&(pt=O[lt])),pt=parseFloat(pt)||0,pt+ya(O,F,G||(ge?"border":"content"),Me,ne,pt)+"px"}P.extend({cssHooks:{opacity:{get:function(O,F){if(F){var G=os(O,"opacity");return G===""?"1":G}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(O,F,G,ne){if(!(!O||O.nodeType===3||O.nodeType===8||!O.style)){var fe,ge,Me,pt=rr(F),lt=jo.test(F),kt=O.style;if(lt||(F=Ls(pt)),Me=P.cssHooks[F]||P.cssHooks[pt],G!==void 0){if(ge=typeof G,ge==="string"&&(fe=Tt.exec(G))&&fe[1]&&(G=zs(O,F,fe),ge="number"),G==null||G!==G)return;ge==="number"&&!lt&&(G+=fe&&fe[3]||(P.cssNumber[pt]?"":"px")),!Le.clearCloneStyle&&G===""&&F.indexOf("background")===0&&(kt[F]="inherit"),(!Me||!("set"in Me)||(G=Me.set(O,G,ne))!==void 0)&&(lt?kt.setProperty(F,G):kt[F]=G)}else return Me&&"get"in Me&&(fe=Me.get(O,!1,ne))!==void 0?fe:kt[F]}},css:function(O,F,G,ne){var fe,ge,Me,pt=rr(F),lt=jo.test(F);return lt||(F=Ls(pt)),Me=P.cssHooks[F]||P.cssHooks[pt],Me&&"get"in Me&&(fe=Me.get(O,!0,G)),fe===void 0&&(fe=os(O,F,ne)),fe==="normal"&&F in Xo&&(fe=Xo[F]),G===""||G?(ge=parseFloat(fe),G===!0||isFinite(ge)?ge||0:fe):fe}}),P.each(["height","width"],function(O,F){P.cssHooks[F]={get:function(G,ne,fe){if(ne)return mi.test(P.css(G,"display"))&&(!G.getClientRects().length||!G.getBoundingClientRect().width)?Rs(G,pi,function(){return fa(G,F,fe)}):fa(G,F,fe)},set:function(G,ne,fe){var ge,Me=Do(G),pt=!Le.scrollboxSize()&&Me.position==="absolute",lt=pt||fe,kt=lt&&P.css(G,"boxSizing",!1,Me)==="border-box",on=fe?ya(G,F,fe,kt,Me):0;return kt&&pt&&(on-=Math.ceil(G["offset"+F[0].toUpperCase()+F.slice(1)]-parseFloat(Me[F])-ya(G,F,"border",!1,Me)-.5)),on&&(ge=Tt.exec(ne))&&(ge[3]||"px")!=="px"&&(G.style[F]=ne,ne=P.css(G,F)),gi(G,ne,on)}}}),P.cssHooks.marginLeft=gr(Le.reliableMarginLeft,function(O,F){if(F)return(parseFloat(os(O,"marginLeft"))||O.getBoundingClientRect().left-Rs(O,{marginLeft:0},function(){return O.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(O,F){P.cssHooks[O+F]={expand:function(G){for(var ne=0,fe={},ge=typeof G=="string"?G.split(" "):[G];ne<4;ne++)fe[O+Cn[ne]+F]=ge[ne]||ge[ne-2]||ge[0];return fe}},O!=="margin"&&(P.cssHooks[O+F].set=gi)}),P.fn.extend({css:function(O,F){return Un(this,function(G,ne,fe){var ge,Me,pt={},lt=0;if(Array.isArray(ne)){for(ge=Do(G),Me=ne.length;lt<Me;lt++)pt[ne[lt]]=P.css(G,ne[lt],!1,ge);return pt}return fe!==void 0?P.style(G,ne,fe):P.css(G,ne)},O,F,arguments.length>1)}});function un(O,F,G,ne,fe){return new un.prototype.init(O,F,G,ne,fe)}P.Tween=un,un.prototype={constructor:un,init:function(O,F,G,ne,fe,ge){this.elem=O,this.prop=G,this.easing=fe||P.easing._default,this.options=F,this.start=this.now=this.cur(),this.end=ne,this.unit=ge||(P.cssNumber[G]?"":"px")},cur:function(){var O=un.propHooks[this.prop];return O&&O.get?O.get(this):un.propHooks._default.get(this)},run:function(O){var F,G=un.propHooks[this.prop];return this.options.duration?this.pos=F=P.easing[this.easing](O,this.options.duration*O,0,1,this.options.duration):this.pos=F=O,this.now=(this.end-this.start)*F+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),G&&G.set?G.set(this):un.propHooks._default.set(this),this}},un.prototype.init.prototype=un.prototype,un.propHooks={_default:{get:function(O){var F;return O.elem.nodeType!==1||O.elem[O.prop]!=null&&O.elem.style[O.prop]==null?O.elem[O.prop]:(F=P.css(O.elem,O.prop,""),!F||F==="auto"?0:F)},set:function(O){P.fx.step[O.prop]?P.fx.step[O.prop](O):O.elem.nodeType===1&&(P.cssHooks[O.prop]||O.elem.style[Ls(O.prop)]!=null)?P.style(O.elem,O.prop,O.now+O.unit):O.elem[O.prop]=O.now}}},un.propHooks.scrollTop=un.propHooks.scrollLeft={set:function(O){O.elem.nodeType&&O.elem.parentNode&&(O.elem[O.prop]=O.now)}},P.easing={linear:function(O){return O},swing:function(O){return .5-Math.cos(O*Math.PI)/2},_default:"swing"},P.fx=un.prototype.init,P.fx.step={};var rs,oa,Uc=/^(?:toggle|show|hide)$/,au=/queueHooks$/;function Da(){oa&&(at.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(Da):a.setTimeout(Da,P.fx.interval),P.fx.tick())}function yl(){return a.setTimeout(function(){rs=void 0}),rs=Date.now()}function Ss(O,F){var G,ne=0,fe={height:O};for(F=F?1:0;ne<4;ne+=2-F)G=Cn[ne],fe["margin"+G]=fe["padding"+G]=O;return F&&(fe.opacity=fe.width=O),fe}function wu(O,F,G){for(var ne,fe=(ie.tweeners[F]||[]).concat(ie.tweeners["*"]),ge=0,Me=fe.length;ge<Me;ge++)if(ne=fe[ge].call(G,F,O))return ne}function Si(O,F,G){var ne,fe,ge,Me,pt,lt,kt,on,Nn="width"in F||"height"in F,Jt=this,ho={},lr=O.style,Qr=O.nodeType&&Uo(O),Pr=Vn.get(O,"fxshow");G.queue||(Me=P._queueHooks(O,"fx"),Me.unqueued==null&&(Me.unqueued=0,pt=Me.empty.fire,Me.empty.fire=function(){Me.unqueued||pt()}),Me.unqueued++,Jt.always(function(){Jt.always(function(){Me.unqueued--,P.queue(O,"fx").length||Me.empty.fire()})}));for(ne in F)if(fe=F[ne],Uc.test(fe)){if(delete F[ne],ge=ge||fe==="toggle",fe===(Qr?"hide":"show"))if(fe==="show"&&Pr&&Pr[ne]!==void 0)Qr=!0;else continue;ho[ne]=Pr&&Pr[ne]||P.style(O,ne)}if(lt=!P.isEmptyObject(F),!(!lt&&P.isEmptyObject(ho))){Nn&&O.nodeType===1&&(G.overflow=[lr.overflow,lr.overflowX,lr.overflowY],kt=Pr&&Pr.display,kt==null&&(kt=Vn.get(O,"display")),on=P.css(O,"display"),on==="none"&&(kt?on=kt:(Mn([O],!0),kt=O.style.display||kt,on=P.css(O,"display"),Mn([O]))),(on==="inline"||on==="inline-block"&&kt!=null)&&P.css(O,"float")==="none"&&(lt||(Jt.done(function(){lr.display=kt}),kt==null&&(on=lr.display,kt=on==="none"?"":on)),lr.display="inline-block")),G.overflow&&(lr.overflow="hidden",Jt.always(function(){lr.overflow=G.overflow[0],lr.overflowX=G.overflow[1],lr.overflowY=G.overflow[2]})),lt=!1;for(ne in ho)lt||(Pr?"hidden"in Pr&&(Qr=Pr.hidden):Pr=Vn.access(O,"fxshow",{display:kt}),ge&&(Pr.hidden=!Qr),Qr&&Mn([O],!0),Jt.done(function(){Qr||Mn([O]),Vn.remove(O,"fxshow");for(ne in ho)P.style(O,ne,ho[ne])})),lt=wu(Qr?Pr[ne]:0,ne,Jt),ne in Pr||(Pr[ne]=lt.start,Qr&&(lt.end=lt.start,lt.start=0))}}function Po(O,F){var G,ne,fe,ge,Me;for(G in O)if(ne=rr(G),fe=F[ne],ge=O[G],Array.isArray(ge)&&(fe=ge[1],ge=O[G]=ge[0]),G!==ne&&(O[ne]=ge,delete O[G]),Me=P.cssHooks[ne],Me&&"expand"in Me){ge=Me.expand(ge),delete O[ne];for(G in ge)G in O||(O[G]=ge[G],F[G]=fe)}else F[ne]=fe}function ie(O,F,G){var ne,fe,ge=0,Me=ie.prefilters.length,pt=P.Deferred().always(function(){delete lt.elem}),lt=function(){if(fe)return!1;for(var Nn=rs||yl(),Jt=Math.max(0,kt.startTime+kt.duration-Nn),ho=Jt/kt.duration||0,lr=1-ho,Qr=0,Pr=kt.tweens.length;Qr<Pr;Qr++)kt.tweens[Qr].run(lr);return pt.notifyWith(O,[kt,lr,Jt]),lr<1&&Pr?Jt:(Pr||pt.notifyWith(O,[kt,1,0]),pt.resolveWith(O,[kt]),!1)},kt=pt.promise({elem:O,props:P.extend({},F),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},G),originalProperties:F,originalOptions:G,startTime:rs||yl(),duration:G.duration,tweens:[],createTween:function(Nn,Jt){var ho=P.Tween(O,kt.opts,Nn,Jt,kt.opts.specialEasing[Nn]||kt.opts.easing);return kt.tweens.push(ho),ho},stop:function(Nn){var Jt=0,ho=Nn?kt.tweens.length:0;if(fe)return this;for(fe=!0;Jt<ho;Jt++)kt.tweens[Jt].run(1);return Nn?(pt.notifyWith(O,[kt,1,0]),pt.resolveWith(O,[kt,Nn])):pt.rejectWith(O,[kt,Nn]),this}}),on=kt.props;for(Po(on,kt.opts.specialEasing);ge<Me;ge++)if(ne=ie.prefilters[ge].call(kt,O,on,kt.opts),ne)return Ee(ne.stop)&&(P._queueHooks(kt.elem,kt.opts.queue).stop=ne.stop.bind(ne)),ne;return P.map(on,wu,kt),Ee(kt.opts.start)&&kt.opts.start.call(O,kt),kt.progress(kt.opts.progress).done(kt.opts.done,kt.opts.complete).fail(kt.opts.fail).always(kt.opts.always),P.fx.timer(P.extend(lt,{elem:O,anim:kt,queue:kt.opts.queue})),kt}P.Animation=P.extend(ie,{tweeners:{"*":[function(O,F){var G=this.createTween(O,F);return zs(G.elem,O,Tt.exec(F),G),G}]},tweener:function(O,F){Ee(O)?(F=O,O=["*"]):O=O.match(fs);for(var G,ne=0,fe=O.length;ne<fe;ne++)G=O[ne],ie.tweeners[G]=ie.tweeners[G]||[],ie.tweeners[G].unshift(F)},prefilters:[Si],prefilter:function(O,F){F?ie.prefilters.unshift(O):ie.prefilters.push(O)}}),P.speed=function(O,F,G){var ne=O&&typeof O=="object"?P.extend({},O):{complete:G||!G&&F||Ee(O)&&O,duration:O,easing:G&&F||F&&!Ee(F)&&F};return P.fx.off?ne.duration=0:typeof ne.duration!="number"&&(ne.duration in P.fx.speeds?ne.duration=P.fx.speeds[ne.duration]:ne.duration=P.fx.speeds._default),(ne.queue==null||ne.queue===!0)&&(ne.queue="fx"),ne.old=ne.complete,ne.complete=function(){Ee(ne.old)&&ne.old.call(this),ne.queue&&P.dequeue(this,ne.queue)},ne},P.fn.extend({fadeTo:function(O,F,G,ne){return this.filter(Uo).css("opacity",0).show().end().animate({opacity:F},O,G,ne)},animate:function(O,F,G,ne){var fe=P.isEmptyObject(O),ge=P.speed(F,G,ne),Me=function(){var pt=ie(this,P.extend({},O),ge);(fe||Vn.get(this,"finish"))&&pt.stop(!0)};return Me.finish=Me,fe||ge.queue===!1?this.each(Me):this.queue(ge.queue,Me)},stop:function(O,F,G){var ne=function(fe){var ge=fe.stop;delete fe.stop,ge(G)};return typeof O!="string"&&(G=F,F=O,O=void 0),F&&this.queue(O||"fx",[]),this.each(function(){var fe=!0,ge=O!=null&&O+"queueHooks",Me=P.timers,pt=Vn.get(this);if(ge)pt[ge]&&pt[ge].stop&&ne(pt[ge]);else for(ge in pt)pt[ge]&&pt[ge].stop&&au.test(ge)&&ne(pt[ge]);for(ge=Me.length;ge--;)Me[ge].elem===this&&(O==null||Me[ge].queue===O)&&(Me[ge].anim.stop(G),fe=!1,Me.splice(ge,1));(fe||!G)&&P.dequeue(this,O)})},finish:function(O){return O!==!1&&(O=O||"fx"),this.each(function(){var F,G=Vn.get(this),ne=G[O+"queue"],fe=G[O+"queueHooks"],ge=P.timers,Me=ne?ne.length:0;for(G.finish=!0,P.queue(this,O,[]),fe&&fe.stop&&fe.stop.call(this,!0),F=ge.length;F--;)ge[F].elem===this&&ge[F].queue===O&&(ge[F].anim.stop(!0),ge.splice(F,1));for(F=0;F<Me;F++)ne[F]&&ne[F].finish&&ne[F].finish.call(this);delete G.finish})}}),P.each(["toggle","show","hide"],function(O,F){var G=P.fn[F];P.fn[F]=function(ne,fe,ge){return ne==null||typeof ne=="boolean"?G.apply(this,arguments):this.animate(Ss(F,!0),ne,fe,ge)}}),P.each({slideDown:Ss("show"),slideUp:Ss("hide"),slideToggle:Ss("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(O,F){P.fn[O]=function(G,ne,fe){return this.animate(F,G,ne,fe)}}),P.timers=[],P.fx.tick=function(){var O,F=0,G=P.timers;for(rs=Date.now();F<G.length;F++)O=G[F],!O()&&G[F]===O&&G.splice(F--,1);G.length||P.fx.stop(),rs=void 0},P.fx.timer=function(O){P.timers.push(O),P.fx.start()},P.fx.interval=13,P.fx.start=function(){oa||(oa=!0,Da())},P.fx.stop=function(){oa=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(O,F){return O=P.fx&&P.fx.speeds[O]||O,F=F||"fx",this.queue(F,function(G,ne){var fe=a.setTimeout(G,O);ne.stop=function(){a.clearTimeout(fe)}})},(function(){var O=at.createElement("input"),F=at.createElement("select"),G=F.appendChild(at.createElement("option"));O.type="checkbox",Le.checkOn=O.value!=="",Le.optSelected=G.selected,O=at.createElement("input"),O.value="t",O.type="radio",Le.radioValue=O.value==="t"})();var Re,ke=P.expr.attrHandle;P.fn.extend({attr:function(O,F){return Un(this,P.attr,O,F,arguments.length>1)},removeAttr:function(O){return this.each(function(){P.removeAttr(this,O)})}}),P.extend({attr:function(O,F,G){var ne,fe,ge=O.nodeType;if(!(ge===3||ge===8||ge===2)){if(typeof O.getAttribute>"u")return P.prop(O,F,G);if((ge!==1||!P.isXMLDoc(O))&&(fe=P.attrHooks[F.toLowerCase()]||(P.expr.match.bool.test(F)?Re:void 0)),G!==void 0){if(G===null){P.removeAttr(O,F);return}return fe&&"set"in fe&&(ne=fe.set(O,G,F))!==void 0?ne:(O.setAttribute(F,G+""),G)}return fe&&"get"in fe&&(ne=fe.get(O,F))!==null?ne:(ne=P.find.attr(O,F),ne??void 0)}},attrHooks:{type:{set:function(O,F){if(!Le.radioValue&&F==="radio"&&Ln(O,"input")){var G=O.value;return O.setAttribute("type",F),G&&(O.value=G),F}}}},removeAttr:function(O,F){var G,ne=0,fe=F&&F.match(fs);if(fe&&O.nodeType===1)for(;G=fe[ne++];)O.removeAttribute(G)}}),Re={set:function(O,F,G){return F===!1?P.removeAttr(O,G):O.setAttribute(G,G),G}},P.each(P.expr.match.bool.source.match(/\w+/g),function(O,F){var G=ke[F]||P.find.attr;ke[F]=function(ne,fe,ge){var Me,pt,lt=fe.toLowerCase();return ge||(pt=ke[lt],ke[lt]=Me,Me=G(ne,fe,ge)!=null?lt:null,ke[lt]=pt),Me}});var ut=/^(?:input|select|textarea|button)$/i,Nt=/^(?:a|area)$/i;P.fn.extend({prop:function(O,F){return Un(this,P.prop,O,F,arguments.length>1)},removeProp:function(O){return this.each(function(){delete this[P.propFix[O]||O]})}}),P.extend({prop:function(O,F,G){var ne,fe,ge=O.nodeType;if(!(ge===3||ge===8||ge===2))return(ge!==1||!P.isXMLDoc(O))&&(F=P.propFix[F]||F,fe=P.propHooks[F]),G!==void 0?fe&&"set"in fe&&(ne=fe.set(O,G,F))!==void 0?ne:O[F]=G:fe&&"get"in fe&&(ne=fe.get(O,F))!==null?ne:O[F]},propHooks:{tabIndex:{get:function(O){var F=P.find.attr(O,"tabindex");return F?parseInt(F,10):ut.test(O.nodeName)||Nt.test(O.nodeName)&&O.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Le.optSelected||(P.propHooks.selected={get:function(O){var F=O.parentNode;return F&&F.parentNode&&F.parentNode.selectedIndex,null},set:function(O){var F=O.parentNode;F&&(F.selectedIndex,F.parentNode&&F.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});function Lt(O){var F=O.match(fs)||[];return F.join(" ")}function fn(O){return O.getAttribute&&O.getAttribute("class")||""}function ao(O){return Array.isArray(O)?O:typeof O=="string"?O.match(fs)||[]:[]}P.fn.extend({addClass:function(O){var F,G,ne,fe,ge,Me;return Ee(O)?this.each(function(pt){P(this).addClass(O.call(this,pt,fn(this)))}):(F=ao(O),F.length?this.each(function(){if(ne=fn(this),G=this.nodeType===1&&" "+Lt(ne)+" ",G){for(ge=0;ge<F.length;ge++)fe=F[ge],G.indexOf(" "+fe+" ")<0&&(G+=fe+" ");Me=Lt(G),ne!==Me&&this.setAttribute("class",Me)}}):this)},removeClass:function(O){var F,G,ne,fe,ge,Me;return Ee(O)?this.each(function(pt){P(this).removeClass(O.call(this,pt,fn(this)))}):arguments.length?(F=ao(O),F.length?this.each(function(){if(ne=fn(this),G=this.nodeType===1&&" "+Lt(ne)+" ",G){for(ge=0;ge<F.length;ge++)for(fe=F[ge];G.indexOf(" "+fe+" ")>-1;)G=G.replace(" "+fe+" "," ");Me=Lt(G),ne!==Me&&this.setAttribute("class",Me)}}):this):this.attr("class","")},toggleClass:function(O,F){var G,ne,fe,ge,Me=typeof O,pt=Me==="string"||Array.isArray(O);return Ee(O)?this.each(function(lt){P(this).toggleClass(O.call(this,lt,fn(this),F),F)}):typeof F=="boolean"&&pt?F?this.addClass(O):this.removeClass(O):(G=ao(O),this.each(function(){if(pt)for(ge=P(this),fe=0;fe<G.length;fe++)ne=G[fe],ge.hasClass(ne)?ge.removeClass(ne):ge.addClass(ne);else(O===void 0||Me==="boolean")&&(ne=fn(this),ne&&Vn.set(this,"__className__",ne),this.setAttribute&&this.setAttribute("class",ne||O===!1?"":Vn.get(this,"__className__")||""))}))},hasClass:function(O){var F,G,ne=0;for(F=" "+O+" ";G=this[ne++];)if(G.nodeType===1&&(" "+Lt(fn(G))+" ").indexOf(F)>-1)return!0;return!1}});var Yn=/\r/g;P.fn.extend({val:function(O){var F,G,ne,fe=this[0];return arguments.length?(ne=Ee(O),this.each(function(ge){var Me;this.nodeType===1&&(ne?Me=O.call(this,ge,P(this).val()):Me=O,Me==null?Me="":typeof Me=="number"?Me+="":Array.isArray(Me)&&(Me=P.map(Me,function(pt){return pt==null?"":pt+""})),F=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],(!F||!("set"in F)||F.set(this,Me,"value")===void 0)&&(this.value=Me))})):fe?(F=P.valHooks[fe.type]||P.valHooks[fe.nodeName.toLowerCase()],F&&"get"in F&&(G=F.get(fe,"value"))!==void 0?G:(G=fe.value,typeof G=="string"?G.replace(Yn,""):G??"")):void 0}}),P.extend({valHooks:{option:{get:function(O){var F=P.find.attr(O,"value");return F??Lt(P.text(O))}},select:{get:function(O){var F,G,ne,fe=O.options,ge=O.selectedIndex,Me=O.type==="select-one",pt=Me?null:[],lt=Me?ge+1:fe.length;for(ge<0?ne=lt:ne=Me?ge:0;ne<lt;ne++)if(G=fe[ne],(G.selected||ne===ge)&&!G.disabled&&(!G.parentNode.disabled||!Ln(G.parentNode,"optgroup"))){if(F=P(G).val(),Me)return F;pt.push(F)}return pt},set:function(O,F){for(var G,ne,fe=O.options,ge=P.makeArray(F),Me=fe.length;Me--;)ne=fe[Me],(ne.selected=P.inArray(P.valHooks.option.get(ne),ge)>-1)&&(G=!0);return G||(O.selectedIndex=-1),ge}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(O,F){if(Array.isArray(F))return O.checked=P.inArray(P(O).val(),F)>-1}},Le.checkOn||(P.valHooks[this].get=function(O){return O.getAttribute("value")===null?"on":O.value})});var Ft=a.location,is={guid:Date.now()},ds=/\?/;P.parseXML=function(O){var F,G;if(!O||typeof O!="string")return null;try{F=new a.DOMParser().parseFromString(O,"text/xml")}catch{}return G=F&&F.getElementsByTagName("parsererror")[0],(!F||G)&&P.error("Invalid XML: "+(G?P.map(G.childNodes,function(ne){return ne.textContent}).join(`
`):O)),F};var Rr=/^(?:focusinfocus|focusoutblur)$/,as=function(O){O.stopPropagation()};P.extend(P.event,{trigger:function(O,F,G,ne){var fe,ge,Me,pt,lt,kt,on,Nn,Jt=[G||at],ho=Se.call(O,"type")?O.type:O,lr=Se.call(O,"namespace")?O.namespace.split("."):[];if(ge=Nn=Me=G=G||at,!(G.nodeType===3||G.nodeType===8)&&!Rr.test(ho+P.event.triggered)&&(ho.indexOf(".")>-1&&(lr=ho.split("."),ho=lr.shift(),lr.sort()),lt=ho.indexOf(":")<0&&"on"+ho,O=O[P.expando]?O:new P.Event(ho,typeof O=="object"&&O),O.isTrigger=ne?2:3,O.namespace=lr.join("."),O.rnamespace=O.namespace?new RegExp("(^|\\.)"+lr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,O.result=void 0,O.target||(O.target=G),F=F==null?[O]:P.makeArray(F,[O]),on=P.event.special[ho]||{},!(!ne&&on.trigger&&on.trigger.apply(G,F)===!1))){if(!ne&&!on.noBubble&&!Ce(G)){for(pt=on.delegateType||ho,Rr.test(pt+ho)||(ge=ge.parentNode);ge;ge=ge.parentNode)Jt.push(ge),Me=ge;Me===(G.ownerDocument||at)&&Jt.push(Me.defaultView||Me.parentWindow||a)}for(fe=0;(ge=Jt[fe++])&&!O.isPropagationStopped();)Nn=ge,O.type=fe>1?pt:on.bindType||ho,kt=(Vn.get(ge,"events")||Object.create(null))[O.type]&&Vn.get(ge,"handle"),kt&&kt.apply(ge,F),kt=lt&&ge[lt],kt&&kt.apply&&ir(ge)&&(O.result=kt.apply(ge,F),O.result===!1&&O.preventDefault());return O.type=ho,!ne&&!O.isDefaultPrevented()&&(!on._default||on._default.apply(Jt.pop(),F)===!1)&&ir(G)&&lt&&Ee(G[ho])&&!Ce(G)&&(Me=G[lt],Me&&(G[lt]=null),P.event.triggered=ho,O.isPropagationStopped()&&Nn.addEventListener(ho,as),G[ho](),O.isPropagationStopped()&&Nn.removeEventListener(ho,as),P.event.triggered=void 0,Me&&(G[lt]=Me)),O.result}},simulate:function(O,F,G){var ne=P.extend(new P.Event,G,{type:O,isSimulated:!0});P.event.trigger(ne,null,F)}}),P.fn.extend({trigger:function(O,F){return this.each(function(){P.event.trigger(O,F,this)})},triggerHandler:function(O,F){var G=this[0];if(G)return P.event.trigger(O,F,G,!0)}});var vi=/\[\]$/,dr=/\r?\n/g,Sa=/^(?:submit|button|image|reset|file)$/i,ha=/^(?:input|select|textarea|keygen)/i;function Fa(O,F,G,ne){var fe;if(Array.isArray(F))P.each(F,function(ge,Me){G||vi.test(O)?ne(O,Me):Fa(O+"["+(typeof Me=="object"&&Me!=null?ge:"")+"]",Me,G,ne)});else if(!G&&dt(F)==="object")for(fe in F)Fa(O+"["+fe+"]",F[fe],G,ne);else ne(O,F)}P.param=function(O,F){var G,ne=[],fe=function(ge,Me){var pt=Ee(Me)?Me():Me;ne[ne.length]=encodeURIComponent(ge)+"="+encodeURIComponent(pt??"")};if(O==null)return"";if(Array.isArray(O)||O.jquery&&!P.isPlainObject(O))P.each(O,function(){fe(this.name,this.value)});else for(G in O)Fa(G,O[G],F,fe);return ne.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var O=P.prop(this,"elements");return O?P.makeArray(O):this}).filter(function(){var O=this.type;return this.name&&!P(this).is(":disabled")&&ha.test(this.nodeName)&&!Sa.test(O)&&(this.checked||!go.test(O))}).map(function(O,F){var G=P(this).val();return G==null?null:Array.isArray(G)?P.map(G,function(ne){return{name:F.name,value:ne.replace(dr,`\r
`)}}):{name:F.name,value:G.replace(dr,`\r
`)}}).get()}});var sa=/%20/g,oc=/#.*$/,ul=/([?&])_=[^&]*/,wl=/^(.*?):[ \t]*([^\r\n]*)$/mg,ql=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Aa=/^\/\//,Nl={},we={},We="*/".concat("*"),ft=at.createElement("a");ft.href=Ft.href;function Bt(O){return function(F,G){typeof F!="string"&&(G=F,F="*");var ne,fe=0,ge=F.toLowerCase().match(fs)||[];if(Ee(G))for(;ne=ge[fe++];)ne[0]==="+"?(ne=ne.slice(1)||"*",(O[ne]=O[ne]||[]).unshift(G)):(O[ne]=O[ne]||[]).push(G)}}function kn(O,F,G,ne){var fe={},ge=O===we;function Me(pt){var lt;return fe[pt]=!0,P.each(O[pt]||[],function(kt,on){var Nn=on(F,G,ne);if(typeof Nn=="string"&&!ge&&!fe[Nn])return F.dataTypes.unshift(Nn),Me(Nn),!1;if(ge)return!(lt=Nn)}),lt}return Me(F.dataTypes[0])||!fe["*"]&&Me("*")}function Kn(O,F){var G,ne,fe=P.ajaxSettings.flatOptions||{};for(G in F)F[G]!==void 0&&((fe[G]?O:ne||(ne={}))[G]=F[G]);return ne&&P.extend(!0,O,ne),O}function _s(O,F,G){for(var ne,fe,ge,Me,pt=O.contents,lt=O.dataTypes;lt[0]==="*";)lt.shift(),ne===void 0&&(ne=O.mimeType||F.getResponseHeader("Content-Type"));if(ne){for(fe in pt)if(pt[fe]&&pt[fe].test(ne)){lt.unshift(fe);break}}if(lt[0]in G)ge=lt[0];else{for(fe in G){if(!lt[0]||O.converters[fe+" "+lt[0]]){ge=fe;break}Me||(Me=fe)}ge=ge||Me}if(ge)return ge!==lt[0]&&lt.unshift(ge),G[ge]}function bs(O,F,G,ne){var fe,ge,Me,pt,lt,kt={},on=O.dataTypes.slice();if(on[1])for(Me in O.converters)kt[Me.toLowerCase()]=O.converters[Me];for(ge=on.shift();ge;)if(O.responseFields[ge]&&(G[O.responseFields[ge]]=F),!lt&&ne&&O.dataFilter&&(F=O.dataFilter(F,O.dataType)),lt=ge,ge=on.shift(),ge){if(ge==="*")ge=lt;else if(lt!=="*"&&lt!==ge){if(Me=kt[lt+" "+ge]||kt["* "+ge],!Me){for(fe in kt)if(pt=fe.split(" "),pt[1]===ge&&(Me=kt[lt+" "+pt[0]]||kt["* "+pt[0]],Me)){Me===!0?Me=kt[fe]:kt[fe]!==!0&&(ge=pt[0],on.unshift(pt[1]));break}}if(Me!==!0)if(Me&&O.throws)F=Me(F);else try{F=Me(F)}catch(Nn){return{state:"parsererror",error:Me?Nn:"No conversion from "+lt+" to "+ge}}}}return{state:"success",data:F}}P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft.href,type:"GET",isLocal:ql.test(Ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(O,F){return F?Kn(Kn(O,P.ajaxSettings),F):Kn(P.ajaxSettings,O)},ajaxPrefilter:Bt(Nl),ajaxTransport:Bt(we),ajax:function(O,F){typeof O=="object"&&(F=O,O=void 0),F=F||{};var G,ne,fe,ge,Me,pt,lt,kt,on,Nn,Jt=P.ajaxSetup({},F),ho=Jt.context||Jt,lr=Jt.context&&(ho.nodeType||ho.jquery)?P(ho):P.event,Qr=P.Deferred(),Pr=P.Callbacks("once memory"),ol=Jt.statusCode||{},Pi={},sc={},Cu="canceled",qr={readyState:0,getResponseHeader:function(Yr){var Ir;if(lt){if(!ge)for(ge={};Ir=wl.exec(fe);)ge[Ir[1].toLowerCase()+" "]=(ge[Ir[1].toLowerCase()+" "]||[]).concat(Ir[2]);Ir=ge[Yr.toLowerCase()+" "]}return Ir==null?null:Ir.join(", ")},getAllResponseHeaders:function(){return lt?fe:null},setRequestHeader:function(Yr,Ir){return lt==null&&(Yr=sc[Yr.toLowerCase()]=sc[Yr.toLowerCase()]||Yr,Pi[Yr]=Ir),this},overrideMimeType:function(Yr){return lt==null&&(Jt.mimeType=Yr),this},statusCode:function(Yr){var Ir;if(Yr)if(lt)qr.always(Yr[qr.status]);else for(Ir in Yr)ol[Ir]=[ol[Ir],Yr[Ir]];return this},abort:function(Yr){var Ir=Yr||Cu;return G&&G.abort(Ir),Rl(0,Ir),this}};if(Qr.promise(qr),Jt.url=((O||Jt.url||Ft.href)+"").replace(Aa,Ft.protocol+"//"),Jt.type=F.method||F.type||Jt.method||Jt.type,Jt.dataTypes=(Jt.dataType||"*").toLowerCase().match(fs)||[""],Jt.crossDomain==null){pt=at.createElement("a");try{pt.href=Jt.url,pt.href=pt.href,Jt.crossDomain=ft.protocol+"//"+ft.host!=pt.protocol+"//"+pt.host}catch{Jt.crossDomain=!0}}if(Jt.data&&Jt.processData&&typeof Jt.data!="string"&&(Jt.data=P.param(Jt.data,Jt.traditional)),kn(Nl,Jt,F,qr),lt)return qr;kt=P.event&&Jt.global,kt&&P.active++===0&&P.event.trigger("ajaxStart"),Jt.type=Jt.type.toUpperCase(),Jt.hasContent=!Tn.test(Jt.type),ne=Jt.url.replace(oc,""),Jt.hasContent?Jt.data&&Jt.processData&&(Jt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Jt.data=Jt.data.replace(sa,"+")):(Nn=Jt.url.slice(ne.length),Jt.data&&(Jt.processData||typeof Jt.data=="string")&&(ne+=(ds.test(ne)?"&":"?")+Jt.data,delete Jt.data),Jt.cache===!1&&(ne=ne.replace(ul,"$1"),Nn=(ds.test(ne)?"&":"?")+"_="+is.guid+++Nn),Jt.url=ne+Nn),Jt.ifModified&&(P.lastModified[ne]&&qr.setRequestHeader("If-Modified-Since",P.lastModified[ne]),P.etag[ne]&&qr.setRequestHeader("If-None-Match",P.etag[ne])),(Jt.data&&Jt.hasContent&&Jt.contentType!==!1||F.contentType)&&qr.setRequestHeader("Content-Type",Jt.contentType),qr.setRequestHeader("Accept",Jt.dataTypes[0]&&Jt.accepts[Jt.dataTypes[0]]?Jt.accepts[Jt.dataTypes[0]]+(Jt.dataTypes[0]!=="*"?", "+We+"; q=0.01":""):Jt.accepts["*"]);for(on in Jt.headers)qr.setRequestHeader(on,Jt.headers[on]);if(Jt.beforeSend&&(Jt.beforeSend.call(ho,qr,Jt)===!1||lt))return qr.abort();if(Cu="abort",Pr.add(Jt.complete),qr.done(Jt.success),qr.fail(Jt.error),G=kn(we,Jt,F,qr),!G)Rl(-1,"No Transport");else{if(qr.readyState=1,kt&&lr.trigger("ajaxSend",[qr,Jt]),lt)return qr;Jt.async&&Jt.timeout>0&&(Me=a.setTimeout(function(){qr.abort("timeout")},Jt.timeout));try{lt=!1,G.send(Pi,Rl)}catch(Yr){if(lt)throw Yr;Rl(-1,Yr)}}function Rl(Yr,Ir,mh,Wc){var Mc,ph,jc,Bu,ad,Zc=Ir;lt||(lt=!0,Me&&a.clearTimeout(Me),G=void 0,fe=Wc||"",qr.readyState=Yr>0?4:0,Mc=Yr>=200&&Yr<300||Yr===304,mh&&(Bu=_s(Jt,qr,mh)),!Mc&&P.inArray("script",Jt.dataTypes)>-1&&P.inArray("json",Jt.dataTypes)<0&&(Jt.converters["text script"]=function(){}),Bu=bs(Jt,Bu,qr,Mc),Mc?(Jt.ifModified&&(ad=qr.getResponseHeader("Last-Modified"),ad&&(P.lastModified[ne]=ad),ad=qr.getResponseHeader("etag"),ad&&(P.etag[ne]=ad)),Yr===204||Jt.type==="HEAD"?Zc="nocontent":Yr===304?Zc="notmodified":(Zc=Bu.state,ph=Bu.data,jc=Bu.error,Mc=!jc)):(jc=Zc,(Yr||!Zc)&&(Zc="error",Yr<0&&(Yr=0))),qr.status=Yr,qr.statusText=(Ir||Zc)+"",Mc?Qr.resolveWith(ho,[ph,Zc,qr]):Qr.rejectWith(ho,[qr,Zc,jc]),qr.statusCode(ol),ol=void 0,kt&&lr.trigger(Mc?"ajaxSuccess":"ajaxError",[qr,Jt,Mc?ph:jc]),Pr.fireWith(ho,[qr,Zc]),kt&&(lr.trigger("ajaxComplete",[qr,Jt]),--P.active||P.event.trigger("ajaxStop")))}return qr},getJSON:function(O,F,G){return P.get(O,F,G,"json")},getScript:function(O,F){return P.get(O,void 0,F,"script")}}),P.each(["get","post"],function(O,F){P[F]=function(G,ne,fe,ge){return Ee(ne)&&(ge=ge||fe,fe=ne,ne=void 0),P.ajax(P.extend({url:G,type:F,dataType:ge,data:ne,success:fe},P.isPlainObject(G)&&G))}}),P.ajaxPrefilter(function(O){var F;for(F in O.headers)F.toLowerCase()==="content-type"&&(O.contentType=O.headers[F]||"")}),P._evalUrl=function(O,F,G){return P.ajax({url:O,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ne){P.globalEval(ne,F,G)}})},P.fn.extend({wrapAll:function(O){var F;return this[0]&&(Ee(O)&&(O=O.call(this[0])),F=P(O,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&F.insertBefore(this[0]),F.map(function(){for(var G=this;G.firstElementChild;)G=G.firstElementChild;return G}).append(this)),this},wrapInner:function(O){return Ee(O)?this.each(function(F){P(this).wrapInner(O.call(this,F))}):this.each(function(){var F=P(this),G=F.contents();G.length?G.wrapAll(O):F.append(O)})},wrap:function(O){var F=Ee(O);return this.each(function(G){P(this).wrapAll(F?O.call(this,G):O)})},unwrap:function(O){return this.parent(O).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(O){return!P.expr.pseudos.visible(O)},P.expr.pseudos.visible=function(O){return!!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch{}};var ar={0:200,1223:204},ae=P.ajaxSettings.xhr();Le.cors=!!ae&&"withCredentials"in ae,Le.ajax=ae=!!ae,P.ajaxTransport(function(O){var F,G;if(Le.cors||ae&&!O.crossDomain)return{send:function(ne,fe){var ge,Me=O.xhr();if(Me.open(O.type,O.url,O.async,O.username,O.password),O.xhrFields)for(ge in O.xhrFields)Me[ge]=O.xhrFields[ge];O.mimeType&&Me.overrideMimeType&&Me.overrideMimeType(O.mimeType),!O.crossDomain&&!ne["X-Requested-With"]&&(ne["X-Requested-With"]="XMLHttpRequest");for(ge in ne)Me.setRequestHeader(ge,ne[ge]);F=function(pt){return function(){F&&(F=G=Me.onload=Me.onerror=Me.onabort=Me.ontimeout=Me.onreadystatechange=null,pt==="abort"?Me.abort():pt==="error"?typeof Me.status!="number"?fe(0,"error"):fe(Me.status,Me.statusText):fe(ar[Me.status]||Me.status,Me.statusText,(Me.responseType||"text")!=="text"||typeof Me.responseText!="string"?{binary:Me.response}:{text:Me.responseText},Me.getAllResponseHeaders()))}},Me.onload=F(),G=Me.onerror=Me.ontimeout=F("error"),Me.onabort!==void 0?Me.onabort=G:Me.onreadystatechange=function(){Me.readyState===4&&a.setTimeout(function(){F&&G()})},F=F("abort");try{Me.send(O.hasContent&&O.data||null)}catch(pt){if(F)throw pt}},abort:function(){F&&F()}}}),P.ajaxPrefilter(function(O){O.crossDomain&&(O.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(O){return P.globalEval(O),O}}}),P.ajaxPrefilter("script",function(O){O.cache===void 0&&(O.cache=!1),O.crossDomain&&(O.type="GET")}),P.ajaxTransport("script",function(O){if(O.crossDomain||O.scriptAttrs){var F,G;return{send:function(ne,fe){F=P("<script>").attr(O.scriptAttrs||{}).prop({charset:O.scriptCharset,src:O.url}).on("load error",G=function(ge){F.remove(),G=null,ge&&fe(ge.type==="error"?404:200,ge.type)}),at.head.appendChild(F[0])},abort:function(){G&&G()}}}});var Ae=[],Ye=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var O=Ae.pop()||P.expando+"_"+is.guid++;return this[O]=!0,O}}),P.ajaxPrefilter("json jsonp",function(O,F,G){var ne,fe,ge,Me=O.jsonp!==!1&&(Ye.test(O.url)?"url":typeof O.data=="string"&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ye.test(O.data)&&"data");if(Me||O.dataTypes[0]==="jsonp")return ne=O.jsonpCallback=Ee(O.jsonpCallback)?O.jsonpCallback():O.jsonpCallback,Me?O[Me]=O[Me].replace(Ye,"$1"+ne):O.jsonp!==!1&&(O.url+=(ds.test(O.url)?"&":"?")+O.jsonp+"="+ne),O.converters["script json"]=function(){return ge||P.error(ne+" was not called"),ge[0]},O.dataTypes[0]="json",fe=a[ne],a[ne]=function(){ge=arguments},G.always(function(){fe===void 0?P(a).removeProp(ne):a[ne]=fe,O[ne]&&(O.jsonpCallback=F.jsonpCallback,Ae.push(ne)),ge&&Ee(fe)&&fe(ge[0]),ge=fe=void 0}),"script"}),Le.createHTMLDocument=(function(){var O=at.implementation.createHTMLDocument("").body;return O.innerHTML="<form></form><form></form>",O.childNodes.length===2})(),P.parseHTML=function(O,F,G){if(typeof O!="string")return[];typeof F=="boolean"&&(G=F,F=!1);var ne,fe,ge;return F||(Le.createHTMLDocument?(F=at.implementation.createHTMLDocument(""),ne=F.createElement("base"),ne.href=at.location.href,F.head.appendChild(ne)):F=at),fe=us.exec(O),ge=!G&&[],fe?[F.createElement(fe[1])]:(fe=bl([O],F,ge),ge&&ge.length&&P(ge).remove(),P.merge([],fe.childNodes))},P.fn.load=function(O,F,G){var ne,fe,ge,Me=this,pt=O.indexOf(" ");return pt>-1&&(ne=Lt(O.slice(pt)),O=O.slice(0,pt)),Ee(F)?(G=F,F=void 0):F&&typeof F=="object"&&(fe="POST"),Me.length>0&&P.ajax({url:O,type:fe||"GET",dataType:"html",data:F}).done(function(lt){ge=arguments,Me.html(ne?P("<div>").append(P.parseHTML(lt)).find(ne):lt)}).always(G&&function(lt,kt){Me.each(function(){G.apply(this,ge||[lt.responseText,kt,lt])})}),this},P.expr.pseudos.animated=function(O){return P.grep(P.timers,function(F){return O===F.elem}).length},P.offset={setOffset:function(O,F,G){var ne,fe,ge,Me,pt,lt,kt,on=P.css(O,"position"),Nn=P(O),Jt={};on==="static"&&(O.style.position="relative"),pt=Nn.offset(),ge=P.css(O,"top"),lt=P.css(O,"left"),kt=(on==="absolute"||on==="fixed")&&(ge+lt).indexOf("auto")>-1,kt?(ne=Nn.position(),Me=ne.top,fe=ne.left):(Me=parseFloat(ge)||0,fe=parseFloat(lt)||0),Ee(F)&&(F=F.call(O,G,P.extend({},pt))),F.top!=null&&(Jt.top=F.top-pt.top+Me),F.left!=null&&(Jt.left=F.left-pt.left+fe),"using"in F?F.using.call(O,Jt):Nn.css(Jt)}},P.fn.extend({offset:function(O){if(arguments.length)return O===void 0?this:this.each(function(fe){P.offset.setOffset(this,O,fe)});var F,G,ne=this[0];if(ne)return ne.getClientRects().length?(F=ne.getBoundingClientRect(),G=ne.ownerDocument.defaultView,{top:F.top+G.pageYOffset,left:F.left+G.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var O,F,G,ne=this[0],fe={top:0,left:0};if(P.css(ne,"position")==="fixed")F=ne.getBoundingClientRect();else{for(F=this.offset(),G=ne.ownerDocument,O=ne.offsetParent||G.documentElement;O&&(O===G.body||O===G.documentElement)&&P.css(O,"position")==="static";)O=O.parentNode;O&&O!==ne&&O.nodeType===1&&(fe=P(O).offset(),fe.top+=P.css(O,"borderTopWidth",!0),fe.left+=P.css(O,"borderLeftWidth",!0))}return{top:F.top-fe.top-P.css(ne,"marginTop",!0),left:F.left-fe.left-P.css(ne,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var O=this.offsetParent;O&&P.css(O,"position")==="static";)O=O.offsetParent;return O||ro})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(O,F){var G=F==="pageYOffset";P.fn[O]=function(ne){return Un(this,function(fe,ge,Me){var pt;if(Ce(fe)?pt=fe:fe.nodeType===9&&(pt=fe.defaultView),Me===void 0)return pt?pt[F]:fe[ge];pt?pt.scrollTo(G?pt.pageXOffset:Me,G?Me:pt.pageYOffset):fe[ge]=Me},O,ne,arguments.length)}}),P.each(["top","left"],function(O,F){P.cssHooks[F]=gr(Le.pixelPosition,function(G,ne){if(ne)return ne=os(G,F),Rn.test(ne)?P(G).position()[F]+"px":ne})}),P.each({Height:"height",Width:"width"},function(O,F){P.each({padding:"inner"+O,content:F,"":"outer"+O},function(G,ne){P.fn[ne]=function(fe,ge){var Me=arguments.length&&(G||typeof fe!="boolean"),pt=G||(fe===!0||ge===!0?"margin":"border");return Un(this,function(lt,kt,on){var Nn;return Ce(lt)?ne.indexOf("outer")===0?lt["inner"+O]:lt.document.documentElement["client"+O]:lt.nodeType===9?(Nn=lt.documentElement,Math.max(lt.body["scroll"+O],Nn["scroll"+O],lt.body["offset"+O],Nn["offset"+O],Nn["client"+O])):on===void 0?P.css(lt,kt,pt):P.style(lt,kt,on,pt)},F,Me?fe:void 0,Me)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(O,F){P.fn[F]=function(G){return this.on(F,G)}}),P.fn.extend({bind:function(O,F,G){return this.on(O,null,F,G)},unbind:function(O,F){return this.off(O,null,F)},delegate:function(O,F,G,ne){return this.on(F,O,G,ne)},undelegate:function(O,F,G){return arguments.length===1?this.off(O,"**"):this.off(F,O||"**",G)},hover:function(O,F){return this.on("mouseenter",O).on("mouseleave",F||O)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(O,F){P.fn[F]=function(G,ne){return arguments.length>0?this.on(F,null,G,ne):this.trigger(F)}});var Ut=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(O,F){var G,ne,fe;if(typeof F=="string"&&(G=O[F],F=O,O=G),!!Ee(O))return ne=k.call(arguments,2),fe=function(){return O.apply(F||this,ne.concat(k.call(arguments)))},fe.guid=O.guid=O.guid||P.guid++,fe},P.holdReady=function(O){O?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=Ln,P.isFunction=Ee,P.isWindow=Ce,P.camelCase=rr,P.type=dt,P.now=Date.now,P.isNumeric=function(O){var F=P.type(O);return(F==="number"||F==="string")&&!isNaN(O-parseFloat(O))},P.trim=function(O){return O==null?"":(O+"").replace(Ut,"$1")};var co=a.jQuery,Is=a.$;return P.noConflict=function(O){return a.$===P&&(a.$=Is),O&&a.jQuery===P&&(a.jQuery=co),P},typeof d>"u"&&(a.jQuery=a.$=P),P})})(BV)),BV.exports}var qce=Zce();const aw=Tne(qce);var am="top",Jp="bottom",Qp="right",lm="left",pU="auto",TO=[am,Jp,Qp,lm],O_="start",pO="end",Gie="clippingParents",Ene="viewport",oO="popper",Kie="reference",ene=TO.reduce(function(r,a){return r.concat([a+"-"+O_,a+"-"+pO])},[]),kne=[].concat(TO,[pU]).reduce(function(r,a){return r.concat([a,a+"-"+O_,a+"-"+pO])},[]),Xie="beforeRead",Jie="read",Qie="afterRead",eae="beforeMain",tae="main",nae="afterMain",oae="beforeWrite",sae="write",rae="afterWrite",iae=[Xie,Jie,Qie,eae,tae,nae,oae,sae,rae];function U1(r){return r?(r.nodeName||"").toLowerCase():null}function eg(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var a=r.ownerDocument;return a&&a.defaultView||window}return r}function M_(r){var a=eg(r).Element;return r instanceof a||r instanceof Element}function nv(r){var a=eg(r).HTMLElement;return r instanceof a||r instanceof HTMLElement}function Dne(r){if(typeof ShadowRoot>"u")return!1;var a=eg(r).ShadowRoot;return r instanceof a||r instanceof ShadowRoot}function Yce(r){var a=r.state;Object.keys(a.elements).forEach(function(d){var g=a.styles[d]||{},C=a.attributes[d]||{},k=a.elements[d];!nv(k)||!U1(k)||(Object.assign(k.style,g),Object.keys(C).forEach(function(M){var H=C[M];H===!1?k.removeAttribute(M):k.setAttribute(M,H===!0?"":H)}))})}function Gce(r){var a=r.state,d={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,d.popper),a.styles=d,a.elements.arrow&&Object.assign(a.elements.arrow.style,d.arrow),function(){Object.keys(a.elements).forEach(function(g){var C=a.elements[g],k=a.attributes[g]||{},M=Object.keys(a.styles.hasOwnProperty(g)?a.styles[g]:d[g]),H=M.reduce(function(Y,V){return Y[V]="",Y},{});!nv(C)||!U1(C)||(Object.assign(C.style,H),Object.keys(k).forEach(function(Y){C.removeAttribute(Y)}))})}}const Ane={name:"applyStyles",enabled:!0,phase:"write",fn:Yce,effect:Gce,requires:["computeStyles"]};function V1(r){return r.split("-")[0]}var E_=Math.max,JV=Math.min,gO=Math.round;function tne(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function aae(){return!/^((?!chrome|android).)*safari/i.test(tne())}function vO(r,a,d){a===void 0&&(a=!1),d===void 0&&(d=!1);var g=r.getBoundingClientRect(),C=1,k=1;a&&nv(r)&&(C=r.offsetWidth>0&&gO(g.width)/r.offsetWidth||1,k=r.offsetHeight>0&&gO(g.height)/r.offsetHeight||1);var M=M_(r)?eg(r):window,H=M.visualViewport,Y=!aae()&&d,V=(g.left+(Y&&H?H.offsetLeft:0))/C,te=(g.top+(Y&&H?H.offsetTop:0))/k,Se=g.width/C,ye=g.height/k;return{width:Se,height:ye,top:te,right:V+Se,bottom:te+ye,left:V,x:V,y:te}}function One(r){var a=vO(r),d=r.offsetWidth,g=r.offsetHeight;return Math.abs(a.width-d)<=1&&(d=a.width),Math.abs(a.height-g)<=1&&(g=a.height),{x:r.offsetLeft,y:r.offsetTop,width:d,height:g}}function lae(r,a){var d=a.getRootNode&&a.getRootNode();if(r.contains(a))return!0;if(d&&Dne(d)){var g=a;do{if(g&&r.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function ow(r){return eg(r).getComputedStyle(r)}function Kce(r){return["table","td","th"].indexOf(U1(r))>=0}function HS(r){return((M_(r)?r.ownerDocument:r.document)||window.document).documentElement}function gU(r){return U1(r)==="html"?r:r.assignedSlot||r.parentNode||(Dne(r)?r.host:null)||HS(r)}function Vse(r){return!nv(r)||ow(r).position==="fixed"?null:r.offsetParent}function Xce(r){var a=/firefox/i.test(tne()),d=/Trident/i.test(tne());if(d&&nv(r)){var g=ow(r);if(g.position==="fixed")return null}var C=gU(r);for(Dne(C)&&(C=C.host);nv(C)&&["html","body"].indexOf(U1(C))<0;){var k=ow(C);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||a&&k.willChange==="filter"||a&&k.filter&&k.filter!=="none")return C;C=C.parentNode}return null}function JP(r){for(var a=eg(r),d=Vse(r);d&&Kce(d)&&ow(d).position==="static";)d=Vse(d);return d&&(U1(d)==="html"||U1(d)==="body"&&ow(d).position==="static")?a:d||Xce(r)||a}function Mne(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function zP(r,a,d){return E_(r,JV(a,d))}function Jce(r,a,d){var g=zP(r,a,d);return g>d?d:g}function cae(){return{top:0,right:0,bottom:0,left:0}}function uae(r){return Object.assign({},cae(),r)}function dae(r,a){return a.reduce(function(d,g){return d[g]=r,d},{})}var Qce=function(a,d){return a=typeof a=="function"?a(Object.assign({},d.rects,{placement:d.placement})):a,uae(typeof a!="number"?a:dae(a,TO))};function eue(r){var a,d=r.state,g=r.name,C=r.options,k=d.elements.arrow,M=d.modifiersData.popperOffsets,H=V1(d.placement),Y=Mne(H),V=[lm,Qp].indexOf(H)>=0,te=V?"height":"width";if(!(!k||!M)){var Se=Qce(C.padding,d),ye=One(k),je=Y==="y"?am:lm,Le=Y==="y"?Jp:Qp,Ee=d.rects.reference[te]+d.rects.reference[Y]-M[Y]-d.rects.popper[te],Ce=M[Y]-d.rects.reference[Y],at=JP(k),Je=at?Y==="y"?at.clientHeight||0:at.clientWidth||0:0,xe=Ee/2-Ce/2,dt=Se[je],Qt=Je-ye[te]-Se[Le],Et=Je/2-ye[te]/2+xe,P=zP(dt,Et,Qt),mn=Y;d.modifiersData[g]=(a={},a[mn]=P,a.centerOffset=P-Et,a)}}function tue(r){var a=r.state,d=r.options,g=d.element,C=g===void 0?"[data-popper-arrow]":g;C!=null&&(typeof C=="string"&&(C=a.elements.popper.querySelector(C),!C)||lae(a.elements.popper,C)&&(a.elements.arrow=C))}const fae={name:"arrow",enabled:!0,phase:"main",fn:eue,effect:tue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bO(r){return r.split("-")[1]}var nue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oue(r,a){var d=r.x,g=r.y,C=a.devicePixelRatio||1;return{x:gO(d*C)/C||0,y:gO(g*C)/C||0}}function Use(r){var a,d=r.popper,g=r.popperRect,C=r.placement,k=r.variation,M=r.offsets,H=r.position,Y=r.gpuAcceleration,V=r.adaptive,te=r.roundOffsets,Se=r.isFixed,ye=M.x,je=ye===void 0?0:ye,Le=M.y,Ee=Le===void 0?0:Le,Ce=typeof te=="function"?te({x:je,y:Ee}):{x:je,y:Ee};je=Ce.x,Ee=Ce.y;var at=M.hasOwnProperty("x"),Je=M.hasOwnProperty("y"),xe=lm,dt=am,Qt=window;if(V){var Et=JP(d),P="clientHeight",mn="clientWidth";if(Et===eg(d)&&(Et=HS(d),ow(Et).position!=="static"&&H==="absolute"&&(P="scrollHeight",mn="scrollWidth")),Et=Et,C===am||(C===lm||C===Qp)&&k===pO){dt=Jp;var Ln=Se&&Et===Qt&&Qt.visualViewport?Qt.visualViewport.height:Et[P];Ee-=Ln-g.height,Ee*=Y?1:-1}if(C===lm||(C===am||C===Jp)&&k===pO){xe=Qp;var ln=Se&&Et===Qt&&Qt.visualViewport?Qt.visualViewport.width:Et[mn];je-=ln-g.width,je*=Y?1:-1}}var et=Object.assign({position:H},V&&nue),Fe=te===!0?oue({x:je,y:Ee},eg(d)):{x:je,y:Ee};if(je=Fe.x,Ee=Fe.y,Y){var En;return Object.assign({},et,(En={},En[dt]=Je?"0":"",En[xe]=at?"0":"",En.transform=(Qt.devicePixelRatio||1)<=1?"translate("+je+"px, "+Ee+"px)":"translate3d("+je+"px, "+Ee+"px, 0)",En))}return Object.assign({},et,(a={},a[dt]=Je?Ee+"px":"",a[xe]=at?je+"px":"",a.transform="",a))}function sue(r){var a=r.state,d=r.options,g=d.gpuAcceleration,C=g===void 0?!0:g,k=d.adaptive,M=k===void 0?!0:k,H=d.roundOffsets,Y=H===void 0?!0:H,V={placement:V1(a.placement),variation:bO(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:C,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,Use(Object.assign({},V,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:M,roundOffsets:Y})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,Use(Object.assign({},V,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Y})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const Nne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sue,data:{}};var EV={passive:!0};function rue(r){var a=r.state,d=r.instance,g=r.options,C=g.scroll,k=C===void 0?!0:C,M=g.resize,H=M===void 0?!0:M,Y=eg(a.elements.popper),V=[].concat(a.scrollParents.reference,a.scrollParents.popper);return k&&V.forEach(function(te){te.addEventListener("scroll",d.update,EV)}),H&&Y.addEventListener("resize",d.update,EV),function(){k&&V.forEach(function(te){te.removeEventListener("scroll",d.update,EV)}),H&&Y.removeEventListener("resize",d.update,EV)}}const Rne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rue,data:{}};var iue={left:"right",right:"left",bottom:"top",top:"bottom"};function $V(r){return r.replace(/left|right|bottom|top/g,function(a){return iue[a]})}var aue={start:"end",end:"start"};function Wse(r){return r.replace(/start|end/g,function(a){return aue[a]})}function Lne(r){var a=eg(r),d=a.pageXOffset,g=a.pageYOffset;return{scrollLeft:d,scrollTop:g}}function Pne(r){return vO(HS(r)).left+Lne(r).scrollLeft}function lue(r,a){var d=eg(r),g=HS(r),C=d.visualViewport,k=g.clientWidth,M=g.clientHeight,H=0,Y=0;if(C){k=C.width,M=C.height;var V=aae();(V||!V&&a==="fixed")&&(H=C.offsetLeft,Y=C.offsetTop)}return{width:k,height:M,x:H+Pne(r),y:Y}}function cue(r){var a,d=HS(r),g=Lne(r),C=(a=r.ownerDocument)==null?void 0:a.body,k=E_(d.scrollWidth,d.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),M=E_(d.scrollHeight,d.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),H=-g.scrollLeft+Pne(r),Y=-g.scrollTop;return ow(C||d).direction==="rtl"&&(H+=E_(d.clientWidth,C?C.clientWidth:0)-k),{width:k,height:M,x:H,y:Y}}function Ine(r){var a=ow(r),d=a.overflow,g=a.overflowX,C=a.overflowY;return/auto|scroll|overlay|hidden/.test(d+C+g)}function hae(r){return["html","body","#document"].indexOf(U1(r))>=0?r.ownerDocument.body:nv(r)&&Ine(r)?r:hae(gU(r))}function VP(r,a){var d;a===void 0&&(a=[]);var g=hae(r),C=g===((d=r.ownerDocument)==null?void 0:d.body),k=eg(g),M=C?[k].concat(k.visualViewport||[],Ine(g)?g:[]):g,H=a.concat(M);return C?H:H.concat(VP(gU(M)))}function nne(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function uue(r,a){var d=vO(r,!1,a==="fixed");return d.top=d.top+r.clientTop,d.left=d.left+r.clientLeft,d.bottom=d.top+r.clientHeight,d.right=d.left+r.clientWidth,d.width=r.clientWidth,d.height=r.clientHeight,d.x=d.left,d.y=d.top,d}function jse(r,a,d){return a===Ene?nne(lue(r,d)):M_(a)?uue(a,d):nne(cue(HS(r)))}function due(r){var a=VP(gU(r)),d=["absolute","fixed"].indexOf(ow(r).position)>=0,g=d&&nv(r)?JP(r):r;return M_(g)?a.filter(function(C){return M_(C)&&lae(C,g)&&U1(C)!=="body"}):[]}function fue(r,a,d,g){var C=a==="clippingParents"?due(r):[].concat(a),k=[].concat(C,[d]),M=k[0],H=k.reduce(function(Y,V){var te=jse(r,V,g);return Y.top=E_(te.top,Y.top),Y.right=JV(te.right,Y.right),Y.bottom=JV(te.bottom,Y.bottom),Y.left=E_(te.left,Y.left),Y},jse(r,M,g));return H.width=H.right-H.left,H.height=H.bottom-H.top,H.x=H.left,H.y=H.top,H}function mae(r){var a=r.reference,d=r.element,g=r.placement,C=g?V1(g):null,k=g?bO(g):null,M=a.x+a.width/2-d.width/2,H=a.y+a.height/2-d.height/2,Y;switch(C){case am:Y={x:M,y:a.y-d.height};break;case Jp:Y={x:M,y:a.y+a.height};break;case Qp:Y={x:a.x+a.width,y:H};break;case lm:Y={x:a.x-d.width,y:H};break;default:Y={x:a.x,y:a.y}}var V=C?Mne(C):null;if(V!=null){var te=V==="y"?"height":"width";switch(k){case O_:Y[V]=Y[V]-(a[te]/2-d[te]/2);break;case pO:Y[V]=Y[V]+(a[te]/2-d[te]/2);break}}return Y}function yO(r,a){a===void 0&&(a={});var d=a,g=d.placement,C=g===void 0?r.placement:g,k=d.strategy,M=k===void 0?r.strategy:k,H=d.boundary,Y=H===void 0?Gie:H,V=d.rootBoundary,te=V===void 0?Ene:V,Se=d.elementContext,ye=Se===void 0?oO:Se,je=d.altBoundary,Le=je===void 0?!1:je,Ee=d.padding,Ce=Ee===void 0?0:Ee,at=uae(typeof Ce!="number"?Ce:dae(Ce,TO)),Je=ye===oO?Kie:oO,xe=r.rects.popper,dt=r.elements[Le?Je:ye],Qt=fue(M_(dt)?dt:dt.contextElement||HS(r.elements.popper),Y,te,M),Et=vO(r.elements.reference),P=mae({reference:Et,element:xe,placement:C}),mn=nne(Object.assign({},xe,P)),Ln=ye===oO?mn:Et,ln={top:Qt.top-Ln.top+at.top,bottom:Ln.bottom-Qt.bottom+at.bottom,left:Qt.left-Ln.left+at.left,right:Ln.right-Qt.right+at.right},et=r.modifiersData.offset;if(ye===oO&&et){var Fe=et[C];Object.keys(ln).forEach(function(En){var wn=[Qp,Jp].indexOf(En)>=0?1:-1,Ze=[am,Jp].indexOf(En)>=0?"y":"x";ln[En]+=Fe[Ze]*wn})}return ln}function hue(r,a){a===void 0&&(a={});var d=a,g=d.placement,C=d.boundary,k=d.rootBoundary,M=d.padding,H=d.flipVariations,Y=d.allowedAutoPlacements,V=Y===void 0?kne:Y,te=bO(g),Se=te?H?ene:ene.filter(function(Le){return bO(Le)===te}):TO,ye=Se.filter(function(Le){return V.indexOf(Le)>=0});ye.length===0&&(ye=Se);var je=ye.reduce(function(Le,Ee){return Le[Ee]=yO(r,{placement:Ee,boundary:C,rootBoundary:k,padding:M})[V1(Ee)],Le},{});return Object.keys(je).sort(function(Le,Ee){return je[Le]-je[Ee]})}function mue(r){if(V1(r)===pU)return[];var a=$V(r);return[Wse(r),a,Wse(a)]}function pue(r){var a=r.state,d=r.options,g=r.name;if(!a.modifiersData[g]._skip){for(var C=d.mainAxis,k=C===void 0?!0:C,M=d.altAxis,H=M===void 0?!0:M,Y=d.fallbackPlacements,V=d.padding,te=d.boundary,Se=d.rootBoundary,ye=d.altBoundary,je=d.flipVariations,Le=je===void 0?!0:je,Ee=d.allowedAutoPlacements,Ce=a.options.placement,at=V1(Ce),Je=at===Ce,xe=Y||(Je||!Le?[$V(Ce)]:mue(Ce)),dt=[Ce].concat(xe).reduce(function(Oo,Ds){return Oo.concat(V1(Ds)===pU?hue(a,{placement:Ds,boundary:te,rootBoundary:Se,padding:V,flipVariations:Le,allowedAutoPlacements:Ee}):Ds)},[]),Qt=a.rects.reference,Et=a.rects.popper,P=new Map,mn=!0,Ln=dt[0],ln=0;ln<dt.length;ln++){var et=dt[ln],Fe=V1(et),En=bO(et)===O_,wn=[am,Jp].indexOf(Fe)>=0,Ze=wn?"width":"height",U=yO(a,{placement:et,boundary:te,rootBoundary:Se,altBoundary:ye,padding:V}),en=wn?En?Qp:lm:En?Jp:am;Qt[Ze]>Et[Ze]&&(en=$V(en));var xt=$V(en),Eo=[];if(k&&Eo.push(U[Fe]<=0),H&&Eo.push(U[en]<=0,U[xt]<=0),Eo.every(function(Oo){return Oo})){Ln=et,mn=!1;break}P.set(et,Eo)}if(mn)for(var eo=Le?3:1,qt=function(Ds){var Yt=dt.find(function(yt){var le=P.get(yt);if(le)return le.slice(0,Ds).every(function(hi){return hi})});if(Yt)return Ln=Yt,"break"},us=eo;us>0;us--){var Er=qt(us);if(Er==="break")break}a.placement!==Ln&&(a.modifiersData[g]._skip=!0,a.placement=Ln,a.reset=!0)}}const pae={name:"flip",enabled:!0,phase:"main",fn:pue,requiresIfExists:["offset"],data:{_skip:!1}};function Zse(r,a,d){return d===void 0&&(d={x:0,y:0}),{top:r.top-a.height-d.y,right:r.right-a.width+d.x,bottom:r.bottom-a.height+d.y,left:r.left-a.width-d.x}}function qse(r){return[am,Qp,Jp,lm].some(function(a){return r[a]>=0})}function gue(r){var a=r.state,d=r.name,g=a.rects.reference,C=a.rects.popper,k=a.modifiersData.preventOverflow,M=yO(a,{elementContext:"reference"}),H=yO(a,{altBoundary:!0}),Y=Zse(M,g),V=Zse(H,C,k),te=qse(Y),Se=qse(V);a.modifiersData[d]={referenceClippingOffsets:Y,popperEscapeOffsets:V,isReferenceHidden:te,hasPopperEscaped:Se},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":te,"data-popper-escaped":Se})}const gae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gue};function vue(r,a,d){var g=V1(r),C=[lm,am].indexOf(g)>=0?-1:1,k=typeof d=="function"?d(Object.assign({},a,{placement:r})):d,M=k[0],H=k[1];return M=M||0,H=(H||0)*C,[lm,Qp].indexOf(g)>=0?{x:H,y:M}:{x:M,y:H}}function bue(r){var a=r.state,d=r.options,g=r.name,C=d.offset,k=C===void 0?[0,0]:C,M=kne.reduce(function(te,Se){return te[Se]=vue(Se,a.rects,k),te},{}),H=M[a.placement],Y=H.x,V=H.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=Y,a.modifiersData.popperOffsets.y+=V),a.modifiersData[g]=M}const vae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bue};function yue(r){var a=r.state,d=r.name;a.modifiersData[d]=mae({reference:a.rects.reference,element:a.rects.popper,placement:a.placement})}const Fne={name:"popperOffsets",enabled:!0,phase:"read",fn:yue,data:{}};function wue(r){return r==="x"?"y":"x"}function Cue(r){var a=r.state,d=r.options,g=r.name,C=d.mainAxis,k=C===void 0?!0:C,M=d.altAxis,H=M===void 0?!1:M,Y=d.boundary,V=d.rootBoundary,te=d.altBoundary,Se=d.padding,ye=d.tether,je=ye===void 0?!0:ye,Le=d.tetherOffset,Ee=Le===void 0?0:Le,Ce=yO(a,{boundary:Y,rootBoundary:V,padding:Se,altBoundary:te}),at=V1(a.placement),Je=bO(a.placement),xe=!Je,dt=Mne(at),Qt=wue(dt),Et=a.modifiersData.popperOffsets,P=a.rects.reference,mn=a.rects.popper,Ln=typeof Ee=="function"?Ee(Object.assign({},a.rects,{placement:a.placement})):Ee,ln=typeof Ln=="number"?{mainAxis:Ln,altAxis:Ln}:Object.assign({mainAxis:0,altAxis:0},Ln),et=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,Fe={x:0,y:0};if(Et){if(k){var En,wn=dt==="y"?am:lm,Ze=dt==="y"?Jp:Qp,U=dt==="y"?"height":"width",en=Et[dt],xt=en+Ce[wn],Eo=en-Ce[Ze],eo=je?-mn[U]/2:0,qt=Je===O_?P[U]:mn[U],us=Je===O_?-mn[U]:-P[U],Er=a.elements.arrow,Oo=je&&Er?One(Er):{width:0,height:0},Ds=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:cae(),Yt=Ds[wn],yt=Ds[Ze],le=zP(0,P[U],Oo[U]),hi=xe?P[U]/2-eo-le-Yt-ln.mainAxis:qt-le-Yt-ln.mainAxis,fs=xe?-P[U]/2+eo+le+yt+ln.mainAxis:us+le+yt+ln.mainAxis,ns=a.elements.arrow&&JP(a.elements.arrow),js=ns?dt==="y"?ns.clientTop||0:ns.clientLeft||0:0,Vr=(En=et?.[dt])!=null?En:0,fo=en+hi-Vr-js,Ws=en+fs-Vr,In=zP(je?JV(xt,fo):xt,en,je?E_(Eo,Ws):Eo);Et[dt]=In,Fe[dt]=In-en}if(H){var vt,Un=dt==="x"?am:lm,Ns=dt==="x"?Jp:Qp,At=Et[Qt],Bs=Qt==="y"?"height":"width",rr=At+Ce[Un],ir=At-Ce[Ns],Gs=[am,lm].indexOf(at)!==-1,Vn=(vt=et?.[Qt])!=null?vt:0,Vt=Gs?rr:At-P[Bs]-mn[Bs]-Vn+ln.altAxis,J=Gs?At+P[Bs]+mn[Bs]-Vn-ln.altAxis:ir,de=je&&Gs?Jce(Vt,At,J):zP(je?Vt:rr,At,je?J:ir);Et[Qt]=de,Fe[Qt]=de-At}a.modifiersData[g]=Fe}}const bae={name:"preventOverflow",enabled:!0,phase:"main",fn:Cue,requiresIfExists:["offset"]};function Sue(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function xue(r){return r===eg(r)||!nv(r)?Lne(r):Sue(r)}function _ue(r){var a=r.getBoundingClientRect(),d=gO(a.width)/r.offsetWidth||1,g=gO(a.height)/r.offsetHeight||1;return d!==1||g!==1}function Tue(r,a,d){d===void 0&&(d=!1);var g=nv(a),C=nv(a)&&_ue(a),k=HS(a),M=vO(r,C,d),H={scrollLeft:0,scrollTop:0},Y={x:0,y:0};return(g||!g&&!d)&&((U1(a)!=="body"||Ine(k))&&(H=xue(a)),nv(a)?(Y=vO(a,!0),Y.x+=a.clientLeft,Y.y+=a.clientTop):k&&(Y.x=Pne(k))),{x:M.left+H.scrollLeft-Y.x,y:M.top+H.scrollTop-Y.y,width:M.width,height:M.height}}function Eue(r){var a=new Map,d=new Set,g=[];r.forEach(function(k){a.set(k.name,k)});function C(k){d.add(k.name);var M=[].concat(k.requires||[],k.requiresIfExists||[]);M.forEach(function(H){if(!d.has(H)){var Y=a.get(H);Y&&C(Y)}}),g.push(k)}return r.forEach(function(k){d.has(k.name)||C(k)}),g}function kue(r){var a=Eue(r);return iae.reduce(function(d,g){return d.concat(a.filter(function(C){return C.phase===g}))},[])}function Due(r){var a;return function(){return a||(a=new Promise(function(d){Promise.resolve().then(function(){a=void 0,d(r())})})),a}}function Aue(r){var a=r.reduce(function(d,g){var C=d[g.name];return d[g.name]=C?Object.assign({},C,g,{options:Object.assign({},C.options,g.options),data:Object.assign({},C.data,g.data)}):g,d},{});return Object.keys(a).map(function(d){return a[d]})}var Yse={placement:"bottom",modifiers:[],strategy:"absolute"};function Gse(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return!a.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function vU(r){r===void 0&&(r={});var a=r,d=a.defaultModifiers,g=d===void 0?[]:d,C=a.defaultOptions,k=C===void 0?Yse:C;return function(H,Y,V){V===void 0&&(V=k);var te={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yse,k),modifiersData:{},elements:{reference:H,popper:Y},attributes:{},styles:{}},Se=[],ye=!1,je={state:te,setOptions:function(at){var Je=typeof at=="function"?at(te.options):at;Ee(),te.options=Object.assign({},k,te.options,Je),te.scrollParents={reference:M_(H)?VP(H):H.contextElement?VP(H.contextElement):[],popper:VP(Y)};var xe=kue(Aue([].concat(g,te.options.modifiers)));return te.orderedModifiers=xe.filter(function(dt){return dt.enabled}),Le(),je.update()},forceUpdate:function(){if(!ye){var at=te.elements,Je=at.reference,xe=at.popper;if(Gse(Je,xe)){te.rects={reference:Tue(Je,JP(xe),te.options.strategy==="fixed"),popper:One(xe)},te.reset=!1,te.placement=te.options.placement,te.orderedModifiers.forEach(function(ln){return te.modifiersData[ln.name]=Object.assign({},ln.data)});for(var dt=0;dt<te.orderedModifiers.length;dt++){if(te.reset===!0){te.reset=!1,dt=-1;continue}var Qt=te.orderedModifiers[dt],Et=Qt.fn,P=Qt.options,mn=P===void 0?{}:P,Ln=Qt.name;typeof Et=="function"&&(te=Et({state:te,options:mn,name:Ln,instance:je})||te)}}}},update:Due(function(){return new Promise(function(Ce){je.forceUpdate(),Ce(te)})}),destroy:function(){Ee(),ye=!0}};if(!Gse(H,Y))return je;je.setOptions(V).then(function(Ce){!ye&&V.onFirstUpdate&&V.onFirstUpdate(Ce)});function Le(){te.orderedModifiers.forEach(function(Ce){var at=Ce.name,Je=Ce.options,xe=Je===void 0?{}:Je,dt=Ce.effect;if(typeof dt=="function"){var Qt=dt({state:te,name:at,instance:je,options:xe}),Et=function(){};Se.push(Qt||Et)}})}function Ee(){Se.forEach(function(Ce){return Ce()}),Se=[]}return je}}var Oue=vU(),Mue=[Rne,Fne,Nne,Ane],Nue=vU({defaultModifiers:Mue}),Rue=[Rne,Fne,Nne,Ane,vae,pae,bae,fae,gae],Bne=vU({defaultModifiers:Rue});const $ne=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nae,afterRead:Qie,afterWrite:rae,applyStyles:Ane,arrow:fae,auto:pU,basePlacements:TO,beforeMain:eae,beforeRead:Xie,beforeWrite:oae,bottom:Jp,clippingParents:Gie,computeStyles:Nne,createPopper:Bne,createPopperBase:Oue,createPopperLite:Nue,detectOverflow:yO,end:pO,eventListeners:Rne,flip:pae,hide:gae,left:lm,main:tae,modifierPhases:iae,offset:vae,placements:kne,popper:oO,popperGenerator:vU,popperOffsets:Fne,preventOverflow:bae,read:Jie,reference:Kie,right:Qp,start:O_,top:am,variationPlacements:ene,viewport:Ene,write:sae},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const AS=new Map,Cte={set(r,a,d){AS.has(r)||AS.set(r,new Map);const g=AS.get(r);if(!g.has(a)&&g.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`);return}g.set(a,d)},get(r,a){return AS.has(r)&&AS.get(r).get(a)||null},remove(r,a){if(!AS.has(r))return;const d=AS.get(r);d.delete(a),d.size===0&&AS.delete(r)}},Lue=1e6,Pue=1e3,one="transitionend",yae=r=>(r&&window.CSS&&window.CSS.escape&&(r=r.replace(/#([^\s"#']+)/g,(a,d)=>`#${CSS.escape(d)}`)),r),Iue=r=>r==null?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),Fue=r=>{do r+=Math.floor(Math.random()*Lue);while(document.getElementById(r));return r},Bue=r=>{if(!r)return 0;let{transitionDuration:a,transitionDelay:d}=window.getComputedStyle(r);const g=Number.parseFloat(a),C=Number.parseFloat(d);return!g&&!C?0:(a=a.split(",")[0],d=d.split(",")[0],(Number.parseFloat(a)+Number.parseFloat(d))*Pue)},wae=r=>{r.dispatchEvent(new Event(one))},Qy=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),BS=r=>Qy(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(yae(r)):null,EO=r=>{if(!Qy(r)||r.getClientRects().length===0)return!1;const a=getComputedStyle(r).getPropertyValue("visibility")==="visible",d=r.closest("details:not([open])");if(!d)return a;if(d!==r){const g=r.closest("summary");if(g&&g.parentNode!==d||g===null)return!1}return a},$S=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",Cae=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){const a=r.getRootNode();return a instanceof ShadowRoot?a:null}return r instanceof ShadowRoot?r:r.parentNode?Cae(r.parentNode):null},QV=()=>{},QP=r=>{r.offsetHeight},Sae=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ste=[],$ue=r=>{document.readyState==="loading"?(Ste.length||document.addEventListener("DOMContentLoaded",()=>{for(const a of Ste)a()}),Ste.push(r)):r()},ov=()=>document.documentElement.dir==="rtl",rv=r=>{$ue(()=>{const a=Sae();if(a){const d=r.NAME,g=a.fn[d];a.fn[d]=r.jQueryInterface,a.fn[d].Constructor=r,a.fn[d].noConflict=()=>(a.fn[d]=g,r.jQueryInterface)}})},up=(r,a=[],d=r)=>typeof r=="function"?r.call(...a):d,xae=(r,a,d=!0)=>{if(!d){up(r);return}const C=Bue(a)+5;let k=!1;const M=({target:H})=>{H===a&&(k=!0,a.removeEventListener(one,M),up(r))};a.addEventListener(one,M),setTimeout(()=>{k||wae(a)},C)},Hne=(r,a,d,g)=>{const C=r.length;let k=r.indexOf(a);return k===-1?!d&&g?r[C-1]:r[0]:(k+=d?1:-1,g&&(k=(k+C)%C),r[Math.max(0,Math.min(k,C-1))])},Hue=/[^.]*(?=\..*)\.|.*/,zue=/\..*/,Vue=/::\d+$/,xte={};let Kse=1;const _ae={mouseenter:"mouseover",mouseleave:"mouseout"},Uue=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Tae(r,a){return a&&`${a}::${Kse++}`||r.uidEvent||Kse++}function Eae(r){const a=Tae(r);return r.uidEvent=a,xte[a]=xte[a]||{},xte[a]}function Wue(r,a){return function d(g){return zne(g,{delegateTarget:r}),d.oneOff&&To.off(r,g.type,a),a.apply(r,[g])}}function jue(r,a,d){return function g(C){const k=r.querySelectorAll(a);for(let{target:M}=C;M&&M!==this;M=M.parentNode)for(const H of k)if(H===M)return zne(C,{delegateTarget:M}),g.oneOff&&To.off(r,C.type,a,d),d.apply(M,[C])}}function kae(r,a,d=null){return Object.values(r).find(g=>g.callable===a&&g.delegationSelector===d)}function Dae(r,a,d){const g=typeof a=="string",C=g?d:a||d;let k=Aae(r);return Uue.has(k)||(k=r),[g,C,k]}function Xse(r,a,d,g,C){if(typeof a!="string"||!r)return;let[k,M,H]=Dae(a,d,g);a in _ae&&(M=(Le=>function(Ee){if(!Ee.relatedTarget||Ee.relatedTarget!==Ee.delegateTarget&&!Ee.delegateTarget.contains(Ee.relatedTarget))return Le.call(this,Ee)})(M));const Y=Eae(r),V=Y[H]||(Y[H]={}),te=kae(V,M,k?d:null);if(te){te.oneOff=te.oneOff&&C;return}const Se=Tae(M,a.replace(Hue,"")),ye=k?jue(r,d,M):Wue(r,M);ye.delegationSelector=k?d:null,ye.callable=M,ye.oneOff=C,ye.uidEvent=Se,V[Se]=ye,r.addEventListener(H,ye,k)}function sne(r,a,d,g,C){const k=kae(a[d],g,C);k&&(r.removeEventListener(d,k,!!C),delete a[d][k.uidEvent])}function Zue(r,a,d,g){const C=a[d]||{};for(const[k,M]of Object.entries(C))k.includes(g)&&sne(r,a,d,M.callable,M.delegationSelector)}function Aae(r){return r=r.replace(zue,""),_ae[r]||r}const To={on(r,a,d,g){Xse(r,a,d,g,!1)},one(r,a,d,g){Xse(r,a,d,g,!0)},off(r,a,d,g){if(typeof a!="string"||!r)return;const[C,k,M]=Dae(a,d,g),H=M!==a,Y=Eae(r),V=Y[M]||{},te=a.startsWith(".");if(typeof k<"u"){if(!Object.keys(V).length)return;sne(r,Y,M,k,C?d:null);return}if(te)for(const Se of Object.keys(Y))Zue(r,Y,Se,a.slice(1));for(const[Se,ye]of Object.entries(V)){const je=Se.replace(Vue,"");(!H||a.includes(je))&&sne(r,Y,M,ye.callable,ye.delegationSelector)}},trigger(r,a,d){if(typeof a!="string"||!r)return null;const g=Sae(),C=Aae(a),k=a!==C;let M=null,H=!0,Y=!0,V=!1;k&&g&&(M=g.Event(a,d),g(r).trigger(M),H=!M.isPropagationStopped(),Y=!M.isImmediatePropagationStopped(),V=M.isDefaultPrevented());const te=zne(new Event(a,{bubbles:H,cancelable:!0}),d);return V&&te.preventDefault(),Y&&r.dispatchEvent(te),te.defaultPrevented&&M&&M.preventDefault(),te}};function zne(r,a={}){for(const[d,g]of Object.entries(a))try{r[d]=g}catch{Object.defineProperty(r,d,{configurable:!0,get(){return g}})}return r}function Jse(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function _te(r){return r.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const ew={setDataAttribute(r,a,d){r.setAttribute(`data-bs-${_te(a)}`,d)},removeDataAttribute(r,a){r.removeAttribute(`data-bs-${_te(a)}`)},getDataAttributes(r){if(!r)return{};const a={},d=Object.keys(r.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of d){let C=g.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1),a[C]=Jse(r.dataset[g])}return a},getDataAttribute(r,a){return Jse(r.getAttribute(`data-bs-${_te(a)}`))}};class eI{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,d){const g=Qy(d)?ew.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...Qy(d)?ew.getDataAttributes(d):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,d=this.constructor.DefaultType){for(const[g,C]of Object.entries(d)){const k=a[g],M=Qy(k)?"element":Iue(k);if(!new RegExp(C).test(M))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${M}" but expected type "${C}".`)}}}const que="5.3.8";class Db extends eI{constructor(a,d){super(),a=BS(a),a&&(this._element=a,this._config=this._getConfig(d),Cte.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cte.remove(this._element,this.constructor.DATA_KEY),To.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,d,g=!0){xae(a,d,g)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return Cte.get(BS(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return que}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const Tte=r=>{let a=r.getAttribute("data-bs-target");if(!a||a==="#"){let d=r.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),a=d&&d!=="#"?d.trim():null}return a?a.split(",").map(d=>yae(d)).join(","):null},Nr={find(r,a=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(a,r))},findOne(r,a=document.documentElement){return Element.prototype.querySelector.call(a,r)},children(r,a){return[].concat(...r.children).filter(d=>d.matches(a))},parents(r,a){const d=[];let g=r.parentNode.closest(a);for(;g;)d.push(g),g=g.parentNode.closest(a);return d},prev(r,a){let d=r.previousElementSibling;for(;d;){if(d.matches(a))return[d];d=d.previousElementSibling}return[]},next(r,a){let d=r.nextElementSibling;for(;d;){if(d.matches(a))return[d];d=d.nextElementSibling}return[]},focusableChildren(r){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(a,r).filter(d=>!$S(d)&&EO(d))},getSelectorFromElement(r){const a=Tte(r);return a&&Nr.findOne(a)?a:null},getElementFromSelector(r){const a=Tte(r);return a?Nr.findOne(a):null},getMultipleElementsFromSelector(r){const a=Tte(r);return a?Nr.find(a):[]}},bU=(r,a="hide")=>{const d=`click.dismiss${r.EVENT_KEY}`,g=r.NAME;To.on(document,d,`[data-bs-dismiss="${g}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),$S(this))return;const k=Nr.getElementFromSelector(this)||this.closest(`.${g}`);r.getOrCreateInstance(k)[a]()})},Yue="alert",Gue="bs.alert",Oae=`.${Gue}`,Kue=`close${Oae}`,Xue=`closed${Oae}`,Jue="fade",Que="show";class tI extends Db{static get NAME(){return Yue}close(){if(To.trigger(this._element,Kue).defaultPrevented)return;this._element.classList.remove(Que);const d=this._element.classList.contains(Jue);this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),To.trigger(this._element,Xue),this.dispose()}static jQueryInterface(a){return this.each(function(){const d=tI.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}bU(tI,"close");rv(tI);const ede="button",tde="bs.button",nde=`.${tde}`,ode=".data-api",sde="active",Qse='[data-bs-toggle="button"]',rde=`click${nde}${ode}`;class nI extends Db{static get NAME(){return ede}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(sde))}static jQueryInterface(a){return this.each(function(){const d=nI.getOrCreateInstance(this);a==="toggle"&&d[a]()})}}To.on(document,rde,Qse,r=>{r.preventDefault();const a=r.target.closest(Qse);nI.getOrCreateInstance(a).toggle()});rv(nI);const ide="swipe",kO=".bs.swipe",ade=`touchstart${kO}`,lde=`touchmove${kO}`,cde=`touchend${kO}`,ude=`pointerdown${kO}`,dde=`pointerup${kO}`,fde="touch",hde="pen",mde="pointer-event",pde=40,gde={endCallback:null,leftCallback:null,rightCallback:null},vde={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class eU extends eI{constructor(a,d){super(),this._element=a,!(!a||!eU.isSupported())&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return gde}static get DefaultType(){return vde}static get NAME(){return ide}dispose(){To.off(this._element,kO)}_start(a){if(!this._supportPointerEvents){this._deltaX=a.touches[0].clientX;return}this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX)}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),up(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=pde)return;const d=a/this._deltaX;this._deltaX=0,d&&up(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(To.on(this._element,ude,a=>this._start(a)),To.on(this._element,dde,a=>this._end(a)),this._element.classList.add(mde)):(To.on(this._element,ade,a=>this._start(a)),To.on(this._element,lde,a=>this._move(a)),To.on(this._element,cde,a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType===hde||a.pointerType===fde)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const bde="carousel",yde="bs.carousel",zS=`.${yde}`,Mae=".data-api",wde="ArrowLeft",Cde="ArrowRight",Sde=500,NP="next",QA="prev",sO="left",HV="right",xde=`slide${zS}`,Ete=`slid${zS}`,_de=`keydown${zS}`,Tde=`mouseenter${zS}`,Ede=`mouseleave${zS}`,kde=`dragstart${zS}`,Dde=`load${zS}${Mae}`,Ade=`click${zS}${Mae}`,Nae="carousel",kV="active",Ode="slide",Mde="carousel-item-end",Nde="carousel-item-start",Rde="carousel-item-next",Lde="carousel-item-prev",Rae=".active",Lae=".carousel-item",Pde=Rae+Lae,Ide=".carousel-item img",Fde=".carousel-indicators",Bde="[data-bs-slide], [data-bs-slide-to]",$de='[data-bs-ride="carousel"]',Hde={[wde]:HV,[Cde]:sO},zde={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Vde={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class DO extends Db{constructor(a,d){super(a,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Nr.findOne(Fde,this._element),this._addEventListeners(),this._config.ride===Nae&&this.cycle()}static get Default(){return zde}static get DefaultType(){return Vde}static get NAME(){return bde}next(){this._slide(NP)}nextWhenVisible(){!document.hidden&&EO(this._element)&&this.next()}prev(){this._slide(QA)}pause(){this._isSliding&&wae(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){To.one(this._element,Ete,()=>this.cycle());return}this.cycle()}}to(a){const d=this._getItems();if(a>d.length-1||a<0)return;if(this._isSliding){To.one(this._element,Ete,()=>this.to(a));return}const g=this._getItemIndex(this._getActive());if(g===a)return;const C=a>g?NP:QA;this._slide(C,d[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&To.on(this._element,_de,a=>this._keydown(a)),this._config.pause==="hover"&&(To.on(this._element,Tde,()=>this.pause()),To.on(this._element,Ede,()=>this._maybeEnableCycle())),this._config.touch&&eU.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Nr.find(Ide,this._element))To.on(g,kde,C=>C.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(sO)),rightCallback:()=>this._slide(this._directionToOrder(HV)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Sde+this._config.interval))}};this._swipeHelper=new eU(this._element,d)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const d=Hde[a.key];d&&(a.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const d=Nr.findOne(Rae,this._indicatorsElement);d.classList.remove(kV),d.removeAttribute("aria-current");const g=Nr.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);g&&(g.classList.add(kV),g.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const d=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(a,d=null){if(this._isSliding)return;const g=this._getActive(),C=a===NP,k=d||Hne(this._getItems(),g,C,this._config.wrap);if(k===g)return;const M=this._getItemIndex(k),H=je=>To.trigger(this._element,je,{relatedTarget:k,direction:this._orderToDirection(a),from:this._getItemIndex(g),to:M});if(H(xde).defaultPrevented||!g||!k)return;const V=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=k;const te=C?Nde:Mde,Se=C?Rde:Lde;k.classList.add(Se),QP(k),g.classList.add(te),k.classList.add(te);const ye=()=>{k.classList.remove(te,Se),k.classList.add(kV),g.classList.remove(kV,Se,te),this._isSliding=!1,H(Ete)};this._queueCallback(ye,g,this._isAnimated()),V&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ode)}_getActive(){return Nr.findOne(Pde,this._element)}_getItems(){return Nr.find(Lae,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return ov()?a===sO?QA:NP:a===sO?NP:QA}_orderToDirection(a){return ov()?a===QA?sO:HV:a===QA?HV:sO}static jQueryInterface(a){return this.each(function(){const d=DO.getOrCreateInstance(this,a);if(typeof a=="number"){d.to(a);return}if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}To.on(document,Ade,Bde,function(r){const a=Nr.getElementFromSelector(this);if(!a||!a.classList.contains(Nae))return;r.preventDefault();const d=DO.getOrCreateInstance(a),g=this.getAttribute("data-bs-slide-to");if(g){d.to(g),d._maybeEnableCycle();return}if(ew.getDataAttribute(this,"slide")==="next"){d.next(),d._maybeEnableCycle();return}d.prev(),d._maybeEnableCycle()});To.on(window,Dde,()=>{const r=Nr.find($de);for(const a of r)DO.getOrCreateInstance(a)});rv(DO);const Ude="collapse",Wde="bs.collapse",oI=`.${Wde}`,jde=".data-api",Zde=`show${oI}`,qde=`shown${oI}`,Yde=`hide${oI}`,Gde=`hidden${oI}`,Kde=`click${oI}${jde}`,kte="show",lO="collapse",DV="collapsing",Xde="collapsed",Jde=`:scope .${lO} .${lO}`,Qde="collapse-horizontal",efe="width",tfe="height",nfe=".collapse.show, .collapse.collapsing",rne='[data-bs-toggle="collapse"]',ofe={parent:null,toggle:!0},sfe={parent:"(null|element)",toggle:"boolean"};class wO extends Db{constructor(a,d){super(a,d),this._isTransitioning=!1,this._triggerArray=[];const g=Nr.find(rne);for(const C of g){const k=Nr.getSelectorFromElement(C),M=Nr.find(k).filter(H=>H===this._element);k!==null&&M.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ofe}static get DefaultType(){return sfe}static get NAME(){return Ude}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(nfe).filter(H=>H!==this._element).map(H=>wO.getOrCreateInstance(H,{toggle:!1}))),a.length&&a[0]._isTransitioning||To.trigger(this._element,Zde).defaultPrevented)return;for(const H of a)H.hide();const g=this._getDimension();this._element.classList.remove(lO),this._element.classList.add(DV),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=()=>{this._isTransitioning=!1,this._element.classList.remove(DV),this._element.classList.add(lO,kte),this._element.style[g]="",To.trigger(this._element,qde)},M=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(C,this._element,!0),this._element.style[g]=`${this._element[M]}px`}hide(){if(this._isTransitioning||!this._isShown()||To.trigger(this._element,Yde).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,QP(this._element),this._element.classList.add(DV),this._element.classList.remove(lO,kte);for(const C of this._triggerArray){const k=Nr.getElementFromSelector(C);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0;const g=()=>{this._isTransitioning=!1,this._element.classList.remove(DV),this._element.classList.add(lO),To.trigger(this._element,Gde)};this._element.style[d]="",this._queueCallback(g,this._element,!0)}_isShown(a=this._element){return a.classList.contains(kte)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=BS(a.parent),a}_getDimension(){return this._element.classList.contains(Qde)?efe:tfe}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(rne);for(const d of a){const g=Nr.getElementFromSelector(d);g&&this._addAriaAndCollapsedClass([d],this._isShown(g))}}_getFirstLevelChildren(a){const d=Nr.find(Jde,this._config.parent);return Nr.find(a,this._config.parent).filter(g=>!d.includes(g))}_addAriaAndCollapsedClass(a,d){if(a.length)for(const g of a)g.classList.toggle(Xde,!d),g.setAttribute("aria-expanded",d)}static jQueryInterface(a){const d={};return typeof a=="string"&&/show|hide/.test(a)&&(d.toggle=!1),this.each(function(){const g=wO.getOrCreateInstance(this,d);if(typeof a=="string"){if(typeof g[a]>"u")throw new TypeError(`No method named "${a}"`);g[a]()}})}}To.on(document,Kde,rne,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();for(const a of Nr.getMultipleElementsFromSelector(this))wO.getOrCreateInstance(a,{toggle:!1}).toggle()});rv(wO);const ere="dropdown",rfe="bs.dropdown",F_=`.${rfe}`,Vne=".data-api",ife="Escape",tre="Tab",afe="ArrowUp",nre="ArrowDown",lfe=2,cfe=`hide${F_}`,ufe=`hidden${F_}`,dfe=`show${F_}`,ffe=`shown${F_}`,Pae=`click${F_}${Vne}`,Iae=`keydown${F_}${Vne}`,hfe=`keyup${F_}${Vne}`,rO="show",mfe="dropup",pfe="dropend",gfe="dropstart",vfe="dropup-center",bfe="dropdown-center",w_='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',yfe=`${w_}.${rO}`,zV=".dropdown-menu",wfe=".navbar",Cfe=".navbar-nav",Sfe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",xfe=ov()?"top-end":"top-start",_fe=ov()?"top-start":"top-end",Tfe=ov()?"bottom-end":"bottom-start",Efe=ov()?"bottom-start":"bottom-end",kfe=ov()?"left-start":"right-start",Dfe=ov()?"right-start":"left-start",Afe="top",Ofe="bottom",Mfe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Nfe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Tb extends Db{constructor(a,d){super(a,d),this._popper=null,this._parent=this._element.parentNode,this._menu=Nr.next(this._element,zV)[0]||Nr.prev(this._element,zV)[0]||Nr.findOne(zV,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Mfe}static get DefaultType(){return Nfe}static get NAME(){return ere}toggle(){return this._isShown()?this.hide():this.show()}show(){if($S(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!To.trigger(this._element,dfe,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Cfe))for(const g of[].concat(...document.body.children))To.on(g,"mouseover",QV);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rO),this._element.classList.add(rO),To.trigger(this._element,ffe,a)}}hide(){if($S(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!To.trigger(this._element,cfe,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))To.off(g,"mouseover",QV);this._popper&&this._popper.destroy(),this._menu.classList.remove(rO),this._element.classList.remove(rO),this._element.setAttribute("aria-expanded","false"),ew.removeDataAttribute(this._menu,"popper"),To.trigger(this._element,ufe,a)}}_getConfig(a){if(a=super._getConfig(a),typeof a.reference=="object"&&!Qy(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${ere.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(typeof $ne>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let a=this._element;this._config.reference==="parent"?a=this._parent:Qy(this._config.reference)?a=BS(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const d=this._getPopperConfig();this._popper=Bne(a,this._menu,d)}_isShown(){return this._menu.classList.contains(rO)}_getPlacement(){const a=this._parent;if(a.classList.contains(pfe))return kfe;if(a.classList.contains(gfe))return Dfe;if(a.classList.contains(vfe))return Afe;if(a.classList.contains(bfe))return Ofe;const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains(mfe)?d?_fe:xfe:d?Efe:Tfe}_detectNavbar(){return this._element.closest(wfe)!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ew.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...up(this._config.popperConfig,[void 0,a])}}_selectMenuItem({key:a,target:d}){const g=Nr.find(Sfe,this._menu).filter(C=>EO(C));g.length&&Hne(g,d,a===nre,!g.includes(d)).focus()}static jQueryInterface(a){return this.each(function(){const d=Tb.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}static clearMenus(a){if(a.button===lfe||a.type==="keyup"&&a.key!==tre)return;const d=Nr.find(yfe);for(const g of d){const C=Tb.getInstance(g);if(!C||C._config.autoClose===!1)continue;const k=a.composedPath(),M=k.includes(C._menu);if(k.includes(C._element)||C._config.autoClose==="inside"&&!M||C._config.autoClose==="outside"&&M||C._menu.contains(a.target)&&(a.type==="keyup"&&a.key===tre||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const H={relatedTarget:C._element};a.type==="click"&&(H.clickEvent=a),C._completeHide(H)}}static dataApiKeydownHandler(a){const d=/input|textarea/i.test(a.target.tagName),g=a.key===ife,C=[afe,nre].includes(a.key);if(!C&&!g||d&&!g)return;a.preventDefault();const k=this.matches(w_)?this:Nr.prev(this,w_)[0]||Nr.next(this,w_)[0]||Nr.findOne(w_,a.delegateTarget.parentNode),M=Tb.getOrCreateInstance(k);if(C){a.stopPropagation(),M.show(),M._selectMenuItem(a);return}M._isShown()&&(a.stopPropagation(),M.hide(),k.focus())}}To.on(document,Iae,w_,Tb.dataApiKeydownHandler);To.on(document,Iae,zV,Tb.dataApiKeydownHandler);To.on(document,Pae,Tb.clearMenus);To.on(document,hfe,Tb.clearMenus);To.on(document,Pae,w_,function(r){r.preventDefault(),Tb.getOrCreateInstance(this).toggle()});rv(Tb);const Fae="backdrop",Rfe="fade",ore="show",sre=`mousedown.bs.${Fae}`,Lfe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pfe={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bae extends eI{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return Lfe}static get DefaultType(){return Pfe}static get NAME(){return Fae}show(a){if(!this._config.isVisible){up(a);return}this._append();const d=this._getElement();this._config.isAnimated&&QP(d),d.classList.add(ore),this._emulateAnimation(()=>{up(a)})}hide(a){if(!this._config.isVisible){up(a);return}this._getElement().classList.remove(ore),this._emulateAnimation(()=>{this.dispose(),up(a)})}dispose(){this._isAppended&&(To.off(this._element,sre),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add(Rfe),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=BS(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),To.on(a,sre,()=>{up(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){xae(a,this._getElement(),this._config.isAnimated)}}const Ife="focustrap",Ffe="bs.focustrap",tU=`.${Ffe}`,Bfe=`focusin${tU}`,$fe=`keydown.tab${tU}`,Hfe="Tab",zfe="forward",rre="backward",Vfe={autofocus:!0,trapElement:null},Ufe={autofocus:"boolean",trapElement:"element"};class $ae extends eI{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Vfe}static get DefaultType(){return Ufe}static get NAME(){return Ife}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),To.off(document,tU),To.on(document,Bfe,a=>this._handleFocusin(a)),To.on(document,$fe,a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,To.off(document,tU))}_handleFocusin(a){const{trapElement:d}=this._config;if(a.target===document||a.target===d||d.contains(a.target))return;const g=Nr.focusableChildren(d);g.length===0?d.focus():this._lastTabNavDirection===rre?g[g.length-1].focus():g[0].focus()}_handleKeydown(a){a.key===Hfe&&(this._lastTabNavDirection=a.shiftKey?rre:zfe)}}const ire=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",are=".sticky-top",AV="padding-right",lre="margin-right";class ine{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,AV,d=>d+a),this._setElementAttributes(ire,AV,d=>d+a),this._setElementAttributes(are,lre,d=>d-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,AV),this._resetElementAttributes(ire,AV),this._resetElementAttributes(are,lre)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,d,g){const C=this.getWidth(),k=M=>{if(M!==this._element&&window.innerWidth>M.clientWidth+C)return;this._saveInitialAttribute(M,d);const H=window.getComputedStyle(M).getPropertyValue(d);M.style.setProperty(d,`${g(Number.parseFloat(H))}px`)};this._applyManipulationCallback(a,k)}_saveInitialAttribute(a,d){const g=a.style.getPropertyValue(d);g&&ew.setDataAttribute(a,d,g)}_resetElementAttributes(a,d){const g=C=>{const k=ew.getDataAttribute(C,d);if(k===null){C.style.removeProperty(d);return}ew.removeDataAttribute(C,d),C.style.setProperty(d,k)};this._applyManipulationCallback(a,g)}_applyManipulationCallback(a,d){if(Qy(a)){d(a);return}for(const g of Nr.find(a,this._element))d(g)}}const Wfe="modal",jfe="bs.modal",sv=`.${jfe}`,Zfe=".data-api",qfe="Escape",Yfe=`hide${sv}`,Gfe=`hidePrevented${sv}`,Hae=`hidden${sv}`,zae=`show${sv}`,Kfe=`shown${sv}`,Xfe=`resize${sv}`,Jfe=`click.dismiss${sv}`,Qfe=`mousedown.dismiss${sv}`,ehe=`keydown.dismiss${sv}`,the=`click${sv}${Zfe}`,cre="modal-open",nhe="fade",ure="show",Dte="modal-static",ohe=".modal.show",she=".modal-dialog",rhe=".modal-body",ihe='[data-bs-toggle="modal"]',ahe={backdrop:!0,focus:!0,keyboard:!0},lhe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class N_ extends Db{constructor(a,d){super(a,d),this._dialog=Nr.findOne(she,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ine,this._addEventListeners()}static get Default(){return ahe}static get DefaultType(){return lhe}static get NAME(){return Wfe}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||To.trigger(this._element,zae,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(cre),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){!this._isShown||this._isTransitioning||To.trigger(this._element,Yfe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ure),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){To.off(window,sv),To.off(this._dialog,sv),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bae({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $ae({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=Nr.findOne(rhe,this._dialog);d&&(d.scrollTop=0),QP(this._element),this._element.classList.add(ure);const g=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,To.trigger(this._element,Kfe,{relatedTarget:a})};this._queueCallback(g,this._dialog,this._isAnimated())}_addEventListeners(){To.on(this._element,ehe,a=>{if(a.key===qfe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),To.on(window,Xfe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),To.on(this._element,Qfe,a=>{To.one(this._element,Jfe,d=>{if(!(this._element!==a.target||this._element!==d.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(cre),this._resetAdjustments(),this._scrollBar.reset(),To.trigger(this._element,Hae)})}_isAnimated(){return this._element.classList.contains(nhe)}_triggerBackdropTransition(){if(To.trigger(this._element,Gfe).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(Dte)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Dte),this._queueCallback(()=>{this._element.classList.remove(Dte),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),g=d>0;if(g&&!a){const C=ov()?"paddingLeft":"paddingRight";this._element.style[C]=`${d}px`}if(!g&&a){const C=ov()?"paddingRight":"paddingLeft";this._element.style[C]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,d){return this.each(function(){const g=N_.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof g[a]>"u")throw new TypeError(`No method named "${a}"`);g[a](d)}})}}To.on(document,the,ihe,function(r){const a=Nr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),To.one(a,zae,C=>{C.defaultPrevented||To.one(a,Hae,()=>{EO(this)&&this.focus()})});const d=Nr.findOne(ohe);d&&N_.getInstance(d).hide(),N_.getOrCreateInstance(a).toggle(this)});bU(N_);rv(N_);const che="offcanvas",uhe="bs.offcanvas",lw=`.${uhe}`,Vae=".data-api",dhe=`load${lw}${Vae}`,fhe="Escape",dre="show",fre="showing",hre="hiding",hhe="offcanvas-backdrop",Uae=".offcanvas.show",mhe=`show${lw}`,phe=`shown${lw}`,ghe=`hide${lw}`,mre=`hidePrevented${lw}`,Wae=`hidden${lw}`,vhe=`resize${lw}`,bhe=`click${lw}${Vae}`,yhe=`keydown.dismiss${lw}`,whe='[data-bs-toggle="offcanvas"]',Che={backdrop:!0,keyboard:!0,scroll:!1},She={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class sw extends Db{constructor(a,d){super(a,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Che}static get DefaultType(){return She}static get NAME(){return che}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){if(this._isShown||To.trigger(this._element,mhe,{relatedTarget:a}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ine().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fre);const g=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(dre),this._element.classList.remove(fre),To.trigger(this._element,phe,{relatedTarget:a})};this._queueCallback(g,this._element,!0)}hide(){if(!this._isShown||To.trigger(this._element,ghe).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(hre),this._backdrop.hide();const d=()=>{this._element.classList.remove(dre,hre),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ine().reset(),To.trigger(this._element,Wae)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=()=>{if(this._config.backdrop==="static"){To.trigger(this._element,mre);return}this.hide()},d=!!this._config.backdrop;return new Bae({className:hhe,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?a:null})}_initializeFocusTrap(){return new $ae({trapElement:this._element})}_addEventListeners(){To.on(this._element,yhe,a=>{if(a.key===fhe){if(this._config.keyboard){this.hide();return}To.trigger(this._element,mre)}})}static jQueryInterface(a){return this.each(function(){const d=sw.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}To.on(document,bhe,whe,function(r){const a=Nr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),$S(this))return;To.one(a,Wae,()=>{EO(this)&&this.focus()});const d=Nr.findOne(Uae);d&&d!==a&&sw.getInstance(d).hide(),sw.getOrCreateInstance(a).toggle(this)});To.on(window,dhe,()=>{for(const r of Nr.find(Uae))sw.getOrCreateInstance(r).show()});To.on(window,vhe,()=>{for(const r of Nr.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(r).position!=="fixed"&&sw.getOrCreateInstance(r).hide()});bU(sw);rv(sw);const xhe=/^aria-[\w-]*$/i,jae={"*":["class","dir","id","lang","role",xhe],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_he=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),The=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ehe=(r,a)=>{const d=r.nodeName.toLowerCase();return a.includes(d)?_he.has(d)?!!The.test(r.nodeValue):!0:a.filter(g=>g instanceof RegExp).some(g=>g.test(d))};function khe(r,a,d){if(!r.length)return r;if(d&&typeof d=="function")return d(r);const C=new window.DOMParser().parseFromString(r,"text/html"),k=[].concat(...C.body.querySelectorAll("*"));for(const M of k){const H=M.nodeName.toLowerCase();if(!Object.keys(a).includes(H)){M.remove();continue}const Y=[].concat(...M.attributes),V=[].concat(a["*"]||[],a[H]||[]);for(const te of Y)Ehe(te,V)||M.removeAttribute(te.nodeName)}return C.body.innerHTML}const Dhe="TemplateFactory",Ahe={allowList:jae,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ohe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Mhe={entry:"(string|element|function|null)",selector:"(string|element)"};class Nhe extends eI{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return Ahe}static get DefaultType(){return Ohe}static get NAME(){return Dhe}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[C,k]of Object.entries(this._config.content))this._setContent(a,k,C);const d=a.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&d.classList.add(...g.split(" ")),d}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[d,g]of Object.entries(a))super._typeCheckConfig({selector:d,entry:g},Mhe)}_setContent(a,d,g){const C=Nr.findOne(g,a);if(C){if(d=this._resolvePossibleFunction(d),!d){C.remove();return}if(Qy(d)){this._putElementInTemplate(BS(d),C);return}if(this._config.html){C.innerHTML=this._maybeSanitize(d);return}C.textContent=d}}_maybeSanitize(a){return this._config.sanitize?khe(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return up(a,[void 0,this])}_putElementInTemplate(a,d){if(this._config.html){d.innerHTML="",d.append(a);return}d.textContent=a.textContent}}const Rhe="tooltip",Lhe=new Set(["sanitize","allowList","sanitizeFn"]),Ate="fade",Phe="modal",OV="show",Ihe=".tooltip-inner",pre=`.${Phe}`,gre="hide.bs.modal",RP="hover",Ote="focus",Mte="click",Fhe="manual",Bhe="hide",$he="hidden",Hhe="show",zhe="shown",Vhe="inserted",Uhe="click",Whe="focusin",jhe="focusout",Zhe="mouseenter",qhe="mouseleave",Yhe={AUTO:"auto",TOP:"top",RIGHT:ov()?"left":"right",BOTTOM:"bottom",LEFT:ov()?"right":"left"},Ghe={allowList:jae,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Khe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class B_ extends Db{constructor(a,d){if(typeof $ne>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(a,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ghe}static get DefaultType(){return Khe}static get NAME(){return Rhe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),To.off(this._element.closest(pre),gre,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const a=To.trigger(this._element,this.constructor.eventName(Hhe)),g=(Cae(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!g)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(C),To.trigger(this._element,this.constructor.eventName(Vhe))),this._popper=this._createPopper(C),C.classList.add(OV),"ontouchstart"in document.documentElement)for(const H of[].concat(...document.body.children))To.on(H,"mouseover",QV);const M=()=>{To.trigger(this._element,this.constructor.eventName(zhe)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(M,this.tip,this._isAnimated())}hide(){if(!this._isShown()||To.trigger(this._element,this.constructor.eventName(Bhe)).defaultPrevented)return;if(this._getTipElement().classList.remove(OV),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))To.off(C,"mouseover",QV);this._activeTrigger[Mte]=!1,this._activeTrigger[Ote]=!1,this._activeTrigger[RP]=!1,this._isHovered=null;const g=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),To.trigger(this._element,this.constructor.eventName($he)))};this._queueCallback(g,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const d=this._getTemplateFactory(a).toHtml();if(!d)return null;d.classList.remove(Ate,OV),d.classList.add(`bs-${this.constructor.NAME}-auto`);const g=Fue(this.constructor.NAME).toString();return d.setAttribute("id",g),this._isAnimated()&&d.classList.add(Ate),d}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new Nhe({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ihe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ate)}_isShown(){return this.tip&&this.tip.classList.contains(OV)}_createPopper(a){const d=up(this._config.placement,[this,a,this._element]),g=Yhe[d.toUpperCase()];return Bne(this._element,a,this._getPopperConfig(g))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_resolvePossibleFunction(a){return up(a,[this._element,this._element])}_getPopperConfig(a){const d={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...d,...up(this._config.popperConfig,[void 0,d])}}_setListeners(){const a=this._config.trigger.split(" ");for(const d of a)if(d==="click")To.on(this._element,this.constructor.eventName(Uhe),this._config.selector,g=>{const C=this._initializeOnDelegatedTarget(g);C._activeTrigger[Mte]=!(C._isShown()&&C._activeTrigger[Mte]),C.toggle()});else if(d!==Fhe){const g=d===RP?this.constructor.eventName(Zhe):this.constructor.eventName(Whe),C=d===RP?this.constructor.eventName(qhe):this.constructor.eventName(jhe);To.on(this._element,g,this._config.selector,k=>{const M=this._initializeOnDelegatedTarget(k);M._activeTrigger[k.type==="focusin"?Ote:RP]=!0,M._enter()}),To.on(this._element,C,this._config.selector,k=>{const M=this._initializeOnDelegatedTarget(k);M._activeTrigger[k.type==="focusout"?Ote:RP]=M._element.contains(k.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},To.on(this._element.closest(pre),gre,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,d){clearTimeout(this._timeout),this._timeout=setTimeout(a,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const d=ew.getDataAttributes(this._element);for(const g of Object.keys(d))Lhe.has(g)&&delete d[g];return a={...d,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:BS(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[d,g]of Object.entries(this._config))this.constructor.Default[d]!==g&&(a[d]=g);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const d=B_.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}}rv(B_);const Xhe="popover",Jhe=".popover-header",Qhe=".popover-body",eme={...B_.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},tme={...B_.DefaultType,content:"(null|string|element|function)"};class yU extends B_{static get Default(){return eme}static get DefaultType(){return tme}static get NAME(){return Xhe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Jhe]:this._getTitle(),[Qhe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const d=yU.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}}rv(yU);const nme="scrollspy",ome="bs.scrollspy",Une=`.${ome}`,sme=".data-api",rme=`activate${Une}`,vre=`click${Une}`,ime=`load${Une}${sme}`,ame="dropdown-item",eO="active",lme='[data-bs-spy="scroll"]',Nte="[href]",cme=".nav, .list-group",bre=".nav-link",ume=".nav-item",dme=".list-group-item",fme=`${bre}, ${ume} > ${bre}, ${dme}`,hme=".dropdown",mme=".dropdown-toggle",pme={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gme={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sI extends Db{constructor(a,d){super(a,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pme}static get DefaultType(){return gme}static get NAME(){return nme}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=BS(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(d=>Number.parseFloat(d))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(To.off(this._config.target,vre),To.on(this._config.target,vre,Nte,a=>{const d=this._observableSections.get(a.target.hash);if(d){a.preventDefault();const g=this._rootElement||window,C=d.offsetTop-this._element.offsetTop;if(g.scrollTo){g.scrollTo({top:C,behavior:"smooth"});return}g.scrollTop=C}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),a)}_observerCallback(a){const d=M=>this._targetLinks.get(`#${M.target.id}`),g=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(d(M))},C=(this._rootElement||document.documentElement).scrollTop,k=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const M of a){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(M));continue}const H=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&H){if(g(M),!C)return;continue}!k&&!H&&g(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=Nr.find(Nte,this._config.target);for(const d of a){if(!d.hash||$S(d))continue;const g=Nr.findOne(decodeURI(d.hash),this._element);EO(g)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,g))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(eO),this._activateParents(a),To.trigger(this._element,rme,{relatedTarget:a}))}_activateParents(a){if(a.classList.contains(ame)){Nr.findOne(mme,a.closest(hme)).classList.add(eO);return}for(const d of Nr.parents(a,cme))for(const g of Nr.prev(d,fme))g.classList.add(eO)}_clearActiveClass(a){a.classList.remove(eO);const d=Nr.find(`${Nte}.${eO}`,a);for(const g of d)g.classList.remove(eO)}static jQueryInterface(a){return this.each(function(){const d=sI.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}To.on(window,ime,()=>{for(const r of Nr.find(lme))sI.getOrCreateInstance(r)});rv(sI);const vme="tab",bme="bs.tab",$_=`.${bme}`,yme=`hide${$_}`,wme=`hidden${$_}`,Cme=`show${$_}`,Sme=`shown${$_}`,xme=`click${$_}`,_me=`keydown${$_}`,Tme=`load${$_}`,Eme="ArrowLeft",yre="ArrowRight",kme="ArrowUp",wre="ArrowDown",Rte="Home",Cre="End",C_="active",Sre="fade",Lte="show",Dme="dropdown",Zae=".dropdown-toggle",Ame=".dropdown-menu",Pte=`:not(${Zae})`,Ome='.list-group, .nav, [role="tablist"]',Mme=".nav-item, .list-group-item",Nme=`.nav-link${Pte}, .list-group-item${Pte}, [role="tab"]${Pte}`,qae='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ite=`${Nme}, ${qae}`,Rme=`.${C_}[data-bs-toggle="tab"], .${C_}[data-bs-toggle="pill"], .${C_}[data-bs-toggle="list"]`;class R_ extends Db{constructor(a){super(a),this._parent=this._element.closest(Ome),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),To.on(this._element,_me,d=>this._keydown(d)))}static get NAME(){return vme}show(){const a=this._element;if(this._elemIsActive(a))return;const d=this._getActiveElem(),g=d?To.trigger(d,yme,{relatedTarget:a}):null;To.trigger(a,Cme,{relatedTarget:d}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(d,a),this._activate(a,d))}_activate(a,d){if(!a)return;a.classList.add(C_),this._activate(Nr.getElementFromSelector(a));const g=()=>{if(a.getAttribute("role")!=="tab"){a.classList.add(Lte);return}a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),To.trigger(a,Sme,{relatedTarget:d})};this._queueCallback(g,a,a.classList.contains(Sre))}_deactivate(a,d){if(!a)return;a.classList.remove(C_),a.blur(),this._deactivate(Nr.getElementFromSelector(a));const g=()=>{if(a.getAttribute("role")!=="tab"){a.classList.remove(Lte);return}a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),To.trigger(a,wme,{relatedTarget:d})};this._queueCallback(g,a,a.classList.contains(Sre))}_keydown(a){if(![Eme,yre,kme,wre,Rte,Cre].includes(a.key))return;a.stopPropagation(),a.preventDefault();const d=this._getChildren().filter(C=>!$S(C));let g;if([Rte,Cre].includes(a.key))g=d[a.key===Rte?0:d.length-1];else{const C=[yre,wre].includes(a.key);g=Hne(d,a.target,C,!0)}g&&(g.focus({preventScroll:!0}),R_.getOrCreateInstance(g).show())}_getChildren(){return Nr.find(Ite,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,d){this._setAttributeIfNotExists(a,"role","tablist");for(const g of d)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const d=this._elemIsActive(a),g=this._getOuterElement(a);a.setAttribute("aria-selected",d),g!==a&&this._setAttributeIfNotExists(g,"role","presentation"),d||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const d=Nr.getElementFromSelector(a);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,d){const g=this._getOuterElement(a);if(!g.classList.contains(Dme))return;const C=(k,M)=>{const H=Nr.findOne(k,g);H&&H.classList.toggle(M,d)};C(Zae,C_),C(Ame,Lte),g.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(a,d,g){a.hasAttribute(d)||a.setAttribute(d,g)}_elemIsActive(a){return a.classList.contains(C_)}_getInnerElement(a){return a.matches(Ite)?a:Nr.findOne(Ite,a)}_getOuterElement(a){return a.closest(Mme)||a}static jQueryInterface(a){return this.each(function(){const d=R_.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}To.on(document,xme,qae,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!$S(this)&&R_.getOrCreateInstance(this).show()});To.on(window,Tme,()=>{for(const r of Nr.find(Rme))R_.getOrCreateInstance(r)});rv(R_);const Lme="toast",Pme="bs.toast",VS=`.${Pme}`,Ime=`mouseover${VS}`,Fme=`mouseout${VS}`,Bme=`focusin${VS}`,$me=`focusout${VS}`,Hme=`hide${VS}`,zme=`hidden${VS}`,Vme=`show${VS}`,Ume=`shown${VS}`,Wme="fade",xre="hide",MV="show",NV="showing",jme={animation:"boolean",autohide:"boolean",delay:"number"},Zme={animation:!0,autohide:!0,delay:5e3};class rI extends Db{constructor(a,d){super(a,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zme}static get DefaultType(){return jme}static get NAME(){return Lme}show(){if(To.trigger(this._element,Vme).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Wme);const d=()=>{this._element.classList.remove(NV),To.trigger(this._element,Ume),this._maybeScheduleHide()};this._element.classList.remove(xre),QP(this._element),this._element.classList.add(MV,NV),this._queueCallback(d,this._element,this._config.animation)}hide(){if(!this.isShown()||To.trigger(this._element,Hme).defaultPrevented)return;const d=()=>{this._element.classList.add(xre),this._element.classList.remove(NV,MV),To.trigger(this._element,zme)};this._element.classList.add(NV),this._queueCallback(d,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(MV),super.dispose()}isShown(){return this._element.classList.contains(MV)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,d){switch(a.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=d;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=d;break}}if(d){this._clearTimeout();return}const g=a.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){To.on(this._element,Ime,a=>this._onInteraction(a,!0)),To.on(this._element,Fme,a=>this._onInteraction(a,!1)),To.on(this._element,Bme,a=>this._onInteraction(a,!0)),To.on(this._element,$me,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const d=rI.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}bU(rI);rv(rI);const Yae=Object.freeze(Object.defineProperty({__proto__:null,Alert:tI,Button:nI,Carousel:DO,Collapse:wO,Dropdown:Tb,Modal:N_,Offcanvas:sw,Popover:yU,ScrollSpy:sI,Tab:R_,Toast:rI,Tooltip:B_},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Gae;function Ms(){return Gae.apply(null,arguments)}function qme(r){Gae=r}function Eb(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function k_(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function tl(r,a){return Object.prototype.hasOwnProperty.call(r,a)}function Wne(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var a;for(a in r)if(tl(r,a))return!1;return!0}function lp(r){return r===void 0}function rw(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function iI(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function Kae(r,a){var d=[],g,C=r.length;for(g=0;g<C;++g)d.push(a(r[g],g));return d}function MS(r,a){for(var d in a)tl(a,d)&&(r[d]=a[d]);return tl(a,"toString")&&(r.toString=a.toString),tl(a,"valueOf")&&(r.valueOf=a.valueOf),r}function Z1(r,a,d,g){return yle(r,a,d,g,!0).utc()}function Yme(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Hi(r){return r._pf==null&&(r._pf=Yme()),r._pf}var ane;Array.prototype.some?ane=Array.prototype.some:ane=function(r){var a=Object(this),d=a.length>>>0,g;for(g=0;g<d;g++)if(g in a&&r.call(this,a[g],g,a))return!0;return!1};function jne(r){var a=null,d=!1,g=r._d&&!isNaN(r._d.getTime());if(g&&(a=Hi(r),d=ane.call(a.parsedDateParts,function(C){return C!=null}),g=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&d),r._strict&&(g=g&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=g;else return g;return r._isValid}function wU(r){var a=Z1(NaN);return r!=null?MS(Hi(a),r):Hi(a).userInvalidated=!0,a}var _re=Ms.momentProperties=[],Fte=!1;function Zne(r,a){var d,g,C,k=_re.length;if(lp(a._isAMomentObject)||(r._isAMomentObject=a._isAMomentObject),lp(a._i)||(r._i=a._i),lp(a._f)||(r._f=a._f),lp(a._l)||(r._l=a._l),lp(a._strict)||(r._strict=a._strict),lp(a._tzm)||(r._tzm=a._tzm),lp(a._isUTC)||(r._isUTC=a._isUTC),lp(a._offset)||(r._offset=a._offset),lp(a._pf)||(r._pf=Hi(a)),lp(a._locale)||(r._locale=a._locale),k>0)for(d=0;d<k;d++)g=_re[d],C=a[g],lp(C)||(r[g]=C);return r}function aI(r){Zne(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Fte===!1&&(Fte=!0,Ms.updateOffset(this),Fte=!1)}function kb(r){return r instanceof aI||r!=null&&r._isAMomentObject!=null}function Xae(r){Ms.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function iv(r,a){var d=!0;return MS(function(){if(Ms.deprecationHandler!=null&&Ms.deprecationHandler(null,r),d){var g=[],C,k,M,H=arguments.length;for(k=0;k<H;k++){if(C="",typeof arguments[k]=="object"){C+=`
[`+k+"] ";for(M in arguments[0])tl(arguments[0],M)&&(C+=M+": "+arguments[0][M]+", ");C=C.slice(0,-2)}else C=arguments[k];g.push(C)}Xae(r+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),d=!1}return a.apply(this,arguments)},a)}var Tre={};function Jae(r,a){Ms.deprecationHandler!=null&&Ms.deprecationHandler(r,a),Tre[r]||(Xae(a),Tre[r]=!0)}Ms.suppressDeprecationWarnings=!1;Ms.deprecationHandler=null;function q1(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function Gme(r){var a,d;for(d in r)tl(r,d)&&(a=r[d],q1(a)?this[d]=a:this["_"+d]=a);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function lne(r,a){var d=MS({},r),g;for(g in a)tl(a,g)&&(k_(r[g])&&k_(a[g])?(d[g]={},MS(d[g],r[g]),MS(d[g],a[g])):a[g]!=null?d[g]=a[g]:delete d[g]);for(g in r)tl(r,g)&&!tl(a,g)&&k_(r[g])&&(d[g]=MS({},d[g]));return d}function qne(r){r!=null&&this.set(r)}var cne;Object.keys?cne=Object.keys:cne=function(r){var a,d=[];for(a in r)tl(r,a)&&d.push(a);return d};var Kme={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Xme(r,a,d){var g=this._calendar[r]||this._calendar.sameElse;return q1(g)?g.call(a,d):g}function W1(r,a,d){var g=""+Math.abs(r),C=a-g.length,k=r>=0;return(k?d?"+":"":"-")+Math.pow(10,Math.max(0,C)).toString().substr(1)+g}var Yne=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,RV=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bte={},uO={};function wr(r,a,d,g){var C=g;typeof g=="string"&&(C=function(){return this[g]()}),r&&(uO[r]=C),a&&(uO[a[0]]=function(){return W1(C.apply(this,arguments),a[1],a[2])}),d&&(uO[d]=function(){return this.localeData().ordinal(C.apply(this,arguments),r)})}function Jme(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function Qme(r){var a=r.match(Yne),d,g;for(d=0,g=a.length;d<g;d++)uO[a[d]]?a[d]=uO[a[d]]:a[d]=Jme(a[d]);return function(C){var k="",M;for(M=0;M<g;M++)k+=q1(a[M])?a[M].call(C,r):a[M];return k}}function VV(r,a){return r.isValid()?(a=Qae(a,r.localeData()),Bte[a]=Bte[a]||Qme(a),Bte[a](r)):r.localeData().invalidDate()}function Qae(r,a){var d=5;function g(C){return a.longDateFormat(C)||C}for(RV.lastIndex=0;d>=0&&RV.test(r);)r=r.replace(RV,g),RV.lastIndex=0,d-=1;return r}var epe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function tpe(r){var a=this._longDateFormat[r],d=this._longDateFormat[r.toUpperCase()];return a||!d?a:(this._longDateFormat[r]=d.match(Yne).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[r])}var npe="Invalid date";function ope(){return this._invalidDate}var spe="%d",rpe=/\d{1,2}/;function ipe(r){return this._ordinal.replace("%d",r)}var ape={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function lpe(r,a,d,g){var C=this._relativeTime[d];return q1(C)?C(r,a,d,g):C.replace(/%d/i,r)}function cpe(r,a){var d=this._relativeTime[r>0?"future":"past"];return q1(d)?d(a):d.replace(/%s/i,a)}var Ere={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function av(r){return typeof r=="string"?Ere[r]||Ere[r.toLowerCase()]:void 0}function Gne(r){var a={},d,g;for(g in r)tl(r,g)&&(d=av(g),d&&(a[d]=r[g]));return a}var upe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function dpe(r){var a=[],d;for(d in r)tl(r,d)&&a.push({unit:d,priority:upe[d]});return a.sort(function(g,C){return g.priority-C.priority}),a}var ele=/\d/,ng=/\d\d/,tle=/\d{3}/,Kne=/\d{4}/,CU=/[+-]?\d{6}/,Oc=/\d\d?/,nle=/\d\d\d\d?/,ole=/\d\d\d\d\d\d?/,SU=/\d{1,3}/,Xne=/\d{1,4}/,xU=/[+-]?\d{1,6}/,AO=/\d+/,_U=/[+-]?\d+/,fpe=/Z|[+-]\d\d:?\d\d/gi,TU=/Z|[+-]\d\d(?::?\d\d)?/gi,hpe=/[+-]?\d+(\.\d{1,3})?/,lI=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,OO=/^[1-9]\d?/,Jne=/^([1-9]\d|\d)/,nU;nU={};function Fs(r,a,d){nU[r]=q1(a)?a:function(g,C){return g&&d?d:a}}function mpe(r,a){return tl(nU,r)?nU[r](a._strict,a._locale):new RegExp(ppe(r))}function ppe(r){return tw(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,d,g,C,k){return d||g||C||k}))}function tw(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ev(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function Ca(r){var a=+r,d=0;return a!==0&&isFinite(a)&&(d=ev(a)),d}var une={};function jl(r,a){var d,g=a,C;for(typeof r=="string"&&(r=[r]),rw(a)&&(g=function(k,M){M[a]=Ca(k)}),C=r.length,d=0;d<C;d++)une[r[d]]=g}function cI(r,a){jl(r,function(d,g,C,k){C._w=C._w||{},a(d,C._w,C,k)})}function gpe(r,a,d){a!=null&&tl(une,r)&&une[r](a,d._a,d,r)}function EU(r){return r%4===0&&r%100!==0||r%400===0}var fh=0,Xy=1,z1=2,Nd=3,_b=4,Jy=5,S_=6,vpe=7,bpe=8;wr("Y",0,0,function(){var r=this.year();return r<=9999?W1(r,4):"+"+r});wr(0,["YY",2],0,function(){return this.year()%100});wr(0,["YYYY",4],0,"year");wr(0,["YYYYY",5],0,"year");wr(0,["YYYYYY",6,!0],0,"year");Fs("Y",_U);Fs("YY",Oc,ng);Fs("YYYY",Xne,Kne);Fs("YYYYY",xU,CU);Fs("YYYYYY",xU,CU);jl(["YYYYY","YYYYYY"],fh);jl("YYYY",function(r,a){a[fh]=r.length===2?Ms.parseTwoDigitYear(r):Ca(r)});jl("YY",function(r,a){a[fh]=Ms.parseTwoDigitYear(r)});jl("Y",function(r,a){a[fh]=parseInt(r,10)});function UP(r){return EU(r)?366:365}Ms.parseTwoDigitYear=function(r){return Ca(r)+(Ca(r)>68?1900:2e3)};var sle=MO("FullYear",!0);function ype(){return EU(this.year())}function MO(r,a){return function(d){return d!=null?(rle(this,r,d),Ms.updateOffset(this,a),this):WP(this,r)}}function WP(r,a){if(!r.isValid())return NaN;var d=r._d,g=r._isUTC;switch(a){case"Milliseconds":return g?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return g?d.getUTCSeconds():d.getSeconds();case"Minutes":return g?d.getUTCMinutes():d.getMinutes();case"Hours":return g?d.getUTCHours():d.getHours();case"Date":return g?d.getUTCDate():d.getDate();case"Day":return g?d.getUTCDay():d.getDay();case"Month":return g?d.getUTCMonth():d.getMonth();case"FullYear":return g?d.getUTCFullYear():d.getFullYear();default:return NaN}}function rle(r,a,d){var g,C,k,M,H;if(!(!r.isValid()||isNaN(d))){switch(g=r._d,C=r._isUTC,a){case"Milliseconds":return void(C?g.setUTCMilliseconds(d):g.setMilliseconds(d));case"Seconds":return void(C?g.setUTCSeconds(d):g.setSeconds(d));case"Minutes":return void(C?g.setUTCMinutes(d):g.setMinutes(d));case"Hours":return void(C?g.setUTCHours(d):g.setHours(d));case"Date":return void(C?g.setUTCDate(d):g.setDate(d));case"FullYear":break;default:return}k=d,M=r.month(),H=r.date(),H=H===29&&M===1&&!EU(k)?28:H,C?g.setUTCFullYear(k,M,H):g.setFullYear(k,M,H)}}function wpe(r){return r=av(r),q1(this[r])?this[r]():this}function Cpe(r,a){if(typeof r=="object"){r=Gne(r);var d=dpe(r),g,C=d.length;for(g=0;g<C;g++)this[d[g].unit](r[d[g].unit])}else if(r=av(r),q1(this[r]))return this[r](a);return this}function Spe(r,a){return(r%a+a)%a}var Iu;Array.prototype.indexOf?Iu=Array.prototype.indexOf:Iu=function(r){var a;for(a=0;a<this.length;++a)if(this[a]===r)return a;return-1};function Qne(r,a){if(isNaN(r)||isNaN(a))return NaN;var d=Spe(a,12);return r+=(a-d)/12,d===1?EU(r)?29:28:31-d%7%2}wr("M",["MM",2],"Mo",function(){return this.month()+1});wr("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)});wr("MMMM",0,0,function(r){return this.localeData().months(this,r)});Fs("M",Oc,OO);Fs("MM",Oc,ng);Fs("MMM",function(r,a){return a.monthsShortRegex(r)});Fs("MMMM",function(r,a){return a.monthsRegex(r)});jl(["M","MM"],function(r,a){a[Xy]=Ca(r)-1});jl(["MMM","MMMM"],function(r,a,d,g){var C=d._locale.monthsParse(r,g,d._strict);C!=null?a[Xy]=C:Hi(d).invalidMonth=r});var xpe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ile="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ale=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_pe=lI,Tpe=lI;function Epe(r,a){return r?Eb(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||ale).test(a)?"format":"standalone"][r.month()]:Eb(this._months)?this._months:this._months.standalone}function kpe(r,a){return r?Eb(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[ale.test(a)?"format":"standalone"][r.month()]:Eb(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Dpe(r,a,d){var g,C,k,M=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)k=Z1([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(k,"").toLocaleLowerCase();return d?a==="MMM"?(C=Iu.call(this._shortMonthsParse,M),C!==-1?C:null):(C=Iu.call(this._longMonthsParse,M),C!==-1?C:null):a==="MMM"?(C=Iu.call(this._shortMonthsParse,M),C!==-1?C:(C=Iu.call(this._longMonthsParse,M),C!==-1?C:null)):(C=Iu.call(this._longMonthsParse,M),C!==-1?C:(C=Iu.call(this._shortMonthsParse,M),C!==-1?C:null))}function Ape(r,a,d){var g,C,k;if(this._monthsParseExact)return Dpe.call(this,r,a,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(C=Z1([2e3,g]),d&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(C,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(C,"").replace(".","")+"$","i")),!d&&!this._monthsParse[g]&&(k="^"+this.months(C,"")+"|^"+this.monthsShort(C,""),this._monthsParse[g]=new RegExp(k.replace(".",""),"i")),d&&a==="MMMM"&&this._longMonthsParse[g].test(r))return g;if(d&&a==="MMM"&&this._shortMonthsParse[g].test(r))return g;if(!d&&this._monthsParse[g].test(r))return g}}function lle(r,a){if(!r.isValid())return r;if(typeof a=="string"){if(/^\d+$/.test(a))a=Ca(a);else if(a=r.localeData().monthsParse(a),!rw(a))return r}var d=a,g=r.date();return g=g<29?g:Math.min(g,Qne(r.year(),d)),r._isUTC?r._d.setUTCMonth(d,g):r._d.setMonth(d,g),r}function cle(r){return r!=null?(lle(this,r),Ms.updateOffset(this,!0),this):WP(this,"Month")}function Ope(){return Qne(this.year(),this.month())}function Mpe(r){return this._monthsParseExact?(tl(this,"_monthsRegex")||ule.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(tl(this,"_monthsShortRegex")||(this._monthsShortRegex=_pe),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function Npe(r){return this._monthsParseExact?(tl(this,"_monthsRegex")||ule.call(this),r?this._monthsStrictRegex:this._monthsRegex):(tl(this,"_monthsRegex")||(this._monthsRegex=Tpe),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function ule(){function r(Y,V){return V.length-Y.length}var a=[],d=[],g=[],C,k,M,H;for(C=0;C<12;C++)k=Z1([2e3,C]),M=tw(this.monthsShort(k,"")),H=tw(this.months(k,"")),a.push(M),d.push(H),g.push(H),g.push(M);a.sort(r),d.sort(r),g.sort(r),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Rpe(r,a,d,g,C,k,M){var H;return r<100&&r>=0?(H=new Date(r+400,a,d,g,C,k,M),isFinite(H.getFullYear())&&H.setFullYear(r)):H=new Date(r,a,d,g,C,k,M),H}function jP(r){var a,d;return r<100&&r>=0?(d=Array.prototype.slice.call(arguments),d[0]=r+400,a=new Date(Date.UTC.apply(null,d)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(r)):a=new Date(Date.UTC.apply(null,arguments)),a}function oU(r,a,d){var g=7+a-d,C=(7+jP(r,0,g).getUTCDay()-a)%7;return-C+g-1}function dle(r,a,d,g,C){var k=(7+d-g)%7,M=oU(r,g,C),H=1+7*(a-1)+k+M,Y,V;return H<=0?(Y=r-1,V=UP(Y)+H):H>UP(r)?(Y=r+1,V=H-UP(r)):(Y=r,V=H),{year:Y,dayOfYear:V}}function ZP(r,a,d){var g=oU(r.year(),a,d),C=Math.floor((r.dayOfYear()-g-1)/7)+1,k,M;return C<1?(M=r.year()-1,k=C+nw(M,a,d)):C>nw(r.year(),a,d)?(k=C-nw(r.year(),a,d),M=r.year()+1):(M=r.year(),k=C),{week:k,year:M}}function nw(r,a,d){var g=oU(r,a,d),C=oU(r+1,a,d);return(UP(r)-g+C)/7}wr("w",["ww",2],"wo","week");wr("W",["WW",2],"Wo","isoWeek");Fs("w",Oc,OO);Fs("ww",Oc,ng);Fs("W",Oc,OO);Fs("WW",Oc,ng);cI(["w","ww","W","WW"],function(r,a,d,g){a[g.substr(0,1)]=Ca(r)});function Lpe(r){return ZP(r,this._week.dow,this._week.doy).week}var Ppe={dow:0,doy:6};function Ipe(){return this._week.dow}function Fpe(){return this._week.doy}function Bpe(r){var a=this.localeData().week(this);return r==null?a:this.add((r-a)*7,"d")}function $pe(r){var a=ZP(this,1,4).week;return r==null?a:this.add((r-a)*7,"d")}wr("d",0,"do","day");wr("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)});wr("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)});wr("dddd",0,0,function(r){return this.localeData().weekdays(this,r)});wr("e",0,0,"weekday");wr("E",0,0,"isoWeekday");Fs("d",Oc);Fs("e",Oc);Fs("E",Oc);Fs("dd",function(r,a){return a.weekdaysMinRegex(r)});Fs("ddd",function(r,a){return a.weekdaysShortRegex(r)});Fs("dddd",function(r,a){return a.weekdaysRegex(r)});cI(["dd","ddd","dddd"],function(r,a,d,g){var C=d._locale.weekdaysParse(r,g,d._strict);C!=null?a.d=C:Hi(d).invalidWeekday=r});cI(["d","e","E"],function(r,a,d,g){a[g]=Ca(r)});function Hpe(r,a){return typeof r!="string"?r:isNaN(r)?(r=a.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function zpe(r,a){return typeof r=="string"?a.weekdaysParse(r)%7||7:isNaN(r)?null:r}function eoe(r,a){return r.slice(a,7).concat(r.slice(0,a))}var Vpe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fle="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Upe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wpe=lI,jpe=lI,Zpe=lI;function qpe(r,a){var d=Eb(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return r===!0?eoe(d,this._week.dow):r?d[r.day()]:d}function Ype(r){return r===!0?eoe(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function Gpe(r){return r===!0?eoe(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function Kpe(r,a,d){var g,C,k,M=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)k=Z1([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(k,"").toLocaleLowerCase();return d?a==="dddd"?(C=Iu.call(this._weekdaysParse,M),C!==-1?C:null):a==="ddd"?(C=Iu.call(this._shortWeekdaysParse,M),C!==-1?C:null):(C=Iu.call(this._minWeekdaysParse,M),C!==-1?C:null):a==="dddd"?(C=Iu.call(this._weekdaysParse,M),C!==-1||(C=Iu.call(this._shortWeekdaysParse,M),C!==-1)?C:(C=Iu.call(this._minWeekdaysParse,M),C!==-1?C:null)):a==="ddd"?(C=Iu.call(this._shortWeekdaysParse,M),C!==-1||(C=Iu.call(this._weekdaysParse,M),C!==-1)?C:(C=Iu.call(this._minWeekdaysParse,M),C!==-1?C:null)):(C=Iu.call(this._minWeekdaysParse,M),C!==-1||(C=Iu.call(this._weekdaysParse,M),C!==-1)?C:(C=Iu.call(this._shortWeekdaysParse,M),C!==-1?C:null))}function Xpe(r,a,d){var g,C,k;if(this._weekdaysParseExact)return Kpe.call(this,r,a,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(C=Z1([2e3,1]).day(g),d&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(C,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(C,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(C,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(k="^"+this.weekdays(C,"")+"|^"+this.weekdaysShort(C,"")+"|^"+this.weekdaysMin(C,""),this._weekdaysParse[g]=new RegExp(k.replace(".",""),"i")),d&&a==="dddd"&&this._fullWeekdaysParse[g].test(r))return g;if(d&&a==="ddd"&&this._shortWeekdaysParse[g].test(r))return g;if(d&&a==="dd"&&this._minWeekdaysParse[g].test(r))return g;if(!d&&this._weekdaysParse[g].test(r))return g}}function Jpe(r){if(!this.isValid())return r!=null?this:NaN;var a=WP(this,"Day");return r!=null?(r=Hpe(r,this.localeData()),this.add(r-a,"d")):a}function Qpe(r){if(!this.isValid())return r!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return r==null?a:this.add(r-a,"d")}function ege(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var a=zpe(r,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function tge(r){return this._weekdaysParseExact?(tl(this,"_weekdaysRegex")||toe.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(tl(this,"_weekdaysRegex")||(this._weekdaysRegex=Wpe),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function nge(r){return this._weekdaysParseExact?(tl(this,"_weekdaysRegex")||toe.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(tl(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jpe),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function oge(r){return this._weekdaysParseExact?(tl(this,"_weekdaysRegex")||toe.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(tl(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zpe),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function toe(){function r(te,Se){return Se.length-te.length}var a=[],d=[],g=[],C=[],k,M,H,Y,V;for(k=0;k<7;k++)M=Z1([2e3,1]).day(k),H=tw(this.weekdaysMin(M,"")),Y=tw(this.weekdaysShort(M,"")),V=tw(this.weekdays(M,"")),a.push(H),d.push(Y),g.push(V),C.push(H),C.push(Y),C.push(V);a.sort(r),d.sort(r),g.sort(r),C.sort(r),this._weekdaysRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function noe(){return this.hours()%12||12}function sge(){return this.hours()||24}wr("H",["HH",2],0,"hour");wr("h",["hh",2],0,noe);wr("k",["kk",2],0,sge);wr("hmm",0,0,function(){return""+noe.apply(this)+W1(this.minutes(),2)});wr("hmmss",0,0,function(){return""+noe.apply(this)+W1(this.minutes(),2)+W1(this.seconds(),2)});wr("Hmm",0,0,function(){return""+this.hours()+W1(this.minutes(),2)});wr("Hmmss",0,0,function(){return""+this.hours()+W1(this.minutes(),2)+W1(this.seconds(),2)});function hle(r,a){wr(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}hle("a",!0);hle("A",!1);function mle(r,a){return a._meridiemParse}Fs("a",mle);Fs("A",mle);Fs("H",Oc,Jne);Fs("h",Oc,OO);Fs("k",Oc,OO);Fs("HH",Oc,ng);Fs("hh",Oc,ng);Fs("kk",Oc,ng);Fs("hmm",nle);Fs("hmmss",ole);Fs("Hmm",nle);Fs("Hmmss",ole);jl(["H","HH"],Nd);jl(["k","kk"],function(r,a,d){var g=Ca(r);a[Nd]=g===24?0:g});jl(["a","A"],function(r,a,d){d._isPm=d._locale.isPM(r),d._meridiem=r});jl(["h","hh"],function(r,a,d){a[Nd]=Ca(r),Hi(d).bigHour=!0});jl("hmm",function(r,a,d){var g=r.length-2;a[Nd]=Ca(r.substr(0,g)),a[_b]=Ca(r.substr(g)),Hi(d).bigHour=!0});jl("hmmss",function(r,a,d){var g=r.length-4,C=r.length-2;a[Nd]=Ca(r.substr(0,g)),a[_b]=Ca(r.substr(g,2)),a[Jy]=Ca(r.substr(C)),Hi(d).bigHour=!0});jl("Hmm",function(r,a,d){var g=r.length-2;a[Nd]=Ca(r.substr(0,g)),a[_b]=Ca(r.substr(g))});jl("Hmmss",function(r,a,d){var g=r.length-4,C=r.length-2;a[Nd]=Ca(r.substr(0,g)),a[_b]=Ca(r.substr(g,2)),a[Jy]=Ca(r.substr(C))});function rge(r){return(r+"").toLowerCase().charAt(0)==="p"}var ige=/[ap]\.?m?\.?/i,age=MO("Hours",!0);function lge(r,a,d){return r>11?d?"pm":"PM":d?"am":"AM"}var ple={calendar:Kme,longDateFormat:epe,invalidDate:npe,ordinal:spe,dayOfMonthOrdinalParse:rpe,relativeTime:ape,months:xpe,monthsShort:ile,week:Ppe,weekdays:Vpe,weekdaysMin:Upe,weekdaysShort:fle,meridiemParse:ige},Vc={},LP={},qP;function cge(r,a){var d,g=Math.min(r.length,a.length);for(d=0;d<g;d+=1)if(r[d]!==a[d])return d;return g}function kre(r){return r&&r.toLowerCase().replace("_","-")}function uge(r){for(var a=0,d,g,C,k;a<r.length;){for(k=kre(r[a]).split("-"),d=k.length,g=kre(r[a+1]),g=g?g.split("-"):null;d>0;){if(C=kU(k.slice(0,d).join("-")),C)return C;if(g&&g.length>=d&&cge(k,g)>=d-1)break;d--}a++}return qP}function dge(r){return!!(r&&r.match("^[^/\\\\]*$"))}function kU(r){var a=null,d;if(Vc[r]===void 0&&typeof XV<"u"&&XV&&XV.exports&&dge(r))try{a=qP._abbr,d=require,d("./locale/"+r),IS(a)}catch{Vc[r]=null}return Vc[r]}function IS(r,a){var d;return r&&(lp(a)?d=cw(r):d=ooe(r,a),d?qP=d:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),qP._abbr}function ooe(r,a){if(a!==null){var d,g=ple;if(a.abbr=r,Vc[r]!=null)Jae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=Vc[r]._config;else if(a.parentLocale!=null)if(Vc[a.parentLocale]!=null)g=Vc[a.parentLocale]._config;else if(d=kU(a.parentLocale),d!=null)g=d._config;else return LP[a.parentLocale]||(LP[a.parentLocale]=[]),LP[a.parentLocale].push({name:r,config:a}),null;return Vc[r]=new qne(lne(g,a)),LP[r]&&LP[r].forEach(function(C){ooe(C.name,C.config)}),IS(r),Vc[r]}else return delete Vc[r],null}function fge(r,a){if(a!=null){var d,g,C=ple;Vc[r]!=null&&Vc[r].parentLocale!=null?Vc[r].set(lne(Vc[r]._config,a)):(g=kU(r),g!=null&&(C=g._config),a=lne(C,a),g==null&&(a.abbr=r),d=new qne(a),d.parentLocale=Vc[r],Vc[r]=d),IS(r)}else Vc[r]!=null&&(Vc[r].parentLocale!=null?(Vc[r]=Vc[r].parentLocale,r===IS()&&IS(r)):Vc[r]!=null&&delete Vc[r]);return Vc[r]}function cw(r){var a;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return qP;if(!Eb(r)){if(a=kU(r),a)return a;r=[r]}return uge(r)}function hge(){return cne(Vc)}function soe(r){var a,d=r._a;return d&&Hi(r).overflow===-2&&(a=d[Xy]<0||d[Xy]>11?Xy:d[z1]<1||d[z1]>Qne(d[fh],d[Xy])?z1:d[Nd]<0||d[Nd]>24||d[Nd]===24&&(d[_b]!==0||d[Jy]!==0||d[S_]!==0)?Nd:d[_b]<0||d[_b]>59?_b:d[Jy]<0||d[Jy]>59?Jy:d[S_]<0||d[S_]>999?S_:-1,Hi(r)._overflowDayOfYear&&(a<fh||a>z1)&&(a=z1),Hi(r)._overflowWeeks&&a===-1&&(a=vpe),Hi(r)._overflowWeekday&&a===-1&&(a=bpe),Hi(r).overflow=a),r}var mge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gge=/Z|[+-]\d\d(?::?\d\d)?/,LV=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$te=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vge=/^\/?Date\((-?\d+)/i,bge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yge={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function gle(r){var a,d,g=r._i,C=mge.exec(g)||pge.exec(g),k,M,H,Y,V=LV.length,te=$te.length;if(C){for(Hi(r).iso=!0,a=0,d=V;a<d;a++)if(LV[a][1].exec(C[1])){M=LV[a][0],k=LV[a][2]!==!1;break}if(M==null){r._isValid=!1;return}if(C[3]){for(a=0,d=te;a<d;a++)if($te[a][1].exec(C[3])){H=(C[2]||" ")+$te[a][0];break}if(H==null){r._isValid=!1;return}}if(!k&&H!=null){r._isValid=!1;return}if(C[4])if(gge.exec(C[4]))Y="Z";else{r._isValid=!1;return}r._f=M+(H||"")+(Y||""),ioe(r)}else r._isValid=!1}function wge(r,a,d,g,C,k){var M=[Cge(r),ile.indexOf(a),parseInt(d,10),parseInt(g,10),parseInt(C,10)];return k&&M.push(parseInt(k,10)),M}function Cge(r){var a=parseInt(r,10);return a<=49?2e3+a:a<=999?1900+a:a}function Sge(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xge(r,a,d){if(r){var g=fle.indexOf(r),C=new Date(a[0],a[1],a[2]).getDay();if(g!==C)return Hi(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}function _ge(r,a,d){if(r)return yge[r];if(a)return 0;var g=parseInt(d,10),C=g%100,k=(g-C)/100;return k*60+C}function vle(r){var a=bge.exec(Sge(r._i)),d;if(a){if(d=wge(a[4],a[3],a[2],a[5],a[6],a[7]),!xge(a[1],d,r))return;r._a=d,r._tzm=_ge(a[8],a[9],a[10]),r._d=jP.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),Hi(r).rfc2822=!0}else r._isValid=!1}function Tge(r){var a=vge.exec(r._i);if(a!==null){r._d=new Date(+a[1]);return}if(gle(r),r._isValid===!1)delete r._isValid;else return;if(vle(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:Ms.createFromInputFallback(r)}Ms.createFromInputFallback=iv("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function iO(r,a,d){return r??a??d}function Ege(r){var a=new Date(Ms.now());return r._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function roe(r){var a,d,g=[],C,k,M;if(!r._d){for(C=Ege(r),r._w&&r._a[z1]==null&&r._a[Xy]==null&&kge(r),r._dayOfYear!=null&&(M=iO(r._a[fh],C[fh]),(r._dayOfYear>UP(M)||r._dayOfYear===0)&&(Hi(r)._overflowDayOfYear=!0),d=jP(M,0,r._dayOfYear),r._a[Xy]=d.getUTCMonth(),r._a[z1]=d.getUTCDate()),a=0;a<3&&r._a[a]==null;++a)r._a[a]=g[a]=C[a];for(;a<7;a++)r._a[a]=g[a]=r._a[a]==null?a===2?1:0:r._a[a];r._a[Nd]===24&&r._a[_b]===0&&r._a[Jy]===0&&r._a[S_]===0&&(r._nextDay=!0,r._a[Nd]=0),r._d=(r._useUTC?jP:Rpe).apply(null,g),k=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[Nd]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==k&&(Hi(r).weekdayMismatch=!0)}}function kge(r){var a,d,g,C,k,M,H,Y,V;a=r._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,M=4,d=iO(a.GG,r._a[fh],ZP(Ac(),1,4).year),g=iO(a.W,1),C=iO(a.E,1),(C<1||C>7)&&(Y=!0)):(k=r._locale._week.dow,M=r._locale._week.doy,V=ZP(Ac(),k,M),d=iO(a.gg,r._a[fh],V.year),g=iO(a.w,V.week),a.d!=null?(C=a.d,(C<0||C>6)&&(Y=!0)):a.e!=null?(C=a.e+k,(a.e<0||a.e>6)&&(Y=!0)):C=k),g<1||g>nw(d,k,M)?Hi(r)._overflowWeeks=!0:Y!=null?Hi(r)._overflowWeekday=!0:(H=dle(d,g,C,k,M),r._a[fh]=H.year,r._dayOfYear=H.dayOfYear)}Ms.ISO_8601=function(){};Ms.RFC_2822=function(){};function ioe(r){if(r._f===Ms.ISO_8601){gle(r);return}if(r._f===Ms.RFC_2822){vle(r);return}r._a=[],Hi(r).empty=!0;var a=""+r._i,d,g,C,k,M,H=a.length,Y=0,V,te;for(C=Qae(r._f,r._locale).match(Yne)||[],te=C.length,d=0;d<te;d++)k=C[d],g=(a.match(mpe(k,r))||[])[0],g&&(M=a.substr(0,a.indexOf(g)),M.length>0&&Hi(r).unusedInput.push(M),a=a.slice(a.indexOf(g)+g.length),Y+=g.length),uO[k]?(g?Hi(r).empty=!1:Hi(r).unusedTokens.push(k),gpe(k,g,r)):r._strict&&!g&&Hi(r).unusedTokens.push(k);Hi(r).charsLeftOver=H-Y,a.length>0&&Hi(r).unusedInput.push(a),r._a[Nd]<=12&&Hi(r).bigHour===!0&&r._a[Nd]>0&&(Hi(r).bigHour=void 0),Hi(r).parsedDateParts=r._a.slice(0),Hi(r).meridiem=r._meridiem,r._a[Nd]=Dge(r._locale,r._a[Nd],r._meridiem),V=Hi(r).era,V!==null&&(r._a[fh]=r._locale.erasConvertYear(V,r._a[fh])),roe(r),soe(r)}function Dge(r,a,d){var g;return d==null?a:r.meridiemHour!=null?r.meridiemHour(a,d):(r.isPM!=null&&(g=r.isPM(d),g&&a<12&&(a+=12),!g&&a===12&&(a=0)),a)}function Age(r){var a,d,g,C,k,M,H=!1,Y=r._f.length;if(Y===0){Hi(r).invalidFormat=!0,r._d=new Date(NaN);return}for(C=0;C<Y;C++)k=0,M=!1,a=Zne({},r),r._useUTC!=null&&(a._useUTC=r._useUTC),a._f=r._f[C],ioe(a),jne(a)&&(M=!0),k+=Hi(a).charsLeftOver,k+=Hi(a).unusedTokens.length*10,Hi(a).score=k,H?k<g&&(g=k,d=a):(g==null||k<g||M)&&(g=k,d=a,M&&(H=!0));MS(r,d||a)}function Oge(r){if(!r._d){var a=Gne(r._i),d=a.day===void 0?a.date:a.day;r._a=Kae([a.year,a.month,d,a.hour,a.minute,a.second,a.millisecond],function(g){return g&&parseInt(g,10)}),roe(r)}}function Mge(r){var a=new aI(soe(ble(r)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ble(r){var a=r._i,d=r._f;return r._locale=r._locale||cw(r._l),a===null||d===void 0&&a===""?wU({nullInput:!0}):(typeof a=="string"&&(r._i=a=r._locale.preparse(a)),kb(a)?new aI(soe(a)):(iI(a)?r._d=a:Eb(d)?Age(r):d?ioe(r):Nge(r),jne(r)||(r._d=null),r))}function Nge(r){var a=r._i;lp(a)?r._d=new Date(Ms.now()):iI(a)?r._d=new Date(a.valueOf()):typeof a=="string"?Tge(r):Eb(a)?(r._a=Kae(a.slice(0),function(d){return parseInt(d,10)}),roe(r)):k_(a)?Oge(r):rw(a)?r._d=new Date(a):Ms.createFromInputFallback(r)}function yle(r,a,d,g,C){var k={};return(a===!0||a===!1)&&(g=a,a=void 0),(d===!0||d===!1)&&(g=d,d=void 0),(k_(r)&&Wne(r)||Eb(r)&&r.length===0)&&(r=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=C,k._l=d,k._i=r,k._f=a,k._strict=g,Mge(k)}function Ac(r,a,d,g){return yle(r,a,d,g,!1)}var Rge=iv("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Ac.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:wU()}),Lge=iv("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Ac.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:wU()});function wle(r,a){var d,g;if(a.length===1&&Eb(a[0])&&(a=a[0]),!a.length)return Ac();for(d=a[0],g=1;g<a.length;++g)(!a[g].isValid()||a[g][r](d))&&(d=a[g]);return d}function Pge(){var r=[].slice.call(arguments,0);return wle("isBefore",r)}function Ige(){var r=[].slice.call(arguments,0);return wle("isAfter",r)}var Fge=function(){return Date.now?Date.now():+new Date},PP=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Bge(r){var a,d=!1,g,C=PP.length;for(a in r)if(tl(r,a)&&!(Iu.call(PP,a)!==-1&&(r[a]==null||!isNaN(r[a]))))return!1;for(g=0;g<C;++g)if(r[PP[g]]){if(d)return!1;parseFloat(r[PP[g]])!==Ca(r[PP[g]])&&(d=!0)}return!0}function $ge(){return this._isValid}function Hge(){return Ab(NaN)}function DU(r){var a=Gne(r),d=a.year||0,g=a.quarter||0,C=a.month||0,k=a.week||a.isoWeek||0,M=a.day||0,H=a.hour||0,Y=a.minute||0,V=a.second||0,te=a.millisecond||0;this._isValid=Bge(a),this._milliseconds=+te+V*1e3+Y*6e4+H*1e3*60*60,this._days=+M+k*7,this._months=+C+g*3+d*12,this._data={},this._locale=cw(),this._bubble()}function UV(r){return r instanceof DU}function dne(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function zge(r,a,d){var g=Math.min(r.length,a.length),C=Math.abs(r.length-a.length),k=0,M;for(M=0;M<g;M++)Ca(r[M])!==Ca(a[M])&&k++;return k+C}function Cle(r,a){wr(r,0,0,function(){var d=this.utcOffset(),g="+";return d<0&&(d=-d,g="-"),g+W1(~~(d/60),2)+a+W1(~~d%60,2)})}Cle("Z",":");Cle("ZZ","");Fs("Z",TU);Fs("ZZ",TU);jl(["Z","ZZ"],function(r,a,d){d._useUTC=!0,d._tzm=aoe(TU,r)});var Vge=/([\+\-]|\d\d)/gi;function aoe(r,a){var d=(a||"").match(r),g,C,k;return d===null?null:(g=d[d.length-1]||[],C=(g+"").match(Vge)||["-",0,0],k=+(C[1]*60)+Ca(C[2]),k===0?0:C[0]==="+"?k:-k)}function loe(r,a){var d,g;return a._isUTC?(d=a.clone(),g=(kb(r)||iI(r)?r.valueOf():Ac(r).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+g),Ms.updateOffset(d,!1),d):Ac(r).local()}function fne(r){return-Math.round(r._d.getTimezoneOffset())}Ms.updateOffset=function(){};function Uge(r,a,d){var g=this._offset||0,C;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=aoe(TU,r),r===null)return this}else Math.abs(r)<16&&!d&&(r=r*60);return!this._isUTC&&a&&(C=fne(this)),this._offset=r,this._isUTC=!0,C!=null&&this.add(C,"m"),g!==r&&(!a||this._changeInProgress?_le(this,Ab(r-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ms.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:fne(this)}function Wge(r,a){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,a),this):-this.utcOffset()}function jge(r){return this.utcOffset(0,r)}function Zge(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(fne(this),"m")),this}function qge(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=aoe(fpe,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function Yge(r){return this.isValid()?(r=r?Ac(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function Gge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kge(){if(!lp(this._isDSTShifted))return this._isDSTShifted;var r={},a;return Zne(r,this),r=ble(r),r._a?(a=r._isUTC?Z1(r._a):Ac(r._a),this._isDSTShifted=this.isValid()&&zge(r._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xge(){return this.isValid()?!this._isUTC:!1}function Jge(){return this.isValid()?this._isUTC:!1}function Sle(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Qge=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,eve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ab(r,a){var d=r,g=null,C,k,M;return UV(r)?d={ms:r._milliseconds,d:r._days,M:r._months}:rw(r)||!isNaN(+r)?(d={},a?d[a]=+r:d.milliseconds=+r):(g=Qge.exec(r))?(C=g[1]==="-"?-1:1,d={y:0,d:Ca(g[z1])*C,h:Ca(g[Nd])*C,m:Ca(g[_b])*C,s:Ca(g[Jy])*C,ms:Ca(dne(g[S_]*1e3))*C}):(g=eve.exec(r))?(C=g[1]==="-"?-1:1,d={y:y_(g[2],C),M:y_(g[3],C),w:y_(g[4],C),d:y_(g[5],C),h:y_(g[6],C),m:y_(g[7],C),s:y_(g[8],C)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(M=tve(Ac(d.from),Ac(d.to)),d={},d.ms=M.milliseconds,d.M=M.months),k=new DU(d),UV(r)&&tl(r,"_locale")&&(k._locale=r._locale),UV(r)&&tl(r,"_isValid")&&(k._isValid=r._isValid),k}Ab.fn=DU.prototype;Ab.invalid=Hge;function y_(r,a){var d=r&&parseFloat(r.replace(",","."));return(isNaN(d)?0:d)*a}function Dre(r,a){var d={};return d.months=a.month()-r.month()+(a.year()-r.year())*12,r.clone().add(d.months,"M").isAfter(a)&&--d.months,d.milliseconds=+a-+r.clone().add(d.months,"M"),d}function tve(r,a){var d;return r.isValid()&&a.isValid()?(a=loe(a,r),r.isBefore(a)?d=Dre(r,a):(d=Dre(a,r),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}function xle(r,a){return function(d,g){var C,k;return g!==null&&!isNaN(+g)&&(Jae(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=d,d=g,g=k),C=Ab(d,g),_le(this,C,r),this}}function _le(r,a,d,g){var C=a._milliseconds,k=dne(a._days),M=dne(a._months);r.isValid()&&(g=g??!0,M&&lle(r,WP(r,"Month")+M*d),k&&rle(r,"Date",WP(r,"Date")+k*d),C&&r._d.setTime(r._d.valueOf()+C*d),g&&Ms.updateOffset(r,k||M))}var nve=xle(1,"add"),ove=xle(-1,"subtract");function Tle(r){return typeof r=="string"||r instanceof String}function sve(r){return kb(r)||iI(r)||Tle(r)||rw(r)||ive(r)||rve(r)||r===null||r===void 0}function rve(r){var a=k_(r)&&!Wne(r),d=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],C,k,M=g.length;for(C=0;C<M;C+=1)k=g[C],d=d||tl(r,k);return a&&d}function ive(r){var a=Eb(r),d=!1;return a&&(d=r.filter(function(g){return!rw(g)&&Tle(r)}).length===0),a&&d}function ave(r){var a=k_(r)&&!Wne(r),d=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],C,k;for(C=0;C<g.length;C+=1)k=g[C],d=d||tl(r,k);return a&&d}function lve(r,a){var d=r.diff(a,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}function cve(r,a){arguments.length===1&&(arguments[0]?sve(arguments[0])?(r=arguments[0],a=void 0):ave(arguments[0])&&(a=arguments[0],r=void 0):(r=void 0,a=void 0));var d=r||Ac(),g=loe(d,this).startOf("day"),C=Ms.calendarFormat(this,g)||"sameElse",k=a&&(q1(a[C])?a[C].call(this,d):a[C]);return this.format(k||this.localeData().calendar(C,this,Ac(d)))}function uve(){return new aI(this)}function dve(r,a){var d=kb(r)?r:Ac(r);return this.isValid()&&d.isValid()?(a=av(a)||"millisecond",a==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(a).valueOf()):!1}function fve(r,a){var d=kb(r)?r:Ac(r);return this.isValid()&&d.isValid()?(a=av(a)||"millisecond",a==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(a).valueOf()<d.valueOf()):!1}function hve(r,a,d,g){var C=kb(r)?r:Ac(r),k=kb(a)?a:Ac(a);return this.isValid()&&C.isValid()&&k.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(C,d):!this.isBefore(C,d))&&(g[1]===")"?this.isBefore(k,d):!this.isAfter(k,d))):!1}function mve(r,a){var d=kb(r)?r:Ac(r),g;return this.isValid()&&d.isValid()?(a=av(a)||"millisecond",a==="millisecond"?this.valueOf()===d.valueOf():(g=d.valueOf(),this.clone().startOf(a).valueOf()<=g&&g<=this.clone().endOf(a).valueOf())):!1}function pve(r,a){return this.isSame(r,a)||this.isAfter(r,a)}function gve(r,a){return this.isSame(r,a)||this.isBefore(r,a)}function vve(r,a,d){var g,C,k;if(!this.isValid())return NaN;if(g=loe(r,this),!g.isValid())return NaN;switch(C=(g.utcOffset()-this.utcOffset())*6e4,a=av(a),a){case"year":k=WV(this,g)/12;break;case"month":k=WV(this,g);break;case"quarter":k=WV(this,g)/3;break;case"second":k=(this-g)/1e3;break;case"minute":k=(this-g)/6e4;break;case"hour":k=(this-g)/36e5;break;case"day":k=(this-g-C)/864e5;break;case"week":k=(this-g-C)/6048e5;break;default:k=this-g}return d?k:ev(k)}function WV(r,a){if(r.date()<a.date())return-WV(a,r);var d=(a.year()-r.year())*12+(a.month()-r.month()),g=r.clone().add(d,"months"),C,k;return a-g<0?(C=r.clone().add(d-1,"months"),k=(a-g)/(g-C)):(C=r.clone().add(d+1,"months"),k=(a-g)/(C-g)),-(d+k)||0}Ms.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ms.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bve(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yve(r){if(!this.isValid())return null;var a=r!==!0,d=a?this.clone().utc():this;return d.year()<0||d.year()>9999?VV(d,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):q1(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",VV(d,"Z")):VV(d,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wve(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",a="",d,g,C,k;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),d="["+r+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",C="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(d+g+C+k)}function Cve(r){r||(r=this.isUtc()?Ms.defaultFormatUtc:Ms.defaultFormat);var a=VV(this,r);return this.localeData().postformat(a)}function Sve(r,a){return this.isValid()&&(kb(r)&&r.isValid()||Ac(r).isValid())?Ab({to:this,from:r}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function xve(r){return this.from(Ac(),r)}function _ve(r,a){return this.isValid()&&(kb(r)&&r.isValid()||Ac(r).isValid())?Ab({from:this,to:r}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Tve(r){return this.to(Ac(),r)}function Ele(r){var a;return r===void 0?this._locale._abbr:(a=cw(r),a!=null&&(this._locale=a),this)}var kle=iv("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function Dle(){return this._locale}var sU=1e3,dO=60*sU,rU=60*dO,Ale=(365*400+97)*24*rU;function fO(r,a){return(r%a+a)%a}function Ole(r,a,d){return r<100&&r>=0?new Date(r+400,a,d)-Ale:new Date(r,a,d).valueOf()}function Mle(r,a,d){return r<100&&r>=0?Date.UTC(r+400,a,d)-Ale:Date.UTC(r,a,d)}function Eve(r){var a,d;if(r=av(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Mle:Ole,r){case"year":a=d(this.year(),0,1);break;case"quarter":a=d(this.year(),this.month()-this.month()%3,1);break;case"month":a=d(this.year(),this.month(),1);break;case"week":a=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=d(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=fO(a+(this._isUTC?0:this.utcOffset()*dO),rU);break;case"minute":a=this._d.valueOf(),a-=fO(a,dO);break;case"second":a=this._d.valueOf(),a-=fO(a,sU);break}return this._d.setTime(a),Ms.updateOffset(this,!0),this}function kve(r){var a,d;if(r=av(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Mle:Ole,r){case"year":a=d(this.year()+1,0,1)-1;break;case"quarter":a=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=d(this.year(),this.month()+1,1)-1;break;case"week":a=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=rU-fO(a+(this._isUTC?0:this.utcOffset()*dO),rU)-1;break;case"minute":a=this._d.valueOf(),a+=dO-fO(a,dO)-1;break;case"second":a=this._d.valueOf(),a+=sU-fO(a,sU)-1;break}return this._d.setTime(a),Ms.updateOffset(this,!0),this}function Dve(){return this._d.valueOf()-(this._offset||0)*6e4}function Ave(){return Math.floor(this.valueOf()/1e3)}function Ove(){return new Date(this.valueOf())}function Mve(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function Nve(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function Rve(){return this.isValid()?this.toISOString():null}function Lve(){return jne(this)}function Pve(){return MS({},Hi(this))}function Ive(){return Hi(this).overflow}function Fve(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}wr("N",0,0,"eraAbbr");wr("NN",0,0,"eraAbbr");wr("NNN",0,0,"eraAbbr");wr("NNNN",0,0,"eraName");wr("NNNNN",0,0,"eraNarrow");wr("y",["y",1],"yo","eraYear");wr("y",["yy",2],0,"eraYear");wr("y",["yyy",3],0,"eraYear");wr("y",["yyyy",4],0,"eraYear");Fs("N",coe);Fs("NN",coe);Fs("NNN",coe);Fs("NNNN",Yve);Fs("NNNNN",Gve);jl(["N","NN","NNN","NNNN","NNNNN"],function(r,a,d,g){var C=d._locale.erasParse(r,g,d._strict);C?Hi(d).era=C:Hi(d).invalidEra=r});Fs("y",AO);Fs("yy",AO);Fs("yyy",AO);Fs("yyyy",AO);Fs("yo",Kve);jl(["y","yy","yyy","yyyy"],fh);jl(["yo"],function(r,a,d,g){var C;d._locale._eraYearOrdinalRegex&&(C=r.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?a[fh]=d._locale.eraYearOrdinalParse(r,C):a[fh]=parseInt(r,10)});function Bve(r,a){var d,g,C,k=this._eras||cw("en")._eras;for(d=0,g=k.length;d<g;++d){switch(typeof k[d].since){case"string":C=Ms(k[d].since).startOf("day"),k[d].since=C.valueOf();break}switch(typeof k[d].until){case"undefined":k[d].until=1/0;break;case"string":C=Ms(k[d].until).startOf("day").valueOf(),k[d].until=C.valueOf();break}}return k}function $ve(r,a,d){var g,C,k=this.eras(),M,H,Y;for(r=r.toUpperCase(),g=0,C=k.length;g<C;++g)if(M=k[g].name.toUpperCase(),H=k[g].abbr.toUpperCase(),Y=k[g].narrow.toUpperCase(),d)switch(a){case"N":case"NN":case"NNN":if(H===r)return k[g];break;case"NNNN":if(M===r)return k[g];break;case"NNNNN":if(Y===r)return k[g];break}else if([M,H,Y].indexOf(r)>=0)return k[g]}function Hve(r,a){var d=r.since<=r.until?1:-1;return a===void 0?Ms(r.since).year():Ms(r.since).year()+(a-r.offset)*d}function zve(){var r,a,d,g=this.localeData().eras();for(r=0,a=g.length;r<a;++r)if(d=this.clone().startOf("day").valueOf(),g[r].since<=d&&d<=g[r].until||g[r].until<=d&&d<=g[r].since)return g[r].name;return""}function Vve(){var r,a,d,g=this.localeData().eras();for(r=0,a=g.length;r<a;++r)if(d=this.clone().startOf("day").valueOf(),g[r].since<=d&&d<=g[r].until||g[r].until<=d&&d<=g[r].since)return g[r].narrow;return""}function Uve(){var r,a,d,g=this.localeData().eras();for(r=0,a=g.length;r<a;++r)if(d=this.clone().startOf("day").valueOf(),g[r].since<=d&&d<=g[r].until||g[r].until<=d&&d<=g[r].since)return g[r].abbr;return""}function Wve(){var r,a,d,g,C=this.localeData().eras();for(r=0,a=C.length;r<a;++r)if(d=C[r].since<=C[r].until?1:-1,g=this.clone().startOf("day").valueOf(),C[r].since<=g&&g<=C[r].until||C[r].until<=g&&g<=C[r].since)return(this.year()-Ms(C[r].since).year())*d+C[r].offset;return this.year()}function jve(r){return tl(this,"_erasNameRegex")||uoe.call(this),r?this._erasNameRegex:this._erasRegex}function Zve(r){return tl(this,"_erasAbbrRegex")||uoe.call(this),r?this._erasAbbrRegex:this._erasRegex}function qve(r){return tl(this,"_erasNarrowRegex")||uoe.call(this),r?this._erasNarrowRegex:this._erasRegex}function coe(r,a){return a.erasAbbrRegex(r)}function Yve(r,a){return a.erasNameRegex(r)}function Gve(r,a){return a.erasNarrowRegex(r)}function Kve(r,a){return a._eraYearOrdinalRegex||AO}function uoe(){var r=[],a=[],d=[],g=[],C,k,M,H,Y,V=this.eras();for(C=0,k=V.length;C<k;++C)M=tw(V[C].name),H=tw(V[C].abbr),Y=tw(V[C].narrow),a.push(M),r.push(H),d.push(Y),g.push(M),g.push(H),g.push(Y);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}wr(0,["gg",2],0,function(){return this.weekYear()%100});wr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function AU(r,a){wr(0,[r,r.length],0,a)}AU("gggg","weekYear");AU("ggggg","weekYear");AU("GGGG","isoWeekYear");AU("GGGGG","isoWeekYear");Fs("G",_U);Fs("g",_U);Fs("GG",Oc,ng);Fs("gg",Oc,ng);Fs("GGGG",Xne,Kne);Fs("gggg",Xne,Kne);Fs("GGGGG",xU,CU);Fs("ggggg",xU,CU);cI(["gggg","ggggg","GGGG","GGGGG"],function(r,a,d,g){a[g.substr(0,2)]=Ca(r)});cI(["gg","GG"],function(r,a,d,g){a[g]=Ms.parseTwoDigitYear(r)});function Xve(r){return Nle.call(this,r,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Jve(r){return Nle.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function Qve(){return nw(this.year(),1,4)}function ebe(){return nw(this.isoWeekYear(),1,4)}function tbe(){var r=this.localeData()._week;return nw(this.year(),r.dow,r.doy)}function nbe(){var r=this.localeData()._week;return nw(this.weekYear(),r.dow,r.doy)}function Nle(r,a,d,g,C){var k;return r==null?ZP(this,g,C).year:(k=nw(r,g,C),a>k&&(a=k),obe.call(this,r,a,d,g,C))}function obe(r,a,d,g,C){var k=dle(r,a,d,g,C),M=jP(k.year,0,k.dayOfYear);return this.year(M.getUTCFullYear()),this.month(M.getUTCMonth()),this.date(M.getUTCDate()),this}wr("Q",0,"Qo","quarter");Fs("Q",ele);jl("Q",function(r,a){a[Xy]=(Ca(r)-1)*3});function sbe(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}wr("D",["DD",2],"Do","date");Fs("D",Oc,OO);Fs("DD",Oc,ng);Fs("Do",function(r,a){return r?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient});jl(["D","DD"],z1);jl("Do",function(r,a){a[z1]=Ca(r.match(Oc)[0])});var Rle=MO("Date",!0);wr("DDD",["DDDD",3],"DDDo","dayOfYear");Fs("DDD",SU);Fs("DDDD",tle);jl(["DDD","DDDD"],function(r,a,d){d._dayOfYear=Ca(r)});function rbe(r){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?a:this.add(r-a,"d")}wr("m",["mm",2],0,"minute");Fs("m",Oc,Jne);Fs("mm",Oc,ng);jl(["m","mm"],_b);var ibe=MO("Minutes",!1);wr("s",["ss",2],0,"second");Fs("s",Oc,Jne);Fs("ss",Oc,ng);jl(["s","ss"],Jy);var abe=MO("Seconds",!1);wr("S",0,0,function(){return~~(this.millisecond()/100)});wr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});wr(0,["SSS",3],0,"millisecond");wr(0,["SSSS",4],0,function(){return this.millisecond()*10});wr(0,["SSSSS",5],0,function(){return this.millisecond()*100});wr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});wr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});wr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});wr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Fs("S",SU,ele);Fs("SS",SU,ng);Fs("SSS",SU,tle);var NS,Lle;for(NS="SSSS";NS.length<=9;NS+="S")Fs(NS,AO);function lbe(r,a){a[S_]=Ca(("0."+r)*1e3)}for(NS="S";NS.length<=9;NS+="S")jl(NS,lbe);Lle=MO("Milliseconds",!1);wr("z",0,0,"zoneAbbr");wr("zz",0,0,"zoneName");function cbe(){return this._isUTC?"UTC":""}function ube(){return this._isUTC?"Coordinated Universal Time":""}var Bo=aI.prototype;Bo.add=nve;Bo.calendar=cve;Bo.clone=uve;Bo.diff=vve;Bo.endOf=kve;Bo.format=Cve;Bo.from=Sve;Bo.fromNow=xve;Bo.to=_ve;Bo.toNow=Tve;Bo.get=wpe;Bo.invalidAt=Ive;Bo.isAfter=dve;Bo.isBefore=fve;Bo.isBetween=hve;Bo.isSame=mve;Bo.isSameOrAfter=pve;Bo.isSameOrBefore=gve;Bo.isValid=Lve;Bo.lang=kle;Bo.locale=Ele;Bo.localeData=Dle;Bo.max=Lge;Bo.min=Rge;Bo.parsingFlags=Pve;Bo.set=Cpe;Bo.startOf=Eve;Bo.subtract=ove;Bo.toArray=Mve;Bo.toObject=Nve;Bo.toDate=Ove;Bo.toISOString=yve;Bo.inspect=wve;typeof Symbol<"u"&&Symbol.for!=null&&(Bo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Bo.toJSON=Rve;Bo.toString=bve;Bo.unix=Ave;Bo.valueOf=Dve;Bo.creationData=Fve;Bo.eraName=zve;Bo.eraNarrow=Vve;Bo.eraAbbr=Uve;Bo.eraYear=Wve;Bo.year=sle;Bo.isLeapYear=ype;Bo.weekYear=Xve;Bo.isoWeekYear=Jve;Bo.quarter=Bo.quarters=sbe;Bo.month=cle;Bo.daysInMonth=Ope;Bo.week=Bo.weeks=Bpe;Bo.isoWeek=Bo.isoWeeks=$pe;Bo.weeksInYear=tbe;Bo.weeksInWeekYear=nbe;Bo.isoWeeksInYear=Qve;Bo.isoWeeksInISOWeekYear=ebe;Bo.date=Rle;Bo.day=Bo.days=Jpe;Bo.weekday=Qpe;Bo.isoWeekday=ege;Bo.dayOfYear=rbe;Bo.hour=Bo.hours=age;Bo.minute=Bo.minutes=ibe;Bo.second=Bo.seconds=abe;Bo.millisecond=Bo.milliseconds=Lle;Bo.utcOffset=Uge;Bo.utc=jge;Bo.local=Zge;Bo.parseZone=qge;Bo.hasAlignedHourOffset=Yge;Bo.isDST=Gge;Bo.isLocal=Xge;Bo.isUtcOffset=Jge;Bo.isUtc=Sle;Bo.isUTC=Sle;Bo.zoneAbbr=cbe;Bo.zoneName=ube;Bo.dates=iv("dates accessor is deprecated. Use date instead.",Rle);Bo.months=iv("months accessor is deprecated. Use month instead",cle);Bo.years=iv("years accessor is deprecated. Use year instead",sle);Bo.zone=iv("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Wge);Bo.isDSTShifted=iv("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kge);function dbe(r){return Ac(r*1e3)}function fbe(){return Ac.apply(null,arguments).parseZone()}function Ple(r){return r}var nl=qne.prototype;nl.calendar=Xme;nl.longDateFormat=tpe;nl.invalidDate=ope;nl.ordinal=ipe;nl.preparse=Ple;nl.postformat=Ple;nl.relativeTime=lpe;nl.pastFuture=cpe;nl.set=Gme;nl.eras=Bve;nl.erasParse=$ve;nl.erasConvertYear=Hve;nl.erasAbbrRegex=Zve;nl.erasNameRegex=jve;nl.erasNarrowRegex=qve;nl.months=Epe;nl.monthsShort=kpe;nl.monthsParse=Ape;nl.monthsRegex=Npe;nl.monthsShortRegex=Mpe;nl.week=Lpe;nl.firstDayOfYear=Fpe;nl.firstDayOfWeek=Ipe;nl.weekdays=qpe;nl.weekdaysMin=Gpe;nl.weekdaysShort=Ype;nl.weekdaysParse=Xpe;nl.weekdaysRegex=tge;nl.weekdaysShortRegex=nge;nl.weekdaysMinRegex=oge;nl.isPM=rge;nl.meridiem=lge;function iU(r,a,d,g){var C=cw(),k=Z1().set(g,a);return C[d](k,r)}function Ile(r,a,d){if(rw(r)&&(a=r,r=void 0),r=r||"",a!=null)return iU(r,a,d,"month");var g,C=[];for(g=0;g<12;g++)C[g]=iU(r,g,d,"month");return C}function doe(r,a,d,g){typeof r=="boolean"?(rw(a)&&(d=a,a=void 0),a=a||""):(a=r,d=a,r=!1,rw(a)&&(d=a,a=void 0),a=a||"");var C=cw(),k=r?C._week.dow:0,M,H=[];if(d!=null)return iU(a,(d+k)%7,g,"day");for(M=0;M<7;M++)H[M]=iU(a,(M+k)%7,g,"day");return H}function hbe(r,a){return Ile(r,a,"months")}function mbe(r,a){return Ile(r,a,"monthsShort")}function pbe(r,a,d){return doe(r,a,d,"weekdays")}function gbe(r,a,d){return doe(r,a,d,"weekdaysShort")}function vbe(r,a,d){return doe(r,a,d,"weekdaysMin")}IS("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var a=r%10,d=Ca(r%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return r+d}});Ms.lang=iv("moment.lang is deprecated. Use moment.locale instead.",IS);Ms.langData=iv("moment.langData is deprecated. Use moment.localeData instead.",cw);var Gy=Math.abs;function bbe(){var r=this._data;return this._milliseconds=Gy(this._milliseconds),this._days=Gy(this._days),this._months=Gy(this._months),r.milliseconds=Gy(r.milliseconds),r.seconds=Gy(r.seconds),r.minutes=Gy(r.minutes),r.hours=Gy(r.hours),r.months=Gy(r.months),r.years=Gy(r.years),this}function Fle(r,a,d,g){var C=Ab(a,d);return r._milliseconds+=g*C._milliseconds,r._days+=g*C._days,r._months+=g*C._months,r._bubble()}function ybe(r,a){return Fle(this,r,a,1)}function wbe(r,a){return Fle(this,r,a,-1)}function Are(r){return r<0?Math.floor(r):Math.ceil(r)}function Cbe(){var r=this._milliseconds,a=this._days,d=this._months,g=this._data,C,k,M,H,Y;return r>=0&&a>=0&&d>=0||r<=0&&a<=0&&d<=0||(r+=Are(hne(d)+a)*864e5,a=0,d=0),g.milliseconds=r%1e3,C=ev(r/1e3),g.seconds=C%60,k=ev(C/60),g.minutes=k%60,M=ev(k/60),g.hours=M%24,a+=ev(M/24),Y=ev(Ble(a)),d+=Y,a-=Are(hne(Y)),H=ev(d/12),d%=12,g.days=a,g.months=d,g.years=H,this}function Ble(r){return r*4800/146097}function hne(r){return r*146097/4800}function Sbe(r){if(!this.isValid())return NaN;var a,d,g=this._milliseconds;if(r=av(r),r==="month"||r==="quarter"||r==="year")switch(a=this._days+g/864e5,d=this._months+Ble(a),r){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(a=this._days+Math.round(hne(this._months)),r){case"week":return a/7+g/6048e5;case"day":return a+g/864e5;case"hour":return a*24+g/36e5;case"minute":return a*1440+g/6e4;case"second":return a*86400+g/1e3;case"millisecond":return Math.floor(a*864e5)+g;default:throw new Error("Unknown unit "+r)}}function uw(r){return function(){return this.as(r)}}var $le=uw("ms"),xbe=uw("s"),_be=uw("m"),Tbe=uw("h"),Ebe=uw("d"),kbe=uw("w"),Dbe=uw("M"),Abe=uw("Q"),Obe=uw("y"),Mbe=$le;function Nbe(){return Ab(this)}function Rbe(r){return r=av(r),this.isValid()?this[r+"s"]():NaN}function H_(r){return function(){return this.isValid()?this._data[r]:NaN}}var Lbe=H_("milliseconds"),Pbe=H_("seconds"),Ibe=H_("minutes"),Fbe=H_("hours"),Bbe=H_("days"),$be=H_("months"),Hbe=H_("years");function zbe(){return ev(this.days()/7)}var Ky=Math.round,cO={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vbe(r,a,d,g,C){return C.relativeTime(a||1,!!d,r,g)}function Ube(r,a,d,g){var C=Ab(r).abs(),k=Ky(C.as("s")),M=Ky(C.as("m")),H=Ky(C.as("h")),Y=Ky(C.as("d")),V=Ky(C.as("M")),te=Ky(C.as("w")),Se=Ky(C.as("y")),ye=k<=d.ss&&["s",k]||k<d.s&&["ss",k]||M<=1&&["m"]||M<d.m&&["mm",M]||H<=1&&["h"]||H<d.h&&["hh",H]||Y<=1&&["d"]||Y<d.d&&["dd",Y];return d.w!=null&&(ye=ye||te<=1&&["w"]||te<d.w&&["ww",te]),ye=ye||V<=1&&["M"]||V<d.M&&["MM",V]||Se<=1&&["y"]||["yy",Se],ye[2]=a,ye[3]=+r>0,ye[4]=g,Vbe.apply(null,ye)}function Wbe(r){return r===void 0?Ky:typeof r=="function"?(Ky=r,!0):!1}function jbe(r,a){return cO[r]===void 0?!1:a===void 0?cO[r]:(cO[r]=a,r==="s"&&(cO.ss=a-1),!0)}function Zbe(r,a){if(!this.isValid())return this.localeData().invalidDate();var d=!1,g=cO,C,k;return typeof r=="object"&&(a=r,r=!1),typeof r=="boolean"&&(d=r),typeof a=="object"&&(g=Object.assign({},cO,a),a.s!=null&&a.ss==null&&(g.ss=a.s-1)),C=this.localeData(),k=Ube(this,!d,g,C),d&&(k=C.pastFuture(+this,k)),C.postformat(k)}var Hte=Math.abs;function tO(r){return(r>0)-(r<0)||+r}function OU(){if(!this.isValid())return this.localeData().invalidDate();var r=Hte(this._milliseconds)/1e3,a=Hte(this._days),d=Hte(this._months),g,C,k,M,H=this.asSeconds(),Y,V,te,Se;return H?(g=ev(r/60),C=ev(g/60),r%=60,g%=60,k=ev(d/12),d%=12,M=r?r.toFixed(3).replace(/\.?0+$/,""):"",Y=H<0?"-":"",V=tO(this._months)!==tO(H)?"-":"",te=tO(this._days)!==tO(H)?"-":"",Se=tO(this._milliseconds)!==tO(H)?"-":"",Y+"P"+(k?V+k+"Y":"")+(d?V+d+"M":"")+(a?te+a+"D":"")+(C||g||r?"T":"")+(C?Se+C+"H":"")+(g?Se+g+"M":"")+(r?Se+M+"S":"")):"P0D"}var Pa=DU.prototype;Pa.isValid=$ge;Pa.abs=bbe;Pa.add=ybe;Pa.subtract=wbe;Pa.as=Sbe;Pa.asMilliseconds=$le;Pa.asSeconds=xbe;Pa.asMinutes=_be;Pa.asHours=Tbe;Pa.asDays=Ebe;Pa.asWeeks=kbe;Pa.asMonths=Dbe;Pa.asQuarters=Abe;Pa.asYears=Obe;Pa.valueOf=Mbe;Pa._bubble=Cbe;Pa.clone=Nbe;Pa.get=Rbe;Pa.milliseconds=Lbe;Pa.seconds=Pbe;Pa.minutes=Ibe;Pa.hours=Fbe;Pa.days=Bbe;Pa.weeks=zbe;Pa.months=$be;Pa.years=Hbe;Pa.humanize=Zbe;Pa.toISOString=OU;Pa.toString=OU;Pa.toJSON=OU;Pa.locale=Ele;Pa.localeData=Dle;Pa.toIsoString=iv("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",OU);Pa.lang=kle;wr("X",0,0,"unix");wr("x",0,0,"valueOf");Fs("x",_U);Fs("X",hpe);jl("X",function(r,a,d){d._d=new Date(parseFloat(r)*1e3)});jl("x",function(r,a,d){d._d=new Date(Ca(r))});//! moment.js
Ms.version="2.30.1";qme(Ac);Ms.fn=Bo;Ms.min=Pge;Ms.max=Ige;Ms.now=Fge;Ms.utc=Z1;Ms.unix=dbe;Ms.months=hbe;Ms.isDate=iI;Ms.locale=IS;Ms.invalid=wU;Ms.duration=Ab;Ms.isMoment=kb;Ms.weekdays=pbe;Ms.parseZone=fbe;Ms.localeData=cw;Ms.isDuration=UV;Ms.monthsShort=mbe;Ms.weekdaysMin=vbe;Ms.defineLocale=ooe;Ms.updateLocale=fge;Ms.locales=hge;Ms.weekdaysShort=gbe;Ms.normalizeUnits=av;Ms.relativeTimeRounding=Wbe;Ms.relativeTimeThreshold=jbe;Ms.calendarFormat=lve;Ms.prototype=Bo;Ms.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const qbe="modulepreload",Ybe=function(r){return"/build-sysadmin/"+r},Ore={},Gbe=function(a,d,g){let C=Promise.resolve();if(d&&d.length>0){let V=function(te){return Promise.all(te.map(Se=>Promise.resolve(Se).then(ye=>({status:"fulfilled",value:ye}),ye=>({status:"rejected",reason:ye}))))};var M=V;document.getElementsByTagName("link");const H=document.querySelector("meta[property=csp-nonce]"),Y=H?.nonce||H?.getAttribute("nonce");C=V(d.map(te=>{if(te=Ybe(te),te in Ore)return;Ore[te]=!0;const Se=te.endsWith(".css"),ye=Se?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${te}"]${ye}`))return;const je=document.createElement("link");if(je.rel=Se?"stylesheet":qbe,Se||(je.as="script"),je.crossOrigin="",je.href=te,Y&&je.setAttribute("nonce",Y),document.head.appendChild(je),Se)return new Promise((Le,Ee)=>{je.addEventListener("load",Le),je.addEventListener("error",()=>Ee(new Error(`Unable to preload CSS for ${te}`)))})}))}function k(H){const Y=new Event("vite:preloadError",{cancelable:!0});if(Y.payload=H,window.dispatchEvent(Y),!Y.defaultPrevented)throw H}return C.then(H=>{for(const Y of H||[])Y.status==="rejected"&&k(Y.reason);return a().catch(k)})};var HP={exports:{}},Kbe=HP.exports,Mre;function Xbe(){return Mre||(Mre=1,(function(r,a){(function(d,g){g(a)})(Kbe,(function(d){class g extends Error{}class C{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(J){const de=new g(`${this.base} Unexpected option: ${J} does not match a known option.`);throw de.code=1,de}unexpectedOptions(J){const de=new g(`${this.base}: ${J.join(", ")}`);throw de.code=1,de}unexpectedOptionValue(J,de,_e){const Ie=new g(`${this.base} Unexpected option value: ${J} does not accept a value of "${de}". Valid values are: ${_e.join(", ")}`);throw Ie.code=2,Ie}typeMismatch(J,de,_e){const Ie=new g(`${this.base} Mismatch types: ${J} has a type of ${de} instead of the required ${_e}`);throw Ie.code=3,Ie}numbersOutOfRange(J,de,_e){const Ie=new g(`${this.base} ${J} expected an array of number between ${de} and ${_e}.`);throw Ie.code=4,Ie}failedToParseDate(J,de,_e=!1){const Ie=new g(`${this.base} Could not correctly parse "${de}" to a date for ${J}.`);if(Ie.code=5,!_e)throw Ie;console.warn(Ie)}mustProvideElement(){const J=new g(`${this.base} No element was provided.`);throw J.code=6,J}subscribeMismatch(){const J=new g(`${this.base} The subscribed events does not match the number of callbacks`);throw J.code=7,J}conflictingConfiguration(J){const de=new g(`${this.base} A configuration value conflicts with another rule. ${J}`);throw de.code=8,de}customDateFormatError(J){const de=new g(`${this.base} Custom Date Format: ${J}`);throw de.code=9,de}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`)}deprecatedWarning(J,de){console.warn(`${this.base} Warning ${J} is deprecated and will be removed in a future version. ${de}`)}throwError(J){const de=new g(`${this.base} ${J}`);throw de.code=9,de}}const k="tempus-dominus",M="td";class H{constructor(){this.key=`.${M}`,this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}}class Y{constructor(){this.widget=`${k}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}}class V{}V.NAME=k,V.dataKey=M,V.events=new H,V.css=new Y,V.errorMessages=new C;var Se={...{dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:Vt=>{const J=["th","st","nd","rd"],de=Vt%100;return`[${Vt}${J[(de-20)%10]||J[de]||J[0]}]`}}};d.Unit=void 0,(function(Vt){Vt.seconds="seconds",Vt.minutes="minutes",Vt.hours="hours",Vt.date="date",Vt.month="month",Vt.year="year"})(d.Unit||(d.Unit={}));const ye={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},je=Vt=>{switch(Vt){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},Le=Vt=>{if(!Vt)return"h12";const J={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},de=new Ee().setLocalization({locale:Vt});de.hours=0;const _e=de.parts(void 0,J).hour;if(_e==="12")return"h12";if(_e==="24")return"h24";de.hours=23;const Ie=de.parts(void 0,J).hour;if(_e==="00"&&Ie==="11")return"h11";if(_e==="00"&&Ie==="23")return"h23";console.warn(`couldn't determine hour cycle for ${Vt}. start: ${_e}. end: ${Ie}`)};class Ee extends Date{constructor(){super(...arguments),this.localization=Se,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?d?d?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(J,de)=>{J.offset=this.offsetFromString(de)}],this.expressions={t:{pattern:void 0,parser:(J,de)=>{J.afternoon=this.meridiemMatch(de)}},T:{pattern:void 0,parser:(J,de)=>{J.afternoon=this.meridiemMatch(de)}},fff:{pattern:this.match3,parser:(J,de)=>{J.milliseconds=+de}},s:{pattern:this.match1to2,parser:this.addInput("seconds")},ss:{pattern:this.match1to2,parser:this.addInput("seconds")},m:{pattern:this.match1to2,parser:this.addInput("minutes")},mm:{pattern:this.match1to2,parser:this.addInput("minutes")},H:{pattern:this.match1to2,parser:this.addInput("hours")},h:{pattern:this.match1to2,parser:this.addInput("hours")},HH:{pattern:this.match1to2,parser:this.addInput("hours")},hh:{pattern:this.match1to2,parser:this.addInput("hours")},d:{pattern:this.match1to2,parser:this.addInput("day")},dd:{pattern:this.match2,parser:this.addInput("day")},Do:{pattern:this.matchWord,parser:(J,de)=>{if(J.day=+(de.match(/\d+/)[0]||1),!!this.localization.ordinal)for(let _e=1;_e<=31;_e+=1)this.localization.ordinal(_e).replace(/[[\]]/g,"")===de&&(J.day=_e)}},M:{pattern:this.match1to2,parser:this.addInput("month")},MM:{pattern:this.match2,parser:this.addInput("month")},MMM:{pattern:this.matchWord,parser:(J,de)=>{const _e=this.getAllMonths(),ot=(this.getAllMonths("short")||_e.map(Tt=>Tt.slice(0,3))).indexOf(de)+1;if(ot<1)throw new Error;J.month=ot%12||ot}},MMMM:{pattern:this.matchWord,parser:(J,de)=>{const Ie=this.getAllMonths().indexOf(de)+1;if(Ie<1)throw new Error;J.month=Ie%12||Ie}},y:{pattern:this.matchSigned,parser:this.addInput("year")},yy:{pattern:this.match2,parser:(J,de)=>{J.year=this.parseTwoDigitYear(+de)}},yyyy:{pattern:this.match4,parser:this.addInput("year")}}}setLocale(J){return this.localization||(this.localization=Se,this.localization.locale=J),this}setLocalization(J){return this.localization=J,this}static convert(J,de="default",_e=void 0){if(!J)throw new Error("A date is required");return _e||(_e=Se,_e.locale=de),new Ee(J.getFullYear(),J.getMonth(),J.getDate(),J.getHours(),J.getMinutes(),J.getSeconds(),J.getMilliseconds()).setLocalization(_e)}get clone(){return new Ee(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(J){return J===void 0||JSON.stringify(J)==="null"?!1:J.constructor.name===Ee.name}startOf(J,de=0){if(this[J]===void 0)throw new Error(`Unit '${J}' is not valid`);switch(J){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(d.Unit.date),this.weekDay===de)break;const _e=(this.weekDay-de+7)%7;this.manipulate(_e*-1,d.Unit.date);break}case"month":this.startOf(d.Unit.date),this.setDate(1);break;case"year":this.startOf(d.Unit.date),this.setMonth(0,1);break}return this}endOf(J,de=0){if(this[J]===void 0)throw new Error(`Unit '${J}' is not valid`);switch(J){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":{this.endOf(d.Unit.date);const _e=6+de;if(this.weekDay===_e)break;this.manipulate(_e-this.weekDay,d.Unit.date);break}case"month":this.endOf(d.Unit.date),this.manipulate(1,d.Unit.month),this.setDate(0);break;case"year":this.endOf(d.Unit.date),this.setMonth(11,31);break}return this}manipulate(J,de){if(this[de]===void 0)throw new Error(`Unit '${de}' is not valid`);return this[de]+=J,this}isBefore(J,de){if(!Ee.isValid(J))return!1;if(!de)return this.valueOf()<J.valueOf();if(this[de]===void 0)throw new Error(`Unit '${de}' is not valid`);return this.clone.startOf(de).valueOf()<J.clone.startOf(de).valueOf()}isAfter(J,de){if(!Ee.isValid(J))return!1;if(!de)return this.valueOf()>J.valueOf();if(this[de]===void 0)throw new Error(`Unit '${de}' is not valid`);return this.clone.startOf(de).valueOf()>J.clone.startOf(de).valueOf()}isSame(J,de){if(!Ee.isValid(J))return!1;if(!de)return this.valueOf()===J.valueOf();if(this[de]===void 0)throw new Error(`Unit '${de}' is not valid`);return J=Ee.convert(J),this.clone.startOf(de).valueOf()===J.startOf(de).valueOf()}isBetween(J,de,_e,Ie="()"){if(!Ee.isValid(J)||!Ee.isValid(de))return!1;if(_e&&this[_e]===void 0)throw new Error(`Unit '${_e}' is not valid`);const ot=Ie[0]==="(",Tt=Ie[1]===")",Cn=ot?this.isAfter(J,_e):!this.isBefore(J,_e),ro=Tt?this.isBefore(de,_e):!this.isAfter(de,_e);return Cn&&ro}parts(J=this.localization.locale,de={dateStyle:"full",timeStyle:"long"}){const _e={};return new Intl.DateTimeFormat(J,de).formatToParts(this).filter(Ie=>Ie.type!=="literal").forEach(Ie=>_e[Ie.type]=Ie.value),_e}get seconds(){return this.getSeconds()}set seconds(J){this.setSeconds(J)}get secondsFormatted(){return this.parts(void 0,ye).second}get minutes(){return this.getMinutes()}set minutes(J){this.setMinutes(J)}get minutesFormatted(){return this.parts(void 0,ye).minute}get hours(){return this.getHours()}set hours(J){this.setHours(J)}getHoursFormatted(J="h12"){return this.parts(void 0,{...ye,hourCycle:J}).hour}meridiem(J=this.localization.locale){return new Intl.DateTimeFormat(J,{hour:"numeric",hour12:!0}).formatToParts(this).find(de=>de.type==="dayPeriod")?.value}get date(){return this.getDate()}set date(J){this.setDate(J)}get dateFormatted(){return this.parts(void 0,ye).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(J){const de=new Date(this.year,J+1);de.setDate(0);const _e=de.getDate();this.date>_e&&(this.date=_e),this.setMonth(J)}get monthFormatted(){return this.parts(void 0,ye).month}get year(){return this.getFullYear()}set year(J){this.setFullYear(J)}get week(){const J=this.computeOrdinal(),de=this.getUTCDay();let _e=Math.floor((J-de+10)/7);return _e<1?_e=this.weeksInWeekYear():_e>this.weeksInWeekYear()&&(_e=1),_e}weeksInWeekYear(){const J=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,de=this.year-1,_e=(de+Math.floor(de/4)-Math.floor(de/100)+Math.floor(de/400))%7;return J===4||_e===3?53:52}dateToDataValue(){return Ee.isValid(this)?`${this.year}-${this.month.toString().padStart(2,"0")}-${this.date.toString().padStart(2,"0")}`:""}get isLeapYear(){return this.year%4===0&&(this.year%100!==0||this.year%400===0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(J="long"){const de=new Intl.DateTimeFormat(this.localization.locale,{month:J}).format;return[...Array(12).keys()].map(_e=>de(new Date(2021,_e)))}replaceTokens(J,de){return J.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,(_e,Ie,ot)=>{const Tt=ot&&ot.toUpperCase();return Ie||de[Tt]||Se.dateFormats[Tt]})}parseTwoDigitYear(J){return J+(J>68?1900:2e3)}offsetFromString(J){if(!J||J==="Z")return 0;const[de,_e,Ie]=J.match(/([+-]|\d\d)/g),ot=+_e*60+(+Ie||0),Tt=de==="+"?-ot:ot;return ot===0?0:Tt}zoneInformation(J,de){let _e=J.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");const Ie=_e.includes("-");return _e=_e.replace("-",""),de==="z"?_e=_e.substring(1,2):de==="zz"&&(_e=_e.substring(0,2)),`${Ie?"-":""}${_e}`}addInput(J){return(de,_e)=>{de[J]=+_e}}getLocaleAfternoon(){return new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find(J=>J.type==="dayPeriod")?.value?.replace(/\s+/g," ")}meridiemMatch(J){return J.toLowerCase()===this.getLocaleAfternoon().toLowerCase()}correctHours(J){const{afternoon:de}=J;if(de!==void 0){const{hours:_e}=J;de?_e<12&&(J.hours+=12):_e===12&&(J.hours=0),delete J.afternoon}}makeParser(J){J=this.replaceTokens(J,this.localization.dateFormats);const de=J.match(this.formattingTokens),{length:_e}=de,Ie=[];for(let ot=0;ot<_e;ot+=1){const Tt=de[ot],Cn=this.expressions[Tt];Cn?.parser?Ie[ot]=Cn:Ie[ot]=Tt.replace(/^\[[^[\]]*]$/g,"")}return ot=>{const Tt={hours:0,minutes:0,seconds:0,milliseconds:0};for(let Cn=0,ro=0;Cn<_e;Cn+=1){const Gn=Ie[Cn];if(typeof Gn=="string")ro+=Gn.length;else{const yn=ot.slice(ro);let Uo=yn;Gn.pattern&&(Uo=Gn.pattern.exec(yn)[0]),Gn.parser.call(this,Tt,Uo),ot=ot.replace(Uo,"")}}return this.correctHours(Tt),Tt}}static fromString(J,de){de?.format||V.errorMessages.customDateFormatError("No format was provided");try{const _e=new Ee;if(_e.setLocalization(de),["x","X"].indexOf(de.format)>-1)return new Ee((de.format==="X"?1e3:1)*+J);J=J.replace(/\s+/g," ");const Ie=_e.makeParser(de.format),{year:ot,month:Tt,day:Cn,hours:ro,minutes:Gn,seconds:yn,milliseconds:Uo,zone:zs}=Ie(J),Co=Cn||(!ot&&!Tt?_e.getDate():1),Ci=ot||_e.getFullYear();let Mn=0;return ot&&!Tt||(Mn=Tt>0?Tt-1:_e.getMonth()),zs?new Ee(Date.UTC(Ci,Mn,Co,ro,Gn,yn,Uo+zs.offset*60*1e3)):new Ee(Ci,Mn,Co,ro,Gn,yn,Uo)}catch{V.errorMessages.customDateFormatError(`Unable to parse provided input: ${J}, format: ${de.format}`)}}format(J,de=this.localization.locale){if(J&&typeof J=="object")return new Intl.DateTimeFormat(de,J).format(this);const _e=this.replaceTokens(J||this.localization.format||`${Se.dateFormats.L}, ${Se.dateFormats.LT}`,this.localization.dateFormats),Ie=ro=>new Intl.DateTimeFormat(this.localization.locale,ro).format(this);this.localization.hourCycle||(this.localization.hourCycle=Le(this.localization.locale));const ot=this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle,Tt=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle,Cn={y:this.year,yy:Ie({year:"2-digit"}),yyyy:this.year,M:Ie({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:Ie({weekday:"short"}),dddd:Ie({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(ot),h:this.hours>12?this.hours-12:this.hours,hh:this.getHoursFormatted(Tt),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return _e.replace(this.dateTimeRegex,(ro,Gn)=>Gn||Cn[ro]).replace(/\[/g,"").replace(/]/g,"")}}class Ce{constructor(){this.cache=new Map}locate(J){const de=this.cache.get(J);if(de)return de;const _e=new J;return this.cache.set(J,_e),_e}}const at=()=>{Je=new Ce};let Je;const xe=[{name:"calendar",className:V.css.daysContainer,unit:d.Unit.month,step:1},{name:"months",className:V.css.monthsContainer,unit:d.Unit.year,step:1},{name:"years",className:V.css.yearsContainer,unit:d.Unit.year,step:10},{name:"decades",className:V.css.decadesContainer,unit:d.Unit.year,step:100}];class dt{constructor(){this._currentCalendarViewMode=0,this._viewDate=new Ee,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(J){this._currentCalendarViewMode=J,this.currentView=xe[J].name}get viewDate(){return this._viewDate}set viewDate(J){this._viewDate=J,this.options&&(this.options.viewDate=J)}refreshCurrentView(){this.currentView=xe[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class Qt{constructor(){this.optionsStore=Je.locate(dt)}isValid(J,de){return!(!this._enabledDisabledDatesIsValid(de,J)||de!==d.Unit.month&&de!==d.Unit.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(J.weekDay)!==-1||!this._minMaxIsValid(de,J)||(de===d.Unit.hours||de===d.Unit.minutes||de===d.Unit.seconds)&&(!this._enabledDisabledHoursIsValid(J)||this.optionsStore.options.restrictions.disabledTimeIntervals?.filter(_e=>J.isBetween(_e.from,_e.to)).length!==0))}_enabledDisabledDatesIsValid(J,de){return J!==d.Unit.date?!0:!(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(de)||this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(de))}_isInDisabledDates(J){return!this.optionsStore.options.restrictions.disabledDates||this.optionsStore.options.restrictions.disabledDates.length===0?!1:!!this.optionsStore.options.restrictions.disabledDates.find(de=>de.isSame(J,d.Unit.date))}_isInEnabledDates(J){return!this.optionsStore.options.restrictions.enabledDates||this.optionsStore.options.restrictions.enabledDates.length===0?!0:!!this.optionsStore.options.restrictions.enabledDates.find(de=>de.isSame(J,d.Unit.date))}_minMaxIsValid(J,de){return!(this.optionsStore.options.restrictions.minDate&&de.isBefore(this.optionsStore.options.restrictions.minDate,J)||this.optionsStore.options.restrictions.maxDate&&de.isAfter(this.optionsStore.options.restrictions.maxDate,J))}_enabledDisabledHoursIsValid(J){return!(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(J)||this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(J))}_isInDisabledHours(J){if(!this.optionsStore.options.restrictions.disabledHours||this.optionsStore.options.restrictions.disabledHours.length===0)return!1;const de=J.hours;return this.optionsStore.options.restrictions.disabledHours.includes(de)}_isInEnabledHours(J){if(!this.optionsStore.options.restrictions.enabledHours||this.optionsStore.options.restrictions.enabledHours.length===0)return!0;const de=J.hours;return this.optionsStore.options.restrictions.enabledHours.includes(de)}dateRangeIsValid(J,de,_e){if(!this.optionsStore.options.dateRange||J.length!==2&&de!==1)return!0;const Ie=J[0].clone;if(Ie.isSame(_e,d.Unit.date))return!0;for(Ie.manipulate(1,d.Unit.date);!Ie.isSame(_e,d.Unit.date);){if(!this.isValid(Ie,d.Unit.date))return!1;Ie.manipulate(1,d.Unit.date)}return!0}}class Et{constructor(){this.subscribers=[]}subscribe(J){return this.subscribers.push(J),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(J){this.subscribers.splice(J,1)}emit(J){this.subscribers.forEach(de=>{de(J)})}destroy(){this.subscribers=null,this.subscribers=[]}}class P{constructor(){this.triggerEvent=new Et,this.viewUpdate=new Et,this.updateDisplay=new Et,this.action=new Et,this.updateViewDate=new Et}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}const mn={clear:"Clear selection",close:"Close the picker",dateFormats:Se.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:Se.format,hourCycle:Se.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:Se.locale,maxWeekdayLength:0,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:Se.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem",toggleAriaLabel:"Change date"},Ln={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom",keyboardNavigation:!0},keepInvalid:!1,localization:mn,meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new Ee},ln={...mn};function et(Vt,J){if(!Vt)return null;if(Vt.constructor.name===Ee.name)return Vt;if(Vt.constructor.name===Date.name)return Ee.convert(Vt);if(typeof Vt=="string"){const de=Ee.fromString(Vt,J);return JSON.stringify(de)==="null"?null:de}return null}function Fe(Vt,J,de){typeof Vt=="string"&&J!=="input"&&V.errorMessages.dateString();const _e=et(Vt,de);return _e||V.errorMessages.failedToParseDate(J,Vt,J==="input"),_e}function En(Vt,J,de,_e=Se){Array.isArray(J)||V.errorMessages.typeMismatch(Vt,de,"array of DateTime or Date");for(let Ie=0;Ie<J.length;Ie++){const ot=J[Ie],Tt=Fe(ot,Vt,_e);Tt.setLocalization(_e),J[Ie]=Tt}}function wn(Vt,J,de){(!Array.isArray(J)||J.some(_e=>typeof _e!="number"))&&V.errorMessages.typeMismatch(Vt,de,"array of numbers")}function Ze(Vt){return({value:J,localization:de})=>{const _e=Fe(J,Vt,de);if(_e!==void 0)return _e.setLocalization(de),_e}}function U(Vt){const J=Ze(Vt);return de=>de.value===void 0?de.value:J(de)}function en(Vt,J,de){return({value:_e,providedType:Ie})=>_e===void 0?[]:(wn(Vt,_e,Ie),_e.some(ot=>ot<J||ot>de)&&V.errorMessages.numbersOutOfRange(Vt,J,de),_e)}function xt(Vt){return en(Vt,0,23)}function Eo(Vt){return({value:J,providedType:de,localization:_e})=>J===void 0?[]:(En(Vt,J,de,_e),J)}function eo(Vt){return({value:J,path:de})=>(Vt.includes(J)||V.errorMessages.unexpectedOptionValue(de.substring(1),J,Vt),J)}const qt=Object.freeze({defaultDate:Ze("defaultDate"),viewDate:Ze("viewDate"),minDate:U("restrictions.minDate"),maxDate:U("restrictions.maxDate"),disabledHours:xt("restrictions.disabledHours"),enabledHours:xt("restrictions.enabledHours"),disabledDates:Eo("restrictions.disabledDates"),enabledDates:Eo("restrictions.enabledDates"),daysOfWeekDisabled:en("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:Vt,value:J,providedType:de,localization:_e})=>{if(J===void 0)return[];Array.isArray(J)||V.errorMessages.typeMismatch(Vt,de,"array of { from: DateTime|Date, to: DateTime|Date }");const Ie=J;for(let ot=0;ot<Ie.length;ot++)Object.keys(Ie[ot]).forEach(Tt=>{const Cn=`${Vt}[${ot}].${Tt}`,ro=Ie[ot][Tt],Gn=Fe(ro,Cn,_e);Gn.setLocalization(_e),Ie[ot][Tt]=Gn});return Ie},toolbarPlacement:eo(["top","bottom","default"]),type:eo(["icons","sprites"]),viewMode:eo(["clock","calendar","months","years","decades"]),theme:eo(["light","dark","auto"]),placement:eo(["top","bottom"]),meta:({value:Vt})=>Vt,dayViewHeaderFormat:({value:Vt})=>Vt,container:({value:Vt,path:J})=>(Vt&&!(Vt instanceof HTMLElement||Vt instanceof Element||Vt?.appendChild)&&V.errorMessages.typeMismatch(J.substring(1),typeof Vt,"HTMLElement"),Vt),useTwentyfourHour:({value:Vt,path:J,providedType:de,defaultType:_e})=>{if(V.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),Vt===void 0||de==="boolean")return Vt;V.errorMessages.typeMismatch(J,de,_e)},hourCycle:eo(["h11","h12","h23","h24"])}),us=({value:Vt,defaultType:J,providedType:de,path:_e})=>{switch(J){case"boolean":return Vt==="true"||Vt===!0;case"number":return+Vt;case"string":return Vt.toString();case"object":return{};case"function":return Vt;default:V.errorMessages.typeMismatch(_e,de,J)}};function Er(Vt){return(qt[Vt.key]||us)(Vt)}class Oo{static deepCopy(J){const de={};return Object.keys(J).forEach(_e=>{const Ie=J[_e];if(Ie instanceof Ee){de[_e]=Ie.clone;return}else if(Ie instanceof Date){de[_e]=new Date(Ie.valueOf());return}de[_e]=Ie,!(typeof Ie!="object"||Ie instanceof HTMLElement||Ie instanceof Element)&&(Array.isArray(Ie)||(de[_e]=Oo.deepCopy(Ie)))}),de}static objectPath(J,de){return J.charAt(0)==="."&&(J=J.slice(1)),J?J.split(".").reduce((_e,Ie)=>Oo.isValue(_e)||Oo.isValue(_e[Ie])?_e[Ie]:void 0,de):de}static spread(J,de,_e,Ie=""){const ot=Oo.objectPath(Ie,Ln),Tt=Object.keys(J).filter(Cn=>!Object.keys(ot).includes(Cn));if(Tt.length>0){const Cn=Oo.getFlattenDefaultOptions(),ro=Tt.map(Gn=>{let Uo=`"${Ie}${Ie?".":""}${Gn}" is not a known option.`;const zs=Cn.find(Co=>Co.includes(Gn));return zs&&(Uo+=` Did you mean "${zs}"?`),Uo});V.errorMessages.unexpectedOptions(ro)}Object.keys(J).filter(Cn=>Cn!=="__proto__"&&Cn!=="constructor").forEach(Cn=>{Ie+=`.${Cn}`,Ie.charAt(0)==="."&&(Ie=Ie.slice(1));const ro=ot[Cn],Gn=typeof J[Cn],yn=typeof ro,Uo=J[Cn];if(Uo==null){de[Cn]=Uo,Ie=Ie.substring(0,Ie.lastIndexOf(`.${Cn}`));return}typeof ro=="object"&&!Array.isArray(J[Cn])&&!(ro instanceof Date||Oo.ignoreProperties.includes(Cn))?Oo.spread(J[Cn],de[Cn],_e,Ie):de[Cn]=Oo.processKey(Cn,Uo,Gn,yn,Ie,_e),Ie=Ie.substring(0,Ie.lastIndexOf(`.${Cn}`))})}static processKey(J,de,_e,Ie,ot,Tt){return Er({key:J,value:de,providedType:_e,defaultType:Ie,path:ot,localization:Tt})}static _mergeOptions(J,de){const _e=Oo.deepCopy(de),Ie=de.localization?.locale!=="default"?de.localization:J?.localization||Ln.localization;return Oo.spread(J,_e,Ie,""),_e}static _dataToOptions(J,de){const _e=JSON.parse(JSON.stringify(J.dataset));if(_e?.tdTargetInput&&delete _e.tdTargetInput,_e?.tdTargetToggle&&delete _e.tdTargetToggle,!_e||Object.keys(_e).length===0)return de;const Ie={},ot=ro=>{const Gn={};return Object.keys(ro).forEach(yn=>{Gn[yn.toLowerCase()]=yn}),Gn},Tt=this.normalizeObject(ot),Cn=ot(de);return Object.keys(_e).filter(ro=>ro.startsWith(V.dataKey)).map(ro=>ro.substring(2)).forEach(ro=>{let Gn=Cn[ro.toLowerCase()];if(ro.includes("_")){const yn=ro.split("_");Gn=Cn[yn[0].toLowerCase()],Gn!==void 0&&de[Gn].constructor===Object&&(Ie[Gn]=Tt(yn,1,de[Gn],_e[`td${ro}`]))}else Gn!==void 0&&(Ie[Gn]=_e[`td${ro}`])}),this._mergeOptions(Ie,de)}static normalizeObject(J){const de=(_e,Ie,ot,Tt)=>{const ro=J(ot)[_e[Ie].toLowerCase()],Gn={};return ro===void 0||(ot[ro]?.constructor===Object?(Ie++,Gn[ro]=de(_e,Ie,ot[ro],Tt)):Gn[ro]=Tt),Gn};return de}static _dateTypeCheck(J,de){return et(J,de)}static _typeCheckDateArray(J,de,_e,Ie){return En(J,de,_e,Ie)}static _typeCheckNumberArray(J,de,_e){return wn(J,de,_e)}static dateConversion(J,de,_e){return Fe(J,de,_e)}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const J=(de,_e=[])=>Array.isArray(de)?[]:Object(de)===de?Object.entries(de).flatMap(([Ie,ot])=>J(ot,[..._e,Ie])):_e.join(".");return this._flattenDefaults=J(Ln),this._flattenDefaults}static _validateConflicts(J){J.display.sideBySide&&(!J.display.components.clock||!(J.display.components.hours||J.display.components.minutes||J.display.components.seconds))&&V.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),J.restrictions.minDate&&J.restrictions.maxDate&&(J.restrictions.minDate.isAfter(J.restrictions.maxDate)&&V.errorMessages.conflictingConfiguration("minDate is after maxDate"),J.restrictions.maxDate.isBefore(J.restrictions.minDate)&&V.errorMessages.conflictingConfiguration("maxDate is before minDate")),J.multipleDates&&J.dateRange&&V.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}Oo.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],Oo.isValue=Vt=>Vt!=null;class Ds{constructor(){this._dates=[],this.optionsStore=Je.locate(dt),this.validation=Je.locate(Qt),this._eventEmitters=Je.locate(P)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return this._dates.length===0?0:this._dates.length-1}formatInput(J){return J?(J.localization=this.optionsStore.options.localization,J.format()):""}parseInput(J){try{return Oo.dateConversion(J,"input",this.optionsStore.options.localization)}catch{this._eventEmitters.triggerEvent.emit({type:V.events.error,reason:V.errorMessages.failedToParseInput,format:this.optionsStore.options.localization.format,value:J});return}}setFromInput(J,de){if(!J){this.setValue(void 0,de);return}const _e=this.parseInput(J);_e&&(_e.setLocalization(this.optionsStore.options.localization),this.setValue(_e,de))}add(J){this._dates.push(J)}isPicked(J,de){if(!Ee.isValid(J))return!1;if(!de)return this._dates.find(ot=>ot.isSame(J))!==void 0;const _e=je(de),Ie=J.format(_e);return this._dates.map(ot=>ot.format(_e)).find(ot=>ot===Ie)!==void 0}pickedIndex(J,de){if(!Ee.isValid(J))return-1;if(!de)return this._dates.map(ot=>ot.valueOf()).indexOf(J.valueOf());const _e=je(de),Ie=J.format(_e);return this._dates.map(ot=>ot.format(_e)).indexOf(Ie)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:V.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(J,de){const _e=J/10,Ie=Math.floor(de/J)*J,ot=Ie+_e*9,Tt=Math.floor(de/_e)*_e;return[Ie,ot,Tt]}updateInput(J){if(!this.optionsStore.input)return;let de=this.formatInput(J);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(de=this._dates.map(_e=>this.formatInput(_e)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=de&&(this.optionsStore.input.value=de)}setValue(J,de){const _e=typeof de>"u",Ie=!J&&_e;let ot=this.optionsStore.unset?null:this._dates[de]?.clone;if(!ot&&!this.optionsStore.unset&&_e&&Ie&&(ot=this.lastPicked),J&&ot?.isSame(J)){this.updateInput(J);return}if(!J){this._setValueNull(Ie,de,ot);return}de=de||0,J=J.clone,this.optionsStore.options.stepping!==1&&(J.minutes=Math.round(J.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,J.startOf(d.Unit.minutes));const Tt=Cn=>{this._dates[de]=J,this._eventEmitters.updateViewDate.emit(J.clone),this.updateInput(J),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:V.events.change,date:J,oldDate:ot,isClear:Ie,isValid:Cn})};if(this.validation.isValid(J)&&this.validation.dateRangeIsValid(this.picked,de,J)){Tt(!0);return}this.optionsStore.options.keepInvalid&&Tt(!1),this._eventEmitters.triggerEvent.emit({type:V.events.error,reason:V.errorMessages.failedToSetInvalidDate,date:J,oldDate:ot})}_setValueNull(J,de,_e){!this.optionsStore.options.multipleDates||this._dates.length===1||J?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(de,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:V.events.change,date:void 0,oldDate:_e,isClear:J,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}var Yt;(function(Vt){Vt.next="next",Vt.previous="previous",Vt.changeCalendarView="changeCalendarView",Vt.selectMonth="selectMonth",Vt.selectYear="selectYear",Vt.selectDecade="selectDecade",Vt.selectDay="selectDay",Vt.selectHour="selectHour",Vt.selectMinute="selectMinute",Vt.selectSecond="selectSecond",Vt.incrementHours="incrementHours",Vt.incrementMinutes="incrementMinutes",Vt.incrementSeconds="incrementSeconds",Vt.decrementHours="decrementHours",Vt.decrementMinutes="decrementMinutes",Vt.decrementSeconds="decrementSeconds",Vt.toggleMeridiem="toggleMeridiem",Vt.togglePicker="togglePicker",Vt.showClock="showClock",Vt.showHours="showHours",Vt.showMinutes="showMinutes",Vt.showSeconds="showSeconds",Vt.clear="clear",Vt.close="close",Vt.today="today"})(Yt||(Yt={}));var yt=Yt;class le{constructor(){this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");if(J.classList.add(V.css.daysContainer),J.role="grid",J.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const Ie=document.createElement("div");Ie.classList.add(V.css.calendarWeeks,V.css.noHighlight),J.appendChild(Ie)}const{rangeHoverEvent:de,rangeHoverOutEvent:_e}=this.handleMouseEvents(J);for(let Ie=0;Ie<42;Ie++){if(Ie!==0&&Ie%7===0&&this.optionsStore.options.display.calendarWeeks){const Tt=document.createElement("div");Tt.classList.add(V.css.calendarWeeks,V.css.noHighlight),Tt.tabIndex=-1,J.appendChild(Tt)}const ot=document.createElement("div");ot.setAttribute("data-action",yt.selectDay),ot.role="gridcell",ot.tabIndex=-1,J.appendChild(ot),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(ot.addEventListener("mouseover",de),ot.addEventListener("mouseout",_e))}return J}_update(J,de){const _e=J.getElementsByClassName(V.css.daysContainer)[0];this._updateCalendarView(_e);const Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,d.Unit.hours);this._handleCalendarWeeks(_e,Ie.clone),_e.querySelectorAll(`[data-action="${yt.selectDay}"]`).forEach(ot=>{const Tt=[];Tt.push(V.css.day),Ie.isBefore(this.optionsStore.viewDate,d.Unit.month)&&Tt.push(V.css.old),Ie.isAfter(this.optionsStore.viewDate,d.Unit.month)&&Tt.push(V.css.new),!this.optionsStore.unset&&!this.optionsStore.options.dateRange&&this.dates.isPicked(Ie,d.Unit.date)&&Tt.push(V.css.active),this.validation.isValid(Ie,d.Unit.date)||Tt.push(V.css.disabled),Ie.isSame(new Ee,d.Unit.date)&&Tt.push(V.css.today),(Ie.weekDay===0||Ie.weekDay===6)&&Tt.push(V.css.weekend),this._handleDateRange(Ie,Tt),de(d.Unit.date,Ie,Tt,ot),ot.classList.remove(...ot.classList),ot.classList.add(...Tt),ot.setAttribute("data-value",Ie.dateToDataValue()),ot.setAttribute("data-day",`${Ie.date}`),ot.innerText=Ie.parts(void 0,{day:"numeric"}).day,ot.ariaLabel=Ie.format("MMMM dd, yyyy"),Ie.manipulate(1,d.Unit.date)})}_handleDateRange(J,de){const _e=this.dates.picked[0],Ie=this.dates.picked[1];this.optionsStore.options.dateRange&&(J.isBetween(_e,Ie,d.Unit.date)&&de.push(V.css.rangeIn),J.isSame(_e,d.Unit.date)&&de.push(V.css.rangeStart),J.isSame(Ie,d.Unit.date)&&de.push(V.css.rangeEnd))}handleMouseEvents(J){return{rangeHoverEvent:Ie=>{const ot=Ie?.currentTarget;if(this.dates.picked.length!==1||ot.classList.contains(V.css.disabled))return;const Tt=[...J.querySelectorAll(".day")],Cn=ot.getAttribute("data-value"),ro=Ee.fromString(Cn,{format:"yyyy-MM-dd"}),Gn=Tt.findIndex(go=>go.getAttribute("data-value")===Cn),yn=this.dates.picked[0],Uo=this.dates.picked[1],zs=yn.dateToDataValue(),Co=Tt.findIndex(go=>go.getAttribute("data-value")===zs),Ci=Tt[Co];ro.isSame(yn,d.Unit.date)||ot.classList.remove(V.css.rangeStart),ro.isSame(Uo,d.Unit.date)||ot.classList.remove(V.css.rangeEnd);let Mn;ro.isBefore(yn)?(ot.classList.add(V.css.rangeStart),Ci?.classList.remove(V.css.rangeStart),Ci?.classList.add(V.css.rangeEnd),Mn=(go,Mo)=>Mo>Gn&&Mo<Co):(ot.classList.add(V.css.rangeEnd),Ci?.classList.remove(V.css.rangeEnd),Ci?.classList.add(V.css.rangeStart),Mn=(go,Mo)=>Mo<Gn&&Mo>Co),Tt.filter(Mn).forEach(go=>{go.classList.add(V.css.rangeIn)})},rangeHoverOutEvent:Ie=>{const ot=[...J.querySelectorAll(".day")];if(this.dates.picked.length===1&&ot.forEach(ro=>ro.classList.remove(V.css.rangeIn)),this.dates.picked.length!==1)return;const Tt=Ie?.currentTarget,Cn=new Ee(Tt.getAttribute("data-value"));Cn.isSame(this.dates.picked[0],d.Unit.date)||Tt.classList.remove(V.css.rangeStart),Cn.isSame(this.dates.picked[1],d.Unit.date)||Tt.classList.remove(V.css.rangeEnd)}}}_updateCalendarView(J){if(this.optionsStore.currentView!=="calendar")return;const[de,_e,Ie]=J.parentElement.getElementsByClassName(V.css.calendarHeader)[0].getElementsByTagName("div");_e.setAttribute(V.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?_e.classList.remove(V.css.disabled):_e.classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.month),d.Unit.month)?de.classList.remove(V.css.disabled):de.classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.month),d.Unit.month)?Ie.classList.remove(V.css.disabled):Ie.classList.add(V.css.disabled)}_daysOfTheWeek(){const J=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(d.Unit.date),de=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const _e=document.createElement("div");_e.classList.add(V.css.calendarWeeks,V.css.noHighlight),_e.innerText="#",de.push(_e)}for(let _e=0;_e<7;_e++){const Ie=document.createElement("div");Ie.classList.add(V.css.dayOfTheWeek,V.css.noHighlight);let ot=J.format({weekday:"short"});this.optionsStore.options.localization.maxWeekdayLength>0&&(ot=ot.substring(0,this.optionsStore.options.localization.maxWeekdayLength)),Ie.innerText=ot,Ie.ariaLabel=J.format({weekday:"long"}),J.manipulate(1,d.Unit.date),de.push(Ie)}return de}_handleCalendarWeeks(J,de){[...J.querySelectorAll(`.${V.css.calendarWeeks}`)].filter(_e=>_e.innerText!=="#").forEach(_e=>{_e.innerText=`${de.week}`,de.manipulate(7,d.Unit.date)})}}class hi{constructor(){this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.monthsContainer);for(let de=0;de<12;de++){const _e=document.createElement("div");_e.tabIndex=-1,_e.setAttribute("data-action",yt.selectMonth),J.appendChild(_e)}return J}_update(J,de){const _e=J.getElementsByClassName(V.css.monthsContainer)[0];if(this.optionsStore.currentView==="months"){const[ot,Tt,Cn]=_e.parentElement.getElementsByClassName(V.css.calendarHeader)[0].getElementsByTagName("div");Tt.setAttribute(V.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?Tt.classList.remove(V.css.disabled):Tt.classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.year),d.Unit.year)?ot.classList.remove(V.css.disabled):ot.classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.year),d.Unit.year)?Cn.classList.remove(V.css.disabled):Cn.classList.add(V.css.disabled)}const Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.year);_e.querySelectorAll(`[data-action="${yt.selectMonth}"]`).forEach((ot,Tt)=>{const Cn=[];Cn.push(V.css.month),!this.optionsStore.unset&&this.dates.isPicked(Ie,d.Unit.month)&&Cn.push(V.css.active),this.validation.isValid(Ie,d.Unit.month)||Cn.push(V.css.disabled),de(d.Unit.month,Ie,Cn,ot),ot.classList.remove(...ot.classList),ot.classList.add(...Cn),ot.setAttribute("data-value",`${Tt}`),ot.innerText=`${Ie.format({month:"short"})}`,Ie.manipulate(1,d.Unit.month)})}}class fs{constructor(){this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.yearsContainer);for(let de=0;de<12;de++){const _e=document.createElement("div");_e.tabIndex=-1,_e.setAttribute("data-action",yt.selectYear),J.appendChild(_e)}return J}_update(J,de){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,d.Unit.year);const _e=J.getElementsByClassName(V.css.yearsContainer)[0];if(this.optionsStore.currentView==="years"){const[ot,Tt,Cn]=_e.parentElement.getElementsByClassName(V.css.calendarHeader)[0].getElementsByTagName("div");Tt.setAttribute(V.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?Tt.classList.remove(V.css.disabled):Tt.classList.add(V.css.disabled),this.validation.isValid(this._startYear,d.Unit.year)?ot.classList.remove(V.css.disabled):ot.classList.add(V.css.disabled),this.validation.isValid(this._endYear,d.Unit.year)?Cn.classList.remove(V.css.disabled):Cn.classList.add(V.css.disabled)}const Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.year).manipulate(-1,d.Unit.year);_e.querySelectorAll(`[data-action="${yt.selectYear}"]`).forEach(ot=>{const Tt=[];Tt.push(V.css.year),!this.optionsStore.unset&&this.dates.isPicked(Ie,d.Unit.year)&&Tt.push(V.css.active),this.validation.isValid(Ie,d.Unit.year)||Tt.push(V.css.disabled),de(d.Unit.year,Ie,Tt,ot),ot.classList.remove(...ot.classList),ot.classList.add(...Tt),ot.setAttribute("data-value",`${Ie.year}`),ot.innerText=Ie.format({year:"numeric"}),Ie.manipulate(1,d.Unit.year)})}}class ns{constructor(){this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.decadesContainer);for(let de=0;de<12;de++){const _e=document.createElement("div");_e.tabIndex=-1,_e.setAttribute("data-action",yt.selectDecade),J.appendChild(_e)}return J}_update(J,de){const[_e,Ie]=Ds.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(d.Unit.year),this._startDecade.year=_e,this._endDecade=this.optionsStore.viewDate.clone.startOf(d.Unit.year),this._endDecade.year=Ie;const ot=J.getElementsByClassName(V.css.decadesContainer)[0],[Tt,Cn,ro]=ot.parentElement.getElementsByClassName(V.css.calendarHeader)[0].getElementsByTagName("div"),Gn=this.validation.isValid(this._startDecade,d.Unit.year);this.optionsStore.currentView==="decades"&&(Cn.setAttribute(V.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),Gn?Tt.classList.remove(V.css.disabled):Tt.classList.add(V.css.disabled),this.validation.isValid(this._endDecade,d.Unit.year)?ro.classList.remove(V.css.disabled):ro.classList.add(V.css.disabled));const yn=this.dates.picked.map(Uo=>Uo.year);ot.querySelectorAll(`[data-action="${yt.selectDecade}"]`).forEach((Uo,zs)=>{if(zs===0){Uo.classList.add(V.css.old),this._startDecade.year-10<0&&(Uo.textContent=" ",Tt.classList.add(V.css.disabled),Uo.classList.add(V.css.disabled),Uo.setAttribute("data-value",""));return}const Co=[];Co.push(V.css.decade);const Ci=this._startDecade.year,Mn=this._startDecade.year+9;!this.optionsStore.unset&&yn.filter(go=>go>=Ci&&go<=Mn).length>0&&Co.push(V.css.active),!Gn&&!this.validation.isValid(this._startDecade.clone.manipulate(10,d.Unit.year),d.Unit.year)&&Co.push(V.css.disabled),de("decade",this._startDecade,Co,Uo),Uo.classList.remove(...Uo.classList),Uo.classList.add(...Co),Uo.setAttribute("data-value",`${this._startDecade.year}`),Uo.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,d.Unit.year)})}}class js{constructor(){this._gridColumns="",this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt)}getPicker(J){const de=document.createElement("div");return de.classList.add(V.css.clockContainer),de.append(...this._grid(J)),de}_update(J){const de=J.getElementsByClassName(V.css.clockContainer)[0];let _e=this.dates.lastPicked?.clone;if(!_e&&this.optionsStore.options.useCurrent&&(_e=this.optionsStore.viewDate.clone),de.querySelectorAll(".disabled").forEach(Ie=>Ie.classList.remove(V.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.hours),d.Unit.hours)||de.querySelector(`[data-action=${yt.incrementHours}]`).classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.hours),d.Unit.hours)||de.querySelector(`[data-action=${yt.decrementHours}]`).classList.add(V.css.disabled),de.querySelector(`[data-time-component=${d.Unit.hours}]`).innerText=_e?_e.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.minutes),d.Unit.minutes)||de.querySelector(`[data-action=${yt.incrementMinutes}]`).classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.minutes),d.Unit.minutes)||de.querySelector(`[data-action=${yt.decrementMinutes}]`).classList.add(V.css.disabled),de.querySelector(`[data-time-component=${d.Unit.minutes}]`).innerText=_e?_e.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.seconds),d.Unit.seconds)||de.querySelector(`[data-action=${yt.incrementSeconds}]`).classList.add(V.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.seconds),d.Unit.seconds)||de.querySelector(`[data-action=${yt.decrementSeconds}]`).classList.add(V.css.disabled),de.querySelector(`[data-time-component=${d.Unit.seconds}]`).innerText=_e?_e.secondsFormatted:"--"),this.optionsStore.isTwelveHour){const Ie=de.querySelector(`[data-action=${yt.toggleMeridiem}]`),ot=(_e||this.optionsStore.viewDate).clone;Ie.innerText=ot.meridiem(),this.validation.isValid(ot.manipulate(ot.hours>=12?-12:12,d.Unit.hours))?Ie.classList.remove(V.css.disabled):Ie.classList.add(V.css.disabled)}de.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(J){this._gridColumns="";const de=[],_e=[],Ie=[],ot=document.createElement("div"),Tt=J(this.optionsStore.options.display.icons.up),Cn=J(this.optionsStore.options.display.icons.down);ot.classList.add(V.css.separator,V.css.noHighlight);const ro=ot.cloneNode(!0);ro.innerHTML=":";const Gn=(yn=!1)=>yn?ro.cloneNode(!0):ot.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let yn=document.createElement("div");yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.incrementHour),yn.setAttribute("data-action",yt.incrementHours),yn.appendChild(Tt.cloneNode(!0)),de.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.pickHour),yn.setAttribute("data-action",yt.showHours),yn.setAttribute("data-time-component",d.Unit.hours),_e.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.decrementHour),yn.setAttribute("data-action",yt.decrementHours),yn.appendChild(Cn.cloneNode(!0)),Ie.push(yn),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(de.push(Gn()),_e.push(Gn(!0)),Ie.push(Gn()),this._gridColumns+=" a");let yn=document.createElement("div");yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.incrementMinute),yn.setAttribute("data-action",yt.incrementMinutes),yn.appendChild(Tt.cloneNode(!0)),de.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.pickMinute),yn.setAttribute("data-action",yt.showMinutes),yn.setAttribute("data-time-component",d.Unit.minutes),_e.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.decrementMinute),yn.setAttribute("data-action",yt.decrementMinutes),yn.appendChild(Cn.cloneNode(!0)),Ie.push(yn)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(de.push(Gn()),_e.push(Gn(!0)),Ie.push(Gn()),this._gridColumns+=" a");let yn=document.createElement("div");yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.incrementSecond),yn.setAttribute("data-action",yt.incrementSeconds),yn.appendChild(Tt.cloneNode(!0)),de.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.pickSecond),yn.setAttribute("data-action",yt.showSeconds),yn.setAttribute("data-time-component",d.Unit.seconds),_e.push(yn),yn=document.createElement("div"),yn.tabIndex=-1,yn.setAttribute("title",this.optionsStore.options.localization.decrementSecond),yn.setAttribute("data-action",yt.decrementSeconds),yn.appendChild(Cn.cloneNode(!0)),Ie.push(yn)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let yn=Gn();de.push(yn);const Uo=document.createElement("button");Uo.tabIndex=-1,Uo.setAttribute("type","button"),Uo.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),Uo.setAttribute("data-action",yt.toggleMeridiem),Uo.setAttribute("tabindex","-1"),V.css.toggleMeridiem.includes(",")?Uo.classList.add(...V.css.toggleMeridiem.split(",")):Uo.classList.add(V.css.toggleMeridiem),yn=document.createElement("div"),yn.classList.add(V.css.noHighlight),yn.appendChild(Uo),_e.push(yn),yn=Gn(),Ie.push(yn)}return this._gridColumns=this._gridColumns.trim(),[...de,..._e,...Ie]}}class Vr{constructor(){this.optionsStore=Je.locate(dt),this.validation=Je.locate(Qt),this.dates=Je.locate(Ds)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.hourContainer);for(let de=0;de<(this.optionsStore.isTwelveHour?12:24);de++){const _e=document.createElement("div");_e.tabIndex=-1,_e.setAttribute("data-action",yt.selectHour),J.appendChild(_e)}return J}_update(J,de){const _e=J.getElementsByClassName(V.css.hourContainer)[0],Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.date);_e.querySelectorAll(`[data-action="${yt.selectHour}"]`).forEach(ot=>{const Tt=[];Tt.push(V.css.hour),this.validation.isValid(Ie,d.Unit.hours)||Tt.push(V.css.disabled),de(d.Unit.hours,Ie,Tt,ot),ot.classList.remove(...ot.classList),ot.classList.add(...Tt),ot.setAttribute("data-value",`${Ie.hours}`),ot.innerText=Ie.getHoursFormatted(this.optionsStore.options.localization.hourCycle),Ie.manipulate(1,d.Unit.hours)})}}class fo{constructor(){this.optionsStore=Je.locate(dt),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.minuteContainer);const de=this.optionsStore.options.stepping===1?5:this.optionsStore.options.stepping;for(let _e=0;_e<60/de;_e++){const Ie=document.createElement("div");Ie.tabIndex=-1,Ie.setAttribute("data-action",yt.selectMinute),J.appendChild(Ie)}return J}_update(J,de){const _e=J.getElementsByClassName(V.css.minuteContainer)[0],Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.hours),ot=this.optionsStore.options.stepping===1?5:this.optionsStore.options.stepping;_e.querySelectorAll(`[data-action="${yt.selectMinute}"]`).forEach(Tt=>{const Cn=[];Cn.push(V.css.minute),this.validation.isValid(Ie,d.Unit.minutes)||Cn.push(V.css.disabled),de(d.Unit.minutes,Ie,Cn,Tt),Tt.classList.remove(...Tt.classList),Tt.classList.add(...Cn),Tt.setAttribute("data-value",`${Ie.minutes}`),Tt.innerText=Ie.minutesFormatted,Ie.manipulate(ot,d.Unit.minutes)})}}class Ws{constructor(){this.optionsStore=Je.locate(dt),this.validation=Je.locate(Qt)}getPicker(){const J=document.createElement("div");J.classList.add(V.css.secondContainer);for(let de=0;de<12;de++){const _e=document.createElement("div");_e.setAttribute("data-action",yt.selectSecond),_e.tabIndex=-1,J.appendChild(_e)}return J}_update(J,de){const _e=J.getElementsByClassName(V.css.secondContainer)[0],Ie=this.optionsStore.viewDate.clone.startOf(d.Unit.minutes);_e.querySelectorAll(`[data-action="${yt.selectSecond}"]`).forEach(ot=>{const Tt=[];Tt.push(V.css.second),this.validation.isValid(Ie,d.Unit.seconds)||Tt.push(V.css.disabled),de(d.Unit.seconds,Ie,Tt,ot),ot.classList.remove(...ot.classList),ot.classList.add(...Tt),ot.setAttribute("data-value",`${Ie.seconds}`),ot.innerText=Ie.secondsFormatted,Ie.manipulate(5,d.Unit.seconds)})}}class In{static toggle(J){J.classList.contains(V.css.show)?this.hide(J):this.show(J)}static showImmediately(J){J.classList.remove(V.css.collapsing),J.classList.add(V.css.collapse,V.css.show),J.style.height=""}static show(J){if(J.classList.contains(V.css.collapsing)||J.classList.contains(V.css.show))return;const de=()=>{In.showImmediately(J)};J.style.height="0",J.classList.remove(V.css.collapse),J.classList.add(V.css.collapsing),setTimeout(de,this.getTransitionDurationFromElement(J)),J.style.height=`${J.scrollHeight}px`}static hideImmediately(J){J&&(J.classList.remove(V.css.collapsing,V.css.show),J.classList.add(V.css.collapse))}static hide(J){if(J.classList.contains(V.css.collapsing)||!J.classList.contains(V.css.show))return;const de=()=>{In.hideImmediately(J)};J.style.height=`${J.getBoundingClientRect().height}px`,(Ie=>Ie.offsetHeight)(J),J.classList.remove(V.css.collapse,V.css.show),J.classList.add(V.css.collapsing),J.style.height="",setTimeout(de,this.getTransitionDurationFromElement(J))}}In.getTransitionDurationFromElement=Vt=>{if(!Vt)return 0;let{transitionDuration:J,transitionDelay:de}=window.getComputedStyle(Vt);const _e=Number.parseFloat(J),Ie=Number.parseFloat(de);return!_e&&!Ie?0:(J=J.split(",")[0],de=de.split(",")[0],(Number.parseFloat(J)+Number.parseFloat(de))*1e3)};class vt{constructor(){this._isVisible=!1,this._keyboardEventBound=this._keyboardEvent.bind(this),this._documentClickEvent=J=>{this.optionsStore.options.debug||window.debug||this._isVisible&&!J.composedPath().includes(this.widget)&&!J.composedPath()?.includes(this.optionsStore.element)&&this.hide()},this._actionsClickEvent=J=>{this._eventEmitters.action.emit({e:J})},this.optionsStore=Je.locate(dt),this.validation=Je.locate(Qt),this.dates=Je.locate(Ds),this.dateDisplay=Je.locate(le),this.monthDisplay=Je.locate(hi),this.yearDisplay=Je.locate(fs),this.decadeDisplay=Je.locate(ns),this.timeDisplay=Je.locate(js),this.hourDisplay=Je.locate(Vr),this.minuteDisplay=Je.locate(fo),this.secondDisplay=Je.locate(Ws),this._eventEmitters=Je.locate(P),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(J=>{this._update(J)})}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector(`div.${V.css.dateContainer}`)}get timeContainer(){return this.widget?.querySelector(`div.${V.css.timeContainer}`)}get isVisible(){return this._isVisible}_update(J){if(this.widget)switch(J){case d.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case d.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case d.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case d.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case d.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case d.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(d.Unit.hours),this._update(d.Unit.minutes),this._update(d.Unit.seconds);break;case"calendar":this._update(d.Unit.date),this._update(d.Unit.year),this._update(d.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(J,de,_e,Ie){}show(){if(this.widget==null){if(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const J=this.optionsStore.options?.container||document.body,de=this.optionsStore.options?.display?.placement||"bottom";J.appendChild(this.widget);const _e=this._handleFocus.bind(this);this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0},{name:"focusDate",enabled:!0,phase:"afterWrite",fn(){_e()}}],placement:document.documentElement.dir==="rtl"?`${de}-end`:`${de}-start`}).then(()=>{this._handleFocus()})}this.optionsStore.options.display.viewMode=="clock"&&this._eventEmitters.action.emit({e:null,action:yt.showClock}),this.widget.querySelectorAll("[data-action]").forEach(J=>J.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(V.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(V.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:V.events.show}),this._isVisible=!0,this.optionsStore.options.display.keyboardNavigation&&this.widget.addEventListener("keydown",this._keyboardEventBound)}_showSetupViewMode(){const J=this._hasTime&&!this._hasDate;J?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:yt.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),!J&&this.optionsStore.options.display.viewMode!=="clock"&&(this._hasTime&&(this.optionsStore.options.display.sideBySide?In.show(this.timeContainer):In.hideImmediately(this.timeContainer)),In.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(this.dates.picked.length==0){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const J=new Ee().setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let de=0,_e=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(J)&&(_e=-1);!this.validation.isValid(J)&&de>31;)J.manipulate(_e,d.Unit.date),de++}this.dates.setValue(J)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(J,de,_e){let Ie;if(window?.Popper)Ie=window?.Popper?.createPopper;else{const{createPopper:ot}=await Gbe(async()=>{const{createPopper:Tt}=await Promise.resolve().then(()=>$ne);return{createPopper:Tt}},void 0);Ie=ot}Ie&&(this._popperInstance=Ie(J,de,_e))}updatePopup(){this._popperInstance&&this._popperInstance.update()}_showMode(J){if(!this.widget)return;if(J){const Ie=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+J));if(this.optionsStore.currentCalendarViewMode==Ie)return;this.optionsStore.currentCalendarViewMode=Ie}this.widget.querySelectorAll(`.${V.css.dateContainer} > div:not(.${V.css.calendarHeader}), .${V.css.timeContainer} > div:not(.${V.css.clockContainer})`).forEach(Ie=>Ie.style.display="none");const de=xe[this.optionsStore.currentCalendarViewMode],_e=this.widget.querySelector(`.${de.className}`);switch(de.className){case V.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case V.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case V.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case V.css.daysContainer:this.dateDisplay._update(this.widget,this.paint);break}_e.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll(`.${V.css.clockContainer}`)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit(),this.findViewDateElement()?.focus()}_updateTheme(J){if(this.widget){if(J){if(this.optionsStore.options.display.theme===J)return;this.optionsStore.options.display.theme=J}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),this.optionsStore.options.display.theme==="auto"?window.matchMedia(V.css.isDarkPreferredQuery).addEventListener("change",()=>this._updateTheme()):window.matchMedia(V.css.isDarkPreferredQuery).removeEventListener("change",()=>this._updateTheme())}}_getThemeClass(){const J=this.optionsStore.options.display.theme||"auto",de=window.matchMedia&&window.matchMedia(V.css.isDarkPreferredQuery).matches;switch(J){case"light":return V.css.lightTheme;case"dark":return V.css.darkTheme;case"auto":return de?V.css.darkTheme:V.css.lightTheme}}_updateCalendarHeader(){if(!this._hasDate)return;const J=[...this.widget.querySelector(`.${V.css.dateContainer} div[style*="display: grid"]`).classList].find(ot=>ot.startsWith(V.css.dateContainer)),[de,_e,Ie]=this.widget.getElementsByClassName(V.css.calendarHeader)[0].getElementsByTagName("div");switch(J){case V.css.decadesContainer:de.setAttribute("title",this.optionsStore.options.localization.previousCentury),_e.setAttribute("title",""),Ie.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case V.css.yearsContainer:de.setAttribute("title",this.optionsStore.options.localization.previousDecade),_e.setAttribute("title",this.optionsStore.options.localization.selectDecade),Ie.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case V.css.monthsContainer:de.setAttribute("title",this.optionsStore.options.localization.previousYear),_e.setAttribute("title",this.optionsStore.options.localization.selectYear),Ie.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case V.css.daysContainer:de.setAttribute("title",this.optionsStore.options.localization.previousMonth),_e.setAttribute("title",this.optionsStore.options.localization.selectMonth),Ie.setAttribute("title",this.optionsStore.options.localization.nextMonth),_e.setAttribute(J,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat));break}_e.innerText=_e.getAttribute(J)}hide(){!this.widget||!this._isVisible||(this.widget.classList.remove(V.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:V.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent),this.optionsStore.options.display.keyboardNavigation&&this.widget.removeEventListener("keydown",this._keyboardEventBound),this.optionsStore.toggle?this.optionsStore.toggle.focus():this.optionsStore.input&&this.optionsStore.input.focus())}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this._popperInstance&&this._popperInstance.destroy(),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(J=>J.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const J=document.createElement("div");J.tabIndex=-1,J.classList.add(V.css.widget),J.setAttribute("role","widget");const de=document.createElement("div");de.tabIndex=-1,de.classList.add(V.css.dateContainer),de.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const _e=document.createElement("div");_e.tabIndex=-1,_e.classList.add(V.css.timeContainer),_e.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),_e.appendChild(this.hourDisplay.getPicker()),_e.appendChild(this.minuteDisplay.getPicker()),_e.appendChild(this.secondDisplay.getPicker());const Ie=document.createElement("div");if(Ie.tabIndex=-1,Ie.classList.add(V.css.toolbar),Ie.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&J.classList.add(V.css.inline),this.optionsStore.options.display.calendarWeeks&&J.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime){this._buildWidgetSideBySide(J,de,_e,Ie);return}this.optionsStore.options.display.toolbarPlacement==="top"&&J.appendChild(Ie);const ot=(Cn,ro,Gn,yn)=>{Cn&&(ro&&(Gn.classList.add(V.css.collapse),yn&&Gn.classList.add(V.css.show)),J.appendChild(Gn))};ot(this._hasDate,this._hasTime,de,this.optionsStore.options.display.viewMode!=="clock"),ot(this._hasTime,this._hasDate,_e,this.optionsStore.options.display.viewMode==="clock"),this.optionsStore.options.display.toolbarPlacement==="bottom"&&J.appendChild(Ie);const Tt=document.createElement("div");Tt.classList.add("arrow"),Tt.setAttribute("data-popper-arrow",""),J.appendChild(Tt),this._widget=J}_buildWidgetSideBySide(J,de,_e,Ie){J.classList.add(V.css.sideBySide),this.optionsStore.options.display.toolbarPlacement==="top"&&J.appendChild(Ie);const ot=document.createElement("div");ot.classList.add("td-row"),de.classList.add("td-half"),_e.classList.add("td-half"),ot.appendChild(de),ot.appendChild(_e),J.appendChild(ot),this.optionsStore.options.display.toolbarPlacement==="bottom"&&J.appendChild(Ie),this._widget=J}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){const J=[];if(this.optionsStore.options.display.buttons.today){const de=document.createElement("div");de.tabIndex=-1,de.setAttribute("data-action",yt.today),de.setAttribute("title",this.optionsStore.options.localization.today),de.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),J.push(de)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let de,_e;this.optionsStore.options.display.viewMode==="clock"?(de=this.optionsStore.options.localization.selectDate,_e=this.optionsStore.options.display.icons.date):(de=this.optionsStore.options.localization.selectTime,_e=this.optionsStore.options.display.icons.time);const Ie=document.createElement("div");Ie.tabIndex=-1,Ie.setAttribute("data-action",yt.togglePicker),Ie.setAttribute("title",de),Ie.appendChild(this._iconTag(_e)),J.push(Ie)}if(this.optionsStore.options.display.buttons.clear){const de=document.createElement("div");de.tabIndex=-1,de.setAttribute("data-action",yt.clear),de.setAttribute("title",this.optionsStore.options.localization.clear),de.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),J.push(de)}if(this.optionsStore.options.display.buttons.close){const de=document.createElement("div");de.tabIndex=-1,de.setAttribute("data-action",yt.close),de.setAttribute("title",this.optionsStore.options.localization.close),de.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),J.push(de)}return J}getHeadTemplate(){const J=document.createElement("div");J.classList.add(V.css.calendarHeader);const de=document.createElement("div");de.classList.add(V.css.previous),de.setAttribute("data-action",yt.previous),de.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),de.tabIndex=-1;const _e=document.createElement("div");_e.classList.add(V.css.switch),_e.setAttribute("data-action",yt.changeCalendarView),_e.tabIndex=-1;const Ie=document.createElement("div");return Ie.classList.add(V.css.next),Ie.setAttribute("data-action",yt.next),Ie.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),Ie.tabIndex=-1,J.append(de,_e,Ie),J}_iconTag(J){if(this.optionsStore.options.display.icons.type==="sprites"){const _e=document.createElementNS("http://www.w3.org/2000/svg","svg"),Ie=document.createElementNS("http://www.w3.org/2000/svg","use");return Ie.setAttribute("xlink:href",J),Ie.setAttribute("href",J),_e.appendChild(Ie),_e}const de=document.createElement("i");return de.classList.add(...J.split(" ")),de}_rebuild(){const J=this._isVisible;this._dispose(),J&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(d.Unit.date);break;case"months":this._update(d.Unit.month);break;case"years":this._update(d.Unit.year);break;case"decades":this._update("decade");break}}_keyboardEvent(J){if(this.optionsStore.currentView==="clock"){this._handleKeyDownClock(J);return}return this._handleKeyDownDate(J),!1}findViewDateElement(){let J="",de="";switch(this.optionsStore.currentView){case"clock":break;case"calendar":J=V.css.daysContainer,de=this.optionsStore.viewDate.dateToDataValue();break;case"months":J=V.css.monthsContainer,de=this.optionsStore.viewDate.month.toString();break;case"years":J=V.css.yearsContainer,de=this.optionsStore.viewDate.year.toString();break;case"decades":J=V.css.decadesContainer,de=(Math.floor(this.optionsStore.viewDate.year/10)*10).toString();break}return this.widget.querySelector(`.${J} > div[data-value="${de}"]`)}_handleKeyDownDate(J){let de=!1;const _e=document.activeElement;let Ie=null,ot=7,Tt=1,Cn=1;const ro=this.optionsStore.currentView;switch(ro){case"calendar":Ie=d.Unit.date;break;case"months":Ie=d.Unit.month,ot=3,Tt=1;break;case"years":Ie=d.Unit.year,ot=3,Tt=1;break;case"decades":Ie=d.Unit.year,ot=30,Tt=10;break}switch(J.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:yt.close});break;case" ":case"Enter":_e.click(),J.stopPropagation(),J.preventDefault();return;case"Tab":this._handleTab(_e,J);return;case"Right":case"ArrowRight":Cn=Tt,de=!0;break;case"Left":case"ArrowLeft":de=!0,Cn=-Tt;break;case"Down":case"ArrowDown":de=!0,Cn=ot;break;case"Up":case"ArrowUp":de=!0,Cn=-ot;break;case"PageDown":switch(ro){case"calendar":Ie=J.shiftKey?d.Unit.year:d.Unit.month,Cn=1;break;case"months":Ie=d.Unit.year,Cn=J.shiftKey?10:1;break;case"years":case"decades":Ie=d.Unit.year,Cn=J.shiftKey?100:10;break}de=!0;break;case"PageUp":switch(ro){case"calendar":Ie=J.shiftKey?d.Unit.year:d.Unit.month,Cn=-1;break;case"months":Ie=d.Unit.year,Cn=-(J.shiftKey?10:1);break;case"years":case"decades":Ie=d.Unit.year,Cn=-(J.shiftKey?100:10);break}de=!0;break;case"Home":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),de=!0,Ie=null;break;case"End":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.endOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),de=!0,Ie=null;break}if(!de)return;let Gn=this.optionsStore.viewDate;Ie&&(Gn=Gn.clone.manipulate(Cn,Ie)),this._eventEmitters.updateViewDate.emit(Gn);const yn=this.findViewDateElement();yn&&yn.focus(),J.stopPropagation(),J.preventDefault()}_handleKeyDownClock(J){let de=!1;const _e=document.activeElement,Ie=this.widget.querySelector(`.${V.css.timeContainer} > div[style*="display: grid"]`);let ot=V.css.clockContainer;switch(Ie.classList.contains(V.css.hourContainer)&&(ot=V.css.hourContainer),Ie.classList.contains(V.css.minuteContainer)&&(ot=V.css.minuteContainer),Ie.classList.contains(V.css.secondContainer)&&(ot=V.css.secondContainer),J.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:yt.close});break;case" ":case"Enter":_e.click(),J.stopPropagation(),J.preventDefault();return;case"Tab":this._handleTab(_e,J);return}if(ot===V.css.clockContainer)return;const Tt=[...Ie.querySelectorAll("div")],Cn=Tt.indexOf(document.activeElement),ro=4;let Gn;switch(J.key){case"Right":case"ArrowRight":Gn=Cn<Tt.length-1?Cn+1:null,de=!0;break;case"Left":case"ArrowLeft":de=!0,Gn=Cn>0?Cn-1:null;break;case"Down":case"ArrowDown":Gn=Cn+ro<Tt.length?Cn+ro:null,de=!0;break;case"Up":case"ArrowUp":Gn=Cn-ro>=0?Cn-ro:null,de=!0;break}de&&(Gn!=null&&Tt[Gn].focus(),J.stopPropagation(),J.preventDefault())}_handleTab(J,de){const _e=de.shiftKey,Ie=()=>{const ro=this.widget.querySelectorAll(`.${V.css.calendarHeader} > div`);ot.push(...ro)},ot=[];switch(console.log(this.optionsStore.currentView),this.optionsStore.currentView){case"clock":ot.push(...this.widget.querySelectorAll(`.${V.css.timeContainer} > div[style*="display: grid"] > div[data-action]`)),this.widget.querySelectorAll(`.${V.css.clockContainer}`)[0]?.style.display==="grid"&&ot.push(...this.widget.querySelectorAll(`.${V.css.toggleMeridiem}`));break;case"calendar":case"months":case"years":case"decades":Ie(),ot.push(this.findViewDateElement());break}const Tt=this.widget.querySelectorAll(`.${V.css.toolbar} > div`);ot.push(...Tt);const Cn=ot.indexOf(J);Cn!==-1&&(_e?Cn===0?ot[ot.length-1].focus():ot[Cn-1].focus():Cn===ot.length-1?ot[0].focus():ot[Cn+1].focus(),de.stopPropagation(),de.preventDefault())}_handleFocus(){this.optionsStore.currentView==="clock"?this._handleFocusClock():this.findViewDateElement().focus()}_handleFocusClock(){this.widget.querySelector(`.${V.css.timeContainer} > div[style*="display: grid"]`).children[0].focus()}}class Un{constructor(){this.optionsStore=Je.locate(dt),this.dates=Je.locate(Ds),this.validation=Je.locate(Qt),this.display=Je.locate(vt),this._eventEmitters=Je.locate(P),this._eventEmitters.action.subscribe(J=>{this.do(J.e,J.action)})}do(J,de){const _e=J?.currentTarget;if(_e?.classList?.contains(V.css.disabled))return;de=de||_e?.dataset?.action;const Ie=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(de){case yt.next:case yt.previous:this.handleNextPrevious(de);break;case yt.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case yt.selectMonth:case yt.selectYear:case yt.selectDecade:this.handleSelectCalendarMode(de,_e);break;case yt.selectDay:this.handleSelectDay(_e);break;case yt.selectHour:{let ot=+_e.dataset.value;Ie.hours>=12&&this.optionsStore.isTwelveHour&&(ot+=12),Ie.hours=ot,this.dates.setValue(Ie,this.dates.lastPickedIndex),this.hideOrClock(J);break}case yt.selectMinute:{Ie.minutes=+_e.dataset.value,this.dates.setValue(Ie,this.dates.lastPickedIndex),this.hideOrClock(J);break}case yt.selectSecond:{Ie.seconds=+_e.dataset.value,this.dates.setValue(Ie,this.dates.lastPickedIndex),this.hideOrClock(J);break}case yt.incrementHours:this.manipulateAndSet(Ie,d.Unit.hours);break;case yt.incrementMinutes:this.manipulateAndSet(Ie,d.Unit.minutes,this.optionsStore.options.stepping);break;case yt.incrementSeconds:this.manipulateAndSet(Ie,d.Unit.seconds);break;case yt.decrementHours:this.manipulateAndSet(Ie,d.Unit.hours,-1);break;case yt.decrementMinutes:this.manipulateAndSet(Ie,d.Unit.minutes,this.optionsStore.options.stepping*-1);break;case yt.decrementSeconds:this.manipulateAndSet(Ie,d.Unit.seconds,-1);break;case yt.toggleMeridiem:this.manipulateAndSet(Ie,d.Unit.hours,this.dates.lastPicked.hours>=12?-12:12);break;case yt.togglePicker:this.handleToggle(_e);break;case yt.showClock:case yt.showHours:case yt.showMinutes:case yt.showSeconds:!this.optionsStore.options.display.sideBySide&&this.optionsStore.currentView!=="clock"&&(In.hideImmediately(this.display.dateContainer),In.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(de);break;case yt.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case yt.close:this.display.hide();break;case yt.today:{const ot=new Ee().setLocalization(this.optionsStore.options.localization);if(this._eventEmitters.updateViewDate.emit(ot),!this.validation.isValid(ot,d.Unit.date))break;this.optionsStore.options.dateRange?this.handleDateRange(ot):this.optionsStore.options.multipleDates?this.handleMultiDate(ot):this.dates.setValue(ot,this.dates.lastPickedIndex);break}}}handleShowClockContainers(J){if(!this.display._hasTime){V.errorMessages.throwError("Cannot show clock containers when time is disabled.");return}this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${V.css.timeContainer} > div`).forEach(Ie=>Ie.style.display="none");let de="";switch(J){case yt.showClock:de=V.css.clockContainer,this.display._update("clock");break;case yt.showHours:de=V.css.hourContainer,this.display._update(d.Unit.hours);break;case yt.showMinutes:de=V.css.minuteContainer,this.display._update(d.Unit.minutes);break;case yt.showSeconds:de=V.css.secondContainer,this.display._update(d.Unit.seconds);break}const _e=this.display.widget.getElementsByClassName(de)[0];_e.style.display="grid",_e.children[0]?.focus()}handleNextPrevious(J){const{unit:de,step:_e}=xe[this.optionsStore.currentCalendarViewMode];J===yt.next?this.optionsStore.viewDate.manipulate(_e,de):this.optionsStore.viewDate.manipulate(_e*-1,de),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(J){!this.optionsStore.isTwelveHour&&!this.optionsStore.options.display.components.minutes&&!this.optionsStore.options.display.keepOpen&&!this.optionsStore.options.display.inline?this.display.hide():this.do(J,yt.showClock)}manipulateAndSet(J,de,_e=1){const Ie=J.manipulate(_e,de);this.validation.isValid(Ie,de)&&this.dates.setValue(Ie,this.dates.lastPickedIndex)}handleSelectCalendarMode(J,de){const _e=+de.dataset.value;switch(J){case yt.selectMonth:this.optionsStore.viewDate.month=_e;break;case yt.selectYear:case yt.selectDecade:this.optionsStore.viewDate.year=_e;break}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(J){J.getAttribute("title")===this.optionsStore.options.localization.selectDate?(J.setAttribute("title",this.optionsStore.options.localization.selectTime),J.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(J.setAttribute("title",this.optionsStore.options.localization.selectDate),J.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(yt.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${V.css.dateContainer}, .${V.css.timeContainer}`).forEach(_e=>In.toggle(_e)),this._eventEmitters.viewUpdate.emit(),this.display.widget.querySelector(`.${V.css.collapsing} > div[style*="display: grid"]`)?.focus()}handleSelectDay(J){const de=this.optionsStore.viewDate.clone;J.classList.contains(V.css.old)&&de.manipulate(-1,d.Unit.month),J.classList.contains(V.css.new)&&de.manipulate(1,d.Unit.month),de.date=+J.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(de):this.optionsStore.options.multipleDates?this.handleMultiDate(de):this.dates.setValue(de,this.dates.lastPickedIndex),!this.display._hasTime&&!this.optionsStore.options.display.keepOpen&&!this.optionsStore.options.display.inline&&!this.optionsStore.options.multipleDates&&!this.optionsStore.options.dateRange&&this.display.hide()}handleMultiDate(J){let de=this.dates.pickedIndex(J,d.Unit.date);de!==-1?this.dates.setValue(null,de):(de=this.dates.lastPickedIndex+1,this.dates.picked.length===0&&(de=0),this.dates.setValue(J,de))}handleDateRange(J){switch(this.dates.picked.length){case 2:{this.dates.clear();break}case 1:{const de=this.dates.picked[0];if(J.getTime()===de.getTime()){this.dates.clear();break}if(J.isBefore(de)){this.dates.setValue(J,0),this.dates.setValue(de,1);return}else{this.dates.setValue(J,1);return}}}this.dates.setValue(J,0)}}class Ns{constructor(J,de={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=_e=>{if(_e?.detail)return;const ot=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},Tt=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)try{const Cn=Tt.split(this.optionsStore.options.multipleDatesSeparator);for(let ro=0;ro<Cn.length;ro++)this.dates.setFromInput(Cn[ro],ro);ot()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(Tt,0),ot()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.optionsStore.toggle.nodeName==="INPUT"&&this.optionsStore.toggle?.type==="text"&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},at(),this._eventEmitters=Je.locate(P),this.optionsStore=Je.locate(dt),this.display=Je.locate(vt),this.dates=Je.locate(Ds),this.actions=Je.locate(Un),J||V.errorMessages.mustProvideElement(),this.optionsStore.element=J,this._initializeOptions(de,Ln,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(_e=>{this._triggerEvent(_e)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()}),this._eventEmitters.updateViewDate.subscribe(_e=>{this.viewDate=_e})}get viewDate(){return this.optionsStore.viewDate}set viewDate(J){this.optionsStore.viewDate=J,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update(this.optionsStore.currentView==="clock"?"clock":"calendar")}updateOptions(J,de=!1){de?this._initializeOptions(J,Ln):this._initializeOptions(J,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(J,de){typeof J=="string"&&(J=[J]);let _e;Array.isArray(de)?_e=de:_e=[de],J.length!==_e.length&&V.errorMessages.subscribeMismatch();const Ie=[];for(let ot=0;ot<J.length;ot++){const Tt=J[ot];if(Array.isArray(this._subscribers[Tt])||(this._subscribers[Tt]=[]),this._subscribers[Tt].push(_e[ot]),Ie.push({unsubscribe:this._unsubscribe.bind(this,Tt,this._subscribers[Tt].length-1)}),J.length===1)return Ie[0]}return Ie}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this.optionsStore.toggle?.removeEventListener("click",this._toggleClickEvent),this.optionsStore.toggle?.removeEventListener("keydown",this._handleToggleKeydown),this._subscribers={}}locale(J){const de=At[J];de&&this.updateOptions({localization:de})}_triggerEvent(J){J.viewMode=this.optionsStore.currentView;const de=J.type===V.events.change;if(de){const{date:_e,oldDate:Ie,isClear:ot}=J;if(_e&&Ie&&_e.isSame(Ie)||!ot&&!_e&&!Ie)return;if(this._handleAfterChangeEvent(J),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:J})),this.optionsStore.toggle){let Tt=this.optionsStore.options.localization.toggleAriaLabel;if(this.dates.picked.length>0){const Cn=this.dates.picked.map(ro=>ro.format()).join(", ");Tt=`${Tt}, ${Cn}`}this.optionsStore.toggle.ariaLabel=Tt}}if(this.optionsStore.element.dispatchEvent(new CustomEvent(J.type,{detail:J})),window.jQuery){const _e=window.jQuery;de&&this.optionsStore.input?_e(this.optionsStore.input).trigger(J):_e(this.optionsStore.element).trigger(J)}this._publish(J)}_publish(J){Array.isArray(this._subscribers[J.type])&&this._subscribers[J.type].forEach(de=>{de(J)})}_viewUpdate(){this._triggerEvent({type:V.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(J,de){this._subscribers[J].splice(de,1)}_initializeOptions(J,de,_e=!1){let Ie=Oo.deepCopy(J);Ie=Oo._mergeOptions(Ie,de),_e&&(Ie=Oo._dataToOptions(this.optionsStore.element,Ie)),Oo._validateConflicts(Ie),Ie.viewDate=Ie.viewDate.setLocalization(Ie.localization),this.optionsStore.viewDate.isSame(Ie.viewDate)||(this.optionsStore.viewDate=Ie.viewDate),Ie.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),Ie.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),Ie.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),xe[this.optionsStore.currentCalendarViewMode].name!==Ie.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(xe.findIndex(ot=>ot.name===Ie.display.viewMode),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),Ie.display.components.useTwentyfourHour&&Ie.localization.hourCycle===void 0?Ie.localization.hourCycle="h24":Ie.localization.hourCycle===void 0&&(Ie.localization.hourCycle=Le(Ie.localization.locale)),this.optionsStore.options=Ie,Ie.restrictions.maxDate&&this.viewDate.isAfter(Ie.restrictions.maxDate)&&(this.viewDate=Ie.restrictions.maxDate.clone),Ie.restrictions.minDate&&this.viewDate.isBefore(Ie.restrictions.minDate)&&(this.viewDate=Ie.restrictions.minDate.clone)}_initializeInput(){if(this.optionsStore.element.tagName=="INPUT")this.optionsStore.input=this.optionsStore.element;else{const J=this.optionsStore.element.dataset.tdTargetInput;J==null||J=="nearest"?this.optionsStore.input=this.optionsStore.element.querySelector("input"):this.optionsStore.input=this.optionsStore.element.querySelector(J)}this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let J=this.optionsStore.element.dataset.tdTargetToggle;J=="nearest"&&(J='[data-td-toggle="datetimepicker"]'),this.optionsStore.toggle=J==null?this.optionsStore.element:this.optionsStore.element.querySelector(J),this.optionsStore.toggle!=null&&(this.optionsStore.toggle.addEventListener("click",this._toggleClickEvent),this.optionsStore.toggle!==this.optionsStore.element&&this.optionsStore.toggle.addEventListener("keydown",this._handleToggleKeydown.bind(this)))}_handleAfterChangeEvent(J){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(V.css.show)[0].classList.contains(V.css.timeContainer)||!J.oldDate&&this.optionsStore.options.useCurrent||J.oldDate&&J.date?.isSame(J.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:yt.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}_handleToggleKeydown(J){J.key!==" "&&J.key!=="Enter"||(this.optionsStore.toggle.click(),J.stopPropagation(),J.preventDefault())}}const At={},Bs=Vt=>{At[Vt.name]||(At[Vt.name]=Vt.localization)},rr=Vt=>{const J=At[Vt];J&&(Ln.localization=J)},ir=function(Vt,J=void 0){return Vt&&(Vt.installed||(Vt(J,{TempusDominus:Ns,Dates:Ds,Display:vt,DateTime:Ee,Namespace:V},Vn),Vt.installed=!0)),Vn},Gs="v6.10.4",Vn={TempusDominus:Ns,extend:ir,loadLocale:Bs,locale:rr,Namespace:V,DefaultOptions:Ln,DateTime:Ee,Unit:d.Unit,version:Gs,DefaultEnLocalization:ln};d.DateTime=Ee,d.DefaultEnLocalization=ln,d.DefaultOptions=Ln,d.Namespace=V,d.TempusDominus=Ns,d.extend=ir,d.loadLocale=Bs,d.locale=rr,d.version=Gs,Object.defineProperty(d,"__esModule",{value:!0})}))})(HP,HP.exports)),HP.exports}var Jbe=Xbe();const Qbe=Tne(Jbe);(()=>{function r(ie,Re){var ke=Object.keys(ie);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(ie);Re&&(ut=ut.filter(function(Nt){return Object.getOwnPropertyDescriptor(ie,Nt).enumerable})),ke.push.apply(ke,ut)}return ke}function a(ie){for(var Re=1;Re<arguments.length;Re++){var ke=arguments[Re]!=null?arguments[Re]:{};Re%2?r(Object(ke),!0).forEach(function(ut){g(ie,ut,ke[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ke)):r(Object(ke)).forEach(function(ut){Object.defineProperty(ie,ut,Object.getOwnPropertyDescriptor(ke,ut))})}return ie}function d(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(Re){return typeof Re}:d=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},d(ie)}function g(ie,Re,ke){return Re in ie?Object.defineProperty(ie,Re,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ie[Re]=ke,ie}function C(){return C=Object.assign||function(ie){for(var Re=1;Re<arguments.length;Re++){var ke=arguments[Re];for(var ut in ke)Object.prototype.hasOwnProperty.call(ke,ut)&&(ie[ut]=ke[ut])}return ie},C.apply(this,arguments)}function k(ie,Re){if(ie==null)return{};var ke={},ut=Object.keys(ie),Nt,Lt;for(Lt=0;Lt<ut.length;Lt++)Nt=ut[Lt],!(Re.indexOf(Nt)>=0)&&(ke[Nt]=ie[Nt]);return ke}function M(ie,Re){if(ie==null)return{};var ke=k(ie,Re),ut,Nt;if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(ie);for(Nt=0;Nt<Lt.length;Nt++)ut=Lt[Nt],!(Re.indexOf(ut)>=0)&&Object.prototype.propertyIsEnumerable.call(ie,ut)&&(ke[ut]=ie[ut])}return ke}var H="1.15.1";function Y(ie){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(ie)}var V=Y(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),te=Y(/Edge/i),Se=Y(/firefox/i),ye=Y(/safari/i)&&!Y(/chrome/i)&&!Y(/android/i),je=Y(/iP(ad|od|hone)/i),Le=Y(/chrome/i)&&Y(/android/i),Ee={capture:!1,passive:!1};function Ce(ie,Re,ke){ie.addEventListener(Re,ke,!V&&Ee)}function at(ie,Re,ke){ie.removeEventListener(Re,ke,!V&&Ee)}function Je(ie,Re){if(Re){if(Re[0]===">"&&(Re=Re.substring(1)),ie)try{if(ie.matches)return ie.matches(Re);if(ie.msMatchesSelector)return ie.msMatchesSelector(Re);if(ie.webkitMatchesSelector)return ie.webkitMatchesSelector(Re)}catch{return!1}return!1}}function xe(ie){return ie.host&&ie!==document&&ie.host.nodeType?ie.host:ie.parentNode}function dt(ie,Re,ke,ut){if(ie){ke=ke||document;do{if(Re!=null&&(Re[0]===">"?ie.parentNode===ke&&Je(ie,Re):Je(ie,Re))||ut&&ie===ke)return ie;if(ie===ke)break}while(ie=xe(ie))}return null}var Qt=/\s+/g;function Et(ie,Re,ke){if(ie&&Re)if(ie.classList)ie.classList[ke?"add":"remove"](Re);else{var ut=(" "+ie.className+" ").replace(Qt," ").replace(" "+Re+" "," ");ie.className=(ut+(ke?" "+Re:"")).replace(Qt," ")}}function P(ie,Re,ke){var ut=ie&&ie.style;if(ut){if(ke===void 0)return document.defaultView&&document.defaultView.getComputedStyle?ke=document.defaultView.getComputedStyle(ie,""):ie.currentStyle&&(ke=ie.currentStyle),Re===void 0?ke:ke[Re];!(Re in ut)&&Re.indexOf("webkit")===-1&&(Re="-webkit-"+Re),ut[Re]=ke+(typeof ke=="string"?"":"px")}}function mn(ie,Re){var ke="";if(typeof ie=="string")ke=ie;else do{var ut=P(ie,"transform");ut&&ut!=="none"&&(ke=ut+" "+ke)}while(!Re&&(ie=ie.parentNode));var Nt=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return Nt&&new Nt(ke)}function Ln(ie,Re,ke){if(ie){var ut=ie.getElementsByTagName(Re),Nt=0,Lt=ut.length;if(ke)for(;Nt<Lt;Nt++)ke(ut[Nt],Nt);return ut}return[]}function ln(){var ie=document.scrollingElement;return ie||document.documentElement}function et(ie,Re,ke,ut,Nt){if(!(!ie.getBoundingClientRect&&ie!==window)){var Lt,fn,ao,Yn,Ft,is,ds;if(ie!==window&&ie.parentNode&&ie!==ln()?(Lt=ie.getBoundingClientRect(),fn=Lt.top,ao=Lt.left,Yn=Lt.bottom,Ft=Lt.right,is=Lt.height,ds=Lt.width):(fn=0,ao=0,Yn=window.innerHeight,Ft=window.innerWidth,is=window.innerHeight,ds=window.innerWidth),(Re||ke)&&ie!==window&&(Nt=Nt||ie.parentNode,!V))do if(Nt&&Nt.getBoundingClientRect&&(P(Nt,"transform")!=="none"||ke&&P(Nt,"position")!=="static")){var Rr=Nt.getBoundingClientRect();fn-=Rr.top+parseInt(P(Nt,"border-top-width")),ao-=Rr.left+parseInt(P(Nt,"border-left-width")),Yn=fn+Lt.height,Ft=ao+Lt.width;break}while(Nt=Nt.parentNode);if(ut&&ie!==window){var as=mn(Nt||ie),vi=as&&as.a,dr=as&&as.d;as&&(fn/=dr,ao/=vi,ds/=vi,is/=dr,Yn=fn+is,Ft=ao+ds)}return{top:fn,left:ao,bottom:Yn,right:Ft,width:ds,height:is}}}function Fe(ie){var Re=et(ie),ke=parseInt(P(ie,"padding-left")),ut=parseInt(P(ie,"padding-top")),Nt=parseInt(P(ie,"padding-right")),Lt=parseInt(P(ie,"padding-bottom"));return Re.top+=ut+parseInt(P(ie,"border-top-width")),Re.left+=ke+parseInt(P(ie,"border-left-width")),Re.width=ie.clientWidth-ke-Nt,Re.height=ie.clientHeight-ut-Lt,Re.bottom=Re.top+Re.height,Re.right=Re.left+Re.width,Re}function En(ie,Re,ke){for(var ut=Eo(ie,!0),Nt=et(ie)[Re];ut;){var Lt=et(ut)[ke],fn=void 0;if(fn=Nt>=Lt,!fn)return ut;if(ut===ln())break;ut=Eo(ut,!1)}return!1}function wn(ie,Re,ke,ut){for(var Nt=0,Lt=0,fn=ie.children;Lt<fn.length;){if(fn[Lt].style.display!=="none"&&fn[Lt]!==qe.ghost&&(ut||fn[Lt]!==qe.dragged)&&dt(fn[Lt],ke.draggable,ie,!1)){if(Nt===Re)return fn[Lt];Nt++}Lt++}return null}function Ze(ie,Re){for(var ke=ie.lastElementChild;ke&&(ke===qe.ghost||P(ke,"display")==="none"||Re&&!Je(ke,Re));)ke=ke.previousElementSibling;return ke||null}function U(ie,Re){var ke=0;if(!ie||!ie.parentNode)return-1;for(;ie=ie.previousElementSibling;)ie.nodeName.toUpperCase()!=="TEMPLATE"&&ie!==qe.clone&&(!Re||Je(ie,Re))&&ke++;return ke}function en(ie){var Re=0,ke=0,ut=ln();if(ie)do{var Nt=mn(ie),Lt=Nt.a,fn=Nt.d;Re+=ie.scrollLeft*Lt,ke+=ie.scrollTop*fn}while(ie!==ut&&(ie=ie.parentNode));return[Re,ke]}function xt(ie,Re){for(var ke in ie)if(ie.hasOwnProperty(ke)){for(var ut in Re)if(Re.hasOwnProperty(ut)&&Re[ut]===ie[ke][ut])return Number(ke)}return-1}function Eo(ie,Re){if(!ie||!ie.getBoundingClientRect)return ln();var ke=ie,ut=!1;do if(ke.clientWidth<ke.scrollWidth||ke.clientHeight<ke.scrollHeight){var Nt=P(ke);if(ke.clientWidth<ke.scrollWidth&&(Nt.overflowX=="auto"||Nt.overflowX=="scroll")||ke.clientHeight<ke.scrollHeight&&(Nt.overflowY=="auto"||Nt.overflowY=="scroll")){if(!ke.getBoundingClientRect||ke===document.body)return ln();if(ut||Re)return ke;ut=!0}}while(ke=ke.parentNode);return ln()}function eo(ie,Re){if(ie&&Re)for(var ke in Re)Re.hasOwnProperty(ke)&&(ie[ke]=Re[ke]);return ie}function qt(ie,Re){return Math.round(ie.top)===Math.round(Re.top)&&Math.round(ie.left)===Math.round(Re.left)&&Math.round(ie.height)===Math.round(Re.height)&&Math.round(ie.width)===Math.round(Re.width)}var us;function Er(ie,Re){return function(){if(!us){var ke=arguments,ut=this;ke.length===1?ie.call(ut,ke[0]):ie.apply(ut,ke),us=setTimeout(function(){us=void 0},Re)}}}function Oo(){clearTimeout(us),us=void 0}function Ds(ie,Re,ke){ie.scrollLeft+=Re,ie.scrollTop+=ke}function Yt(ie){var Re=window.Polymer,ke=window.jQuery||window.Zepto;return Re&&Re.dom?Re.dom(ie).cloneNode(!0):ke?ke(ie).clone(!0)[0]:ie.cloneNode(!0)}var yt="Sortable"+new Date().getTime();function le(){var ie=[],Re;return{captureAnimationState:function(){if(ie=[],!!this.options.animation){var ke=[].slice.call(this.el.children);ke.forEach(function(ut){if(!(P(ut,"display")==="none"||ut===qe.ghost)){ie.push({target:ut,rect:et(ut)});var Nt=a({},ie[ie.length-1].rect);if(ut.thisAnimationDuration){var Lt=mn(ut,!0);Lt&&(Nt.top-=Lt.f,Nt.left-=Lt.e)}ut.fromRect=Nt}})}},addAnimationState:function(ke){ie.push(ke)},removeAnimationState:function(ke){ie.splice(xt(ie,{target:ke}),1)},animateAll:function(ke){var ut=this;if(!this.options.animation){clearTimeout(Re),typeof ke=="function"&&ke();return}var Nt=!1,Lt=0;ie.forEach(function(fn){var ao=0,Yn=fn.target,Ft=Yn.fromRect,is=et(Yn),ds=Yn.prevFromRect,Rr=Yn.prevToRect,as=fn.rect,vi=mn(Yn,!0);vi&&(is.top-=vi.f,is.left-=vi.e),Yn.toRect=is,Yn.thisAnimationDuration&&qt(ds,is)&&!qt(Ft,is)&&(as.top-is.top)/(as.left-is.left)===(Ft.top-is.top)/(Ft.left-is.left)&&(ao=fs(as,ds,Rr,ut.options)),qt(is,Ft)||(Yn.prevFromRect=Ft,Yn.prevToRect=is,ao||(ao=ut.options.animation),ut.animate(Yn,as,is,ao)),ao&&(Nt=!0,Lt=Math.max(Lt,ao),clearTimeout(Yn.animationResetTimer),Yn.animationResetTimer=setTimeout(function(){Yn.animationTime=0,Yn.prevFromRect=null,Yn.fromRect=null,Yn.prevToRect=null,Yn.thisAnimationDuration=null},ao),Yn.thisAnimationDuration=ao)}),clearTimeout(Re),Nt?Re=setTimeout(function(){typeof ke=="function"&&ke()},Lt):typeof ke=="function"&&ke(),ie=[]},animate:function(ke,ut,Nt,Lt){if(Lt){P(ke,"transition",""),P(ke,"transform","");var fn=mn(this.el),ao=fn&&fn.a,Yn=fn&&fn.d,Ft=(ut.left-Nt.left)/(ao||1),is=(ut.top-Nt.top)/(Yn||1);ke.animatingX=!!Ft,ke.animatingY=!!is,P(ke,"transform","translate3d("+Ft+"px,"+is+"px,0)"),this.forRepaintDummy=hi(ke),P(ke,"transition","transform "+Lt+"ms"+(this.options.easing?" "+this.options.easing:"")),P(ke,"transform","translate3d(0,0,0)"),typeof ke.animated=="number"&&clearTimeout(ke.animated),ke.animated=setTimeout(function(){P(ke,"transition",""),P(ke,"transform",""),ke.animated=!1,ke.animatingX=!1,ke.animatingY=!1},Lt)}}}}function hi(ie){return ie.offsetWidth}function fs(ie,Re,ke,ut){return Math.sqrt(Math.pow(Re.top-ie.top,2)+Math.pow(Re.left-ie.left,2))/Math.sqrt(Math.pow(Re.top-ke.top,2)+Math.pow(Re.left-ke.left,2))*ut.animation}var ns=[],js={initializeByDefault:!0},Vr={mount:function(ie){for(var Re in js)js.hasOwnProperty(Re)&&!(Re in ie)&&(ie[Re]=js[Re]);ns.forEach(function(ke){if(ke.pluginName===ie.pluginName)throw"Sortable: Cannot mount plugin ".concat(ie.pluginName," more than once")}),ns.push(ie)},pluginEvent:function(ie,Re,ke){var ut=this;this.eventCanceled=!1,ke.cancel=function(){ut.eventCanceled=!0};var Nt=ie+"Global";ns.forEach(function(Lt){Re[Lt.pluginName]&&(Re[Lt.pluginName][Nt]&&Re[Lt.pluginName][Nt](a({sortable:Re},ke)),Re.options[Lt.pluginName]&&Re[Lt.pluginName][ie]&&Re[Lt.pluginName][ie](a({sortable:Re},ke)))})},initializePlugins:function(ie,Re,ke,ut){ns.forEach(function(fn){var ao=fn.pluginName;if(!(!ie.options[ao]&&!fn.initializeByDefault)){var Yn=new fn(ie,Re,ie.options);Yn.sortable=ie,Yn.options=ie.options,ie[ao]=Yn,C(ke,Yn.defaults)}});for(var Nt in ie.options)if(ie.options.hasOwnProperty(Nt)){var Lt=this.modifyOption(ie,Nt,ie.options[Nt]);typeof Lt<"u"&&(ie.options[Nt]=Lt)}},getEventProperties:function(ie,Re){var ke={};return ns.forEach(function(ut){typeof ut.eventProperties=="function"&&C(ke,ut.eventProperties.call(Re[ut.pluginName],ie))}),ke},modifyOption:function(ie,Re,ke){var ut;return ns.forEach(function(Nt){ie[Nt.pluginName]&&Nt.optionListeners&&typeof Nt.optionListeners[Re]=="function"&&(ut=Nt.optionListeners[Re].call(ie[Nt.pluginName],ke))}),ut}};function fo(ie){var Re=ie.sortable,ke=ie.rootEl,ut=ie.name,Nt=ie.targetEl,Lt=ie.cloneEl,fn=ie.toEl,ao=ie.fromEl,Yn=ie.oldIndex,Ft=ie.newIndex,is=ie.oldDraggableIndex,ds=ie.newDraggableIndex,Rr=ie.originalEvent,as=ie.putSortable,vi=ie.extraEventProperties;if(Re=Re||ke&&ke[yt],!!Re){var dr,Sa=Re.options,ha="on"+ut.charAt(0).toUpperCase()+ut.substr(1);window.CustomEvent&&!V&&!te?dr=new CustomEvent(ut,{bubbles:!0,cancelable:!0}):(dr=document.createEvent("Event"),dr.initEvent(ut,!0,!0)),dr.to=fn||ke,dr.from=ao||ke,dr.item=Nt||ke,dr.clone=Lt,dr.oldIndex=Yn,dr.newIndex=Ft,dr.oldDraggableIndex=is,dr.newDraggableIndex=ds,dr.originalEvent=Rr,dr.pullMode=as?as.lastPutMode:void 0;var Fa=a(a({},vi),Vr.getEventProperties(ut,Re));for(var sa in Fa)dr[sa]=Fa[sa];ke&&ke.dispatchEvent(dr),Sa[ha]&&Sa[ha].call(Re,dr)}}var Ws=["evt"],In=function(ie,Re){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ut=ke.evt,Nt=M(ke,Ws);Vr.pluginEvent.bind(qe)(ie,Re,a({dragEl:Un,parentEl:Ns,ghostEl:At,rootEl:Bs,nextEl:rr,lastDownEl:ir,cloneEl:Gs,cloneHidden:Vn,dragStarted:Mn,putSortable:ot,activeSortable:qe.active,originalEvent:ut,oldIndex:Vt,oldDraggableIndex:de,newIndex:J,newDraggableIndex:_e,hideGhostForTarget:na,unhideGhostForTarget:yc,cloneNowHidden:function(){Vn=!0},cloneNowShown:function(){Vn=!1},dispatchSortableEvent:function(Lt){vt({sortable:Re,name:Lt,originalEvent:ut})}},Nt))};function vt(ie){fo(a({putSortable:ot,cloneEl:Gs,targetEl:Un,rootEl:Bs,oldIndex:Vt,oldDraggableIndex:de,newIndex:J,newDraggableIndex:_e},ie))}var Un,Ns,At,Bs,rr,ir,Gs,Vn,Vt,J,de,_e,Ie,ot,Tt=!1,Cn=!1,ro=[],Gn,yn,Uo,zs,Co,Ci,Mn,go,Mo,Wa=!1,pr=!1,Pn,Cr,Lr=[],bl=!1,ba=[],Xi=typeof document<"u",Ks=je,qo=te||V?"cssFloat":"float",or=Xi&&!Le&&!je&&"draggable"in document.createElement("div"),tc=(function(){if(Xi){if(V)return!1;var ie=document.createElement("x");return ie.style.cssText="pointer-events:auto",ie.style.pointerEvents==="auto"}})(),nc=function(ie,Re){var ke=P(ie),ut=parseInt(ke.width)-parseInt(ke.paddingLeft)-parseInt(ke.paddingRight)-parseInt(ke.borderLeftWidth)-parseInt(ke.borderRightWidth),Nt=wn(ie,0,Re),Lt=wn(ie,1,Re),fn=Nt&&P(Nt),ao=Lt&&P(Lt),Yn=fn&&parseInt(fn.marginLeft)+parseInt(fn.marginRight)+et(Nt).width,Ft=ao&&parseInt(ao.marginLeft)+parseInt(ao.marginRight)+et(Lt).width;if(ke.display==="flex")return ke.flexDirection==="column"||ke.flexDirection==="column-reverse"?"vertical":"horizontal";if(ke.display==="grid")return ke.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(Nt&&fn.float&&fn.float!=="none"){var is=fn.float==="left"?"left":"right";return Lt&&(ao.clear==="both"||ao.clear===is)?"vertical":"horizontal"}return Nt&&(fn.display==="block"||fn.display==="flex"||fn.display==="table"||fn.display==="grid"||Yn>=ut&&ke[qo]==="none"||Lt&&ke[qo]==="none"&&Yn+Ft>ut)?"vertical":"horizontal"},Zl=function(ie,Re,ke){var ut=ke?ie.left:ie.top,Nt=ke?ie.right:ie.bottom,Lt=ke?ie.width:ie.height,fn=ke?Re.left:Re.top,ao=ke?Re.right:Re.bottom,Yn=ke?Re.width:Re.height;return ut===fn||Nt===ao||ut+Lt/2===fn+Yn/2},io=function(ie,Re){var ke;return ro.some(function(ut){var Nt=ut[yt].options.emptyInsertThreshold;if(!(!Nt||Ze(ut))){var Lt=et(ut),fn=ie>=Lt.left-Nt&&ie<=Lt.right+Nt,ao=Re>=Lt.top-Nt&&Re<=Lt.bottom+Nt;if(fn&&ao)return ke=ut}}),ke},Ia=function(ie){function Re(Nt,Lt){return function(fn,ao,Yn,Ft){var is=fn.options.group.name&&ao.options.group.name&&fn.options.group.name===ao.options.group.name;if(Nt==null&&(Lt||is))return!0;if(Nt==null||Nt===!1)return!1;if(Lt&&Nt==="clone")return Nt;if(typeof Nt=="function")return Re(Nt(fn,ao,Yn,Ft),Lt)(fn,ao,Yn,Ft);var ds=(Lt?fn:ao).options.group.name;return Nt===!0||typeof Nt=="string"&&Nt===ds||Nt.join&&Nt.indexOf(ds)>-1}}var ke={},ut=ie.group;(!ut||d(ut)!="object")&&(ut={name:ut}),ke.name=ut.name,ke.checkPull=Re(ut.pull,!0),ke.checkPut=Re(ut.put),ke.revertClone=ut.revertClone,ie.group=ke},na=function(){!tc&&At&&P(At,"display","none")},yc=function(){!tc&&At&&P(At,"display","")};Xi&&!Le&&document.addEventListener("click",function(ie){if(Cn)return ie.preventDefault(),ie.stopPropagation&&ie.stopPropagation(),ie.stopImmediatePropagation&&ie.stopImmediatePropagation(),Cn=!1,!1},!0);var Ge=function(ie){if(Un){ie=ie.touches?ie.touches[0]:ie;var Re=io(ie.clientX,ie.clientY);if(Re){var ke={};for(var ut in ie)ie.hasOwnProperty(ut)&&(ke[ut]=ie[ut]);ke.target=ke.rootEl=Re,ke.preventDefault=void 0,ke.stopPropagation=void 0,Re[yt]._onDragOver(ke)}}},Qe=function(ie){Un&&Un.parentNode[yt]._isOutsideThisEl(ie.target)};function qe(ie,Re){if(!(ie&&ie.nodeType&&ie.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(ie));this.el=ie,this.options=Re=C({},Re),ie[yt]=this;var ke={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(ie.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return nc(ie,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(Lt,fn){Lt.setData("Text",fn.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:qe.supportPointer!==!1&&"PointerEvent"in window&&!ye,emptyInsertThreshold:5};Vr.initializePlugins(this,ie,ke);for(var ut in ke)!(ut in Re)&&(Re[ut]=ke[ut]);Ia(Re);for(var Nt in this)Nt.charAt(0)==="_"&&typeof this[Nt]=="function"&&(this[Nt]=this[Nt].bind(this));this.nativeDraggable=Re.forceFallback?!1:or,this.nativeDraggable&&(this.options.touchStartThreshold=1),Re.supportPointer?Ce(ie,"pointerdown",this._onTapStart):(Ce(ie,"mousedown",this._onTapStart),Ce(ie,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ce(ie,"dragover",this),Ce(ie,"dragenter",this)),ro.push(this.el),Re.store&&Re.store.get&&this.sort(Re.store.get(this)||[]),C(this,le())}qe.prototype={constructor:qe,_isOutsideThisEl:function(ie){!this.el.contains(ie)&&ie!==this.el&&(go=null)},_getDirection:function(ie,Re){return typeof this.options.direction=="function"?this.options.direction.call(this,ie,Re,Un):this.options.direction},_onTapStart:function(ie){if(ie.cancelable){var Re=this,ke=this.el,ut=this.options,Nt=ut.preventOnFilter,Lt=ie.type,fn=ie.touches&&ie.touches[0]||ie.pointerType&&ie.pointerType==="touch"&&ie,ao=(fn||ie).target,Yn=ie.target.shadowRoot&&(ie.path&&ie.path[0]||ie.composedPath&&ie.composedPath()[0])||ao,Ft=ut.filter;if(vr(ke),!Un&&!(/mousedown|pointerdown/.test(Lt)&&ie.button!==0||ut.disabled)&&!Yn.isContentEditable&&!(!this.nativeDraggable&&ye&&ao&&ao.tagName.toUpperCase()==="SELECT")&&(ao=dt(ao,ut.draggable,ke,!1),!(ao&&ao.animated)&&ir!==ao)){if(Vt=U(ao),de=U(ao,ut.draggable),typeof Ft=="function"){if(Ft.call(this,ie,ao,this)){vt({sortable:Re,rootEl:Yn,name:"filter",targetEl:ao,toEl:ke,fromEl:ke}),In("filter",Re,{evt:ie}),Nt&&ie.cancelable&&ie.preventDefault();return}}else if(Ft&&(Ft=Ft.split(",").some(function(is){if(is=dt(Yn,is.trim(),ke,!1),is)return vt({sortable:Re,rootEl:is,name:"filter",targetEl:ao,fromEl:ke,toEl:ke}),In("filter",Re,{evt:ie}),!0}),Ft)){Nt&&ie.cancelable&&ie.preventDefault();return}ut.handle&&!dt(Yn,ut.handle,ke,!1)||this._prepareDragStart(ie,fn,ao)}}},_prepareDragStart:function(ie,Re,ke){var ut=this,Nt=ut.el,Lt=ut.options,fn=Nt.ownerDocument,ao;if(ke&&!Un&&ke.parentNode===Nt){var Yn=et(ke);if(Bs=Nt,Un=ke,Ns=Un.parentNode,rr=Un.nextSibling,ir=ke,Ie=Lt.group,qe.dragged=Un,Gn={target:Un,clientX:(Re||ie).clientX,clientY:(Re||ie).clientY},Co=Gn.clientX-Yn.left,Ci=Gn.clientY-Yn.top,this._lastX=(Re||ie).clientX,this._lastY=(Re||ie).clientY,Un.style["will-change"]="all",ao=function(){if(In("delayEnded",ut,{evt:ie}),qe.eventCanceled){ut._onDrop();return}ut._disableDelayedDragEvents(),!Se&&ut.nativeDraggable&&(Un.draggable=!0),ut._triggerDragStart(ie,Re),vt({sortable:ut,name:"choose",originalEvent:ie}),Et(Un,Lt.chosenClass,!0)},Lt.ignore.split(",").forEach(function(Ft){Ln(Un,Ft.trim(),Do)}),Ce(fn,"dragover",Ge),Ce(fn,"mousemove",Ge),Ce(fn,"touchmove",Ge),Ce(fn,"mouseup",ut._onDrop),Ce(fn,"touchend",ut._onDrop),Ce(fn,"touchcancel",ut._onDrop),Se&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Un.draggable=!0),In("delayStart",this,{evt:ie}),Lt.delay&&(!Lt.delayOnTouchOnly||Re)&&(!this.nativeDraggable||!(te||V))){if(qe.eventCanceled){this._onDrop();return}Ce(fn,"mouseup",ut._disableDelayedDrag),Ce(fn,"touchend",ut._disableDelayedDrag),Ce(fn,"touchcancel",ut._disableDelayedDrag),Ce(fn,"mousemove",ut._delayedDragTouchMoveHandler),Ce(fn,"touchmove",ut._delayedDragTouchMoveHandler),Lt.supportPointer&&Ce(fn,"pointermove",ut._delayedDragTouchMoveHandler),ut._dragStartTimer=setTimeout(ao,Lt.delay)}else ao()}},_delayedDragTouchMoveHandler:function(ie){var Re=ie.touches?ie.touches[0]:ie;Math.max(Math.abs(Re.clientX-this._lastX),Math.abs(Re.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Un&&Do(Un),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var ie=this.el.ownerDocument;at(ie,"mouseup",this._disableDelayedDrag),at(ie,"touchend",this._disableDelayedDrag),at(ie,"touchcancel",this._disableDelayedDrag),at(ie,"mousemove",this._delayedDragTouchMoveHandler),at(ie,"touchmove",this._delayedDragTouchMoveHandler),at(ie,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(ie,Re){Re=Re||ie.pointerType=="touch"&&ie,!this.nativeDraggable||Re?this.options.supportPointer?Ce(document,"pointermove",this._onTouchMove):Re?Ce(document,"touchmove",this._onTouchMove):Ce(document,"mousemove",this._onTouchMove):(Ce(Un,"dragend",this),Ce(Bs,"dragstart",this._onDragStart));try{document.selection?Ho(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(ie,Re){if(Tt=!1,Bs&&Un){In("dragStarted",this,{evt:Re}),this.nativeDraggable&&Ce(document,"dragover",Qe);var ke=this.options;!ie&&Et(Un,ke.dragClass,!1),Et(Un,ke.ghostClass,!0),qe.active=this,ie&&this._appendGhost(),vt({sortable:this,name:"start",originalEvent:Re})}else this._nulling()},_emulateDragOver:function(){if(yn){this._lastX=yn.clientX,this._lastY=yn.clientY,na();for(var ie=document.elementFromPoint(yn.clientX,yn.clientY),Re=ie;ie&&ie.shadowRoot&&(ie=ie.shadowRoot.elementFromPoint(yn.clientX,yn.clientY),ie!==Re);)Re=ie;if(Un.parentNode[yt]._isOutsideThisEl(ie),Re)do{if(Re[yt]){var ke=void 0;if(ke=Re[yt]._onDragOver({clientX:yn.clientX,clientY:yn.clientY,target:ie,rootEl:Re}),ke&&!this.options.dragoverBubble)break}ie=Re}while(Re=Re.parentNode);yc()}},_onTouchMove:function(ie){if(Gn){var Re=this.options,ke=Re.fallbackTolerance,ut=Re.fallbackOffset,Nt=ie.touches?ie.touches[0]:ie,Lt=At&&mn(At,!0),fn=At&&Lt&&Lt.a,ao=At&&Lt&&Lt.d,Yn=Ks&&Cr&&en(Cr),Ft=(Nt.clientX-Gn.clientX+ut.x)/(fn||1)+(Yn?Yn[0]-Lr[0]:0)/(fn||1),is=(Nt.clientY-Gn.clientY+ut.y)/(ao||1)+(Yn?Yn[1]-Lr[1]:0)/(ao||1);if(!qe.active&&!Tt){if(ke&&Math.max(Math.abs(Nt.clientX-this._lastX),Math.abs(Nt.clientY-this._lastY))<ke)return;this._onDragStart(ie,!0)}if(At){Lt?(Lt.e+=Ft-(Uo||0),Lt.f+=is-(zs||0)):Lt={a:1,b:0,c:0,d:1,e:Ft,f:is};var ds="matrix(".concat(Lt.a,",").concat(Lt.b,",").concat(Lt.c,",").concat(Lt.d,",").concat(Lt.e,",").concat(Lt.f,")");P(At,"webkitTransform",ds),P(At,"mozTransform",ds),P(At,"msTransform",ds),P(At,"transform",ds),Uo=Ft,zs=is,yn=Nt}ie.cancelable&&ie.preventDefault()}},_appendGhost:function(){if(!At){var ie=this.options.fallbackOnBody?document.body:Bs,Re=et(Un,!0,Ks,!0,ie),ke=this.options;if(Ks){for(Cr=ie;P(Cr,"position")==="static"&&P(Cr,"transform")==="none"&&Cr!==document;)Cr=Cr.parentNode;Cr!==document.body&&Cr!==document.documentElement?(Cr===document&&(Cr=ln()),Re.top+=Cr.scrollTop,Re.left+=Cr.scrollLeft):Cr=ln(),Lr=en(Cr)}At=Un.cloneNode(!0),Et(At,ke.ghostClass,!1),Et(At,ke.fallbackClass,!0),Et(At,ke.dragClass,!0),P(At,"transition",""),P(At,"transform",""),P(At,"box-sizing","border-box"),P(At,"margin",0),P(At,"top",Re.top),P(At,"left",Re.left),P(At,"width",Re.width),P(At,"height",Re.height),P(At,"opacity","0.8"),P(At,"position",Ks?"absolute":"fixed"),P(At,"zIndex","100000"),P(At,"pointerEvents","none"),qe.ghost=At,ie.appendChild(At),P(At,"transform-origin",Co/parseInt(At.style.width)*100+"% "+Ci/parseInt(At.style.height)*100+"%")}},_onDragStart:function(ie,Re){var ke=this,ut=ie.dataTransfer,Nt=ke.options;if(In("dragStart",this,{evt:ie}),qe.eventCanceled){this._onDrop();return}In("setupClone",this),qe.eventCanceled||(Gs=Yt(Un),Gs.removeAttribute("id"),Gs.draggable=!1,Gs.style["will-change"]="",this._hideClone(),Et(Gs,this.options.chosenClass,!1),qe.clone=Gs),ke.cloneId=Ho(function(){In("clone",ke),!qe.eventCanceled&&(ke.options.removeCloneOnHide||Bs.insertBefore(Gs,Un),ke._hideClone(),vt({sortable:ke,name:"clone"}))}),!Re&&Et(Un,Nt.dragClass,!0),Re?(Cn=!0,ke._loopId=setInterval(ke._emulateDragOver,50)):(at(document,"mouseup",ke._onDrop),at(document,"touchend",ke._onDrop),at(document,"touchcancel",ke._onDrop),ut&&(ut.effectAllowed="move",Nt.setData&&Nt.setData.call(ke,ut,Un)),Ce(document,"drop",ke),P(Un,"transform","translateZ(0)")),Tt=!0,ke._dragStartId=Ho(ke._dragStarted.bind(ke,Re,ie)),Ce(document,"selectstart",ke),Mn=!0,ye&&P(document.body,"user-select","none")},_onDragOver:function(ie){var Re=this.el,ke=ie.target,ut,Nt,Lt,fn=this.options,ao=fn.group,Yn=qe.active,Ft=Ie===ao,is=fn.sort,ds=ot||Yn,Rr,as=this,vi=!1;if(bl)return;function dr(_s,bs){In(_s,as,a({evt:ie,isOwner:Ft,axis:Rr?"vertical":"horizontal",revert:Lt,dragRect:ut,targetRect:Nt,canSort:is,fromSortable:ds,target:ke,completed:ha,onMove:function(ar,ae){return jo(Bs,Re,Un,ut,ar,et(ar),ie,ae)},changed:Fa},bs))}function Sa(){dr("dragOverAnimationCapture"),as.captureAnimationState(),as!==ds&&ds.captureAnimationState()}function ha(_s){return dr("dragOverCompleted",{insertion:_s}),_s&&(Ft?Yn._hideClone():Yn._showClone(as),as!==ds&&(Et(Un,ot?ot.options.ghostClass:Yn.options.ghostClass,!1),Et(Un,fn.ghostClass,!0)),ot!==as&&as!==qe.active?ot=as:as===qe.active&&ot&&(ot=null),ds===as&&(as._ignoreWhileAnimating=ke),as.animateAll(function(){dr("dragOverAnimationComplete"),as._ignoreWhileAnimating=null}),as!==ds&&(ds.animateAll(),ds._ignoreWhileAnimating=null)),(ke===Un&&!Un.animated||ke===Re&&!ke.animated)&&(go=null),!fn.dragoverBubble&&!ie.rootEl&&ke!==document&&(Un.parentNode[yt]._isOutsideThisEl(ie.target),!_s&&Ge(ie)),!fn.dragoverBubble&&ie.stopPropagation&&ie.stopPropagation(),vi=!0}function Fa(){J=U(Un),_e=U(Un,fn.draggable),vt({sortable:as,name:"change",toEl:Re,newIndex:J,newDraggableIndex:_e,originalEvent:ie})}if(ie.preventDefault!==void 0&&ie.cancelable&&ie.preventDefault(),ke=dt(ke,fn.draggable,Re,!0),dr("dragOver"),qe.eventCanceled)return vi;if(Un.contains(ie.target)||ke.animated&&ke.animatingX&&ke.animatingY||as._ignoreWhileAnimating===ke)return ha(!1);if(Cn=!1,Yn&&!fn.disabled&&(Ft?is||(Lt=Ns!==Bs):ot===this||(this.lastPutMode=Ie.checkPull(this,Yn,Un,ie))&&ao.checkPut(this,Yn,Un,ie))){if(Rr=this._getDirection(ie,ke)==="vertical",ut=et(Un),dr("dragOverValid"),qe.eventCanceled)return vi;if(Lt)return Ns=Bs,Sa(),this._hideClone(),dr("revert"),qe.eventCanceled||(rr?Bs.insertBefore(Un,rr):Bs.appendChild(Un)),ha(!0);var sa=Ze(Re,fn.draggable);if(!sa||os(ie,Rr,this)&&!sa.animated){if(sa===Un)return ha(!1);if(sa&&Re===ie.target&&(ke=sa),ke&&(Nt=et(ke)),jo(Bs,Re,Un,ut,ke,Nt,ie,!!ke)!==!1)return Sa(),sa&&sa.nextSibling?Re.insertBefore(Un,sa.nextSibling):Re.appendChild(Un),Ns=Re,Fa(),ha(!0)}else if(sa&&er(ie,Rr,this)){var oc=wn(Re,0,fn,!0);if(oc===Un)return ha(!1);if(ke=oc,Nt=et(ke),jo(Bs,Re,Un,ut,ke,Nt,ie,!1)!==!1)return Sa(),Re.insertBefore(Un,oc),Ns=Re,Fa(),ha(!0)}else if(ke.parentNode===Re){Nt=et(ke);var ul=0,wl,ql=Un.parentNode!==Re,Tn=!Zl(Un.animated&&Un.toRect||ut,ke.animated&&ke.toRect||Nt,Rr),Aa=Rr?"top":"left",Nl=En(ke,"top","top")||En(Un,"top","top"),we=Nl?Nl.scrollTop:void 0;go!==ke&&(wl=Nt[Aa],Wa=!1,pr=!Tn&&fn.invertSwap||ql),ul=gr(ie,ke,Nt,Rr,Tn?1:fn.swapThreshold,fn.invertedSwapThreshold==null?fn.swapThreshold:fn.invertedSwapThreshold,pr,go===ke);var We;if(ul!==0){var ft=U(Un);do ft-=ul,We=Ns.children[ft];while(We&&(P(We,"display")==="none"||We===At))}if(ul===0||We===ke)return ha(!1);go=ke,Mo=ul;var Bt=ke.nextElementSibling,kn=!1;kn=ul===1;var Kn=jo(Bs,Re,Un,ut,ke,Nt,ie,kn);if(Kn!==!1)return(Kn===1||Kn===-1)&&(kn=Kn===1),bl=!0,setTimeout(Rs,30),Sa(),kn&&!Bt?Re.appendChild(Un):ke.parentNode.insertBefore(Un,kn?Bt:ke),Nl&&Ds(Nl,0,we-Nl.scrollTop),Ns=Un.parentNode,wl!==void 0&&!pr&&(Pn=Math.abs(wl-et(ke)[Aa])),Fa(),ha(!0)}if(Re.contains(Un))return ha(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){at(document,"mousemove",this._onTouchMove),at(document,"touchmove",this._onTouchMove),at(document,"pointermove",this._onTouchMove),at(document,"dragover",Ge),at(document,"mousemove",Ge),at(document,"touchmove",Ge)},_offUpEvents:function(){var ie=this.el.ownerDocument;at(ie,"mouseup",this._onDrop),at(ie,"touchend",this._onDrop),at(ie,"pointerup",this._onDrop),at(ie,"touchcancel",this._onDrop),at(document,"selectstart",this)},_onDrop:function(ie){var Re=this.el,ke=this.options;if(J=U(Un),_e=U(Un,ke.draggable),In("drop",this,{evt:ie}),Ns=Un&&Un.parentNode,J=U(Un),_e=U(Un,ke.draggable),qe.eventCanceled){this._nulling();return}Tt=!1,pr=!1,Wa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ls(this.cloneId),Ls(this._dragStartId),this.nativeDraggable&&(at(document,"drop",this),at(Re,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ye&&P(document.body,"user-select",""),P(Un,"transform",""),ie&&(Mn&&(ie.cancelable&&ie.preventDefault(),!ke.dropBubble&&ie.stopPropagation()),At&&At.parentNode&&At.parentNode.removeChild(At),(Bs===Ns||ot&&ot.lastPutMode!=="clone")&&Gs&&Gs.parentNode&&Gs.parentNode.removeChild(Gs),Un&&(this.nativeDraggable&&at(Un,"dragend",this),Do(Un),Un.style["will-change"]="",Mn&&!Tt&&Et(Un,ot?ot.options.ghostClass:this.options.ghostClass,!1),Et(Un,this.options.chosenClass,!1),vt({sortable:this,name:"unchoose",toEl:Ns,newIndex:null,newDraggableIndex:null,originalEvent:ie}),Bs!==Ns?(J>=0&&(vt({rootEl:Ns,name:"add",toEl:Ns,fromEl:Bs,originalEvent:ie}),vt({sortable:this,name:"remove",toEl:Ns,originalEvent:ie}),vt({rootEl:Ns,name:"sort",toEl:Ns,fromEl:Bs,originalEvent:ie}),vt({sortable:this,name:"sort",toEl:Ns,originalEvent:ie})),ot&&ot.save()):J!==Vt&&J>=0&&(vt({sortable:this,name:"update",toEl:Ns,originalEvent:ie}),vt({sortable:this,name:"sort",toEl:Ns,originalEvent:ie})),qe.active&&((J==null||J===-1)&&(J=Vt,_e=de),vt({sortable:this,name:"end",toEl:Ns,originalEvent:ie}),this.save()))),this._nulling()},_nulling:function(){In("nulling",this),Bs=Un=Ns=At=rr=Gs=ir=Vn=Gn=yn=Mn=J=_e=Vt=de=go=Mo=ot=Ie=qe.dragged=qe.ghost=qe.clone=qe.active=null,ba.forEach(function(ie){ie.checked=!0}),ba.length=Uo=zs=0},handleEvent:function(ie){switch(ie.type){case"drop":case"dragend":this._onDrop(ie);break;case"dragenter":case"dragover":Un&&(this._onDragOver(ie),Rn(ie));break;case"selectstart":ie.preventDefault();break}},toArray:function(){for(var ie=[],Re,ke=this.el.children,ut=0,Nt=ke.length,Lt=this.options;ut<Nt;ut++)Re=ke[ut],dt(Re,Lt.draggable,this.el,!1)&&ie.push(Re.getAttribute(Lt.dataIdAttr)||da(Re));return ie},sort:function(ie,Re){var ke={},ut=this.el;this.toArray().forEach(function(Nt,Lt){var fn=ut.children[Lt];dt(fn,this.options.draggable,ut,!1)&&(ke[Nt]=fn)},this),Re&&this.captureAnimationState(),ie.forEach(function(Nt){ke[Nt]&&(ut.removeChild(ke[Nt]),ut.appendChild(ke[Nt]))}),Re&&this.animateAll()},save:function(){var ie=this.options.store;ie&&ie.set&&ie.set(this)},closest:function(ie,Re){return dt(ie,Re||this.options.draggable,this.el,!1)},option:function(ie,Re){var ke=this.options;if(Re===void 0)return ke[ie];var ut=Vr.modifyOption(this,ie,Re);typeof ut<"u"?ke[ie]=ut:ke[ie]=Re,ie==="group"&&Ia(ke)},destroy:function(){In("destroy",this);var ie=this.el;ie[yt]=null,at(ie,"mousedown",this._onTapStart),at(ie,"touchstart",this._onTapStart),at(ie,"pointerdown",this._onTapStart),this.nativeDraggable&&(at(ie,"dragover",this),at(ie,"dragenter",this)),Array.prototype.forEach.call(ie.querySelectorAll("[draggable]"),function(Re){Re.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ro.splice(ro.indexOf(this.el),1),this.el=ie=null},_hideClone:function(){if(!Vn){if(In("hideClone",this),qe.eventCanceled)return;P(Gs,"display","none"),this.options.removeCloneOnHide&&Gs.parentNode&&Gs.parentNode.removeChild(Gs),Vn=!0}},_showClone:function(ie){if(ie.lastPutMode!=="clone"){this._hideClone();return}if(Vn){if(In("showClone",this),qe.eventCanceled)return;Un.parentNode==Bs&&!this.options.group.revertClone?Bs.insertBefore(Gs,Un):rr?Bs.insertBefore(Gs,rr):Bs.appendChild(Gs),this.options.group.revertClone&&this.animate(Un,Gs),P(Gs,"display",""),Vn=!1}}};function Rn(ie){ie.dataTransfer&&(ie.dataTransfer.dropEffect="move"),ie.cancelable&&ie.preventDefault()}function jo(ie,Re,ke,ut,Nt,Lt,fn,ao){var Yn,Ft=ie[yt],is=Ft.options.onMove,ds;return window.CustomEvent&&!V&&!te?Yn=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(Yn=document.createEvent("Event"),Yn.initEvent("move",!0,!0)),Yn.to=Re,Yn.from=ie,Yn.dragged=ke,Yn.draggedRect=ut,Yn.related=Nt||Re,Yn.relatedRect=Lt||et(Re),Yn.willInsertAfter=ao,Yn.originalEvent=fn,ie.dispatchEvent(Yn),is&&(ds=is.call(Ft,Yn,fn)),ds}function Do(ie){ie.draggable=!1}function Rs(){bl=!1}function er(ie,Re,ke){var ut=et(wn(ke.el,0,ke.options,!0)),Nt=Fe(ke.el),Lt=10;return Re?ie.clientX<Nt.left-Lt||ie.clientY<ut.top&&ie.clientX<ut.right:ie.clientY<Nt.top-Lt||ie.clientY<ut.bottom&&ie.clientX<ut.left}function os(ie,Re,ke){var ut=et(Ze(ke.el,ke.options.draggable)),Nt=Fe(ke.el),Lt=10;return Re?ie.clientX>Nt.right+Lt||ie.clientY>ut.bottom&&ie.clientX>ut.left:ie.clientY>Nt.bottom+Lt||ie.clientX>ut.right&&ie.clientY>ut.top}function gr(ie,Re,ke,ut,Nt,Lt,fn,ao){var Yn=ut?ie.clientY:ie.clientX,Ft=ut?ke.height:ke.width,is=ut?ke.top:ke.left,ds=ut?ke.bottom:ke.right,Rr=!1;if(!fn){if(ao&&Pn<Ft*Nt){if(!Wa&&(Mo===1?Yn>is+Ft*Lt/2:Yn<ds-Ft*Lt/2)&&(Wa=!0),Wa)Rr=!0;else if(Mo===1?Yn<is+Pn:Yn>ds-Pn)return-Mo}else if(Yn>is+Ft*(1-Nt)/2&&Yn<ds-Ft*(1-Nt)/2)return _n(Re)}return Rr=Rr||fn,Rr&&(Yn<is+Ft*Lt/2||Yn>ds-Ft*Lt/2)?Yn>is+Ft/2?1:-1:0}function _n(ie){return U(Un)<U(ie)?1:-1}function da(ie){for(var Re=ie.tagName+ie.className+ie.src+ie.href+ie.textContent,ke=Re.length,ut=0;ke--;)ut+=Re.charCodeAt(ke);return ut.toString(36)}function vr(ie){ba.length=0;for(var Re=ie.getElementsByTagName("input"),ke=Re.length;ke--;){var ut=Re[ke];ut.checked&&ba.push(ut)}}function Ho(ie){return setTimeout(ie,0)}function Ls(ie){return clearTimeout(ie)}Xi&&Ce(document,"touchmove",function(ie){(qe.active||Tt)&&ie.cancelable&&ie.preventDefault()}),qe.utils={on:Ce,off:at,css:P,find:Ln,is:function(ie,Re){return!!dt(ie,Re,ie,!1)},extend:eo,throttle:Er,closest:dt,toggleClass:Et,clone:Yt,index:U,nextTick:Ho,cancelNextTick:Ls,detectDirection:nc,getChild:wn},qe.get=function(ie){return ie[yt]},qe.mount=function(){for(var ie=arguments.length,Re=new Array(ie),ke=0;ke<ie;ke++)Re[ke]=arguments[ke];Re[0].constructor===Array&&(Re=Re[0]),Re.forEach(function(ut){if(!ut.prototype||!ut.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(ut));ut.utils&&(qe.utils=a(a({},qe.utils),ut.utils)),Vr.mount(ut)})},qe.create=function(ie,Re){return new qe(ie,Re)},qe.version=H;var mi=[],pi,Xo,gi=!1,ya,fa,un,rs;function oa(){function ie(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var Re in this)Re.charAt(0)==="_"&&typeof this[Re]=="function"&&(this[Re]=this[Re].bind(this))}return ie.prototype={dragStarted:function(Re){var ke=Re.originalEvent;this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ce(document,"pointermove",this._handleFallbackAutoScroll):ke.touches?Ce(document,"touchmove",this._handleFallbackAutoScroll):Ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(Re){var ke=Re.originalEvent;!this.options.dragOverBubble&&!ke.rootEl&&this._handleAutoScroll(ke)},drop:function(){this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):(at(document,"pointermove",this._handleFallbackAutoScroll),at(document,"touchmove",this._handleFallbackAutoScroll),at(document,"mousemove",this._handleFallbackAutoScroll)),au(),Uc(),Oo()},nulling:function(){un=Xo=pi=gi=rs=ya=fa=null,mi.length=0},_handleFallbackAutoScroll:function(Re){this._handleAutoScroll(Re,!0)},_handleAutoScroll:function(Re,ke){var ut=this,Nt=(Re.touches?Re.touches[0]:Re).clientX,Lt=(Re.touches?Re.touches[0]:Re).clientY,fn=document.elementFromPoint(Nt,Lt);if(un=Re,ke||this.options.forceAutoScrollFallback||te||V||ye){Da(Re,this.options,fn,ke);var ao=Eo(fn,!0);gi&&(!rs||Nt!==ya||Lt!==fa)&&(rs&&au(),rs=setInterval(function(){var Yn=Eo(document.elementFromPoint(Nt,Lt),!0);Yn!==ao&&(ao=Yn,Uc()),Da(Re,ut.options,Yn,ke)},10),ya=Nt,fa=Lt)}else{if(!this.options.bubbleScroll||Eo(fn,!0)===ln()){Uc();return}Da(Re,this.options,Eo(fn,!1),!1)}}},C(ie,{pluginName:"scroll",initializeByDefault:!0})}function Uc(){mi.forEach(function(ie){clearInterval(ie.pid)}),mi=[]}function au(){clearInterval(rs)}var Da=Er(function(ie,Re,ke,ut){if(Re.scroll){var Nt=(ie.touches?ie.touches[0]:ie).clientX,Lt=(ie.touches?ie.touches[0]:ie).clientY,fn=Re.scrollSensitivity,ao=Re.scrollSpeed,Yn=ln(),Ft=!1,is;Xo!==ke&&(Xo=ke,Uc(),pi=Re.scroll,is=Re.scrollFn,pi===!0&&(pi=Eo(ke,!0)));var ds=0,Rr=pi;do{var as=Rr,vi=et(as),dr=vi.top,Sa=vi.bottom,ha=vi.left,Fa=vi.right,sa=vi.width,oc=vi.height,ul=void 0,wl=void 0,ql=as.scrollWidth,Tn=as.scrollHeight,Aa=P(as),Nl=as.scrollLeft,we=as.scrollTop;as===Yn?(ul=sa<ql&&(Aa.overflowX==="auto"||Aa.overflowX==="scroll"||Aa.overflowX==="visible"),wl=oc<Tn&&(Aa.overflowY==="auto"||Aa.overflowY==="scroll"||Aa.overflowY==="visible")):(ul=sa<ql&&(Aa.overflowX==="auto"||Aa.overflowX==="scroll"),wl=oc<Tn&&(Aa.overflowY==="auto"||Aa.overflowY==="scroll"));var We=ul&&(Math.abs(Fa-Nt)<=fn&&Nl+sa<ql)-(Math.abs(ha-Nt)<=fn&&!!Nl),ft=wl&&(Math.abs(Sa-Lt)<=fn&&we+oc<Tn)-(Math.abs(dr-Lt)<=fn&&!!we);if(!mi[ds])for(var Bt=0;Bt<=ds;Bt++)mi[Bt]||(mi[Bt]={});(mi[ds].vx!=We||mi[ds].vy!=ft||mi[ds].el!==as)&&(mi[ds].el=as,mi[ds].vx=We,mi[ds].vy=ft,clearInterval(mi[ds].pid),(We!=0||ft!=0)&&(Ft=!0,mi[ds].pid=setInterval((function(){ut&&this.layer===0&&qe.active._onTouchMove(un);var kn=mi[this.layer].vy?mi[this.layer].vy*ao:0,Kn=mi[this.layer].vx?mi[this.layer].vx*ao:0;typeof is=="function"&&is.call(qe.dragged.parentNode[yt],Kn,kn,ie,un,mi[this.layer].el)!=="continue"||Ds(mi[this.layer].el,Kn,kn)}).bind({layer:ds}),24))),ds++}while(Re.bubbleScroll&&Rr!==Yn&&(Rr=Eo(Rr,!1)));gi=Ft}},30),yl=function(ie){var Re=ie.originalEvent,ke=ie.putSortable,ut=ie.dragEl,Nt=ie.activeSortable,Lt=ie.dispatchSortableEvent,fn=ie.hideGhostForTarget,ao=ie.unhideGhostForTarget;if(Re){var Yn=ke||Nt;fn();var Ft=Re.changedTouches&&Re.changedTouches.length?Re.changedTouches[0]:Re,is=document.elementFromPoint(Ft.clientX,Ft.clientY);ao(),Yn&&!Yn.el.contains(is)&&(Lt("spill"),this.onSpill({dragEl:ut,putSortable:ke}))}};function Ss(){}Ss.prototype={startIndex:null,dragStart:function(ie){var Re=ie.oldDraggableIndex;this.startIndex=Re},onSpill:function(ie){var Re=ie.dragEl,ke=ie.putSortable;this.sortable.captureAnimationState(),ke&&ke.captureAnimationState();var ut=wn(this.sortable.el,this.startIndex,this.options);ut?this.sortable.el.insertBefore(Re,ut):this.sortable.el.appendChild(Re),this.sortable.animateAll(),ke&&ke.animateAll()},drop:yl},C(Ss,{pluginName:"revertOnSpill"});function wu(){}wu.prototype={onSpill:function(ie){var Re=ie.dragEl,ke=ie.putSortable,ut=ke||this.sortable;ut.captureAnimationState(),Re.parentNode&&Re.parentNode.removeChild(Re),ut.animateAll()},drop:yl},C(wu,{pluginName:"removeOnSpill"}),qe.mount(new oa),qe.mount(wu,Ss);var Si=qe;window.Sortable=Si;var Po=ie=>{let Re=Array.from(ie.childNodes).filter(ke=>ke.nodeType===8&&["[if ENDBLOCK]><![endif]","__ENDBLOCK__"].includes(ke.nodeValue?.trim()))[0];Re&&ie.appendChild(Re)};window.Livewire?.directive("sortable",({el:ie,directive:Re,component:ke})=>{if(Re.modifiers.length>0)return;let ut={};ie.hasAttribute("wire:sortable.options")&&(ut=new Function(`return ${ie.getAttribute("wire:sortable.options")};`)()),ie.livewire_sortable=window.Sortable.create(ie,{sort:!0,...ut,draggable:"[wire\\:sortable\\.item]",handle:ie.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,dataIdAttr:"wire:sortable.item",group:{pull:!1,put:!1,...ut.group,name:ie.getAttribute("wire:sortable")},store:{...ut.store,set:function(fn){let ao=fn.toArray().map((Yn,Ft)=>({order:Ft+1,value:Yn}));Po(ie),ke.$wire.call(Re.method,ao)}}});let Nt=ie.querySelector("[wire\\:sortable\\.item]")!==null;if(Nt)return;let Lt=ke;Livewire.hook("commit",({component:fn,succeed:ao})=>{fn.id===Lt.id&&(Nt||ao(()=>{queueMicrotask(()=>{ie.livewire_sortable.option("handle",ie.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null),Nt=ie.querySelector("[wire\\:sortable\\.item]")!==null})}))})}),window.Livewire?.directive("sortable-group",({el:ie,directive:Re,component:ke})=>{if(!Re.modifiers.includes("item-group"))return;let ut={};ie.hasAttribute("wire:sortable-group.options")&&(ut=new Function(`return ${ie.getAttribute("wire:sortable-group.options")};`)()),ie.livewire_sortable=window.Sortable.create(ie,{sort:!0,...ut,draggable:"[wire\\:sortable-group\\.item]",handle:"[wire\\:sortable-group\\.handle]",dataIdAttr:"wire:sortable-group.item",group:{pull:!0,put:!0,...ut.group,name:ie.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group")},onSort:Nt=>{if(Nt.to!==Nt.from&&ie===Nt.from)return;let Lt=ie.closest("[wire\\:sortable-group]"),fn=Array.from(Lt.querySelectorAll("[wire\\:sortable-group\\.item-group]")).map((ao,Yn)=>(Po(ao),{order:Yn+1,value:ao.getAttribute("wire:sortable-group.item-group"),items:ao.livewire_sortable.toArray().map((Ft,is)=>({order:is+1,value:Ft}))}));Lt.closest("[wire\\:id]").__livewire.$wire.call(Lt.getAttribute("wire:sortable-group"),fn)}})})})();/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.1
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/var jV={exports:{}},e1e=jV.exports,Nre;function foe(){return Nre||(Nre=1,(function(r,a){(function(d,g){r.exports=g()})(e1e,(function(){var d=navigator.userAgent,g=navigator.platform,C=/gecko\/\d/i.test(d),k=/MSIE \d/.test(d),M=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(d),H=/Edge\/(\d+)/.exec(d),Y=k||M||H,V=Y&&(k?document.documentMode||6:+(H||M)[1]),te=!H&&/WebKit\//.test(d),Se=te&&/Qt\/\d+\.\d+/.test(d),ye=!H&&/Chrome\/(\d+)/.exec(d),je=ye&&+ye[1],Le=/Opera\//.test(d),Ee=/Apple Computer/.test(navigator.vendor),Ce=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(d),at=/PhantomJS/.test(d),Je=Ee&&(/Mobile\/\w+/.test(d)||navigator.maxTouchPoints>2),xe=/Android/.test(d),dt=Je||xe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(d),Qt=Je||/Mac/.test(g),Et=/\bCrOS\b/.test(d),P=/win/i.test(g),mn=Le&&d.match(/Version\/(\d*\.\d*)/);mn&&(mn=Number(mn[1])),mn&&mn>=15&&(Le=!1,te=!0);var Ln=Qt&&(Se||Le&&(mn==null||mn<12.11)),ln=C||Y&&V>=9;function et(u){return new RegExp("(^|\\s)"+u+"(?:$|\\s)\\s*")}var Fe=function(u,m){var x=u.className,S=et(m).exec(x);if(S){var D=x.slice(S.index+S[0].length);u.className=x.slice(0,S.index)+(D?S[1]+D:"")}};function En(u){for(var m=u.childNodes.length;m>0;--m)u.removeChild(u.firstChild);return u}function wn(u,m){return En(u).appendChild(m)}function Ze(u,m,x,S){var D=document.createElement(u);if(x&&(D.className=x),S&&(D.style.cssText=S),typeof m=="string")D.appendChild(document.createTextNode(m));else if(m)for(var z=0;z<m.length;++z)D.appendChild(m[z]);return D}function U(u,m,x,S){var D=Ze(u,m,x,S);return D.setAttribute("role","presentation"),D}var en;document.createRange?en=function(u,m,x,S){var D=document.createRange();return D.setEnd(S||u,x),D.setStart(u,m),D}:en=function(u,m,x){var S=document.body.createTextRange();try{S.moveToElementText(u.parentNode)}catch{return S}return S.collapse(!0),S.moveEnd("character",x),S.moveStart("character",m),S};function xt(u,m){if(m.nodeType==3&&(m=m.parentNode),u.contains)return u.contains(m);do if(m.nodeType==11&&(m=m.host),m==u)return!0;while(m=m.parentNode)}function Eo(u){var m=u.ownerDocument||u,x;try{x=u.activeElement}catch{x=m.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function eo(u,m){var x=u.className;et(m).test(x)||(u.className+=(x?" ":"")+m)}function qt(u,m){for(var x=u.split(" "),S=0;S<x.length;S++)x[S]&&!et(x[S]).test(m)&&(m+=" "+x[S]);return m}var us=function(u){u.select()};Je?us=function(u){u.selectionStart=0,u.selectionEnd=u.value.length}:Y&&(us=function(u){try{u.select()}catch{}});function Er(u){return u.display.wrapper.ownerDocument}function Oo(u){return Ds(u.display.wrapper)}function Ds(u){return u.getRootNode?u.getRootNode():u.ownerDocument}function Yt(u){return Er(u).defaultView}function yt(u){var m=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,m)}}function le(u,m,x){m||(m={});for(var S in u)u.hasOwnProperty(S)&&(x!==!1||!m.hasOwnProperty(S))&&(m[S]=u[S]);return m}function hi(u,m,x,S,D){m==null&&(m=u.search(/[^\s\u00a0]/),m==-1&&(m=u.length));for(var z=S||0,K=D||0;;){var se=u.indexOf("	",z);if(se<0||se>=m)return K+(m-z);K+=se-z,K+=x-K%x,z=se+1}}var fs=function(){this.id=null,this.f=null,this.time=0,this.handler=yt(this.onTimeout,this)};fs.prototype.onTimeout=function(u){u.id=0,u.time<=+new Date?u.f():setTimeout(u.handler,u.time-+new Date)},fs.prototype.set=function(u,m){this.f=m;var x=+new Date+u;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,u),this.time=x)};function ns(u,m){for(var x=0;x<u.length;++x)if(u[x]==m)return x;return-1}var js=50,Vr={toString:function(){return"CodeMirror.Pass"}},fo={scroll:!1},Ws={origin:"*mouse"},In={origin:"+move"};function vt(u,m,x){for(var S=0,D=0;;){var z=u.indexOf("	",S);z==-1&&(z=u.length);var K=z-S;if(z==u.length||D+K>=m)return S+Math.min(K,m-D);if(D+=z-S,D+=x-D%x,S=z+1,D>=m)return S}}var Un=[""];function Ns(u){for(;Un.length<=u;)Un.push(At(Un)+" ");return Un[u]}function At(u){return u[u.length-1]}function Bs(u,m){for(var x=[],S=0;S<u.length;S++)x[S]=m(u[S],S);return x}function rr(u,m,x){for(var S=0,D=x(m);S<u.length&&x(u[S])<=D;)S++;u.splice(S,0,m)}function ir(){}function Gs(u,m){var x;return Object.create?x=Object.create(u):(ir.prototype=u,x=new ir),m&&le(m,x),x}var Vn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Vt(u){return/\w/.test(u)||u>"Â"&&(u.toUpperCase()!=u.toLowerCase()||Vn.test(u))}function J(u,m){return m?m.source.indexOf("\\w")>-1&&Vt(u)?!0:m.test(u):Vt(u)}function de(u){for(var m in u)if(u.hasOwnProperty(m)&&u[m])return!1;return!0}var _e=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ie(u){return u.charCodeAt(0)>=768&&_e.test(u)}function ot(u,m,x){for(;(x<0?m>0:m<u.length)&&Ie(u.charAt(m));)m+=x;return m}function Tt(u,m,x){for(var S=m>x?-1:1;;){if(m==x)return m;var D=(m+x)/2,z=S<0?Math.ceil(D):Math.floor(D);if(z==m)return u(z)?m:x;u(z)?x=z:m=z+S}}function Cn(u,m,x,S){if(!u)return S(m,x,"ltr",0);for(var D=!1,z=0;z<u.length;++z){var K=u[z];(K.from<x&&K.to>m||m==x&&K.to==m)&&(S(Math.max(K.from,m),Math.min(K.to,x),K.level==1?"rtl":"ltr",z),D=!0)}D||S(m,x,"ltr")}var ro=null;function Gn(u,m,x){var S;ro=null;for(var D=0;D<u.length;++D){var z=u[D];if(z.from<m&&z.to>m)return D;z.to==m&&(z.from!=z.to&&x=="before"?S=D:ro=D),z.from==m&&(z.from!=z.to&&x!="before"?S=D:ro=D)}return S??ro}var yn=(function(){var u="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",m="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(ve){return ve<=247?u.charAt(ve):1424<=ve&&ve<=1524?"R":1536<=ve&&ve<=1785?m.charAt(ve-1536):1774<=ve&&ve<=2220?"r":8192<=ve&&ve<=8203?"w":ve==8204?"b":"L"}var S=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,D=/[stwN]/,z=/[LRr]/,K=/[Lb1n]/,se=/[1n]/;function ce(ve,be,nt){this.level=ve,this.from=be,this.to=nt}return function(ve,be){var nt=be=="ltr"?"L":"R";if(ve.length==0||be=="ltr"&&!S.test(ve))return!1;for(var Ot=ve.length,bt=[],sn=0;sn<Ot;++sn)bt.push(x(ve.charCodeAt(sn)));for(var An=0,mo=nt;An<Ot;++An){var xo=bt[An];xo=="m"?bt[An]=mo:mo=xo}for(var Go=0,lo=nt;Go<Ot;++Go){var qn=bt[Go];qn=="1"&&lo=="r"?bt[Go]="n":z.test(qn)&&(lo=qn,qn=="r"&&(bt[Go]="R"))}for(var xs=1,Ps=bt[0];xs<Ot-1;++xs){var ws=bt[xs];ws=="+"&&Ps=="1"&&bt[xs+1]=="1"?bt[xs]="1":ws==","&&Ps==bt[xs+1]&&(Ps=="1"||Ps=="n")&&(bt[xs]=Ps),Ps=ws}for(var _a=0;_a<Ot;++_a){var $l=bt[_a];if($l==",")bt[_a]="N";else if($l=="%"){var Wi=void 0;for(Wi=_a+1;Wi<Ot&&bt[Wi]=="%";++Wi);for(var hu=_a&&bt[_a-1]=="!"||Wi<Ot&&bt[Wi]=="1"?"1":"N",Ta=_a;Ta<Wi;++Ta)bt[Ta]=hu;_a=Wi-1}}for(var El=0,wt=nt;El<Ot;++El){var ji=bt[El];wt=="L"&&ji=="1"?bt[El]="L":z.test(ji)&&(wt=ji)}for(var al=0;al<Ot;++al)if(D.test(bt[al])){var hr=void 0;for(hr=al+1;hr<Ot&&D.test(bt[hr]);++hr);for(var Mi=(al?bt[al-1]:nt)=="L",Zi=(hr<Ot?bt[hr]:nt)=="L",Dr=Mi==Zi?Mi?"L":"R":nt,Oh=al;Oh<hr;++Oh)bt[Oh]=Dr;al=hr-1}for(var ml=[],Vd,Qa=0;Qa<Ot;)if(K.test(bt[Qa])){var Tm=Qa;for(++Qa;Qa<Ot&&K.test(bt[Qa]);++Qa);ml.push(new ce(0,Tm,Qa))}else{var Hf=Qa,Em=ml.length,Ou=be=="rtl"?1:0;for(++Qa;Qa<Ot&&bt[Qa]!="L";++Qa);for(var uc=Hf;uc<Qa;)if(se.test(bt[uc])){Hf<uc&&(ml.splice(Em,0,new ce(1,Hf,uc)),Em+=Ou);var xv=uc;for(++uc;uc<Qa&&se.test(bt[uc]);++uc);ml.splice(Em,0,new ce(2,xv,uc)),Em+=Ou,Hf=uc}else++uc;Hf<Qa&&ml.splice(Em,0,new ce(1,Hf,Qa))}return be=="ltr"&&(ml[0].level==1&&(Vd=ve.match(/^\s+/))&&(ml[0].from=Vd[0].length,ml.unshift(new ce(0,0,Vd[0].length))),At(ml).level==1&&(Vd=ve.match(/\s+$/))&&(At(ml).to-=Vd[0].length,ml.push(new ce(0,Ot-Vd[0].length,Ot)))),be=="rtl"?ml.reverse():ml}})();function Uo(u,m){var x=u.order;return x==null&&(x=u.order=yn(u.text,m)),x}var zs=[],Co=function(u,m,x){if(u.addEventListener)u.addEventListener(m,x,!1);else if(u.attachEvent)u.attachEvent("on"+m,x);else{var S=u._handlers||(u._handlers={});S[m]=(S[m]||zs).concat(x)}};function Ci(u,m){return u._handlers&&u._handlers[m]||zs}function Mn(u,m,x){if(u.removeEventListener)u.removeEventListener(m,x,!1);else if(u.detachEvent)u.detachEvent("on"+m,x);else{var S=u._handlers,D=S&&S[m];if(D){var z=ns(D,x);z>-1&&(S[m]=D.slice(0,z).concat(D.slice(z+1)))}}}function go(u,m){var x=Ci(u,m);if(x.length)for(var S=Array.prototype.slice.call(arguments,2),D=0;D<x.length;++D)x[D].apply(null,S)}function Mo(u,m,x){return typeof m=="string"&&(m={type:m,preventDefault:function(){this.defaultPrevented=!0}}),go(u,x||m.type,u,m),bl(m)||m.codemirrorIgnore}function Wa(u){var m=u._handlers&&u._handlers.cursorActivity;if(m)for(var x=u.curOp.cursorActivityHandlers||(u.curOp.cursorActivityHandlers=[]),S=0;S<m.length;++S)ns(x,m[S])==-1&&x.push(m[S])}function pr(u,m){return Ci(u,m).length>0}function Pn(u){u.prototype.on=function(m,x){Co(this,m,x)},u.prototype.off=function(m,x){Mn(this,m,x)}}function Cr(u){u.preventDefault?u.preventDefault():u.returnValue=!1}function Lr(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0}function bl(u){return u.defaultPrevented!=null?u.defaultPrevented:u.returnValue==!1}function ba(u){Cr(u),Lr(u)}function Xi(u){return u.target||u.srcElement}function Ks(u){var m=u.which;return m==null&&(u.button&1?m=1:u.button&2?m=3:u.button&4&&(m=2)),Qt&&u.ctrlKey&&m==1&&(m=3),m}var qo=(function(){if(Y&&V<9)return!1;var u=Ze("div");return"draggable"in u||"dragDrop"in u})(),or;function tc(u){if(or==null){var m=Ze("span","â");wn(u,Ze("span",[m,document.createTextNode("x")])),u.firstChild.offsetHeight!=0&&(or=m.offsetWidth<=1&&m.offsetHeight>2&&!(Y&&V<8))}var x=or?Ze("span","â"):Ze("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var nc;function Zl(u){if(nc!=null)return nc;var m=wn(u,document.createTextNode("AØ®A")),x=en(m,0,1).getBoundingClientRect(),S=en(m,1,2).getBoundingClientRect();return En(u),!x||x.left==x.right?!1:nc=S.right-x.right<3}var io=`

b`.split(/\n/).length!=3?function(u){for(var m=0,x=[],S=u.length;m<=S;){var D=u.indexOf(`
`,m);D==-1&&(D=u.length);var z=u.slice(m,u.charAt(D-1)=="\r"?D-1:D),K=z.indexOf("\r");K!=-1?(x.push(z.slice(0,K)),m+=K+1):(x.push(z),m=D+1)}return x}:function(u){return u.split(/\r\n?|\n/)},Ia=window.getSelection?function(u){try{return u.selectionStart!=u.selectionEnd}catch{return!1}}:function(u){var m;try{m=u.ownerDocument.selection.createRange()}catch{}return!m||m.parentElement()!=u?!1:m.compareEndPoints("StartToEnd",m)!=0},na=(function(){var u=Ze("div");return"oncopy"in u?!0:(u.setAttribute("oncopy","return;"),typeof u.oncopy=="function")})(),yc=null;function Ge(u){if(yc!=null)return yc;var m=wn(u,Ze("span","x")),x=m.getBoundingClientRect(),S=en(m,0,1).getBoundingClientRect();return yc=Math.abs(x.left-S.left)>1}var Qe={},qe={};function Rn(u,m){arguments.length>2&&(m.dependencies=Array.prototype.slice.call(arguments,2)),Qe[u]=m}function jo(u,m){qe[u]=m}function Do(u){if(typeof u=="string"&&qe.hasOwnProperty(u))u=qe[u];else if(u&&typeof u.name=="string"&&qe.hasOwnProperty(u.name)){var m=qe[u.name];typeof m=="string"&&(m={name:m}),u=Gs(m,u),u.name=m.name}else{if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(u))return Do("application/xml");if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(u))return Do("application/json")}return typeof u=="string"?{name:u}:u||{name:"null"}}function Rs(u,m){m=Do(m);var x=Qe[m.name];if(!x)return Rs(u,"text/plain");var S=x(u,m);if(er.hasOwnProperty(m.name)){var D=er[m.name];for(var z in D)D.hasOwnProperty(z)&&(S.hasOwnProperty(z)&&(S["_"+z]=S[z]),S[z]=D[z])}if(S.name=m.name,m.helperType&&(S.helperType=m.helperType),m.modeProps)for(var K in m.modeProps)S[K]=m.modeProps[K];return S}var er={};function os(u,m){var x=er.hasOwnProperty(u)?er[u]:er[u]={};le(m,x)}function gr(u,m){if(m===!0)return m;if(u.copyState)return u.copyState(m);var x={};for(var S in m){var D=m[S];D instanceof Array&&(D=D.concat([])),x[S]=D}return x}function _n(u,m){for(var x;u.innerMode&&(x=u.innerMode(m),!(!x||x.mode==u));)m=x.state,u=x.mode;return x||{mode:u,state:m}}function da(u,m,x){return u.startState?u.startState(m,x):!0}var vr=function(u,m,x){this.pos=this.start=0,this.string=u,this.tabSize=m||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};vr.prototype.eol=function(){return this.pos>=this.string.length},vr.prototype.sol=function(){return this.pos==this.lineStart},vr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},vr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},vr.prototype.eat=function(u){var m=this.string.charAt(this.pos),x;if(typeof u=="string"?x=m==u:x=m&&(u.test?u.test(m):u(m)),x)return++this.pos,m},vr.prototype.eatWhile=function(u){for(var m=this.pos;this.eat(u););return this.pos>m},vr.prototype.eatSpace=function(){for(var u=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>u},vr.prototype.skipToEnd=function(){this.pos=this.string.length},vr.prototype.skipTo=function(u){var m=this.string.indexOf(u,this.pos);if(m>-1)return this.pos=m,!0},vr.prototype.backUp=function(u){this.pos-=u},vr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=hi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?hi(this.string,this.lineStart,this.tabSize):0)},vr.prototype.indentation=function(){return hi(this.string,null,this.tabSize)-(this.lineStart?hi(this.string,this.lineStart,this.tabSize):0)},vr.prototype.match=function(u,m,x){if(typeof u=="string"){var S=function(K){return x?K.toLowerCase():K},D=this.string.substr(this.pos,u.length);if(S(D)==S(u))return m!==!1&&(this.pos+=u.length),!0}else{var z=this.string.slice(this.pos).match(u);return z&&z.index>0?null:(z&&m!==!1&&(this.pos+=z[0].length),z)}},vr.prototype.current=function(){return this.string.slice(this.start,this.pos)},vr.prototype.hideFirstChars=function(u,m){this.lineStart+=u;try{return m()}finally{this.lineStart-=u}},vr.prototype.lookAhead=function(u){var m=this.lineOracle;return m&&m.lookAhead(u)},vr.prototype.baseToken=function(){var u=this.lineOracle;return u&&u.baseToken(this.pos)};function Ho(u,m){if(m-=u.first,m<0||m>=u.size)throw new Error("There is no line "+(m+u.first)+" in the document.");for(var x=u;!x.lines;)for(var S=0;;++S){var D=x.children[S],z=D.chunkSize();if(m<z){x=D;break}m-=z}return x.lines[m]}function Ls(u,m,x){var S=[],D=m.line;return u.iter(m.line,x.line+1,function(z){var K=z.text;D==x.line&&(K=K.slice(0,x.ch)),D==m.line&&(K=K.slice(m.ch)),S.push(K),++D}),S}function mi(u,m,x){var S=[];return u.iter(m,x,function(D){S.push(D.text)}),S}function pi(u,m){var x=m-u.height;if(x)for(var S=u;S;S=S.parent)S.height+=x}function Xo(u){if(u.parent==null)return null;for(var m=u.parent,x=ns(m.lines,u),S=m.parent;S;m=S,S=S.parent)for(var D=0;S.children[D]!=m;++D)x+=S.children[D].chunkSize();return x+m.first}function gi(u,m){var x=u.first;e:do{for(var S=0;S<u.children.length;++S){var D=u.children[S],z=D.height;if(m<z){u=D;continue e}m-=z,x+=D.chunkSize()}return x}while(!u.lines);for(var K=0;K<u.lines.length;++K){var se=u.lines[K],ce=se.height;if(m<ce)break;m-=ce}return x+K}function ya(u,m){return m>=u.first&&m<u.first+u.size}function fa(u,m){return String(u.lineNumberFormatter(m+u.firstLineNumber))}function un(u,m,x){if(x===void 0&&(x=null),!(this instanceof un))return new un(u,m,x);this.line=u,this.ch=m,this.sticky=x}function rs(u,m){return u.line-m.line||u.ch-m.ch}function oa(u,m){return u.sticky==m.sticky&&rs(u,m)==0}function Uc(u){return un(u.line,u.ch)}function au(u,m){return rs(u,m)<0?m:u}function Da(u,m){return rs(u,m)<0?u:m}function yl(u,m){return Math.max(u.first,Math.min(m,u.first+u.size-1))}function Ss(u,m){if(m.line<u.first)return un(u.first,0);var x=u.first+u.size-1;return m.line>x?un(x,Ho(u,x).text.length):wu(m,Ho(u,m.line).text.length)}function wu(u,m){var x=u.ch;return x==null||x>m?un(u.line,m):x<0?un(u.line,0):u}function Si(u,m){for(var x=[],S=0;S<m.length;S++)x[S]=Ss(u,m[S]);return x}var Po=function(u,m){this.state=u,this.lookAhead=m},ie=function(u,m,x,S){this.state=m,this.doc=u,this.line=x,this.maxLookAhead=S||0,this.baseTokens=null,this.baseTokenPos=1};ie.prototype.lookAhead=function(u){var m=this.doc.getLine(this.line+u);return m!=null&&u>this.maxLookAhead&&(this.maxLookAhead=u),m},ie.prototype.baseToken=function(u){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=u;)this.baseTokenPos+=2;var m=this.baseTokens[this.baseTokenPos+1];return{type:m&&m.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-u}},ie.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ie.fromSaved=function(u,m,x){return m instanceof Po?new ie(u,gr(u.mode,m.state),x,m.lookAhead):new ie(u,gr(u.mode,m),x)},ie.prototype.save=function(u){var m=u!==!1?gr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Po(m,this.maxLookAhead):m};function Re(u,m,x,S){var D=[u.state.modeGen],z={};is(u,m.text,u.doc.mode,x,function(ve,be){return D.push(ve,be)},z,S);for(var K=x.state,se=function(ve){x.baseTokens=D;var be=u.state.overlays[ve],nt=1,Ot=0;x.state=!0,is(u,m.text,be.mode,x,function(bt,sn){for(var An=nt;Ot<bt;){var mo=D[nt];mo>bt&&D.splice(nt,1,bt,D[nt+1],mo),nt+=2,Ot=Math.min(bt,mo)}if(sn)if(be.opaque)D.splice(An,nt-An,bt,"overlay "+sn),nt=An+2;else for(;An<nt;An+=2){var xo=D[An+1];D[An+1]=(xo?xo+" ":"")+"overlay "+sn}},z),x.state=K,x.baseTokens=null,x.baseTokenPos=1},ce=0;ce<u.state.overlays.length;++ce)se(ce);return{styles:D,classes:z.bgClass||z.textClass?z:null}}function ke(u,m,x){if(!m.styles||m.styles[0]!=u.state.modeGen){var S=ut(u,Xo(m)),D=m.text.length>u.options.maxHighlightLength&&gr(u.doc.mode,S.state),z=Re(u,m,S);D&&(S.state=D),m.stateAfter=S.save(!D),m.styles=z.styles,z.classes?m.styleClasses=z.classes:m.styleClasses&&(m.styleClasses=null),x===u.doc.highlightFrontier&&(u.doc.modeFrontier=Math.max(u.doc.modeFrontier,++u.doc.highlightFrontier))}return m.styles}function ut(u,m,x){var S=u.doc,D=u.display;if(!S.mode.startState)return new ie(S,!0,m);var z=ds(u,m,x),K=z>S.first&&Ho(S,z-1).stateAfter,se=K?ie.fromSaved(S,K,z):new ie(S,da(S.mode),z);return S.iter(z,m,function(ce){Nt(u,ce.text,se);var ve=se.line;ce.stateAfter=ve==m-1||ve%5==0||ve>=D.viewFrom&&ve<D.viewTo?se.save():null,se.nextLine()}),x&&(S.modeFrontier=se.line),se}function Nt(u,m,x,S){var D=u.doc.mode,z=new vr(m,u.options.tabSize,x);for(z.start=z.pos=S||0,m==""&&Lt(D,x.state);!z.eol();)fn(D,z,x.state),z.start=z.pos}function Lt(u,m){if(u.blankLine)return u.blankLine(m);if(u.innerMode){var x=_n(u,m);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function fn(u,m,x,S){for(var D=0;D<10;D++){S&&(S[0]=_n(u,x).mode);var z=u.token(m,x);if(m.pos>m.start)return z}throw new Error("Mode "+u.name+" failed to advance stream.")}var ao=function(u,m,x){this.start=u.start,this.end=u.pos,this.string=u.current(),this.type=m||null,this.state=x};function Yn(u,m,x,S){var D=u.doc,z=D.mode,K;m=Ss(D,m);var se=Ho(D,m.line),ce=ut(u,m.line,x),ve=new vr(se.text,u.options.tabSize,ce),be;for(S&&(be=[]);(S||ve.pos<m.ch)&&!ve.eol();)ve.start=ve.pos,K=fn(z,ve,ce.state),S&&be.push(new ao(ve,K,gr(D.mode,ce.state)));return S?be:new ao(ve,K,ce.state)}function Ft(u,m){if(u)for(;;){var x=u.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;u=u.slice(0,x.index)+u.slice(x.index+x[0].length);var S=x[1]?"bgClass":"textClass";m[S]==null?m[S]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(m[S])||(m[S]+=" "+x[2])}return u}function is(u,m,x,S,D,z,K){var se=x.flattenSpans;se==null&&(se=u.options.flattenSpans);var ce=0,ve=null,be=new vr(m,u.options.tabSize,S),nt,Ot=u.options.addModeClass&&[null];for(m==""&&Ft(Lt(x,S.state),z);!be.eol();){if(be.pos>u.options.maxHighlightLength?(se=!1,K&&Nt(u,m,S,be.pos),be.pos=m.length,nt=null):nt=Ft(fn(x,be,S.state,Ot),z),Ot){var bt=Ot[0].name;bt&&(nt="m-"+(nt?bt+" "+nt:bt))}if(!se||ve!=nt){for(;ce<be.start;)ce=Math.min(be.start,ce+5e3),D(ce,ve);ve=nt}be.start=be.pos}for(;ce<be.pos;){var sn=Math.min(be.pos,ce+5e3);D(sn,ve),ce=sn}}function ds(u,m,x){for(var S,D,z=u.doc,K=x?-1:m-(u.doc.mode.innerMode?1e3:100),se=m;se>K;--se){if(se<=z.first)return z.first;var ce=Ho(z,se-1),ve=ce.stateAfter;if(ve&&(!x||se+(ve instanceof Po?ve.lookAhead:0)<=z.modeFrontier))return se;var be=hi(ce.text,null,u.options.tabSize);(D==null||S>be)&&(D=se-1,S=be)}return D}function Rr(u,m){if(u.modeFrontier=Math.min(u.modeFrontier,m),!(u.highlightFrontier<m-10)){for(var x=u.first,S=m-1;S>x;S--){var D=Ho(u,S).stateAfter;if(D&&(!(D instanceof Po)||S+D.lookAhead<m)){x=S+1;break}}u.highlightFrontier=Math.min(u.highlightFrontier,x)}}var as=!1,vi=!1;function dr(){as=!0}function Sa(){vi=!0}function ha(u,m,x){this.marker=u,this.from=m,this.to=x}function Fa(u,m){if(u)for(var x=0;x<u.length;++x){var S=u[x];if(S.marker==m)return S}}function sa(u,m){for(var x,S=0;S<u.length;++S)u[S]!=m&&(x||(x=[])).push(u[S]);return x}function oc(u,m,x){var S=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));S&&u.markedSpans&&S.has(u.markedSpans)?u.markedSpans.push(m):(u.markedSpans=u.markedSpans?u.markedSpans.concat([m]):[m],S&&S.add(u.markedSpans)),m.marker.attachLine(u)}function ul(u,m,x){var S;if(u)for(var D=0;D<u.length;++D){var z=u[D],K=z.marker,se=z.from==null||(K.inclusiveLeft?z.from<=m:z.from<m);if(se||z.from==m&&K.type=="bookmark"&&(!x||!z.marker.insertLeft)){var ce=z.to==null||(K.inclusiveRight?z.to>=m:z.to>m);(S||(S=[])).push(new ha(K,z.from,ce?null:z.to))}}return S}function wl(u,m,x){var S;if(u)for(var D=0;D<u.length;++D){var z=u[D],K=z.marker,se=z.to==null||(K.inclusiveRight?z.to>=m:z.to>m);if(se||z.from==m&&K.type=="bookmark"&&(!x||z.marker.insertLeft)){var ce=z.from==null||(K.inclusiveLeft?z.from<=m:z.from<m);(S||(S=[])).push(new ha(K,ce?null:z.from-m,z.to==null?null:z.to-m))}}return S}function ql(u,m){if(m.full)return null;var x=ya(u,m.from.line)&&Ho(u,m.from.line).markedSpans,S=ya(u,m.to.line)&&Ho(u,m.to.line).markedSpans;if(!x&&!S)return null;var D=m.from.ch,z=m.to.ch,K=rs(m.from,m.to)==0,se=ul(x,D,K),ce=wl(S,z,K),ve=m.text.length==1,be=At(m.text).length+(ve?D:0);if(se)for(var nt=0;nt<se.length;++nt){var Ot=se[nt];if(Ot.to==null){var bt=Fa(ce,Ot.marker);bt?ve&&(Ot.to=bt.to==null?null:bt.to+be):Ot.to=D}}if(ce)for(var sn=0;sn<ce.length;++sn){var An=ce[sn];if(An.to!=null&&(An.to+=be),An.from==null){var mo=Fa(se,An.marker);mo||(An.from=be,ve&&(se||(se=[])).push(An))}else An.from+=be,ve&&(se||(se=[])).push(An)}se&&(se=Tn(se)),ce&&ce!=se&&(ce=Tn(ce));var xo=[se];if(!ve){var Go=m.text.length-2,lo;if(Go>0&&se)for(var qn=0;qn<se.length;++qn)se[qn].to==null&&(lo||(lo=[])).push(new ha(se[qn].marker,null,null));for(var xs=0;xs<Go;++xs)xo.push(lo);xo.push(ce)}return xo}function Tn(u){for(var m=0;m<u.length;++m){var x=u[m];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&u.splice(m--,1)}return u.length?u:null}function Aa(u,m,x){var S=null;if(u.iter(m.line,x.line+1,function(bt){if(bt.markedSpans)for(var sn=0;sn<bt.markedSpans.length;++sn){var An=bt.markedSpans[sn].marker;An.readOnly&&(!S||ns(S,An)==-1)&&(S||(S=[])).push(An)}}),!S)return null;for(var D=[{from:m,to:x}],z=0;z<S.length;++z)for(var K=S[z],se=K.find(0),ce=0;ce<D.length;++ce){var ve=D[ce];if(!(rs(ve.to,se.from)<0||rs(ve.from,se.to)>0)){var be=[ce,1],nt=rs(ve.from,se.from),Ot=rs(ve.to,se.to);(nt<0||!K.inclusiveLeft&&!nt)&&be.push({from:ve.from,to:se.from}),(Ot>0||!K.inclusiveRight&&!Ot)&&be.push({from:se.to,to:ve.to}),D.splice.apply(D,be),ce+=be.length-3}}return D}function Nl(u){var m=u.markedSpans;if(m){for(var x=0;x<m.length;++x)m[x].marker.detachLine(u);u.markedSpans=null}}function we(u,m){if(m){for(var x=0;x<m.length;++x)m[x].marker.attachLine(u);u.markedSpans=m}}function We(u){return u.inclusiveLeft?-1:0}function ft(u){return u.inclusiveRight?1:0}function Bt(u,m){var x=u.lines.length-m.lines.length;if(x!=0)return x;var S=u.find(),D=m.find(),z=rs(S.from,D.from)||We(u)-We(m);if(z)return-z;var K=rs(S.to,D.to)||ft(u)-ft(m);return K||m.id-u.id}function kn(u,m){var x=vi&&u.markedSpans,S;if(x)for(var D=void 0,z=0;z<x.length;++z)D=x[z],D.marker.collapsed&&(m?D.from:D.to)==null&&(!S||Bt(S,D.marker)<0)&&(S=D.marker);return S}function Kn(u){return kn(u,!0)}function _s(u){return kn(u,!1)}function bs(u,m){var x=vi&&u.markedSpans,S;if(x)for(var D=0;D<x.length;++D){var z=x[D];z.marker.collapsed&&(z.from==null||z.from<m)&&(z.to==null||z.to>m)&&(!S||Bt(S,z.marker)<0)&&(S=z.marker)}return S}function ar(u,m,x,S,D){var z=Ho(u,m),K=vi&&z.markedSpans;if(K)for(var se=0;se<K.length;++se){var ce=K[se];if(ce.marker.collapsed){var ve=ce.marker.find(0),be=rs(ve.from,x)||We(ce.marker)-We(D),nt=rs(ve.to,S)||ft(ce.marker)-ft(D);if(!(be>=0&&nt<=0||be<=0&&nt>=0)&&(be<=0&&(ce.marker.inclusiveRight&&D.inclusiveLeft?rs(ve.to,x)>=0:rs(ve.to,x)>0)||be>=0&&(ce.marker.inclusiveRight&&D.inclusiveLeft?rs(ve.from,S)<=0:rs(ve.from,S)<0)))return!0}}}function ae(u){for(var m;m=Kn(u);)u=m.find(-1,!0).line;return u}function Ae(u){for(var m;m=_s(u);)u=m.find(1,!0).line;return u}function Ye(u){for(var m,x;m=_s(u);)u=m.find(1,!0).line,(x||(x=[])).push(u);return x}function Ut(u,m){var x=Ho(u,m),S=ae(x);return x==S?m:Xo(S)}function co(u,m){if(m>u.lastLine())return m;var x=Ho(u,m),S;if(!Is(u,x))return m;for(;S=_s(x);)x=S.find(1,!0).line;return Xo(x)+1}function Is(u,m){var x=vi&&m.markedSpans;if(x){for(var S=void 0,D=0;D<x.length;++D)if(S=x[D],!!S.marker.collapsed){if(S.from==null)return!0;if(!S.marker.widgetNode&&S.from==0&&S.marker.inclusiveLeft&&O(u,m,S))return!0}}}function O(u,m,x){if(x.to==null){var S=x.marker.find(1,!0);return O(u,S.line,Fa(S.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==m.text.length)return!0;for(var D=void 0,z=0;z<m.markedSpans.length;++z)if(D=m.markedSpans[z],D.marker.collapsed&&!D.marker.widgetNode&&D.from==x.to&&(D.to==null||D.to!=x.from)&&(D.marker.inclusiveLeft||x.marker.inclusiveRight)&&O(u,m,D))return!0}function F(u){u=ae(u);for(var m=0,x=u.parent,S=0;S<x.lines.length;++S){var D=x.lines[S];if(D==u)break;m+=D.height}for(var z=x.parent;z;x=z,z=x.parent)for(var K=0;K<z.children.length;++K){var se=z.children[K];if(se==x)break;m+=se.height}return m}function G(u){if(u.height==0)return 0;for(var m=u.text.length,x,S=u;x=Kn(S);){var D=x.find(0,!0);S=D.from.line,m+=D.from.ch-D.to.ch}for(S=u;x=_s(S);){var z=x.find(0,!0);m-=S.text.length-z.from.ch,S=z.to.line,m+=S.text.length-z.to.ch}return m}function ne(u){var m=u.display,x=u.doc;m.maxLine=Ho(x,x.first),m.maxLineLength=G(m.maxLine),m.maxLineChanged=!0,x.iter(function(S){var D=G(S);D>m.maxLineLength&&(m.maxLineLength=D,m.maxLine=S)})}var fe=function(u,m,x){this.text=u,we(this,m),this.height=x?x(this):1};fe.prototype.lineNo=function(){return Xo(this)},Pn(fe);function ge(u,m,x,S){u.text=m,u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null),u.order!=null&&(u.order=null),Nl(u),we(u,x);var D=S?S(u):1;D!=u.height&&pi(u,D)}function Me(u){u.parent=null,Nl(u)}var pt={},lt={};function kt(u,m){if(!u||/^\s*$/.test(u))return null;var x=m.addModeClass?lt:pt;return x[u]||(x[u]=u.replace(/\S+/g,"cm-$&"))}function on(u,m){var x=U("span",null,null,te?"padding-right: .1px":null),S={pre:U("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:u,trailingSpace:!1,splitSpaces:u.getOption("lineWrapping")};m.measure={};for(var D=0;D<=(m.rest?m.rest.length:0);D++){var z=D?m.rest[D-1]:m.line,K=void 0;S.pos=0,S.addToken=Jt,Zl(u.display.measure)&&(K=Uo(z,u.doc.direction))&&(S.addToken=lr(S.addToken,K)),S.map=[];var se=m!=u.display.externalMeasured&&Xo(z);Pr(z,S,ke(u,z,se)),z.styleClasses&&(z.styleClasses.bgClass&&(S.bgClass=qt(z.styleClasses.bgClass,S.bgClass||"")),z.styleClasses.textClass&&(S.textClass=qt(z.styleClasses.textClass,S.textClass||""))),S.map.length==0&&S.map.push(0,0,S.content.appendChild(tc(u.display.measure))),D==0?(m.measure.map=S.map,m.measure.cache={}):((m.measure.maps||(m.measure.maps=[])).push(S.map),(m.measure.caches||(m.measure.caches=[])).push({}))}if(te){var ce=S.content.lastChild;(/\bcm-tab\b/.test(ce.className)||ce.querySelector&&ce.querySelector(".cm-tab"))&&(S.content.className="cm-tab-wrap-hack")}return go(u,"renderLine",u,m.line,S.pre),S.pre.className&&(S.textClass=qt(S.pre.className,S.textClass||"")),S}function Nn(u){var m=Ze("span","â¢","cm-invalidchar");return m.title="\\u"+u.charCodeAt(0).toString(16),m.setAttribute("aria-label",m.title),m}function Jt(u,m,x,S,D,z,K){if(m){var se=u.splitSpaces?ho(m,u.trailingSpace):m,ce=u.cm.state.specialChars,ve=!1,be;if(!ce.test(m))u.col+=m.length,be=document.createTextNode(se),u.map.push(u.pos,u.pos+m.length,be),Y&&V<9&&(ve=!0),u.pos+=m.length;else{be=document.createDocumentFragment();for(var nt=0;;){ce.lastIndex=nt;var Ot=ce.exec(m),bt=Ot?Ot.index-nt:m.length-nt;if(bt){var sn=document.createTextNode(se.slice(nt,nt+bt));Y&&V<9?be.appendChild(Ze("span",[sn])):be.appendChild(sn),u.map.push(u.pos,u.pos+bt,sn),u.col+=bt,u.pos+=bt}if(!Ot)break;nt+=bt+1;var An=void 0;if(Ot[0]=="	"){var mo=u.cm.options.tabSize,xo=mo-u.col%mo;An=be.appendChild(Ze("span",Ns(xo),"cm-tab")),An.setAttribute("role","presentation"),An.setAttribute("cm-text","	"),u.col+=xo}else Ot[0]=="\r"||Ot[0]==`
`?(An=be.appendChild(Ze("span",Ot[0]=="\r"?"â":"â¤","cm-invalidchar")),An.setAttribute("cm-text",Ot[0]),u.col+=1):(An=u.cm.options.specialCharPlaceholder(Ot[0]),An.setAttribute("cm-text",Ot[0]),Y&&V<9?be.appendChild(Ze("span",[An])):be.appendChild(An),u.col+=1);u.map.push(u.pos,u.pos+1,An),u.pos++}}if(u.trailingSpace=se.charCodeAt(m.length-1)==32,x||S||D||ve||z||K){var Go=x||"";S&&(Go+=S),D&&(Go+=D);var lo=Ze("span",[be],Go,z);if(K)for(var qn in K)K.hasOwnProperty(qn)&&qn!="style"&&qn!="class"&&lo.setAttribute(qn,K[qn]);return u.content.appendChild(lo)}u.content.appendChild(be)}}function ho(u,m){if(u.length>1&&!/  /.test(u))return u;for(var x=m,S="",D=0;D<u.length;D++){var z=u.charAt(D);z==" "&&x&&(D==u.length-1||u.charCodeAt(D+1)==32)&&(z="Â "),S+=z,x=z==" "}return S}function lr(u,m){return function(x,S,D,z,K,se,ce){D=D?D+" cm-force-border":"cm-force-border";for(var ve=x.pos,be=ve+S.length;;){for(var nt=void 0,Ot=0;Ot<m.length&&(nt=m[Ot],!(nt.to>ve&&nt.from<=ve));Ot++);if(nt.to>=be)return u(x,S,D,z,K,se,ce);u(x,S.slice(0,nt.to-ve),D,z,null,se,ce),z=null,S=S.slice(nt.to-ve),ve=nt.to}}}function Qr(u,m,x,S){var D=!S&&x.widgetNode;D&&u.map.push(u.pos,u.pos+m,D),!S&&u.cm.display.input.needsContentAttribute&&(D||(D=u.content.appendChild(document.createElement("span"))),D.setAttribute("cm-marker",x.id)),D&&(u.cm.display.input.setUneditable(D),u.content.appendChild(D)),u.pos+=m,u.trailingSpace=!1}function Pr(u,m,x){var S=u.markedSpans,D=u.text,z=0;if(!S){for(var K=1;K<x.length;K+=2)m.addToken(m,D.slice(z,z=x[K]),kt(x[K+1],m.cm.options));return}for(var se=D.length,ce=0,ve=1,be="",nt,Ot,bt=0,sn,An,mo,xo,Go;;){if(bt==ce){sn=An=mo=Ot="",Go=null,xo=null,bt=1/0;for(var lo=[],qn=void 0,xs=0;xs<S.length;++xs){var Ps=S[xs],ws=Ps.marker;if(ws.type=="bookmark"&&Ps.from==ce&&ws.widgetNode)lo.push(ws);else if(Ps.from<=ce&&(Ps.to==null||Ps.to>ce||ws.collapsed&&Ps.to==ce&&Ps.from==ce)){if(Ps.to!=null&&Ps.to!=ce&&bt>Ps.to&&(bt=Ps.to,An=""),ws.className&&(sn+=" "+ws.className),ws.css&&(Ot=(Ot?Ot+";":"")+ws.css),ws.startStyle&&Ps.from==ce&&(mo+=" "+ws.startStyle),ws.endStyle&&Ps.to==bt&&(qn||(qn=[])).push(ws.endStyle,Ps.to),ws.title&&((Go||(Go={})).title=ws.title),ws.attributes)for(var _a in ws.attributes)(Go||(Go={}))[_a]=ws.attributes[_a];ws.collapsed&&(!xo||Bt(xo.marker,ws)<0)&&(xo=Ps)}else Ps.from>ce&&bt>Ps.from&&(bt=Ps.from)}if(qn)for(var $l=0;$l<qn.length;$l+=2)qn[$l+1]==bt&&(An+=" "+qn[$l]);if(!xo||xo.from==ce)for(var Wi=0;Wi<lo.length;++Wi)Qr(m,0,lo[Wi]);if(xo&&(xo.from||0)==ce){if(Qr(m,(xo.to==null?se+1:xo.to)-ce,xo.marker,xo.from==null),xo.to==null)return;xo.to==ce&&(xo=!1)}}if(ce>=se)break;for(var hu=Math.min(se,bt);;){if(be){var Ta=ce+be.length;if(!xo){var El=Ta>hu?be.slice(0,hu-ce):be;m.addToken(m,El,nt?nt+sn:sn,mo,ce+El.length==bt?An:"",Ot,Go)}if(Ta>=hu){be=be.slice(hu-ce),ce=hu;break}ce=Ta,mo=""}be=D.slice(z,z=x[ve++]),nt=kt(x[ve++],m.cm.options)}}}function ol(u,m,x){this.line=m,this.rest=Ye(m),this.size=this.rest?Xo(At(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Is(u,m)}function Pi(u,m,x){for(var S=[],D,z=m;z<x;z=D){var K=new ol(u.doc,Ho(u.doc,z),z);D=z+K.size,S.push(K)}return S}var sc=null;function Cu(u){sc?sc.ops.push(u):u.ownsGroup=sc={ops:[u],delayedCallbacks:[]}}function qr(u){var m=u.delayedCallbacks,x=0;do{for(;x<m.length;x++)m[x].call(null);for(var S=0;S<u.ops.length;S++){var D=u.ops[S];if(D.cursorActivityHandlers)for(;D.cursorActivityCalled<D.cursorActivityHandlers.length;)D.cursorActivityHandlers[D.cursorActivityCalled++].call(null,D.cm)}}while(x<m.length)}function Rl(u,m){var x=u.ownsGroup;if(x)try{qr(x)}finally{sc=null,m(x)}}var Yr=null;function Ir(u,m){var x=Ci(u,m);if(x.length){var S=Array.prototype.slice.call(arguments,2),D;sc?D=sc.delayedCallbacks:Yr?D=Yr:(D=Yr=[],setTimeout(mh,0));for(var z=function(se){D.push(function(){return x[se].apply(null,S)})},K=0;K<x.length;++K)z(K)}}function mh(){var u=Yr;Yr=null;for(var m=0;m<u.length;++m)u[m]()}function Wc(u,m,x,S){for(var D=0;D<m.changes.length;D++){var z=m.changes[D];z=="text"?Bu(u,m):z=="gutter"?Zc(u,m,x,S):z=="class"?ad(u,m):z=="widget"&&gh(u,m,S)}m.changes=null}function Mc(u){return u.node==u.text&&(u.node=Ze("div",null,null,"position: relative"),u.text.parentNode&&u.text.parentNode.replaceChild(u.node,u.text),u.node.appendChild(u.text),Y&&V<8&&(u.node.style.zIndex=2)),u.node}function ph(u,m){var x=m.bgClass?m.bgClass+" "+(m.line.bgClass||""):m.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),m.background)x?m.background.className=x:(m.background.parentNode.removeChild(m.background),m.background=null);else if(x){var S=Mc(m);m.background=S.insertBefore(Ze("div",null,x),S.firstChild),u.display.input.setUneditable(m.background)}}function jc(u,m){var x=u.display.externalMeasured;return x&&x.line==m.line?(u.display.externalMeasured=null,m.measure=x.measure,x.built):on(u,m)}function Bu(u,m){var x=m.text.className,S=jc(u,m);m.text==m.node&&(m.node=S.pre),m.text.parentNode.replaceChild(S.pre,m.text),m.text=S.pre,S.bgClass!=m.bgClass||S.textClass!=m.textClass?(m.bgClass=S.bgClass,m.textClass=S.textClass,ad(u,m)):x&&(m.text.className=x)}function ad(u,m){ph(u,m),m.line.wrapClass?Mc(m).className=m.line.wrapClass:m.node!=m.text&&(m.node.className="");var x=m.textClass?m.textClass+" "+(m.line.textClass||""):m.line.textClass;m.text.className=x||""}function Zc(u,m,x,S){if(m.gutter&&(m.node.removeChild(m.gutter),m.gutter=null),m.gutterBackground&&(m.node.removeChild(m.gutterBackground),m.gutterBackground=null),m.line.gutterClass){var D=Mc(m);m.gutterBackground=Ze("div",null,"CodeMirror-gutter-background "+m.line.gutterClass,"left: "+(u.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px; width: "+S.gutterTotalWidth+"px"),u.display.input.setUneditable(m.gutterBackground),D.insertBefore(m.gutterBackground,m.text)}var z=m.line.gutterMarkers;if(u.options.lineNumbers||z){var K=Mc(m),se=m.gutter=Ze("div",null,"CodeMirror-gutter-wrapper","left: "+(u.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px");if(se.setAttribute("aria-hidden","true"),u.display.input.setUneditable(se),K.insertBefore(se,m.text),m.line.gutterClass&&(se.className+=" "+m.line.gutterClass),u.options.lineNumbers&&(!z||!z["CodeMirror-linenumbers"])&&(m.lineNumber=se.appendChild(Ze("div",fa(u.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+S.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.display.lineNumInnerWidth+"px"))),z)for(var ce=0;ce<u.display.gutterSpecs.length;++ce){var ve=u.display.gutterSpecs[ce].className,be=z.hasOwnProperty(ve)&&z[ve];be&&se.appendChild(Ze("div",[be],"CodeMirror-gutter-elt","left: "+S.gutterLeft[ve]+"px; width: "+S.gutterWidth[ve]+"px"))}}}function gh(u,m,x){m.alignable&&(m.alignable=null);for(var S=et("CodeMirror-linewidget"),D=m.node.firstChild,z=void 0;D;D=z)z=D.nextSibling,S.test(D.className)&&m.node.removeChild(D);ja(u,m,x)}function Ll(u,m,x,S){var D=jc(u,m);return m.text=m.node=D.pre,D.bgClass&&(m.bgClass=D.bgClass),D.textClass&&(m.textClass=D.textClass),ad(u,m),Zc(u,m,x,S),ja(u,m,S),m.node}function ja(u,m,x){if(Rd(u,m.line,m,x,!0),m.rest)for(var S=0;S<m.rest.length;S++)Rd(u,m.rest[S],m,x,!1)}function Rd(u,m,x,S,D){if(m.widgets)for(var z=Mc(x),K=0,se=m.widgets;K<se.length;++K){var ce=se[K],ve=Ze("div",[ce.node],"CodeMirror-linewidget"+(ce.className?" "+ce.className:""));ce.handleMouseEvents||ve.setAttribute("cm-ignore-events","true"),cv(ce,ve,x,S),u.display.input.setUneditable(ve),D&&ce.above?z.insertBefore(ve,x.gutter||x.text):z.appendChild(ve),Ir(ce,"redraw")}}function cv(u,m,x,S){if(u.noHScroll){(x.alignable||(x.alignable=[])).push(m);var D=S.wrapperWidth;m.style.left=S.fixedPos+"px",u.coverGutter||(D-=S.gutterTotalWidth,m.style.paddingLeft=S.gutterTotalWidth+"px"),m.style.width=D+"px"}u.coverGutter&&(m.style.zIndex=5,m.style.position="relative",u.noHScroll||(m.style.marginLeft=-S.gutterTotalWidth+"px"))}function Xs(u){if(u.height!=null)return u.height;var m=u.doc.cm;if(!m)return 0;if(!xt(document.body,u.node)){var x="position: relative;";u.coverGutter&&(x+="margin-left: -"+m.display.gutters.offsetWidth+"px;"),u.noHScroll&&(x+="width: "+m.display.wrapper.clientWidth+"px;"),wn(m.display.measure,Ze("div",[u.node],null,x))}return u.height=u.node.parentNode.offsetHeight}function ei(u,m){for(var x=Xi(m);x!=u.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==u.sizer&&x!=u.mover)return!0}function $u(u){return u.lineSpace.offsetTop}function Gr(u){return u.mover.offsetHeight-u.lineSpace.offsetHeight}function Af(u){if(u.cachedPaddingH)return u.cachedPaddingH;var m=wn(u.measure,Ze("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(m):m.currentStyle,S={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(S.left)&&!isNaN(S.right)&&(u.cachedPaddingH=S),S}function lu(u){return js-u.display.nativeBarWidth}function Of(u){return u.display.scroller.clientWidth-lu(u)-u.display.barWidth}function vh(u){return u.display.scroller.clientHeight-lu(u)-u.display.barHeight}function xi(u,m,x){var S=u.options.lineWrapping,D=S&&Of(u);if(!m.measure.heights||S&&m.measure.width!=D){var z=m.measure.heights=[];if(S){m.measure.width=D;for(var K=m.text.firstChild.getClientRects(),se=0;se<K.length-1;se++){var ce=K[se],ve=K[se+1];Math.abs(ce.bottom-ve.bottom)>2&&z.push((ce.bottom+ve.top)/2-x.top)}}z.push(x.bottom-x.top)}}function Hu(u,m,x){if(u.line==m)return{map:u.measure.map,cache:u.measure.cache};if(u.rest){for(var S=0;S<u.rest.length;S++)if(u.rest[S]==m)return{map:u.measure.maps[S],cache:u.measure.caches[S]};for(var D=0;D<u.rest.length;D++)if(Xo(u.rest[D])>x)return{map:u.measure.maps[D],cache:u.measure.caches[D],before:!0}}}function Ld(u,m){m=ae(m);var x=Xo(m),S=u.display.externalMeasured=new ol(u.doc,m,x);S.lineN=x;var D=S.built=on(u,S);return S.text=D.pre,wn(u.display.lineMeasure,D.pre),S}function gn(u,m,x,S){return Oa(u,qc(u,m),x,S)}function dl(u,m){if(m>=u.display.viewFrom&&m<u.display.viewTo)return u.display.view[bh(u,m)];var x=u.display.externalMeasured;if(x&&m>=x.lineN&&m<x.lineN+x.size)return x}function qc(u,m){var x=Xo(m),S=dl(u,x);S&&!S.text?S=null:S&&S.changes&&(Wc(u,S,x,Ii(u)),u.curOp.forceUpdate=!0),S||(S=Ld(u,m));var D=Hu(S,m,x);return{line:m,view:S,rect:null,map:D.map,cache:D.cache,before:D.before,hasHeights:!1}}function Oa(u,m,x,S,D){m.before&&(x=-1);var z=x+(S||""),K;return m.cache.hasOwnProperty(z)?K=m.cache[z]:(m.rect||(m.rect=m.view.text.getBoundingClientRect()),m.hasHeights||(xi(u,m.view,m.rect),m.hasHeights=!0),K=Yl(u,m,x,S),K.bogus||(m.cache[z]=K)),{left:K.left,right:K.right,top:D?K.rtop:K.top,bottom:D?K.rbottom:K.bottom}}var ld={left:0,right:0,top:0,bottom:0};function cm(u,m,x){for(var S,D,z,K,se,ce,ve=0;ve<u.length;ve+=3)if(se=u[ve],ce=u[ve+1],m<se?(D=0,z=1,K="left"):m<ce?(D=m-se,z=D+1):(ve==u.length-3||m==ce&&u[ve+3]>m)&&(z=ce-se,D=z-1,m>=ce&&(K="right")),D!=null){if(S=u[ve+2],se==ce&&x==(S.insertLeft?"left":"right")&&(K=x),x=="left"&&D==0)for(;ve&&u[ve-2]==u[ve-3]&&u[ve-1].insertLeft;)S=u[(ve-=3)+2],K="left";if(x=="right"&&D==ce-se)for(;ve<u.length-3&&u[ve+3]==u[ve+4]&&!u[ve+5].insertLeft;)S=u[(ve+=3)+2],K="right";break}return{node:S,start:D,end:z,collapse:K,coverStart:se,coverEnd:ce}}function Ve(u,m){var x=ld;if(m=="left")for(var S=0;S<u.length&&(x=u[S]).left==x.right;S++);else for(var D=u.length-1;D>=0&&(x=u[D]).left==x.right;D--);return x}function Yl(u,m,x,S){var D=cm(m.map,x,S),z=D.node,K=D.start,se=D.end,ce=D.collapse,ve;if(z.nodeType==3){for(var be=0;be<4;be++){for(;K&&Ie(m.line.text.charAt(D.coverStart+K));)--K;for(;D.coverStart+se<D.coverEnd&&Ie(m.line.text.charAt(D.coverStart+se));)++se;if(Y&&V<9&&K==0&&se==D.coverEnd-D.coverStart?ve=z.parentNode.getBoundingClientRect():ve=Ve(en(z,K,se).getClientRects(),S),ve.left||ve.right||K==0)break;se=K,K=K-1,ce="right"}Y&&V<11&&(ve=zu(u.display.measure,ve))}else{K>0&&(ce=S="right");var nt;u.options.lineWrapping&&(nt=z.getClientRects()).length>1?ve=nt[S=="right"?nt.length-1:0]:ve=z.getBoundingClientRect()}if(Y&&V<9&&!K&&(!ve||!ve.left&&!ve.right)){var Ot=z.parentNode.getClientRects()[0];Ot?ve={left:Ot.left,right:Ot.left+Ha(u.display),top:Ot.top,bottom:Ot.bottom}:ve=ld}for(var bt=ve.top-m.rect.top,sn=ve.bottom-m.rect.top,An=(bt+sn)/2,mo=m.view.measure.heights,xo=0;xo<mo.length-1&&!(An<mo[xo]);xo++);var Go=xo?mo[xo-1]:0,lo=mo[xo],qn={left:(ce=="right"?ve.right:ve.left)-m.rect.left,right:(ce=="left"?ve.left:ve.right)-m.rect.left,top:Go,bottom:lo};return!ve.left&&!ve.right&&(qn.bogus=!0),u.options.singleCursorHeightPerLine||(qn.rtop=bt,qn.rbottom=sn),qn}function zu(u,m){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ge(u))return m;var x=screen.logicalXDPI/screen.deviceXDPI,S=screen.logicalYDPI/screen.deviceYDPI;return{left:m.left*x,right:m.right*x,top:m.top*S,bottom:m.bottom*S}}function um(u){if(u.measure&&(u.measure.cache={},u.measure.heights=null,u.rest))for(var m=0;m<u.rest.length;m++)u.measure.caches[m]={}}function cd(u){u.display.externalMeasure=null,En(u.display.lineMeasure);for(var m=0;m<u.display.view.length;m++)um(u.display.view[m])}function Ba(u){cd(u),u.display.cachedCharWidth=u.display.cachedTextHeight=u.display.cachedPaddingH=null,u.options.lineWrapping||(u.display.maxLineChanged=!0),u.display.lineNumChars=null}function Ke(u){return ye&&xe?-(u.body.getBoundingClientRect().left-parseInt(getComputedStyle(u.body).marginLeft)):u.defaultView.pageXOffset||(u.documentElement||u.body).scrollLeft}function Ct(u){return ye&&xe?-(u.body.getBoundingClientRect().top-parseInt(getComputedStyle(u.body).marginTop)):u.defaultView.pageYOffset||(u.documentElement||u.body).scrollTop}function Xt(u){var m=ae(u),x=m.widgets,S=0;if(x)for(var D=0;D<x.length;++D)x[D].above&&(S+=Xs(x[D]));return S}function tn(u,m,x,S,D){if(!D){var z=Xt(m);x.top+=z,x.bottom+=z}if(S=="line")return x;S||(S="local");var K=F(m);if(S=="local"?K+=$u(u.display):K-=u.display.viewOffset,S=="page"||S=="window"){var se=u.display.lineSpace.getBoundingClientRect();K+=se.top+(S=="window"?0:Ct(Er(u)));var ce=se.left+(S=="window"?0:Ke(Er(u)));x.left+=ce,x.right+=ce}return x.top+=K,x.bottom+=K,x}function vn(u,m,x){if(x=="div")return m;var S=m.left,D=m.top;if(x=="page")S-=Ke(Er(u)),D-=Ct(Er(u));else if(x=="local"||!x){var z=u.display.sizer.getBoundingClientRect();S+=z.left,D+=z.top}var K=u.display.lineSpace.getBoundingClientRect();return{left:S-K.left,top:D-K.top}}function ko(u,m,x,S,D){return S||(S=Ho(u.doc,m.line)),tn(u,S,gn(u,S,m.ch,D),x)}function So(u,m,x,S,D,z){S=S||Ho(u.doc,m.line),D||(D=qc(u,S));function K(sn,An){var mo=Oa(u,D,sn,An?"right":"left",z);return An?mo.left=mo.right:mo.right=mo.left,tn(u,S,mo,x)}var se=Uo(S,u.doc.direction),ce=m.ch,ve=m.sticky;if(ce>=S.text.length?(ce=S.text.length,ve="before"):ce<=0&&(ce=0,ve="after"),!se)return K(ve=="before"?ce-1:ce,ve=="before");function be(sn,An,mo){var xo=se[An],Go=xo.level==1;return K(mo?sn-1:sn,Go!=mo)}var nt=Gn(se,ce,ve),Ot=ro,bt=be(ce,nt,ve=="before");return Ot!=null&&(bt.other=be(ce,Ot,ve!="before")),bt}function ys(u,m){var x=0;m=Ss(u.doc,m),u.options.lineWrapping||(x=Ha(u.display)*m.ch);var S=Ho(u.doc,m.line),D=F(S)+$u(u.display);return{left:x,right:x,top:D,bottom:D+S.height}}function Jo(u,m,x,S,D){var z=un(u,m,x);return z.xRel=D,S&&(z.outside=S),z}function Zs(u,m,x){var S=u.doc;if(x+=u.display.viewOffset,x<0)return Jo(S.first,0,null,-1,-1);var D=gi(S,x),z=S.first+S.size-1;if(D>z)return Jo(S.first+S.size-1,Ho(S,z).text.length,null,1,1);m<0&&(m=0);for(var K=Ho(S,D);;){var se=no(u,K,D,m,x),ce=bs(K,se.ch+(se.xRel>0||se.outside>0?1:0));if(!ce)return se;var ve=ce.find(1);if(ve.line==D)return ve;K=Ho(S,D=ve.line)}}function Js(u,m,x,S){S-=Xt(m);var D=m.text.length,z=Tt(function(K){return Oa(u,x,K-1).bottom<=S},D,0);return D=Tt(function(K){return Oa(u,x,K).top>S},z,D),{begin:z,end:D}}function $s(u,m,x,S){x||(x=qc(u,m));var D=tn(u,m,Oa(u,x,S),"line").top;return Js(u,m,x,D)}function fr(u,m,x,S){return u.bottom<=x?!1:u.top>x?!0:(S?u.left:u.right)>m}function no(u,m,x,S,D){D-=F(m);var z=qc(u,m),K=Xt(m),se=0,ce=m.text.length,ve=!0,be=Uo(m,u.doc.direction);if(be){var nt=(u.options.lineWrapping?Cl:Fr)(u,m,x,z,be,S,D);ve=nt.level!=1,se=ve?nt.from:nt.to-1,ce=ve?nt.to:nt.from-1}var Ot=null,bt=null,sn=Tt(function(xs){var Ps=Oa(u,z,xs);return Ps.top+=K,Ps.bottom+=K,fr(Ps,S,D,!1)?(Ps.top<=D&&Ps.left<=S&&(Ot=xs,bt=Ps),!0):!1},se,ce),An,mo,xo=!1;if(bt){var Go=S-bt.left<bt.right-S,lo=Go==ve;sn=Ot+(lo?0:1),mo=lo?"after":"before",An=Go?bt.left:bt.right}else{!ve&&(sn==ce||sn==se)&&sn++,mo=sn==0?"after":sn==m.text.length?"before":Oa(u,z,sn-(ve?1:0)).bottom+K<=D==ve?"after":"before";var qn=So(u,un(x,sn,mo),"line",m,z);An=qn.left,xo=D<qn.top?-1:D>=qn.bottom?1:0}return sn=ot(m.text,sn,1),Jo(x,sn,mo,xo,S-An)}function Fr(u,m,x,S,D,z,K){var se=Tt(function(nt){var Ot=D[nt],bt=Ot.level!=1;return fr(So(u,un(x,bt?Ot.to:Ot.from,bt?"before":"after"),"line",m,S),z,K,!0)},0,D.length-1),ce=D[se];if(se>0){var ve=ce.level!=1,be=So(u,un(x,ve?ce.from:ce.to,ve?"after":"before"),"line",m,S);fr(be,z,K,!0)&&be.top>K&&(ce=D[se-1])}return ce}function Cl(u,m,x,S,D,z,K){var se=Js(u,m,S,K),ce=se.begin,ve=se.end;/\s/.test(m.text.charAt(ve-1))&&ve--;for(var be=null,nt=null,Ot=0;Ot<D.length;Ot++){var bt=D[Ot];if(!(bt.from>=ve||bt.to<=ce)){var sn=bt.level!=1,An=Oa(u,S,sn?Math.min(ve,bt.to)-1:Math.max(ce,bt.from)).right,mo=An<z?z-An+1e9:An-z;(!be||nt>mo)&&(be=bt,nt=mo)}}return be||(be=D[D.length-1]),be.from<ce&&(be={from:ce,to:be.to,level:be.level}),be.to>ve&&(be={from:be.from,to:ve,level:be.level}),be}var $a;function Qo(u){if(u.cachedTextHeight!=null)return u.cachedTextHeight;if($a==null){$a=Ze("pre",null,"CodeMirror-line-like");for(var m=0;m<49;++m)$a.appendChild(document.createTextNode("x")),$a.appendChild(Ze("br"));$a.appendChild(document.createTextNode("x"))}wn(u.measure,$a);var x=$a.offsetHeight/50;return x>3&&(u.cachedTextHeight=x),En(u.measure),x||1}function Ha(u){if(u.cachedCharWidth!=null)return u.cachedCharWidth;var m=Ze("span","xxxxxxxxxx"),x=Ze("pre",[m],"CodeMirror-line-like");wn(u.measure,x);var S=m.getBoundingClientRect(),D=(S.right-S.left)/10;return D>2&&(u.cachedCharWidth=D),D||10}function Ii(u){for(var m=u.display,x={},S={},D=m.gutters.clientLeft,z=m.gutters.firstChild,K=0;z;z=z.nextSibling,++K){var se=u.display.gutterSpecs[K].className;x[se]=z.offsetLeft+z.clientLeft+D,S[se]=z.clientWidth}return{fixedPos:ma(m),gutterTotalWidth:m.gutters.offsetWidth,gutterLeft:x,gutterWidth:S,wrapperWidth:m.wrapper.clientWidth}}function ma(u){return u.scroller.getBoundingClientRect().left-u.sizer.getBoundingClientRect().left}function Vu(u){var m=Qo(u.display),x=u.options.lineWrapping,S=x&&Math.max(5,u.display.scroller.clientWidth/Ha(u.display)-3);return function(D){if(Is(u.doc,D))return 0;var z=0;if(D.widgets)for(var K=0;K<D.widgets.length;K++)D.widgets[K].height&&(z+=D.widgets[K].height);return x?z+(Math.ceil(D.text.length/S)||1)*m:z+m}}function Ji(u){var m=u.doc,x=Vu(u);m.iter(function(S){var D=x(S);D!=S.height&&pi(S,D)})}function cr(u,m,x,S){var D=u.display;if(!x&&Xi(m).getAttribute("cm-not-content")=="true")return null;var z,K,se=D.lineSpace.getBoundingClientRect();try{z=m.clientX-se.left,K=m.clientY-se.top}catch{return null}var ce=Zs(u,z,K),ve;if(S&&ce.xRel>0&&(ve=Ho(u.doc,ce.line).text).length==ce.ch){var be=hi(ve,ve.length,u.options.tabSize)-ve.length;ce=un(ce.line,Math.max(0,Math.round((z-Af(u.display).left)/Ha(u.display))-be))}return ce}function bh(u,m){if(m>=u.display.viewTo||(m-=u.display.viewFrom,m<0))return null;for(var x=u.display.view,S=0;S<x.length;S++)if(m-=x[S].size,m<0)return S}function Yc(u,m,x,S){m==null&&(m=u.doc.first),x==null&&(x=u.doc.first+u.doc.size),S||(S=0);var D=u.display;if(S&&x<D.viewTo&&(D.updateLineNumbers==null||D.updateLineNumbers>m)&&(D.updateLineNumbers=m),u.curOp.viewChanged=!0,m>=D.viewTo)vi&&Ut(u.doc,m)<D.viewTo&&Gl(u);else if(x<=D.viewFrom)vi&&co(u.doc,x+S)>D.viewFrom?Gl(u):(D.viewFrom+=S,D.viewTo+=S);else if(m<=D.viewFrom&&x>=D.viewTo)Gl(u);else if(m<=D.viewFrom){var z=Gc(u,x,x+S,1);z?(D.view=D.view.slice(z.index),D.viewFrom=z.lineN,D.viewTo+=S):Gl(u)}else if(x>=D.viewTo){var K=Gc(u,m,m,-1);K?(D.view=D.view.slice(0,K.index),D.viewTo=K.lineN):Gl(u)}else{var se=Gc(u,m,m,-1),ce=Gc(u,x,x+S,1);se&&ce?(D.view=D.view.slice(0,se.index).concat(Pi(u,se.lineN,ce.lineN)).concat(D.view.slice(ce.index)),D.viewTo+=S):Gl(u)}var ve=D.externalMeasured;ve&&(x<ve.lineN?ve.lineN+=S:m<ve.lineN+ve.size&&(D.externalMeasured=null))}function Qi(u,m,x){u.curOp.viewChanged=!0;var S=u.display,D=u.display.externalMeasured;if(D&&m>=D.lineN&&m<D.lineN+D.size&&(S.externalMeasured=null),!(m<S.viewFrom||m>=S.viewTo)){var z=S.view[bh(u,m)];if(z.node!=null){var K=z.changes||(z.changes=[]);ns(K,x)==-1&&K.push(x)}}}function Gl(u){u.display.viewFrom=u.display.viewTo=u.doc.first,u.display.view=[],u.display.viewOffset=0}function Gc(u,m,x,S){var D=bh(u,m),z,K=u.display.view;if(!vi||x==u.doc.first+u.doc.size)return{index:D,lineN:x};for(var se=u.display.viewFrom,ce=0;ce<D;ce++)se+=K[ce].size;if(se!=m){if(S>0){if(D==K.length-1)return null;z=se+K[D].size-m,D++}else z=se-m;m+=z,x+=z}for(;Ut(u.doc,x)!=x;){if(D==(S<0?0:K.length-1))return null;x+=S*K[D-(S<0?1:0)].size,D+=S}return{index:D,lineN:x}}function Za(u,m,x){var S=u.display,D=S.view;D.length==0||m>=S.viewTo||x<=S.viewFrom?(S.view=Pi(u,m,x),S.viewFrom=m):(S.viewFrom>m?S.view=Pi(u,m,S.viewFrom).concat(S.view):S.viewFrom<m&&(S.view=S.view.slice(bh(u,m))),S.viewFrom=m,S.viewTo<x?S.view=S.view.concat(Pi(u,S.viewTo,x)):S.viewTo>x&&(S.view=S.view.slice(0,bh(u,x)))),S.viewTo=x}function Uu(u){for(var m=u.display.view,x=0,S=0;S<m.length;S++){var D=m[S];!D.hidden&&(!D.node||D.changes)&&++x}return x}function Pl(u){u.display.input.showSelection(u.display.input.prepareSelection())}function Kc(u,m){m===void 0&&(m=!0);var x=u.doc,S={},D=S.cursors=document.createDocumentFragment(),z=S.selection=document.createDocumentFragment(),K=u.options.$customCursor;K&&(m=!0);for(var se=0;se<x.sel.ranges.length;se++)if(!(!m&&se==x.sel.primIndex)){var ce=x.sel.ranges[se];if(!(ce.from().line>=u.display.viewTo||ce.to().line<u.display.viewFrom)){var ve=ce.empty();if(K){var be=K(u,ce);be&&Il(u,be,D)}else(ve||u.options.showCursorWhenSelecting)&&Il(u,ce.head,D);ve||Su(u,ce,z)}}return S}function Il(u,m,x){var S=So(u,m,"div",null,null,!u.options.singleCursorHeightPerLine),D=x.appendChild(Ze("div","Â ","CodeMirror-cursor"));if(D.style.left=S.left+"px",D.style.top=S.top+"px",D.style.height=Math.max(0,S.bottom-S.top)*u.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(u.getWrapperElement().className)){var z=ko(u,m,"div",null,null),K=z.right-z.left;D.style.width=(K>0?K:u.defaultCharWidth())+"px"}if(S.other){var se=x.appendChild(Ze("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));se.style.display="",se.style.left=S.other.left+"px",se.style.top=S.other.top+"px",se.style.height=(S.other.bottom-S.other.top)*.85+"px"}}function kr(u,m){return u.top-m.top||u.left-m.left}function Su(u,m,x){var S=u.display,D=u.doc,z=document.createDocumentFragment(),K=Af(u.display),se=K.left,ce=Math.max(S.sizerWidth,Of(u)-S.sizer.offsetLeft)-K.right,ve=D.direction=="ltr";function be(lo,qn,xs,Ps){qn<0&&(qn=0),qn=Math.round(qn),Ps=Math.round(Ps),z.appendChild(Ze("div",null,"CodeMirror-selected","position: absolute; left: "+lo+`px;
                             top: `+qn+"px; width: "+(xs??ce-lo)+`px;
                             height: `+(Ps-qn)+"px"))}function nt(lo,qn,xs){var Ps=Ho(D,lo),ws=Ps.text.length,_a,$l;function Wi(El,wt){return ko(u,un(lo,El),"div",Ps,wt)}function hu(El,wt,ji){var al=$s(u,Ps,null,El),hr=wt=="ltr"==(ji=="after")?"left":"right",Mi=ji=="after"?al.begin:al.end-(/\s/.test(Ps.text.charAt(al.end-1))?2:1);return Wi(Mi,hr)[hr]}var Ta=Uo(Ps,D.direction);return Cn(Ta,qn||0,xs??ws,function(El,wt,ji,al){var hr=ji=="ltr",Mi=Wi(El,hr?"left":"right"),Zi=Wi(wt-1,hr?"right":"left"),Dr=qn==null&&El==0,Oh=xs==null&&wt==ws,ml=al==0,Vd=!Ta||al==Ta.length-1;if(Zi.top-Mi.top<=3){var Qa=(ve?Dr:Oh)&&ml,Tm=(ve?Oh:Dr)&&Vd,Hf=Qa?se:(hr?Mi:Zi).left,Em=Tm?ce:(hr?Zi:Mi).right;be(Hf,Mi.top,Em-Hf,Mi.bottom)}else{var Ou,uc,xv,Mh;hr?(Ou=ve&&Dr&&ml?se:Mi.left,uc=ve?ce:hu(El,ji,"before"),xv=ve?se:hu(wt,ji,"after"),Mh=ve&&Oh&&Vd?ce:Zi.right):(Ou=ve?hu(El,ji,"before"):se,uc=!ve&&Dr&&ml?ce:Mi.right,xv=!ve&&Oh&&Vd?se:Zi.left,Mh=ve?hu(wt,ji,"after"):ce),be(Ou,Mi.top,uc-Ou,Mi.bottom),Mi.bottom<Zi.top&&be(se,Mi.bottom,null,Zi.top),be(xv,Zi.top,Mh-xv,Zi.bottom)}(!_a||kr(Mi,_a)<0)&&(_a=Mi),kr(Zi,_a)<0&&(_a=Zi),(!$l||kr(Mi,$l)<0)&&($l=Mi),kr(Zi,$l)<0&&($l=Zi)}),{start:_a,end:$l}}var Ot=m.from(),bt=m.to();if(Ot.line==bt.line)nt(Ot.line,Ot.ch,bt.ch);else{var sn=Ho(D,Ot.line),An=Ho(D,bt.line),mo=ae(sn)==ae(An),xo=nt(Ot.line,Ot.ch,mo?sn.text.length+1:null).end,Go=nt(bt.line,mo?0:null,bt.ch).start;mo&&(xo.top<Go.top-2?(be(xo.right,xo.top,null,xo.bottom),be(se,Go.top,Go.left,Go.bottom)):be(xo.right,xo.top,Go.left-xo.right,xo.bottom)),xo.bottom<Go.top&&be(se,xo.bottom,null,Go.top)}x.appendChild(z)}function rc(u){if(u.state.focused){var m=u.display;clearInterval(m.blinker);var x=!0;m.cursorDiv.style.visibility="",u.options.cursorBlinkRate>0?m.blinker=setInterval(function(){u.hasFocus()||wc(u),m.cursorDiv.style.visibility=(x=!x)?"":"hidden"},u.options.cursorBlinkRate):u.options.cursorBlinkRate<0&&(m.cursorDiv.style.visibility="hidden")}}function Sl(u){u.hasFocus()||(u.display.input.focus(),u.state.focused||zi(u))}function sl(u){u.state.delayingBlurEvent=!0,setTimeout(function(){u.state.delayingBlurEvent&&(u.state.delayingBlurEvent=!1,u.state.focused&&wc(u))},100)}function zi(u,m){u.state.delayingBlurEvent&&!u.state.draggingText&&(u.state.delayingBlurEvent=!1),u.options.readOnly!="nocursor"&&(u.state.focused||(go(u,"focus",u,m),u.state.focused=!0,eo(u.display.wrapper,"CodeMirror-focused"),!u.curOp&&u.display.selForContextMenu!=u.doc.sel&&(u.display.input.reset(),te&&setTimeout(function(){return u.display.input.reset(!0)},20)),u.display.input.receivedFocus()),rc(u))}function wc(u,m){u.state.delayingBlurEvent||(u.state.focused&&(go(u,"blur",u,m),u.state.focused=!1,Fe(u.display.wrapper,"CodeMirror-focused")),clearInterval(u.display.blinker),setTimeout(function(){u.state.focused||(u.display.shift=!1)},150))}function qa(u){for(var m=u.display,x=m.lineDiv.offsetTop,S=Math.max(0,m.scroller.getBoundingClientRect().top),D=m.lineDiv.getBoundingClientRect().top,z=0,K=0;K<m.view.length;K++){var se=m.view[K],ce=u.options.lineWrapping,ve=void 0,be=0;if(!se.hidden){if(D+=se.line.height,Y&&V<8){var nt=se.node.offsetTop+se.node.offsetHeight;ve=nt-x,x=nt}else{var Ot=se.node.getBoundingClientRect();ve=Ot.bottom-Ot.top,!ce&&se.text.firstChild&&(be=se.text.firstChild.getBoundingClientRect().right-Ot.left-1)}var bt=se.line.height-ve;if((bt>.005||bt<-.005)&&(D<S&&(z-=bt),pi(se.line,ve),Ma(se.line),se.rest))for(var sn=0;sn<se.rest.length;sn++)Ma(se.rest[sn]);if(be>u.display.sizerWidth){var An=Math.ceil(be/Ha(u.display));An>u.display.maxLineLength&&(u.display.maxLineLength=An,u.display.maxLine=se.line,u.display.maxLineChanged=!0)}}}Math.abs(z)>2&&(m.scroller.scrollTop+=z)}function Ma(u){if(u.widgets)for(var m=0;m<u.widgets.length;++m){var x=u.widgets[m],S=x.node.parentNode;S&&(x.height=S.offsetHeight)}}function ud(u,m,x){var S=x&&x.top!=null?Math.max(0,x.top):u.scroller.scrollTop;S=Math.floor(S-$u(u));var D=x&&x.bottom!=null?x.bottom:S+u.wrapper.clientHeight,z=gi(m,S),K=gi(m,D);if(x&&x.ensure){var se=x.ensure.from.line,ce=x.ensure.to.line;se<z?(z=se,K=gi(m,F(Ho(m,se))+u.wrapper.clientHeight)):Math.min(ce,m.lastLine())>=K&&(z=gi(m,F(Ho(m,ce))-u.wrapper.clientHeight),K=ce)}return{from:z,to:Math.max(K,z+1)}}function uv(u,m){if(!Mo(u,"scrollCursorIntoView")){var x=u.display,S=x.sizer.getBoundingClientRect(),D=null,z=x.wrapper.ownerDocument;if(m.top+S.top<0?D=!0:m.bottom+S.top>(z.defaultView.innerHeight||z.documentElement.clientHeight)&&(D=!1),D!=null&&!at){var K=Ze("div","â",null,`position: absolute;
                         top: `+(m.top-x.viewOffset-$u(u.display))+`px;
                         height: `+(m.bottom-m.top+lu(u)+x.barHeight)+`px;
                         left: `+m.left+"px; width: "+Math.max(2,m.right-m.left)+"px;");u.display.lineSpace.appendChild(K),K.scrollIntoView(D),u.display.lineSpace.removeChild(K)}}}function sg(u,m,x,S){S==null&&(S=0);var D;!u.options.lineWrapping&&m==x&&(x=m.sticky=="before"?un(m.line,m.ch+1,"before"):m,m=m.ch?un(m.line,m.sticky=="before"?m.ch-1:m.ch,"after"):m);for(var z=0;z<5;z++){var K=!1,se=So(u,m),ce=!x||x==m?se:So(u,x);D={left:Math.min(se.left,ce.left),top:Math.min(se.top,ce.top)-S,right:Math.max(se.left,ce.left),bottom:Math.max(se.bottom,ce.bottom)+S};var ve=hp(u,D),be=u.doc.scrollTop,nt=u.doc.scrollLeft;if(ve.scrollTop!=null&&(Ya(u,ve.scrollTop),Math.abs(u.doc.scrollTop-be)>1&&(K=!0)),ve.scrollLeft!=null&&(cu(u,ve.scrollLeft),Math.abs(u.doc.scrollLeft-nt)>1&&(K=!0)),!K)break}return D}function xl(u,m){var x=hp(u,m);x.scrollTop!=null&&Ya(u,x.scrollTop),x.scrollLeft!=null&&cu(u,x.scrollLeft)}function hp(u,m){var x=u.display,S=Qo(u.display);m.top<0&&(m.top=0);var D=u.curOp&&u.curOp.scrollTop!=null?u.curOp.scrollTop:x.scroller.scrollTop,z=vh(u),K={};m.bottom-m.top>z&&(m.bottom=m.top+z);var se=u.doc.height+Gr(x),ce=m.top<S,ve=m.bottom>se-S;if(m.top<D)K.scrollTop=ce?0:m.top;else if(m.bottom>D+z){var be=Math.min(m.top,(ve?se:m.bottom)-z);be!=D&&(K.scrollTop=be)}var nt=u.options.fixedGutter?0:x.gutters.offsetWidth,Ot=u.curOp&&u.curOp.scrollLeft!=null?u.curOp.scrollLeft:x.scroller.scrollLeft-nt,bt=Of(u)-x.gutters.offsetWidth,sn=m.right-m.left>bt;return sn&&(m.right=m.left+bt),m.left<10?K.scrollLeft=0:m.left<Ot?K.scrollLeft=Math.max(0,m.left+nt-(sn?0:10)):m.right>bt+Ot-3&&(K.scrollLeft=m.right+(sn?0:10)-bt),K}function rg(u,m){m!=null&&(za(u),u.curOp.scrollTop=(u.curOp.scrollTop==null?u.doc.scrollTop:u.curOp.scrollTop)+m)}function Wu(u){za(u);var m=u.getCursor();u.curOp.scrollToPos={from:m,to:m,margin:u.options.cursorScrollMargin}}function Io(u,m,x){(m!=null||x!=null)&&za(u),m!=null&&(u.curOp.scrollLeft=m),x!=null&&(u.curOp.scrollTop=x)}function dv(u,m){za(u),u.curOp.scrollToPos=m}function za(u){var m=u.curOp.scrollToPos;if(m){u.curOp.scrollToPos=null;var x=ys(u,m.from),S=ys(u,m.to);_l(u,x,S,m.margin)}}function _l(u,m,x,S){var D=hp(u,{left:Math.min(m.left,x.left),top:Math.min(m.top,x.top)-S,right:Math.max(m.right,x.right),bottom:Math.max(m.bottom,x.bottom)+S});Io(u,D.scrollLeft,D.scrollTop)}function Ya(u,m){Math.abs(u.doc.scrollTop-m)<2||(C||Cc(u,{top:m}),Di(u,m,!0),C&&Cc(u),ui(u,100))}function Di(u,m,x){m=Math.max(0,Math.min(u.display.scroller.scrollHeight-u.display.scroller.clientHeight,m)),!(u.display.scroller.scrollTop==m&&!x)&&(u.doc.scrollTop=m,u.display.scrollbars.setScrollTop(m),u.display.scroller.scrollTop!=m&&(u.display.scroller.scrollTop=m))}function cu(u,m,x,S){m=Math.max(0,Math.min(m,u.display.scroller.scrollWidth-u.display.scroller.clientWidth)),!((x?m==u.doc.scrollLeft:Math.abs(u.doc.scrollLeft-m)<2)&&!S)&&(u.doc.scrollLeft=m,yh(u),u.display.scroller.scrollLeft!=m&&(u.display.scroller.scrollLeft=m),u.display.scrollbars.setScrollLeft(m))}function Mf(u){var m=u.display,x=m.gutters.offsetWidth,S=Math.round(u.doc.height+Gr(u.display));return{clientHeight:m.scroller.clientHeight,viewHeight:m.wrapper.clientHeight,scrollWidth:m.scroller.scrollWidth,clientWidth:m.scroller.clientWidth,viewWidth:m.wrapper.clientWidth,barLeft:u.options.fixedGutter?x:0,docHeight:S,scrollHeight:S+lu(u)+m.barHeight,nativeBarWidth:m.nativeBarWidth,gutterWidth:x}}var Kl=function(u,m,x){this.cm=x;var S=this.vert=Ze("div",[Ze("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),D=this.horiz=Ze("div",[Ze("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");S.tabIndex=D.tabIndex=-1,u(S),u(D),Co(S,"scroll",function(){S.clientHeight&&m(S.scrollTop,"vertical")}),Co(D,"scroll",function(){D.clientWidth&&m(D.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Y&&V<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Kl.prototype.update=function(u){var m=u.scrollWidth>u.clientWidth+1,x=u.scrollHeight>u.clientHeight+1,S=u.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=m?S+"px":"0";var D=u.viewHeight-(m?S:0);this.vert.firstChild.style.height=Math.max(0,u.scrollHeight-u.clientHeight+D)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(m){this.horiz.style.display="block",this.horiz.style.right=x?S+"px":"0",this.horiz.style.left=u.barLeft+"px";var z=u.viewWidth-u.barLeft-(x?S:0);this.horiz.firstChild.style.width=Math.max(0,u.scrollWidth-u.clientWidth+z)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&u.clientHeight>0&&(S==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?S:0,bottom:m?S:0}},Kl.prototype.setScrollLeft=function(u){this.horiz.scrollLeft!=u&&(this.horiz.scrollLeft=u),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Kl.prototype.setScrollTop=function(u){this.vert.scrollTop!=u&&(this.vert.scrollTop=u),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Kl.prototype.zeroWidthHack=function(){var u=Qt&&!Ce?"12px":"18px";this.horiz.style.height=this.vert.style.width=u,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new fs,this.disableVert=new fs},Kl.prototype.enableZeroWidthBar=function(u,m,x){u.style.visibility="";function S(){var D=u.getBoundingClientRect(),z=x=="vert"?document.elementFromPoint(D.right-1,(D.top+D.bottom)/2):document.elementFromPoint((D.right+D.left)/2,D.bottom-1);z!=u?u.style.visibility="hidden":m.set(1e3,S)}m.set(1e3,S)},Kl.prototype.clear=function(){var u=this.horiz.parentNode;u.removeChild(this.horiz),u.removeChild(this.vert)};var Xc=function(){};Xc.prototype.update=function(){return{bottom:0,right:0}},Xc.prototype.setScrollLeft=function(){},Xc.prototype.setScrollTop=function(){},Xc.prototype.clear=function(){};function Pd(u,m){m||(m=Mf(u));var x=u.display.barWidth,S=u.display.barHeight;mp(u,m);for(var D=0;D<4&&x!=u.display.barWidth||S!=u.display.barHeight;D++)x!=u.display.barWidth&&u.options.lineWrapping&&qa(u),mp(u,Mf(u)),x=u.display.barWidth,S=u.display.barHeight}function mp(u,m){var x=u.display,S=x.scrollbars.update(m);x.sizer.style.paddingRight=(x.barWidth=S.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=S.bottom)+"px",x.heightForcer.style.borderBottom=S.bottom+"px solid transparent",S.right&&S.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=S.bottom+"px",x.scrollbarFiller.style.width=S.right+"px"):x.scrollbarFiller.style.display="",S.bottom&&u.options.coverGutterNextToScrollbar&&u.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=S.bottom+"px",x.gutterFiller.style.width=m.gutterWidth+"px"):x.gutterFiller.style.display=""}var dm={native:Kl,null:Xc};function dd(u){u.display.scrollbars&&(u.display.scrollbars.clear(),u.display.scrollbars.addClass&&Fe(u.display.wrapper,u.display.scrollbars.addClass)),u.display.scrollbars=new dm[u.options.scrollbarStyle](function(m){u.display.wrapper.insertBefore(m,u.display.scrollbarFiller),Co(m,"mousedown",function(){u.state.focused&&setTimeout(function(){return u.display.input.focus()},0)}),m.setAttribute("cm-not-content","true")},function(m,x){x=="horizontal"?cu(u,m):Ya(u,m)},u),u.display.scrollbars.addClass&&eo(u.display.wrapper,u.display.scrollbars.addClass)}var ju=0;function sf(u){u.curOp={cm:u,viewChanged:!1,startHeight:u.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ju,markArrays:null},Cu(u.curOp)}function Va(u){var m=u.curOp;m&&Rl(m,function(x){for(var S=0;S<x.ops.length;S++)x.ops[S].cm.curOp=null;xu(x)})}function xu(u){for(var m=u.ops,x=0;x<m.length;x++)Id(m[x]);for(var S=0;S<m.length;S++)Sr(m[S]);for(var D=0;D<m.length;D++)uu(m[D]);for(var z=0;z<m.length;z++)Mb(m[z]);for(var K=0;K<m.length;K++)pp(m[K])}function Id(u){var m=u.cm,x=m.display;Ga(m),u.updateMaxLine&&ne(m),u.mustUpdate=u.viewChanged||u.forceUpdate||u.scrollTop!=null||u.scrollToPos&&(u.scrollToPos.from.line<x.viewFrom||u.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&m.options.lineWrapping,u.update=u.mustUpdate&&new _i(m,u.mustUpdate&&{top:u.scrollTop,ensure:u.scrollToPos},u.forceUpdate)}function Sr(u){u.updatedDisplay=u.mustUpdate&&du(u.cm,u.update)}function uu(u){var m=u.cm,x=m.display;u.updatedDisplay&&qa(m),u.barMeasure=Mf(m),x.maxLineChanged&&!m.options.lineWrapping&&(u.adjustWidthTo=gn(m,x.maxLine,x.maxLine.text.length).left+3,m.display.sizerWidth=u.adjustWidthTo,u.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+u.adjustWidthTo+lu(m)+m.display.barWidth),u.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+u.adjustWidthTo-Of(m))),(u.updatedDisplay||u.selectionChanged)&&(u.preparedSelection=x.input.prepareSelection())}function Mb(u){var m=u.cm;u.adjustWidthTo!=null&&(m.display.sizer.style.minWidth=u.adjustWidthTo+"px",u.maxScrollLeft<m.doc.scrollLeft&&cu(m,Math.min(m.display.scroller.scrollLeft,u.maxScrollLeft),!0),m.display.maxLineChanged=!1);var x=u.focus&&u.focus==Eo(Oo(m));u.preparedSelection&&m.display.input.showSelection(u.preparedSelection,x),(u.updatedDisplay||u.startHeight!=m.doc.height)&&Pd(m,u.barMeasure),u.updatedDisplay&&Zu(m,u.barMeasure),u.selectionChanged&&rc(m),m.state.focused&&u.updateInput&&m.display.input.reset(u.typing),x&&Sl(u.cm)}function pp(u){var m=u.cm,x=m.display,S=m.doc;if(u.updatedDisplay&&ii(m,u.update),x.wheelStartX!=null&&(u.scrollTop!=null||u.scrollLeft!=null||u.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),u.scrollTop!=null&&Di(m,u.scrollTop,u.forceScroll),u.scrollLeft!=null&&cu(m,u.scrollLeft,!0,!0),u.scrollToPos){var D=sg(m,Ss(S,u.scrollToPos.from),Ss(S,u.scrollToPos.to),u.scrollToPos.margin);uv(m,D)}var z=u.maybeHiddenMarkers,K=u.maybeUnhiddenMarkers;if(z)for(var se=0;se<z.length;++se)z[se].lines.length||go(z[se],"hide");if(K)for(var ce=0;ce<K.length;++ce)K[ce].lines.length&&go(K[ce],"unhide");x.wrapper.offsetHeight&&(S.scrollTop=m.display.scroller.scrollTop),u.changeObjs&&go(m,"changes",m,u.changeObjs),u.update&&u.update.finish()}function Na(u,m){if(u.curOp)return m();sf(u);try{return m()}finally{Va(u)}}function vo(u,m){return function(){if(u.curOp)return m.apply(u,arguments);sf(u);try{return m.apply(u,arguments)}finally{Va(u)}}}function xr(u){return function(){if(this.curOp)return u.apply(this,arguments);sf(this);try{return u.apply(this,arguments)}finally{Va(this)}}}function ri(u){return function(){var m=this.cm;if(!m||m.curOp)return u.apply(this,arguments);sf(m);try{return u.apply(this,arguments)}finally{Va(m)}}}function ui(u,m){u.doc.highlightFrontier<u.display.viewTo&&u.state.highlight.set(m,yt(_u,u))}function _u(u){var m=u.doc;if(!(m.highlightFrontier>=u.display.viewTo)){var x=+new Date+u.options.workTime,S=ut(u,m.highlightFrontier),D=[];m.iter(S.line,Math.min(m.first+m.size,u.display.viewTo+500),function(z){if(S.line>=u.display.viewFrom){var K=z.styles,se=z.text.length>u.options.maxHighlightLength?gr(m.mode,S.state):null,ce=Re(u,z,S,!0);se&&(S.state=se),z.styles=ce.styles;var ve=z.styleClasses,be=ce.classes;be?z.styleClasses=be:ve&&(z.styleClasses=null);for(var nt=!K||K.length!=z.styles.length||ve!=be&&(!ve||!be||ve.bgClass!=be.bgClass||ve.textClass!=be.textClass),Ot=0;!nt&&Ot<K.length;++Ot)nt=K[Ot]!=z.styles[Ot];nt&&D.push(S.line),z.stateAfter=S.save(),S.nextLine()}else z.text.length<=u.options.maxHighlightLength&&Nt(u,z.text,S),z.stateAfter=S.line%5==0?S.save():null,S.nextLine();if(+new Date>x)return ui(u,u.options.workDelay),!0}),m.highlightFrontier=S.line,m.modeFrontier=Math.max(m.modeFrontier,S.line),D.length&&Na(u,function(){for(var z=0;z<D.length;z++)Qi(u,D[z],"text")})}}var _i=function(u,m,x){var S=u.display;this.viewport=m,this.visible=ud(S,u.doc,m),this.editorIsHidden=!S.wrapper.offsetWidth,this.wrapperHeight=S.wrapper.clientHeight,this.wrapperWidth=S.wrapper.clientWidth,this.oldDisplayWidth=Of(u),this.force=x,this.dims=Ii(u),this.events=[]};_i.prototype.signal=function(u,m){pr(u,m)&&this.events.push(arguments)},_i.prototype.finish=function(){for(var u=0;u<this.events.length;u++)go.apply(null,this.events[u])};function Ga(u){var m=u.display;!m.scrollbarsClipped&&m.scroller.offsetWidth&&(m.nativeBarWidth=m.scroller.offsetWidth-m.scroller.clientWidth,m.heightForcer.style.height=lu(u)+"px",m.sizer.style.marginBottom=-m.nativeBarWidth+"px",m.sizer.style.borderRightWidth=lu(u)+"px",m.scrollbarsClipped=!0)}function fm(u){if(u.hasFocus())return null;var m=Eo(Oo(u));if(!m||!xt(u.display.lineDiv,m))return null;var x={activeElt:m};if(window.getSelection){var S=Yt(u).getSelection();S.anchorNode&&S.extend&&xt(u.display.lineDiv,S.anchorNode)&&(x.anchorNode=S.anchorNode,x.anchorOffset=S.anchorOffset,x.focusNode=S.focusNode,x.focusOffset=S.focusOffset)}return x}function qs(u){if(!(!u||!u.activeElt||u.activeElt==Eo(Ds(u.activeElt)))&&(u.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(u.activeElt.nodeName)&&u.anchorNode&&xt(document.body,u.anchorNode)&&xt(document.body,u.focusNode))){var m=u.activeElt.ownerDocument,x=m.defaultView.getSelection(),S=m.createRange();S.setEnd(u.anchorNode,u.anchorOffset),S.collapse(!1),x.removeAllRanges(),x.addRange(S),x.extend(u.focusNode,u.focusOffset)}}function du(u,m){var x=u.display,S=u.doc;if(m.editorIsHidden)return Gl(u),!1;if(!m.force&&m.visible.from>=x.viewFrom&&m.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&Uu(u)==0)return!1;Fd(u)&&(Gl(u),m.dims=Ii(u));var D=S.first+S.size,z=Math.max(m.visible.from-u.options.viewportMargin,S.first),K=Math.min(D,m.visible.to+u.options.viewportMargin);x.viewFrom<z&&z-x.viewFrom<20&&(z=Math.max(S.first,x.viewFrom)),x.viewTo>K&&x.viewTo-K<20&&(K=Math.min(D,x.viewTo)),vi&&(z=Ut(u.doc,z),K=co(u.doc,K));var se=z!=x.viewFrom||K!=x.viewTo||x.lastWrapHeight!=m.wrapperHeight||x.lastWrapWidth!=m.wrapperWidth;Za(u,z,K),x.viewOffset=F(Ho(u.doc,x.viewFrom)),u.display.mover.style.top=x.viewOffset+"px";var ce=Uu(u);if(!se&&ce==0&&!m.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var ve=fm(u);return ce>4&&(x.lineDiv.style.display="none"),Ka(u,x.updateLineNumbers,m.dims),ce>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,qs(ve),En(x.cursorDiv),En(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,se&&(x.lastWrapHeight=m.wrapperHeight,x.lastWrapWidth=m.wrapperWidth,ui(u,400)),x.updateLineNumbers=null,!0}function ii(u,m){for(var x=m.viewport,S=!0;;S=!1){if(!S||!u.options.lineWrapping||m.oldDisplayWidth==Of(u)){if(x&&x.top!=null&&(x={top:Math.min(u.doc.height+Gr(u.display)-vh(u),x.top)}),m.visible=ud(u.display,u.doc,x),m.visible.from>=u.display.viewFrom&&m.visible.to<=u.display.viewTo)break}else S&&(m.visible=ud(u.display,u.doc,x));if(!du(u,m))break;qa(u);var D=Mf(u);Pl(u),Pd(u,D),Zu(u,D),m.force=!1}m.signal(u,"update",u),(u.display.viewFrom!=u.display.reportedViewFrom||u.display.viewTo!=u.display.reportedViewTo)&&(m.signal(u,"viewportChange",u,u.display.viewFrom,u.display.viewTo),u.display.reportedViewFrom=u.display.viewFrom,u.display.reportedViewTo=u.display.viewTo)}function Cc(u,m){var x=new _i(u,m);if(du(u,x)){qa(u),ii(u,x);var S=Mf(u);Pl(u),Pd(u,S),Zu(u,S),x.finish()}}function Ka(u,m,x){var S=u.display,D=u.options.lineNumbers,z=S.lineDiv,K=z.firstChild;function se(sn){var An=sn.nextSibling;return te&&Qt&&u.display.currentWheelTarget==sn?sn.style.display="none":sn.parentNode.removeChild(sn),An}for(var ce=S.view,ve=S.viewFrom,be=0;be<ce.length;be++){var nt=ce[be];if(!nt.hidden)if(!nt.node||nt.node.parentNode!=z){var Ot=Ll(u,nt,ve,x);z.insertBefore(Ot,K)}else{for(;K!=nt.node;)K=se(K);var bt=D&&m!=null&&m<=ve&&nt.lineNumber;nt.changes&&(ns(nt.changes,"gutter")>-1&&(bt=!1),Wc(u,nt,ve,x)),bt&&(En(nt.lineNumber),nt.lineNumber.appendChild(document.createTextNode(fa(u.options,ve)))),K=nt.node.nextSibling}ve+=nt.size}for(;K;)K=se(K)}function Ra(u){var m=u.gutters.offsetWidth;u.sizer.style.marginLeft=m+"px",Ir(u,"gutterChanged",u)}function Zu(u,m){u.display.sizer.style.minHeight=m.docHeight+"px",u.display.heightForcer.style.top=m.docHeight+"px",u.display.gutters.style.height=m.docHeight+u.display.barHeight+lu(u)+"px"}function yh(u){var m=u.display,x=m.view;if(!(!m.alignWidgets&&(!m.gutters.firstChild||!u.options.fixedGutter))){for(var S=ma(m)-m.scroller.scrollLeft+u.doc.scrollLeft,D=m.gutters.offsetWidth,z=S+"px",K=0;K<x.length;K++)if(!x[K].hidden){u.options.fixedGutter&&(x[K].gutter&&(x[K].gutter.style.left=z),x[K].gutterBackground&&(x[K].gutterBackground.style.left=z));var se=x[K].alignable;if(se)for(var ce=0;ce<se.length;ce++)se[ce].style.left=z}u.options.fixedGutter&&(m.gutters.style.left=S+D+"px")}}function Fd(u){if(!u.options.lineNumbers)return!1;var m=u.doc,x=fa(u.options,m.first+m.size-1),S=u.display;if(x.length!=S.lineNumChars){var D=S.measure.appendChild(Ze("div",[Ze("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),z=D.firstChild.offsetWidth,K=D.offsetWidth-z;return S.lineGutter.style.width="",S.lineNumInnerWidth=Math.max(z,S.lineGutter.offsetWidth-K)+1,S.lineNumWidth=S.lineNumInnerWidth+K,S.lineNumChars=S.lineNumInnerWidth?x.length:-1,S.lineGutter.style.width=S.lineNumWidth+"px",Ra(u.display),!0}return!1}function Bd(u,m){for(var x=[],S=!1,D=0;D<u.length;D++){var z=u[D],K=null;if(typeof z!="string"&&(K=z.style,z=z.className),z=="CodeMirror-linenumbers")if(m)S=!0;else continue;x.push({className:z,style:K})}return m&&!S&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function rf(u){var m=u.gutters,x=u.gutterSpecs;En(m),u.lineGutter=null;for(var S=0;S<x.length;++S){var D=x[S],z=D.className,K=D.style,se=m.appendChild(Ze("div",null,"CodeMirror-gutter "+z));K&&(se.style.cssText=K),z=="CodeMirror-linenumbers"&&(u.lineGutter=se,se.style.width=(u.lineNumWidth||1)+"px")}m.style.display=x.length?"":"none",Ra(u)}function rl(u){rf(u.display),Yc(u),yh(u)}function af(u,m,x,S){var D=this;this.input=x,D.scrollbarFiller=Ze("div",null,"CodeMirror-scrollbar-filler"),D.scrollbarFiller.setAttribute("cm-not-content","true"),D.gutterFiller=Ze("div",null,"CodeMirror-gutter-filler"),D.gutterFiller.setAttribute("cm-not-content","true"),D.lineDiv=U("div",null,"CodeMirror-code"),D.selectionDiv=Ze("div",null,null,"position: relative; z-index: 1"),D.cursorDiv=Ze("div",null,"CodeMirror-cursors"),D.measure=Ze("div",null,"CodeMirror-measure"),D.lineMeasure=Ze("div",null,"CodeMirror-measure"),D.lineSpace=U("div",[D.measure,D.lineMeasure,D.selectionDiv,D.cursorDiv,D.lineDiv],null,"position: relative; outline: none");var z=U("div",[D.lineSpace],"CodeMirror-lines");D.mover=Ze("div",[z],null,"position: relative"),D.sizer=Ze("div",[D.mover],"CodeMirror-sizer"),D.sizerWidth=null,D.heightForcer=Ze("div",null,null,"position: absolute; height: "+js+"px; width: 1px;"),D.gutters=Ze("div",null,"CodeMirror-gutters"),D.lineGutter=null,D.scroller=Ze("div",[D.sizer,D.heightForcer,D.gutters],"CodeMirror-scroll"),D.scroller.setAttribute("tabIndex","-1"),D.wrapper=Ze("div",[D.scrollbarFiller,D.gutterFiller,D.scroller],"CodeMirror"),ye&&je===105&&(D.wrapper.style.clipPath="inset(0px)"),D.wrapper.setAttribute("translate","no"),Y&&V<8&&(D.gutters.style.zIndex=-1,D.scroller.style.paddingRight=0),!te&&!(C&&dt)&&(D.scroller.draggable=!0),u&&(u.appendChild?u.appendChild(D.wrapper):u(D.wrapper)),D.viewFrom=D.viewTo=m.first,D.reportedViewFrom=D.reportedViewTo=m.first,D.view=[],D.renderedView=null,D.externalMeasured=null,D.viewOffset=0,D.lastWrapHeight=D.lastWrapWidth=0,D.updateLineNumbers=null,D.nativeBarWidth=D.barHeight=D.barWidth=0,D.scrollbarsClipped=!1,D.lineNumWidth=D.lineNumInnerWidth=D.lineNumChars=null,D.alignWidgets=!1,D.cachedCharWidth=D.cachedTextHeight=D.cachedPaddingH=null,D.maxLine=null,D.maxLineLength=0,D.maxLineChanged=!1,D.wheelDX=D.wheelDY=D.wheelStartX=D.wheelStartY=null,D.shift=!1,D.selForContextMenu=null,D.activeTouch=null,D.gutterSpecs=Bd(S.gutters,S.lineNumbers),rf(D),x.init(D)}var ig=0,Nc=null;Y?Nc=-.53:C?Nc=15:ye?Nc=-.7:Ee&&(Nc=-1/3);function $r(u){var m=u.wheelDeltaX,x=u.wheelDeltaY;return m==null&&u.detail&&u.axis==u.HORIZONTAL_AXIS&&(m=u.detail),x==null&&u.detail&&u.axis==u.VERTICAL_AXIS?x=u.detail:x==null&&(x=u.wheelDelta),{x:m,y:x}}function fv(u){var m=$r(u);return m.x*=Nc,m.y*=Nc,m}function wh(u,m){ye&&je==102&&(u.display.chromeScrollHack==null?u.display.sizer.style.pointerEvents="none":clearTimeout(u.display.chromeScrollHack),u.display.chromeScrollHack=setTimeout(function(){u.display.chromeScrollHack=null,u.display.sizer.style.pointerEvents=""},100));var x=$r(m),S=x.x,D=x.y,z=Nc;m.deltaMode===0&&(S=m.deltaX,D=m.deltaY,z=1);var K=u.display,se=K.scroller,ce=se.scrollWidth>se.clientWidth,ve=se.scrollHeight>se.clientHeight;if(S&&ce||D&&ve){if(D&&Qt&&te){e:for(var be=m.target,nt=K.view;be!=se;be=be.parentNode)for(var Ot=0;Ot<nt.length;Ot++)if(nt[Ot].node==be){u.display.currentWheelTarget=be;break e}}if(S&&!C&&!Le&&z!=null){D&&ve&&Ya(u,Math.max(0,se.scrollTop+D*z)),cu(u,Math.max(0,se.scrollLeft+S*z)),(!D||D&&ve)&&Cr(m),K.wheelStartX=null;return}if(D&&z!=null){var bt=D*z,sn=u.doc.scrollTop,An=sn+K.wrapper.clientHeight;bt<0?sn=Math.max(0,sn+bt-50):An=Math.min(u.doc.height,An+bt+50),Cc(u,{top:sn,bottom:An})}ig<20&&m.deltaMode!==0&&(K.wheelStartX==null?(K.wheelStartX=se.scrollLeft,K.wheelStartY=se.scrollTop,K.wheelDX=S,K.wheelDY=D,setTimeout(function(){if(K.wheelStartX!=null){var mo=se.scrollLeft-K.wheelStartX,xo=se.scrollTop-K.wheelStartY,Go=xo&&K.wheelDY&&xo/K.wheelDY||mo&&K.wheelDX&&mo/K.wheelDX;K.wheelStartX=K.wheelStartY=null,Go&&(Nc=(Nc*ig+Go)/(ig+1),++ig)}},200)):(K.wheelDX+=S,K.wheelDY+=D))}}var ra=function(u,m){this.ranges=u,this.primIndex=m};ra.prototype.primary=function(){return this.ranges[this.primIndex]},ra.prototype.equals=function(u){if(u==this)return!0;if(u.primIndex!=this.primIndex||u.ranges.length!=this.ranges.length)return!1;for(var m=0;m<this.ranges.length;m++){var x=this.ranges[m],S=u.ranges[m];if(!oa(x.anchor,S.anchor)||!oa(x.head,S.head))return!1}return!0},ra.prototype.deepCopy=function(){for(var u=[],m=0;m<this.ranges.length;m++)u[m]=new _r(Uc(this.ranges[m].anchor),Uc(this.ranges[m].head));return new ra(u,this.primIndex)},ra.prototype.somethingSelected=function(){for(var u=0;u<this.ranges.length;u++)if(!this.ranges[u].empty())return!0;return!1},ra.prototype.contains=function(u,m){m||(m=u);for(var x=0;x<this.ranges.length;x++){var S=this.ranges[x];if(rs(m,S.from())>=0&&rs(u,S.to())<=0)return x}return-1};var _r=function(u,m){this.anchor=u,this.head=m};_r.prototype.from=function(){return Da(this.anchor,this.head)},_r.prototype.to=function(){return au(this.anchor,this.head)},_r.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ai(u,m,x){var S=u&&u.options.selectionsMayTouch,D=m[x];m.sort(function(Ot,bt){return rs(Ot.from(),bt.from())}),x=ns(m,D);for(var z=1;z<m.length;z++){var K=m[z],se=m[z-1],ce=rs(se.to(),K.from());if(S&&!K.empty()?ce>0:ce>=0){var ve=Da(se.from(),K.from()),be=au(se.to(),K.to()),nt=se.empty()?K.from()==K.head:se.from()==se.head;z<=x&&--x,m.splice(--z,2,new _r(nt?be:ve,nt?ve:be))}}return new ra(m,x)}function Rc(u,m){return new ra([new _r(u,m||u)],0)}function Vi(u){return u.text?un(u.from.line+u.text.length-1,At(u.text).length+(u.text.length==1?u.from.ch:0)):u.to}function Ch(u,m){if(rs(u,m.from)<0)return u;if(rs(u,m.to)<=0)return Vi(m);var x=u.line+m.text.length-(m.to.line-m.from.line)-1,S=u.ch;return u.line==m.to.line&&(S+=Vi(m).ch-m.to.ch),un(x,S)}function hm(u,m){for(var x=[],S=0;S<u.sel.ranges.length;S++){var D=u.sel.ranges[S];x.push(new _r(Ch(D.anchor,m),Ch(D.head,m)))}return ai(u.cm,x,u.sel.primIndex)}function ag(u,m,x){return u.line==m.line?un(x.line,u.ch-m.ch+x.ch):un(x.line+(u.line-m.line),u.ch)}function dw(u,m,x){for(var S=[],D=un(u.first,0),z=D,K=0;K<m.length;K++){var se=m[K],ce=ag(se.from,D,z),ve=ag(Vi(se),D,z);if(D=se.to,z=ve,x=="around"){var be=u.sel.ranges[K],nt=rs(be.head,be.anchor)<0;S[K]=new _r(nt?ve:ce,nt?ce:ve)}else S[K]=new _r(ce,ce)}return new ra(S,u.sel.primIndex)}function Tu(u){u.doc.mode=Rs(u.options,u.doc.modeOption),gp(u)}function gp(u){u.doc.iter(function(m){m.stateAfter&&(m.stateAfter=null),m.styles&&(m.styles=null)}),u.doc.modeFrontier=u.doc.highlightFrontier=u.doc.first,ui(u,100),u.state.modeGen++,u.curOp&&Yc(u)}function lg(u,m){return m.from.ch==0&&m.to.ch==0&&At(m.text)==""&&(!u.cm||u.cm.options.wholeLineUpdateBefore)}function Eu(u,m,x,S){function D(Go){return x?x[Go]:null}function z(Go,lo,qn){ge(Go,lo,qn,S),Ir(Go,"change",Go,m)}function K(Go,lo){for(var qn=[],xs=Go;xs<lo;++xs)qn.push(new fe(ve[xs],D(xs),S));return qn}var se=m.from,ce=m.to,ve=m.text,be=Ho(u,se.line),nt=Ho(u,ce.line),Ot=At(ve),bt=D(ve.length-1),sn=ce.line-se.line;if(m.full)u.insert(0,K(0,ve.length)),u.remove(ve.length,u.size-ve.length);else if(lg(u,m)){var An=K(0,ve.length-1);z(nt,nt.text,bt),sn&&u.remove(se.line,sn),An.length&&u.insert(se.line,An)}else if(be==nt)if(ve.length==1)z(be,be.text.slice(0,se.ch)+Ot+be.text.slice(ce.ch),bt);else{var mo=K(1,ve.length-1);mo.push(new fe(Ot+be.text.slice(ce.ch),bt,S)),z(be,be.text.slice(0,se.ch)+ve[0],D(0)),u.insert(se.line+1,mo)}else if(ve.length==1)z(be,be.text.slice(0,se.ch)+ve[0]+nt.text.slice(ce.ch),D(0)),u.remove(se.line+1,sn);else{z(be,be.text.slice(0,se.ch)+ve[0],D(0)),z(nt,Ot+nt.text.slice(ce.ch),bt);var xo=K(1,ve.length-1);sn>1&&u.remove(se.line+1,sn-1),u.insert(se.line+1,xo)}Ir(u,"change",u,m)}function lf(u,m,x){function S(D,z,K){if(D.linked)for(var se=0;se<D.linked.length;++se){var ce=D.linked[se];if(ce.doc!=z){var ve=K&&ce.sharedHist;x&&!ve||(m(ce.doc,ve),S(ce.doc,D,ve))}}}S(u,null,!0)}function Sh(u,m){if(m.cm)throw new Error("This document is already in use.");u.doc=m,m.cm=u,Ji(u),Tu(u),mm(u),u.options.direction=m.direction,u.options.lineWrapping||ne(u),u.options.mode=m.modeOption,Yc(u)}function mm(u){(u.doc.direction=="rtl"?eo:Fe)(u.display.lineDiv,"CodeMirror-rtl")}function vp(u){Na(u,function(){mm(u),Yc(u)})}function pm(u){this.done=[],this.undone=[],this.undoDepth=u?u.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=u?u.maxGeneration:1}function cg(u,m){var x={from:Uc(m.from),to:Vi(m),text:Ls(u,m.from,m.to)};return ug(u,x,m.from.line,m.to.line+1),lf(u,function(S){return ug(S,x,m.from.line,m.to.line+1)},!0),x}function ku(u){for(;u.length;){var m=At(u);if(m.ranges)u.pop();else break}}function Y1(u,m){if(m)return ku(u.done),At(u.done);if(u.done.length&&!At(u.done).ranges)return At(u.done);if(u.done.length>1&&!u.done[u.done.length-2].ranges)return u.done.pop(),At(u.done)}function cf(u,m,x,S){var D=u.history;D.undone.length=0;var z=+new Date,K,se;if((D.lastOp==S||D.lastOrigin==m.origin&&m.origin&&(m.origin.charAt(0)=="+"&&D.lastModTime>z-(u.cm?u.cm.options.historyEventDelay:500)||m.origin.charAt(0)=="*"))&&(K=Y1(D,D.lastOp==S)))se=At(K.changes),rs(m.from,m.to)==0&&rs(m.from,se.to)==0?se.to=Vi(m):K.changes.push(cg(u,m));else{var ce=At(D.done);for((!ce||!ce.ranges)&&Du(u.sel,D.done),K={changes:[cg(u,m)],generation:D.generation},D.done.push(K);D.done.length>D.undoDepth;)D.done.shift(),D.done[0].ranges||D.done.shift()}D.done.push(x),D.generation=++D.maxGeneration,D.lastModTime=D.lastSelTime=z,D.lastOp=D.lastSelOp=S,D.lastOrigin=D.lastSelOrigin=m.origin,se||go(u,"historyAdded")}function Ur(u,m,x,S){var D=m.charAt(0);return D=="*"||D=="+"&&x.ranges.length==S.ranges.length&&x.somethingSelected()==S.somethingSelected()&&new Date-u.history.lastSelTime<=(u.cm?u.cm.options.historyEventDelay:500)}function ic(u,m,x,S){var D=u.history,z=S&&S.origin;x==D.lastSelOp||z&&D.lastSelOrigin==z&&(D.lastModTime==D.lastSelTime&&D.lastOrigin==z||Ur(u,z,At(D.done),m))?D.done[D.done.length-1]=m:Du(m,D.done),D.lastSelTime=+new Date,D.lastSelOrigin=z,D.lastSelOp=x,S&&S.clearRedo!==!1&&ku(D.undone)}function Du(u,m){var x=At(m);x&&x.ranges&&x.equals(u)||m.push(u)}function ug(u,m,x,S){var D=m["spans_"+u.id],z=0;u.iter(Math.max(u.first,x),Math.min(u.first+u.size,S),function(K){K.markedSpans&&((D||(D=m["spans_"+u.id]={}))[z]=K.markedSpans),++z})}function Nf(u){if(!u)return null;for(var m,x=0;x<u.length;++x)u[x].marker.explicitlyCleared?m||(m=u.slice(0,x)):m&&m.push(u[x]);return m?m.length?m:null:u}function hv(u,m){var x=m["spans_"+u.id];if(!x)return null;for(var S=[],D=0;D<m.text.length;++D)S.push(Nf(x[D]));return S}function mv(u,m){var x=hv(u,m),S=ql(u,m);if(!x)return S;if(!S)return x;for(var D=0;D<x.length;++D){var z=x[D],K=S[D];if(z&&K)e:for(var se=0;se<K.length;++se){for(var ce=K[se],ve=0;ve<z.length;++ve)if(z[ve].marker==ce.marker)continue e;z.push(ce)}else K&&(x[D]=K)}return x}function Jc(u,m,x){for(var S=[],D=0;D<u.length;++D){var z=u[D];if(z.ranges){S.push(x?ra.prototype.deepCopy.call(z):z);continue}var K=z.changes,se=[];S.push({changes:se});for(var ce=0;ce<K.length;++ce){var ve=K[ce],be=void 0;if(se.push({from:ve.from,to:ve.to,text:ve.text}),m)for(var nt in ve)(be=nt.match(/^spans_(\d+)$/))&&ns(m,Number(be[1]))>-1&&(At(se)[nt]=ve[nt],delete ve[nt])}}return S}function qu(u,m,x,S){if(S){var D=u.anchor;if(x){var z=rs(m,D)<0;z!=rs(x,D)<0?(D=m,m=x):z!=rs(m,x)<0&&(m=x)}return new _r(D,m)}else return new _r(x||m,m)}function Hr(u,m,x,S,D){D==null&&(D=u.cm&&(u.cm.display.shift||u.extend)),Ai(u,new ra([qu(u.sel.primary(),m,x,D)],0),S)}function pv(u,m,x){for(var S=[],D=u.cm&&(u.cm.display.shift||u.extend),z=0;z<u.sel.ranges.length;z++)S[z]=qu(u.sel.ranges[z],m[z],null,D);var K=ai(u.cm,S,u.sel.primIndex);Ai(u,K,x)}function Ui(u,m,x,S){var D=u.sel.ranges.slice(0);D[m]=x,Ai(u,ai(u.cm,D,u.sel.primIndex),S)}function xh(u,m,x,S){Ai(u,Rc(m,x),S)}function Ua(u,m,x){var S={ranges:m.ranges,update:function(D){this.ranges=[];for(var z=0;z<D.length;z++)this.ranges[z]=new _r(Ss(u,D[z].anchor),Ss(u,D[z].head))},origin:x&&x.origin};return go(u,"beforeSelectionChange",u,S),u.cm&&go(u.cm,"beforeSelectionChange",u.cm,S),S.ranges!=m.ranges?ai(u.cm,S.ranges,S.ranges.length-1):m}function fd(u,m,x){var S=u.history.done,D=At(S);D&&D.ranges?(S[S.length-1]=m,Yu(u,m,x)):Ai(u,m,x)}function Ai(u,m,x){Yu(u,m,x),ic(u,u.sel,u.cm?u.cm.curOp.id:NaN,x)}function Yu(u,m,x){(pr(u,"beforeSelectionChange")||u.cm&&pr(u.cm,"beforeSelectionChange"))&&(m=Ua(u,m,x));var S=x&&x.bias||(rs(m.primary().head,u.sel.primary().head)<0?-1:1);bp(u,fg(u,m,S,!0)),!(x&&x.scroll===!1)&&u.cm&&u.cm.getOption("readOnly")!="nocursor"&&Wu(u.cm)}function bp(u,m){m.equals(u.sel)||(u.sel=m,u.cm&&(u.cm.curOp.updateInput=1,u.cm.curOp.selectionChanged=!0,Wa(u.cm)),Ir(u,"cursorActivity",u))}function dg(u){bp(u,fg(u,u.sel,null,!1))}function fg(u,m,x,S){for(var D,z=0;z<m.ranges.length;z++){var K=m.ranges[z],se=m.ranges.length==u.sel.ranges.length&&u.sel.ranges[z],ce=ac(u,K.anchor,se&&se.anchor,x,S),ve=K.head==K.anchor?ce:ac(u,K.head,se&&se.head,x,S);(D||ce!=K.anchor||ve!=K.head)&&(D||(D=m.ranges.slice(0,z)),D[z]=new _r(ce,ve))}return D?ai(u.cm,D,m.primIndex):m}function gm(u,m,x,S,D){var z=Ho(u,m.line);if(z.markedSpans)for(var K=0;K<z.markedSpans.length;++K){var se=z.markedSpans[K],ce=se.marker,ve="selectLeft"in ce?!ce.selectLeft:ce.inclusiveLeft,be="selectRight"in ce?!ce.selectRight:ce.inclusiveRight;if((se.from==null||(ve?se.from<=m.ch:se.from<m.ch))&&(se.to==null||(be?se.to>=m.ch:se.to>m.ch))){if(D&&(go(ce,"beforeCursorEnter"),ce.explicitlyCleared))if(z.markedSpans){--K;continue}else break;if(!ce.atomic)continue;if(x){var nt=ce.find(S<0?1:-1),Ot=void 0;if((S<0?be:ve)&&(nt=Gu(u,nt,-S,nt&&nt.line==m.line?z:null)),nt&&nt.line==m.line&&(Ot=rs(nt,x))&&(S<0?Ot<0:Ot>0))return gm(u,nt,m,S,D)}var bt=ce.find(S<0?-1:1);return(S<0?ve:be)&&(bt=Gu(u,bt,S,bt.line==m.line?z:null)),bt?gm(u,bt,m,S,D):null}}return m}function ac(u,m,x,S,D){var z=S||1,K=gm(u,m,x,z,D)||!D&&gm(u,m,x,z,!0)||gm(u,m,x,-z,D)||!D&&gm(u,m,x,-z,!0);return K||(u.cantEdit=!0,un(u.first,0))}function Gu(u,m,x,S){return x<0&&m.ch==0?m.line>u.first?Ss(u,un(m.line-1)):null:x>0&&m.ch==(S||Ho(u,m.line)).text.length?m.line<u.first+u.size-1?un(m.line+1,0):null:new un(m.line,m.ch+x)}function La(u){u.setSelection(un(u.firstLine(),0),un(u.lastLine()),fo)}function fl(u,m,x){var S={canceled:!1,from:m.from,to:m.to,text:m.text,origin:m.origin,cancel:function(){return S.canceled=!0}};return x&&(S.update=function(D,z,K,se){D&&(S.from=Ss(u,D)),z&&(S.to=Ss(u,z)),K&&(S.text=K),se!==void 0&&(S.origin=se)}),go(u,"beforeChange",u,S),u.cm&&go(u.cm,"beforeChange",u.cm,S),S.canceled?(u.cm&&(u.cm.curOp.updateInput=2),null):{from:S.from,to:S.to,text:S.text,origin:S.origin}}function uf(u,m,x){if(u.cm){if(!u.cm.curOp)return vo(u.cm,uf)(u,m,x);if(u.cm.state.suppressEdits)return}if(!((pr(u,"beforeChange")||u.cm&&pr(u.cm,"beforeChange"))&&(m=fl(u,m,!0),!m))){var S=as&&!x&&Aa(u,m.from,m.to);if(S)for(var D=S.length-1;D>=0;--D)vm(u,{from:S[D].from,to:S[D].to,text:D?[""]:m.text,origin:m.origin});else vm(u,m)}}function vm(u,m){if(!(m.text.length==1&&m.text[0]==""&&rs(m.from,m.to)==0)){var x=hm(u,m);cf(u,m,x,u.cm?u.cm.curOp.id:NaN),Lc(u,m,x,ql(u,m));var S=[];lf(u,function(D,z){!z&&ns(S,D.history)==-1&&(Pe(D.history,m),S.push(D.history)),Lc(D,m,null,ql(D,m))})}}function _h(u,m,x){var S=u.cm&&u.cm.state.suppressEdits;if(!(S&&!x)){for(var D=u.history,z,K=u.sel,se=m=="undo"?D.done:D.undone,ce=m=="undo"?D.undone:D.done,ve=0;ve<se.length&&(z=se[ve],!(x?z.ranges&&!z.equals(u.sel):!z.ranges));ve++);if(ve!=se.length){for(D.lastOrigin=D.lastSelOrigin=null;;)if(z=se.pop(),z.ranges){if(Du(z,ce),x&&!z.equals(u.sel)){Ai(u,z,{clearRedo:!1});return}K=z}else if(S){se.push(z);return}else break;var be=[];Du(K,ce),ce.push({changes:be,generation:D.generation}),D.generation=z.generation||++D.maxGeneration;for(var nt=pr(u,"beforeChange")||u.cm&&pr(u.cm,"beforeChange"),Ot=function(An){var mo=z.changes[An];if(mo.origin=m,nt&&!fl(u,mo,!1))return se.length=0,{};be.push(cg(u,mo));var xo=An?hm(u,mo):At(se);Lc(u,mo,xo,mv(u,mo)),!An&&u.cm&&u.cm.scrollIntoView({from:mo.from,to:Vi(mo)});var Go=[];lf(u,function(lo,qn){!qn&&ns(Go,lo.history)==-1&&(Pe(lo.history,mo),Go.push(lo.history)),Lc(lo,mo,null,mv(lo,mo))})},bt=z.changes.length-1;bt>=0;--bt){var sn=Ot(bt);if(sn)return sn.v}}}}function gv(u,m){if(m!=0&&(u.first+=m,u.sel=new ra(Bs(u.sel.ranges,function(D){return new _r(un(D.anchor.line+m,D.anchor.ch),un(D.head.line+m,D.head.ch))}),u.sel.primIndex),u.cm)){Yc(u.cm,u.first,u.first-m,m);for(var x=u.cm.display,S=x.viewFrom;S<x.viewTo;S++)Qi(u.cm,S,"gutter")}}function Lc(u,m,x,S){if(u.cm&&!u.cm.curOp)return vo(u.cm,Lc)(u,m,x,S);if(m.to.line<u.first){gv(u,m.text.length-1-(m.to.line-m.from.line));return}if(!(m.from.line>u.lastLine())){if(m.from.line<u.first){var D=m.text.length-1-(u.first-m.from.line);gv(u,D),m={from:un(u.first,0),to:un(m.to.line+D,m.to.ch),text:[At(m.text)],origin:m.origin}}var z=u.lastLine();m.to.line>z&&(m={from:m.from,to:un(z,Ho(u,z).text.length),text:[m.text[0]],origin:m.origin}),m.removed=Ls(u,m.from,m.to),x||(x=hm(u,m)),u.cm?fw(u.cm,m,S):Eu(u,m,S),Yu(u,x,fo),u.cantEdit&&ac(u,un(u.firstLine(),0))&&(u.cantEdit=!1)}}function fw(u,m,x){var S=u.doc,D=u.display,z=m.from,K=m.to,se=!1,ce=z.line;u.options.lineWrapping||(ce=Xo(ae(Ho(S,z.line))),S.iter(ce,K.line+1,function(bt){if(bt==D.maxLine)return se=!0,!0})),S.sel.contains(m.from,m.to)>-1&&Wa(u),Eu(S,m,x,Vu(u)),u.options.lineWrapping||(S.iter(ce,z.line+m.text.length,function(bt){var sn=G(bt);sn>D.maxLineLength&&(D.maxLine=bt,D.maxLineLength=sn,D.maxLineChanged=!0,se=!1)}),se&&(u.curOp.updateMaxLine=!0)),Rr(S,z.line),ui(u,400);var ve=m.text.length-(K.line-z.line)-1;m.full?Yc(u):z.line==K.line&&m.text.length==1&&!lg(u.doc,m)?Qi(u,z.line,"text"):Yc(u,z.line,K.line+1,ve);var be=pr(u,"changes"),nt=pr(u,"change");if(nt||be){var Ot={from:z,to:K,text:m.text,removed:m.removed,origin:m.origin};nt&&Ir(u,"change",u,Ot),be&&(u.curOp.changeObjs||(u.curOp.changeObjs=[])).push(Ot)}u.display.selForContextMenu=null}function B(u,m,x,S,D){var z;S||(S=x),rs(S,x)<0&&(z=[S,x],x=z[0],S=z[1]),typeof m=="string"&&(m=u.splitLines(m)),uf(u,{from:x,to:S,text:m,origin:D})}function Z(u,m,x,S){x<u.line?u.line+=S:m<u.line&&(u.line=m,u.ch=0)}function he(u,m,x,S){for(var D=0;D<u.length;++D){var z=u[D],K=!0;if(z.ranges){z.copied||(z=u[D]=z.deepCopy(),z.copied=!0);for(var se=0;se<z.ranges.length;se++)Z(z.ranges[se].anchor,m,x,S),Z(z.ranges[se].head,m,x,S);continue}for(var ce=0;ce<z.changes.length;++ce){var ve=z.changes[ce];if(x<ve.from.line)ve.from=un(ve.from.line+S,ve.from.ch),ve.to=un(ve.to.line+S,ve.to.ch);else if(m<=ve.to.line){K=!1;break}}K||(u.splice(0,D+1),D=0)}}function Pe(u,m){var x=m.from.line,S=m.to.line,D=m.text.length-(S-x)-1;he(u.done,x,S,D),he(u.undone,x,S,D)}function rt(u,m,x,S){var D=m,z=m;return typeof m=="number"?z=Ho(u,yl(u,m)):D=Xo(m),D==null?null:(S(z,D)&&u.cm&&Qi(u.cm,D,x),z)}function Ht(u){this.lines=u,this.parent=null;for(var m=0,x=0;x<u.length;++x)u[x].parent=this,m+=u[x].height;this.height=m}Ht.prototype={chunkSize:function(){return this.lines.length},removeInner:function(u,m){for(var x=u,S=u+m;x<S;++x){var D=this.lines[x];this.height-=D.height,Me(D),Ir(D,"delete")}this.lines.splice(u,m)},collapse:function(u){u.push.apply(u,this.lines)},insertInner:function(u,m,x){this.height+=x,this.lines=this.lines.slice(0,u).concat(m).concat(this.lines.slice(u));for(var S=0;S<m.length;++S)m[S].parent=this},iterN:function(u,m,x){for(var S=u+m;u<S;++u)if(x(this.lines[u]))return!0}};function Fn(u){this.children=u;for(var m=0,x=0,S=0;S<u.length;++S){var D=u[S];m+=D.chunkSize(),x+=D.height,D.parent=this}this.size=m,this.height=x,this.parent=null}Fn.prototype={chunkSize:function(){return this.size},removeInner:function(u,m){this.size-=m;for(var x=0;x<this.children.length;++x){var S=this.children[x],D=S.chunkSize();if(u<D){var z=Math.min(m,D-u),K=S.height;if(S.removeInner(u,z),this.height-=K-S.height,D==z&&(this.children.splice(x--,1),S.parent=null),(m-=z)==0)break;u=0}else u-=D}if(this.size-m<25&&(this.children.length>1||!(this.children[0]instanceof Ht))){var se=[];this.collapse(se),this.children=[new Ht(se)],this.children[0].parent=this}},collapse:function(u){for(var m=0;m<this.children.length;++m)this.children[m].collapse(u)},insertInner:function(u,m,x){this.size+=m.length,this.height+=x;for(var S=0;S<this.children.length;++S){var D=this.children[S],z=D.chunkSize();if(u<=z){if(D.insertInner(u,m,x),D.lines&&D.lines.length>50){for(var K=D.lines.length%25+25,se=K;se<D.lines.length;){var ce=new Ht(D.lines.slice(se,se+=25));D.height-=ce.height,this.children.splice(++S,0,ce),ce.parent=this}D.lines=D.lines.slice(0,K),this.maybeSpill()}break}u-=z}},maybeSpill:function(){if(!(this.children.length<=10)){var u=this;do{var m=u.children.splice(u.children.length-5,5),x=new Fn(m);if(u.parent){u.size-=x.size,u.height-=x.height;var D=ns(u.parent.children,u);u.parent.children.splice(D+1,0,x)}else{var S=new Fn(u.children);S.parent=u,u.children=[S,x],u=S}x.parent=u.parent}while(u.children.length>10);u.parent.maybeSpill()}},iterN:function(u,m,x){for(var S=0;S<this.children.length;++S){var D=this.children[S],z=D.chunkSize();if(u<z){var K=Math.min(m,z-u);if(D.iterN(u,K,x))return!0;if((m-=K)==0)break;u=0}else u-=z}}};var bo=function(u,m,x){if(x)for(var S in x)x.hasOwnProperty(S)&&(this[S]=x[S]);this.doc=u,this.node=m};bo.prototype.clear=function(){var u=this.doc.cm,m=this.line.widgets,x=this.line,S=Xo(x);if(!(S==null||!m)){for(var D=0;D<m.length;++D)m[D]==this&&m.splice(D--,1);m.length||(x.widgets=null);var z=Xs(this);pi(x,Math.max(0,x.height-z)),u&&(Na(u,function(){ms(u,x,-z),Qi(u,S,"widget")}),Ir(u,"lineWidgetCleared",u,this,S))}},bo.prototype.changed=function(){var u=this,m=this.height,x=this.doc.cm,S=this.line;this.height=null;var D=Xs(this)-m;D&&(Is(this.doc,S)||pi(S,S.height+D),x&&Na(x,function(){x.curOp.forceUpdate=!0,ms(x,S,D),Ir(x,"lineWidgetChanged",x,u,Xo(S))}))},Pn(bo);function ms(u,m,x){F(m)<(u.curOp&&u.curOp.scrollTop||u.doc.scrollTop)&&rg(u,x)}function Vs(u,m,x,S){var D=new bo(u,x,S),z=u.cm;return z&&D.noHScroll&&(z.display.alignWidgets=!0),rt(u,m,"widget",function(K){var se=K.widgets||(K.widgets=[]);if(D.insertAt==null?se.push(D):se.splice(Math.min(se.length,Math.max(0,D.insertAt)),0,D),D.line=K,z&&!Is(u,K)){var ce=F(K)<u.scrollTop;pi(K,K.height+Xs(D)),ce&&rg(z,D.height),z.curOp.forceUpdate=!0}return!0}),z&&Ir(z,"lineWidgetAdded",z,D,typeof m=="number"?m:Xo(m)),D}var bi=0,ti=function(u,m){this.lines=[],this.type=m,this.doc=u,this.id=++bi};ti.prototype.clear=function(){if(!this.explicitlyCleared){var u=this.doc.cm,m=u&&!u.curOp;if(m&&sf(u),pr(this,"clear")){var x=this.find();x&&Ir(this,"clear",x.from,x.to)}for(var S=null,D=null,z=0;z<this.lines.length;++z){var K=this.lines[z],se=Fa(K.markedSpans,this);u&&!this.collapsed?Qi(u,Xo(K),"text"):u&&(se.to!=null&&(D=Xo(K)),se.from!=null&&(S=Xo(K))),K.markedSpans=sa(K.markedSpans,se),se.from==null&&this.collapsed&&!Is(this.doc,K)&&u&&pi(K,Qo(u.display))}if(u&&this.collapsed&&!u.options.lineWrapping)for(var ce=0;ce<this.lines.length;++ce){var ve=ae(this.lines[ce]),be=G(ve);be>u.display.maxLineLength&&(u.display.maxLine=ve,u.display.maxLineLength=be,u.display.maxLineChanged=!0)}S!=null&&u&&this.collapsed&&Yc(u,S,D+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,u&&dg(u.doc)),u&&Ir(u,"markerCleared",u,this,S,D),m&&Va(u),this.parent&&this.parent.clear()}},ti.prototype.find=function(u,m){u==null&&this.type=="bookmark"&&(u=1);for(var x,S,D=0;D<this.lines.length;++D){var z=this.lines[D],K=Fa(z.markedSpans,this);if(K.from!=null&&(x=un(m?z:Xo(z),K.from),u==-1))return x;if(K.to!=null&&(S=un(m?z:Xo(z),K.to),u==1))return S}return x&&{from:x,to:S}},ti.prototype.changed=function(){var u=this,m=this.find(-1,!0),x=this,S=this.doc.cm;!m||!S||Na(S,function(){var D=m.line,z=Xo(m.line),K=dl(S,z);if(K&&(um(K),S.curOp.selectionChanged=S.curOp.forceUpdate=!0),S.curOp.updateMaxLine=!0,!Is(x.doc,D)&&x.height!=null){var se=x.height;x.height=null;var ce=Xs(x)-se;ce&&pi(D,D.height+ce)}Ir(S,"markerChanged",S,u)})},ti.prototype.attachLine=function(u){if(!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(!m.maybeHiddenMarkers||ns(m.maybeHiddenMarkers,this)==-1)&&(m.maybeUnhiddenMarkers||(m.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(u)},ti.prototype.detachLine=function(u){if(this.lines.splice(ns(this.lines,u),1),!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(m.maybeHiddenMarkers||(m.maybeHiddenMarkers=[])).push(this)}},Pn(ti);function pa(u,m,x,S,D){if(S&&S.shared)return df(u,m,x,S,D);if(u.cm&&!u.cm.curOp)return vo(u.cm,pa)(u,m,x,S,D);var z=new ti(u,D),K=rs(m,x);if(S&&le(S,z,!1),K>0||K==0&&z.clearWhenEmpty!==!1)return z;if(z.replacedWith&&(z.collapsed=!0,z.widgetNode=U("span",[z.replacedWith],"CodeMirror-widget"),S.handleMouseEvents||z.widgetNode.setAttribute("cm-ignore-events","true"),S.insertLeft&&(z.widgetNode.insertLeft=!0)),z.collapsed){if(ar(u,m.line,m,x,z)||m.line!=x.line&&ar(u,x.line,m,x,z))throw new Error("Inserting collapsed marker partially overlapping an existing one");Sa()}z.addToHistory&&cf(u,{from:m,to:x,origin:"markText"},u.sel,NaN);var se=m.line,ce=u.cm,ve;if(u.iter(se,x.line+1,function(nt){ce&&z.collapsed&&!ce.options.lineWrapping&&ae(nt)==ce.display.maxLine&&(ve=!0),z.collapsed&&se!=m.line&&pi(nt,0),oc(nt,new ha(z,se==m.line?m.ch:null,se==x.line?x.ch:null),u.cm&&u.cm.curOp),++se}),z.collapsed&&u.iter(m.line,x.line+1,function(nt){Is(u,nt)&&pi(nt,0)}),z.clearOnEnter&&Co(z,"beforeCursorEnter",function(){return z.clear()}),z.readOnly&&(dr(),(u.history.done.length||u.history.undone.length)&&u.clearHistory()),z.collapsed&&(z.id=++bi,z.atomic=!0),ce){if(ve&&(ce.curOp.updateMaxLine=!0),z.collapsed)Yc(ce,m.line,x.line+1);else if(z.className||z.startStyle||z.endStyle||z.css||z.attributes||z.title)for(var be=m.line;be<=x.line;be++)Qi(ce,be,"text");z.atomic&&dg(ce.doc),Ir(ce,"markerAdded",ce,z)}return z}var Fl=function(u,m){this.markers=u,this.primary=m;for(var x=0;x<u.length;++x)u[x].parent=this};Fl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var u=0;u<this.markers.length;++u)this.markers[u].clear();Ir(this,"clear")}},Fl.prototype.find=function(u,m){return this.primary.find(u,m)},Pn(Fl);function df(u,m,x,S,D){S=le(S),S.shared=!1;var z=[pa(u,m,x,S,D)],K=z[0],se=S.widgetNode;return lf(u,function(ce){se&&(S.widgetNode=se.cloneNode(!0)),z.push(pa(ce,Ss(ce,m),Ss(ce,x),S,D));for(var ve=0;ve<ce.linked.length;++ve)if(ce.linked[ve].isParent)return;K=At(z)}),new Fl(z,K)}function $d(u){return u.findMarks(un(u.first,0),u.clipPos(un(u.lastLine())),function(m){return m.parent})}function Ku(u,m){for(var x=0;x<m.length;x++){var S=m[x],D=S.find(),z=u.clipPos(D.from),K=u.clipPos(D.to);if(rs(z,K)){var se=pa(u,z,K,S.primary,S.primary.type);S.markers.push(se),se.parent=S}}}function vv(u){for(var m=function(S){var D=u[S],z=[D.primary.doc];lf(D.primary.doc,function(ce){return z.push(ce)});for(var K=0;K<D.markers.length;K++){var se=D.markers[K];ns(z,se.doc)==-1&&(se.parent=null,D.markers.splice(K--,1))}},x=0;x<u.length;x++)m(x)}var bm=0,lc=function(u,m,x,S,D){if(!(this instanceof lc))return new lc(u,m,x,S,D);x==null&&(x=0),Fn.call(this,[new Ht([new fe("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var z=un(x,0);this.sel=Rc(z),this.history=new pm(null),this.id=++bm,this.modeOption=m,this.lineSep=S,this.direction=D=="rtl"?"rtl":"ltr",this.extend=!1,typeof u=="string"&&(u=this.splitLines(u)),Eu(this,{from:z,to:z,text:u}),Ai(this,Rc(z),fo)};lc.prototype=Gs(Fn.prototype,{constructor:lc,iter:function(u,m,x){x?this.iterN(u-this.first,m-u,x):this.iterN(this.first,this.first+this.size,u)},insert:function(u,m){for(var x=0,S=0;S<m.length;++S)x+=m[S].height;this.insertInner(u-this.first,m,x)},remove:function(u,m){this.removeInner(u-this.first,m)},getValue:function(u){var m=mi(this,this.first,this.first+this.size);return u===!1?m:m.join(u||this.lineSeparator())},setValue:ri(function(u){var m=un(this.first,0),x=this.first+this.size-1;uf(this,{from:m,to:un(x,Ho(this,x).text.length),text:this.splitLines(u),origin:"setValue",full:!0},!0),this.cm&&Io(this.cm,0,0),Ai(this,Rc(m),fo)}),replaceRange:function(u,m,x,S){m=Ss(this,m),x=x?Ss(this,x):m,B(this,u,m,x,S)},getRange:function(u,m,x){var S=Ls(this,Ss(this,u),Ss(this,m));return x===!1?S:x===""?S.join(""):S.join(x||this.lineSeparator())},getLine:function(u){var m=this.getLineHandle(u);return m&&m.text},getLineHandle:function(u){if(ya(this,u))return Ho(this,u)},getLineNumber:function(u){return Xo(u)},getLineHandleVisualStart:function(u){return typeof u=="number"&&(u=Ho(this,u)),ae(u)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(u){return Ss(this,u)},getCursor:function(u){var m=this.sel.primary(),x;return u==null||u=="head"?x=m.head:u=="anchor"?x=m.anchor:u=="end"||u=="to"||u===!1?x=m.to():x=m.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ri(function(u,m,x){xh(this,Ss(this,typeof u=="number"?un(u,m||0):u),null,x)}),setSelection:ri(function(u,m,x){xh(this,Ss(this,u),Ss(this,m||u),x)}),extendSelection:ri(function(u,m,x){Hr(this,Ss(this,u),m&&Ss(this,m),x)}),extendSelections:ri(function(u,m){pv(this,Si(this,u),m)}),extendSelectionsBy:ri(function(u,m){var x=Bs(this.sel.ranges,u);pv(this,Si(this,x),m)}),setSelections:ri(function(u,m,x){if(u.length){for(var S=[],D=0;D<u.length;D++)S[D]=new _r(Ss(this,u[D].anchor),Ss(this,u[D].head||u[D].anchor));m==null&&(m=Math.min(u.length-1,this.sel.primIndex)),Ai(this,ai(this.cm,S,m),x)}}),addSelection:ri(function(u,m,x){var S=this.sel.ranges.slice(0);S.push(new _r(Ss(this,u),Ss(this,m||u))),Ai(this,ai(this.cm,S,S.length-1),x)}),getSelection:function(u){for(var m=this.sel.ranges,x,S=0;S<m.length;S++){var D=Ls(this,m[S].from(),m[S].to());x=x?x.concat(D):D}return u===!1?x:x.join(u||this.lineSeparator())},getSelections:function(u){for(var m=[],x=this.sel.ranges,S=0;S<x.length;S++){var D=Ls(this,x[S].from(),x[S].to());u!==!1&&(D=D.join(u||this.lineSeparator())),m[S]=D}return m},replaceSelection:function(u,m,x){for(var S=[],D=0;D<this.sel.ranges.length;D++)S[D]=u;this.replaceSelections(S,m,x||"+input")},replaceSelections:ri(function(u,m,x){for(var S=[],D=this.sel,z=0;z<D.ranges.length;z++){var K=D.ranges[z];S[z]={from:K.from(),to:K.to(),text:this.splitLines(u[z]),origin:x}}for(var se=m&&m!="end"&&dw(this,S,m),ce=S.length-1;ce>=0;ce--)uf(this,S[ce]);se?fd(this,se):this.cm&&Wu(this.cm)}),undo:ri(function(){_h(this,"undo")}),redo:ri(function(){_h(this,"redo")}),undoSelection:ri(function(){_h(this,"undo",!0)}),redoSelection:ri(function(){_h(this,"redo",!0)}),setExtending:function(u){this.extend=u},getExtending:function(){return this.extend},historySize:function(){for(var u=this.history,m=0,x=0,S=0;S<u.done.length;S++)u.done[S].ranges||++m;for(var D=0;D<u.undone.length;D++)u.undone[D].ranges||++x;return{undo:m,redo:x}},clearHistory:function(){var u=this;this.history=new pm(this.history),lf(this,function(m){return m.history=u.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(u){return u&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(u){return this.history.generation==(u||this.cleanGeneration)},getHistory:function(){return{done:Jc(this.history.done),undone:Jc(this.history.undone)}},setHistory:function(u){var m=this.history=new pm(this.history);m.done=Jc(u.done.slice(0),null,!0),m.undone=Jc(u.undone.slice(0),null,!0)},setGutterMarker:ri(function(u,m,x){return rt(this,u,"gutter",function(S){var D=S.gutterMarkers||(S.gutterMarkers={});return D[m]=x,!x&&de(D)&&(S.gutterMarkers=null),!0})}),clearGutter:ri(function(u){var m=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[u]&&rt(m,x,"gutter",function(){return x.gutterMarkers[u]=null,de(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(u){var m;if(typeof u=="number"){if(!ya(this,u)||(m=u,u=Ho(this,u),!u))return null}else if(m=Xo(u),m==null)return null;return{line:m,handle:u,text:u.text,gutterMarkers:u.gutterMarkers,textClass:u.textClass,bgClass:u.bgClass,wrapClass:u.wrapClass,widgets:u.widgets}},addLineClass:ri(function(u,m,x){return rt(this,u,m=="gutter"?"gutter":"class",function(S){var D=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass";if(!S[D])S[D]=x;else{if(et(x).test(S[D]))return!1;S[D]+=" "+x}return!0})}),removeLineClass:ri(function(u,m,x){return rt(this,u,m=="gutter"?"gutter":"class",function(S){var D=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass",z=S[D];if(z)if(x==null)S[D]=null;else{var K=z.match(et(x));if(!K)return!1;var se=K.index+K[0].length;S[D]=z.slice(0,K.index)+(!K.index||se==z.length?"":" ")+z.slice(se)||null}else return!1;return!0})}),addLineWidget:ri(function(u,m,x){return Vs(this,u,m,x)}),removeLineWidget:function(u){u.clear()},markText:function(u,m,x){return pa(this,Ss(this,u),Ss(this,m),x,x&&x.type||"range")},setBookmark:function(u,m){var x={replacedWith:m&&(m.nodeType==null?m.widget:m),insertLeft:m&&m.insertLeft,clearWhenEmpty:!1,shared:m&&m.shared,handleMouseEvents:m&&m.handleMouseEvents};return u=Ss(this,u),pa(this,u,u,x,"bookmark")},findMarksAt:function(u){u=Ss(this,u);var m=[],x=Ho(this,u.line).markedSpans;if(x)for(var S=0;S<x.length;++S){var D=x[S];(D.from==null||D.from<=u.ch)&&(D.to==null||D.to>=u.ch)&&m.push(D.marker.parent||D.marker)}return m},findMarks:function(u,m,x){u=Ss(this,u),m=Ss(this,m);var S=[],D=u.line;return this.iter(u.line,m.line+1,function(z){var K=z.markedSpans;if(K)for(var se=0;se<K.length;se++){var ce=K[se];!(ce.to!=null&&D==u.line&&u.ch>=ce.to||ce.from==null&&D!=u.line||ce.from!=null&&D==m.line&&ce.from>=m.ch)&&(!x||x(ce.marker))&&S.push(ce.marker.parent||ce.marker)}++D}),S},getAllMarks:function(){var u=[];return this.iter(function(m){var x=m.markedSpans;if(x)for(var S=0;S<x.length;++S)x[S].from!=null&&u.push(x[S].marker)}),u},posFromIndex:function(u){var m,x=this.first,S=this.lineSeparator().length;return this.iter(function(D){var z=D.text.length+S;if(z>u)return m=u,!0;u-=z,++x}),Ss(this,un(x,m))},indexFromPos:function(u){u=Ss(this,u);var m=u.ch;if(u.line<this.first||u.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,u.line,function(S){m+=S.text.length+x}),m},copy:function(u){var m=new lc(mi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return m.scrollTop=this.scrollTop,m.scrollLeft=this.scrollLeft,m.sel=this.sel,m.extend=!1,u&&(m.history.undoDepth=this.history.undoDepth,m.setHistory(this.getHistory())),m},linkedDoc:function(u){u||(u={});var m=this.first,x=this.first+this.size;u.from!=null&&u.from>m&&(m=u.from),u.to!=null&&u.to<x&&(x=u.to);var S=new lc(mi(this,m,x),u.mode||this.modeOption,m,this.lineSep,this.direction);return u.sharedHist&&(S.history=this.history),(this.linked||(this.linked=[])).push({doc:S,sharedHist:u.sharedHist}),S.linked=[{doc:this,isParent:!0,sharedHist:u.sharedHist}],Ku(S,$d(this)),S},unlinkDoc:function(u){if(u instanceof Oi&&(u=u.doc),this.linked)for(var m=0;m<this.linked.length;++m){var x=this.linked[m];if(x.doc==u){this.linked.splice(m,1),u.unlinkDoc(this),vv($d(this));break}}if(u.history==this.history){var S=[u.id];lf(u,function(D){return S.push(D.id)},!0),u.history=new pm(null),u.history.done=Jc(this.history.done,S),u.history.undone=Jc(this.history.undone,S)}},iterLinkedDocs:function(u){lf(this,u)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(u){return this.lineSep?u.split(this.lineSep):io(u)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ri(function(u){u!="rtl"&&(u="ltr"),u!=this.direction&&(this.direction=u,this.iter(function(m){return m.order=null}),this.cm&&vp(this.cm))})}),lc.prototype.eachLine=lc.prototype.iter;var Rf=0;function ym(u){var m=this;if(Nb(m),!(Mo(m,u)||ei(m.display,u))){Cr(u),Y&&(Rf=+new Date);var x=cr(m,u,!0),S=u.dataTransfer.files;if(!(!x||m.isReadOnly()))if(S&&S.length&&window.FileReader&&window.File)for(var D=S.length,z=Array(D),K=0,se=function(){++K==D&&vo(m,function(){x=Ss(m.doc,x);var bt={from:x,to:x,text:m.doc.splitLines(z.filter(function(sn){return sn!=null}).join(m.doc.lineSeparator())),origin:"paste"};uf(m.doc,bt),fd(m.doc,Rc(Ss(m.doc,x),Ss(m.doc,Vi(bt))))})()},ce=function(bt,sn){if(m.options.allowDropFileTypes&&ns(m.options.allowDropFileTypes,bt.type)==-1){se();return}var An=new FileReader;An.onerror=function(){return se()},An.onload=function(){var mo=An.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(mo)){se();return}z[sn]=mo,se()},An.readAsText(bt)},ve=0;ve<S.length;ve++)ce(S[ve],ve);else{if(m.state.draggingText&&m.doc.sel.contains(x)>-1){m.state.draggingText(u),setTimeout(function(){return m.display.input.focus()},20);return}try{var be=u.dataTransfer.getData("Text");if(be){var nt;if(m.state.draggingText&&!m.state.draggingText.copy&&(nt=m.listSelections()),Yu(m.doc,Rc(x,x)),nt)for(var Ot=0;Ot<nt.length;++Ot)B(m.doc,"",nt[Ot].anchor,nt[Ot].head,"drag");m.replaceSelection(be,"around","paste"),m.display.input.focus()}}catch{}}}}function hg(u,m){if(Y&&(!u.state.draggingText||+new Date-Rf<100)){ba(m);return}if(!(Mo(u,m)||ei(u.display,m))&&(m.dataTransfer.setData("Text",u.getSelection()),m.dataTransfer.effectAllowed="copyMove",m.dataTransfer.setDragImage&&!Ee)){var x=Ze("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Le&&(x.width=x.height=1,u.display.wrapper.appendChild(x),x._top=x.offsetTop),m.dataTransfer.setDragImage(x,0,0),Le&&x.parentNode.removeChild(x)}}function mg(u,m){var x=cr(u,m);if(x){var S=document.createDocumentFragment();Il(u,x,S),u.display.dragCursor||(u.display.dragCursor=Ze("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),u.display.lineSpace.insertBefore(u.display.dragCursor,u.display.cursorDiv)),wn(u.display.dragCursor,S)}}function Nb(u){u.display.dragCursor&&(u.display.lineSpace.removeChild(u.display.dragCursor),u.display.dragCursor=null)}function Rb(u){if(document.getElementsByClassName){for(var m=document.getElementsByClassName("CodeMirror"),x=[],S=0;S<m.length;S++){var D=m[S].CodeMirror;D&&x.push(D)}x.length&&x[0].operation(function(){for(var z=0;z<x.length;z++)u(x[z])})}}var br=!1;function yi(){br||(hl(),br=!0)}function hl(){var u;Co(window,"resize",function(){u==null&&(u=setTimeout(function(){u=null,Rb(Qc)},100))}),Co(window,"blur",function(){return Rb(wc)})}function Qc(u){var m=u.display;m.cachedCharWidth=m.cachedTextHeight=m.cachedPaddingH=null,m.scrollbarsClipped=!1,u.setSize()}for(var hd={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ff=0;ff<10;ff++)hd[ff+48]=hd[ff+96]=String(ff);for(var Th=65;Th<=90;Th++)hd[Th]=String.fromCharCode(Th);for(var Lf=1;Lf<=12;Lf++)hd[Lf+111]=hd[Lf+63235]="F"+Lf;var Pf={};Pf.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pf.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pf.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pf.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pf.default=Qt?Pf.macDefault:Pf.pcDefault;function Eh(u){var m=u.split(/-(?!$)/);u=m[m.length-1];for(var x,S,D,z,K=0;K<m.length-1;K++){var se=m[K];if(/^(cmd|meta|m)$/i.test(se))z=!0;else if(/^a(lt)?$/i.test(se))x=!0;else if(/^(c|ctrl|control)$/i.test(se))S=!0;else if(/^s(hift)?$/i.test(se))D=!0;else throw new Error("Unrecognized modifier name: "+se)}return x&&(u="Alt-"+u),S&&(u="Ctrl-"+u),z&&(u="Cmd-"+u),D&&(u="Shift-"+u),u}function If(u){var m={};for(var x in u)if(u.hasOwnProperty(x)){var S=u[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(S=="..."){delete u[x];continue}for(var D=Bs(x.split(" "),Eh),z=0;z<D.length;z++){var K=void 0,se=void 0;z==D.length-1?(se=D.join(" "),K=S):(se=D.slice(0,z+1).join(" "),K="...");var ce=m[se];if(!ce)m[se]=K;else if(ce!=K)throw new Error("Inconsistent bindings for "+se)}delete u[x]}for(var ve in m)u[ve]=m[ve];return u}function wm(u,m,x,S){m=Xu(m);var D=m.call?m.call(u,S):m[u];if(D===!1)return"nothing";if(D==="...")return"multi";if(D!=null&&x(D))return"handled";if(m.fallthrough){if(Object.prototype.toString.call(m.fallthrough)!="[object Array]")return wm(u,m.fallthrough,x,S);for(var z=0;z<m.fallthrough.length;z++){var K=wm(u,m.fallthrough[z],x,S);if(K)return K}}}function hw(u){var m=typeof u=="string"?u:hd[u.keyCode];return m=="Ctrl"||m=="Alt"||m=="Shift"||m=="Mod"}function il(u,m,x){var S=u;return m.altKey&&S!="Alt"&&(u="Alt-"+u),(Ln?m.metaKey:m.ctrlKey)&&S!="Ctrl"&&(u="Ctrl-"+u),(Ln?m.ctrlKey:m.metaKey)&&S!="Mod"&&(u="Cmd-"+u),!x&&m.shiftKey&&S!="Shift"&&(u="Shift-"+u),u}function Xa(u,m){if(Le&&u.keyCode==34&&u.char)return!1;var x=hd[u.keyCode];return x==null||u.altGraphKey?!1:(u.keyCode==3&&u.code&&(x=u.code),il(x,u,m))}function Xu(u){return typeof u=="string"?Pf[u]:u}function hf(u,m){for(var x=u.doc.sel.ranges,S=[],D=0;D<x.length;D++){for(var z=m(x[D]);S.length&&rs(z.from,At(S).to)<=0;){var K=S.pop();if(rs(K.from,z.from)<0){z.from=K.from;break}}S.push(z)}Na(u,function(){for(var se=S.length-1;se>=0;se--)B(u.doc,"",S[se].from,S[se].to,"+delete");Wu(u)})}function pg(u,m,x){var S=ot(u.text,m+x,x);return S<0||S>u.text.length?null:S}function cc(u,m,x){var S=pg(u,m.ch,x);return S==null?null:new un(m.line,S,x<0?"after":"before")}function bv(u,m,x,S,D){if(u){m.doc.direction=="rtl"&&(D=-D);var z=Uo(x,m.doc.direction);if(z){var K=D<0?At(z):z[0],se=D<0==(K.level==1),ce=se?"after":"before",ve;if(K.level>0||m.doc.direction=="rtl"){var be=qc(m,x);ve=D<0?x.text.length-1:0;var nt=Oa(m,be,ve).top;ve=Tt(function(Ot){return Oa(m,be,Ot).top==nt},D<0==(K.level==1)?K.from:K.to-1,ve),ce=="before"&&(ve=pg(x,ve,1))}else ve=D<0?K.to:K.from;return new un(S,ve,ce)}}return new un(S,D<0?x.text.length:0,D<0?"before":"after")}function Cm(u,m,x,S){var D=Uo(m,u.doc.direction);if(!D)return cc(m,x,S);x.ch>=m.text.length?(x.ch=m.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var z=Gn(D,x.ch,x.sticky),K=D[z];if(u.doc.direction=="ltr"&&K.level%2==0&&(S>0?K.to>x.ch:K.from<x.ch))return cc(m,x,S);var se=function(xo,Go){return pg(m,xo instanceof un?xo.ch:xo,Go)},ce,ve=function(xo){return u.options.lineWrapping?(ce=ce||qc(u,m),$s(u,m,ce,xo)):{begin:0,end:m.text.length}},be=ve(x.sticky=="before"?se(x,-1):x.ch);if(u.doc.direction=="rtl"||K.level==1){var nt=K.level==1==S<0,Ot=se(x,nt?1:-1);if(Ot!=null&&(nt?Ot<=K.to&&Ot<=be.end:Ot>=K.from&&Ot>=be.begin)){var bt=nt?"before":"after";return new un(x.line,Ot,bt)}}var sn=function(xo,Go,lo){for(var qn=function(_a,$l){return $l?new un(x.line,se(_a,1),"before"):new un(x.line,_a,"after")};xo>=0&&xo<D.length;xo+=Go){var xs=D[xo],Ps=Go>0==(xs.level!=1),ws=Ps?lo.begin:se(lo.end,-1);if(xs.from<=ws&&ws<xs.to||(ws=Ps?xs.from:se(xs.to,-1),lo.begin<=ws&&ws<lo.end))return qn(ws,Ps)}},An=sn(z+S,S,be);if(An)return An;var mo=S>0?be.end:se(be.begin,-1);return mo!=null&&!(S>0&&mo==m.text.length)&&(An=sn(S>0?0:D.length-1,S,ve(mo)),An)?An:null}var Sm={selectAll:La,singleSelection:function(u){return u.setSelection(u.getCursor("anchor"),u.getCursor("head"),fo)},killLine:function(u){return hf(u,function(m){if(m.empty()){var x=Ho(u.doc,m.head.line).text.length;return m.head.ch==x&&m.head.line<u.lastLine()?{from:m.head,to:un(m.head.line+1,0)}:{from:m.head,to:un(m.head.line,x)}}else return{from:m.from(),to:m.to()}})},deleteLine:function(u){return hf(u,function(m){return{from:un(m.from().line,0),to:Ss(u.doc,un(m.to().line+1,0))}})},delLineLeft:function(u){return hf(u,function(m){return{from:un(m.from().line,0),to:m.from()}})},delWrappedLineLeft:function(u){return hf(u,function(m){var x=u.charCoords(m.head,"div").top+5,S=u.coordsChar({left:0,top:x},"div");return{from:S,to:m.from()}})},delWrappedLineRight:function(u){return hf(u,function(m){var x=u.charCoords(m.head,"div").top+5,S=u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:x},"div");return{from:m.from(),to:S}})},undo:function(u){return u.undo()},redo:function(u){return u.redo()},undoSelection:function(u){return u.undoSelection()},redoSelection:function(u){return u.redoSelection()},goDocStart:function(u){return u.extendSelection(un(u.firstLine(),0))},goDocEnd:function(u){return u.extendSelection(un(u.lastLine()))},goLineStart:function(u){return u.extendSelectionsBy(function(m){return fu(u,m.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(u){return u.extendSelectionsBy(function(m){return Ti(u,m.head)},{origin:"+move",bias:1})},goLineEnd:function(u){return u.extendSelectionsBy(function(m){return G1(u,m.head.line)},{origin:"+move",bias:-1})},goLineRight:function(u){return u.extendSelectionsBy(function(m){var x=u.cursorCoords(m.head,"div").top+5;return u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:x},"div")},In)},goLineLeft:function(u){return u.extendSelectionsBy(function(m){var x=u.cursorCoords(m.head,"div").top+5;return u.coordsChar({left:0,top:x},"div")},In)},goLineLeftSmart:function(u){return u.extendSelectionsBy(function(m){var x=u.cursorCoords(m.head,"div").top+5,S=u.coordsChar({left:0,top:x},"div");return S.ch<u.getLine(S.line).search(/\S/)?Ti(u,m.head):S},In)},goLineUp:function(u){return u.moveV(-1,"line")},goLineDown:function(u){return u.moveV(1,"line")},goPageUp:function(u){return u.moveV(-1,"page")},goPageDown:function(u){return u.moveV(1,"page")},goCharLeft:function(u){return u.moveH(-1,"char")},goCharRight:function(u){return u.moveH(1,"char")},goColumnLeft:function(u){return u.moveH(-1,"column")},goColumnRight:function(u){return u.moveH(1,"column")},goWordLeft:function(u){return u.moveH(-1,"word")},goGroupRight:function(u){return u.moveH(1,"group")},goGroupLeft:function(u){return u.moveH(-1,"group")},goWordRight:function(u){return u.moveH(1,"word")},delCharBefore:function(u){return u.deleteH(-1,"codepoint")},delCharAfter:function(u){return u.deleteH(1,"char")},delWordBefore:function(u){return u.deleteH(-1,"word")},delWordAfter:function(u){return u.deleteH(1,"word")},delGroupBefore:function(u){return u.deleteH(-1,"group")},delGroupAfter:function(u){return u.deleteH(1,"group")},indentAuto:function(u){return u.indentSelection("smart")},indentMore:function(u){return u.indentSelection("add")},indentLess:function(u){return u.indentSelection("subtract")},insertTab:function(u){return u.replaceSelection("	")},insertSoftTab:function(u){for(var m=[],x=u.listSelections(),S=u.options.tabSize,D=0;D<x.length;D++){var z=x[D].from(),K=hi(u.getLine(z.line),z.ch,S);m.push(Ns(S-K%S))}u.replaceSelections(m)},defaultTab:function(u){u.somethingSelected()?u.indentSelection("add"):u.execCommand("insertTab")},transposeChars:function(u){return Na(u,function(){for(var m=u.listSelections(),x=[],S=0;S<m.length;S++)if(m[S].empty()){var D=m[S].head,z=Ho(u.doc,D.line).text;if(z){if(D.ch==z.length&&(D=new un(D.line,D.ch-1)),D.ch>0)D=new un(D.line,D.ch+1),u.replaceRange(z.charAt(D.ch-1)+z.charAt(D.ch-2),un(D.line,D.ch-2),D,"+transpose");else if(D.line>u.doc.first){var K=Ho(u.doc,D.line-1).text;K&&(D=new un(D.line,1),u.replaceRange(z.charAt(0)+u.doc.lineSeparator()+K.charAt(K.length-1),un(D.line-1,K.length-1),D,"+transpose"))}}x.push(new _r(D,D))}u.setSelections(x)})},newlineAndIndent:function(u){return Na(u,function(){for(var m=u.listSelections(),x=m.length-1;x>=0;x--)u.replaceRange(u.doc.lineSeparator(),m[x].anchor,m[x].head,"+input");m=u.listSelections();for(var S=0;S<m.length;S++)u.indentLine(m[S].from().line,null,!0);Wu(u)})},openLine:function(u){return u.replaceSelection(`
`,"start")},toggleOverwrite:function(u){return u.toggleOverwrite()}};function fu(u,m){var x=Ho(u.doc,m),S=ae(x);return S!=x&&(m=Xo(S)),bv(!0,u,S,m,1)}function G1(u,m){var x=Ho(u.doc,m),S=Ae(x);return S!=x&&(m=Xo(S)),bv(!0,u,x,m,-1)}function Ti(u,m){var x=fu(u,m.line),S=Ho(u.doc,x.line),D=Uo(S,u.doc.direction);if(!D||D[0].level==0){var z=Math.max(x.ch,S.text.search(/\S/)),K=m.line==x.line&&m.ch<=z&&m.ch;return un(x.line,K?0:z,x.sticky)}return x}function kh(u,m,x){if(typeof m=="string"&&(m=Sm[m],!m))return!1;u.display.input.ensurePolled();var S=u.display.shift,D=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),x&&(u.display.shift=!1),D=m(u)!=Vr}finally{u.display.shift=S,u.state.suppressEdits=!1}return D}function Dh(u,m,x){for(var S=0;S<u.state.keyMaps.length;S++){var D=wm(m,u.state.keyMaps[S],x,u);if(D)return D}return u.options.extraKeys&&wm(m,u.options.extraKeys,x,u)||wm(m,u.options.keyMap,x,u)}var US=new fs;function gg(u,m,x,S){var D=u.state.keySeq;if(D){if(hw(m))return"handled";if(/\'$/.test(m)?u.state.keySeq=null:US.set(50,function(){u.state.keySeq==D&&(u.state.keySeq=null,u.display.input.reset())}),yv(u,D+" "+m,x,S))return!0}return yv(u,m,x,S)}function yv(u,m,x,S){var D=Dh(u,m,S);return D=="multi"&&(u.state.keySeq=m),D=="handled"&&Ir(u,"keyHandled",u,m,x),(D=="handled"||D=="multi")&&(Cr(x),rc(u)),!!D}function mw(u,m){var x=Xa(m,!0);return x?m.shiftKey&&!u.state.keySeq?gg(u,"Shift-"+x,m,function(S){return kh(u,S,!0)})||gg(u,x,m,function(S){if(typeof S=="string"?/^go[A-Z]/.test(S):S.motion)return kh(u,S)}):gg(u,x,m,function(S){return kh(u,S)}):!1}function K1(u,m,x){return gg(u,"'"+x+"'",m,function(S){return kh(u,S,!0)})}var mf=null;function Lb(u){var m=this;if(!(u.target&&u.target!=m.display.input.getField())&&(m.curOp.focus=Eo(Oo(m)),!Mo(m,u))){Y&&V<11&&u.keyCode==27&&(u.returnValue=!1);var x=u.keyCode;m.display.shift=x==16||u.shiftKey;var S=mw(m,u);Le&&(mf=S?x:null,!S&&x==88&&!na&&(Qt?u.metaKey:u.ctrlKey)&&m.replaceSelection("",null,"cut")),C&&!Qt&&!S&&x==46&&u.shiftKey&&!u.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(m.display.lineDiv.className)&&yo(m)}}function yo(u){var m=u.display.lineDiv;eo(m,"CodeMirror-crosshair");function x(S){(S.keyCode==18||!S.altKey)&&(Fe(m,"CodeMirror-crosshair"),Mn(document,"keyup",x),Mn(document,"mouseover",x))}Co(document,"keyup",x),Co(document,"mouseover",x)}function Fi(u){u.keyCode==16&&(this.doc.sel.shift=!1),Mo(this,u)}function yp(u){var m=this;if(!(u.target&&u.target!=m.display.input.getField())&&!(ei(m.display,u)||Mo(m,u)||u.ctrlKey&&!u.altKey||Qt&&u.metaKey)){var x=u.keyCode,S=u.charCode;if(Le&&x==mf){mf=null,Cr(u);return}if(!(Le&&(!u.which||u.which<10)&&mw(m,u))){var D=String.fromCharCode(S??x);D!="\b"&&(K1(m,u,D)||m.display.input.onKeyPress(u))}}}var wp=400,Tl=function(u,m,x){this.time=u,this.pos=m,this.button=x};Tl.prototype.compare=function(u,m,x){return this.time+wp>u&&rs(m,this.pos)==0&&x==this.button};var Ff,wv;function Cp(u,m){var x=+new Date;return wv&&wv.compare(x,u,m)?(Ff=wv=null,"triple"):Ff&&Ff.compare(x,u,m)?(wv=new Tl(x,u,m),Ff=null,"double"):(Ff=new Tl(x,u,m),wv=null,"single")}function X1(u){var m=this,x=m.display;if(!(Mo(m,u)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=u.shiftKey,ei(x,u)){te||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!Ah(m,u)){var S=cr(m,u),D=Ks(u),z=S?Cp(S,D):"single";Yt(m).focus(),D==1&&m.state.selectingText&&m.state.selectingText(u),!(S&&Bf(m,D,S,z,u))&&(D==1?S?J1(m,S,z,u):Xi(u)==x.scroller&&Cr(u):D==2?(S&&Hr(m.doc,S),setTimeout(function(){return x.input.focus()},20)):D==3&&(ln?m.display.input.onContextMenu(u):sl(m)))}}}function Bf(u,m,x,S,D){var z="Click";return S=="double"?z="Double"+z:S=="triple"&&(z="Triple"+z),z=(m==1?"Left":m==2?"Middle":"Right")+z,gg(u,il(z,D),D,function(K){if(typeof K=="string"&&(K=Sm[K]),!K)return!1;var se=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),se=K(u,x)!=Vr}finally{u.state.suppressEdits=!1}return se})}function xm(u,m,x){var S=u.getOption("configureMouse"),D=S?S(u,m,x):{};if(D.unit==null){var z=Et?x.shiftKey&&x.metaKey:x.altKey;D.unit=z?"rectangle":m=="single"?"char":m=="double"?"word":"line"}return(D.extend==null||u.doc.extend)&&(D.extend=u.doc.extend||x.shiftKey),D.addNew==null&&(D.addNew=Qt?x.metaKey:x.ctrlKey),D.moveOnDrag==null&&(D.moveOnDrag=!(Qt?x.altKey:x.ctrlKey)),D}function J1(u,m,x,S){Y?setTimeout(yt(Sl,u),0):u.curOp.focus=Eo(Oo(u));var D=xm(u,x,S),z=u.doc.sel,K;u.options.dragDrop&&qo&&!u.isReadOnly()&&x=="single"&&(K=z.contains(m))>-1&&(rs((K=z.ranges[K]).from(),m)<0||m.xRel>0)&&(rs(K.to(),m)>0||m.xRel<0)?pn(u,S,m,D):Q1(u,S,m,D)}function pn(u,m,x,S){var D=u.display,z=!1,K=vo(u,function(ve){te&&(D.scroller.draggable=!1),u.state.draggingText=!1,u.state.delayingBlurEvent&&(u.hasFocus()?u.state.delayingBlurEvent=!1:sl(u)),Mn(D.wrapper.ownerDocument,"mouseup",K),Mn(D.wrapper.ownerDocument,"mousemove",se),Mn(D.scroller,"dragstart",ce),Mn(D.scroller,"drop",K),z||(Cr(ve),S.addNew||Hr(u.doc,x,null,null,S.extend),te&&!Ee||Y&&V==9?setTimeout(function(){D.wrapper.ownerDocument.body.focus({preventScroll:!0}),D.input.focus()},20):D.input.focus())}),se=function(ve){z=z||Math.abs(m.clientX-ve.clientX)+Math.abs(m.clientY-ve.clientY)>=10},ce=function(){return z=!0};te&&(D.scroller.draggable=!0),u.state.draggingText=K,K.copy=!S.moveOnDrag,Co(D.wrapper.ownerDocument,"mouseup",K),Co(D.wrapper.ownerDocument,"mousemove",se),Co(D.scroller,"dragstart",ce),Co(D.scroller,"drop",K),u.state.delayingBlurEvent=!0,setTimeout(function(){return D.input.focus()},20),D.scroller.dragDrop&&D.scroller.dragDrop()}function Pb(u,m,x){if(x=="char")return new _r(m,m);if(x=="word")return u.findWordAt(m);if(x=="line")return new _r(un(m.line,0),Ss(u.doc,un(m.line+1,0)));var S=x(u,m);return new _r(S.from,S.to)}function Q1(u,m,x,S){Y&&sl(u);var D=u.display,z=u.doc;Cr(m);var K,se,ce=z.sel,ve=ce.ranges;if(S.addNew&&!S.extend?(se=z.sel.contains(x),se>-1?K=ve[se]:K=new _r(x,x)):(K=z.sel.primary(),se=z.sel.primIndex),S.unit=="rectangle")S.addNew||(K=new _r(x,x)),x=cr(u,m,!0,!0),se=-1;else{var be=Pb(u,x,S.unit);S.extend?K=qu(K,be.anchor,be.head,S.extend):K=be}S.addNew?se==-1?(se=ve.length,Ai(z,ai(u,ve.concat([K]),se),{scroll:!1,origin:"*mouse"})):ve.length>1&&ve[se].empty()&&S.unit=="char"&&!S.extend?(Ai(z,ai(u,ve.slice(0,se).concat(ve.slice(se+1)),0),{scroll:!1,origin:"*mouse"}),ce=z.sel):Ui(z,se,K,Ws):(se=0,Ai(z,new ra([K],0),Ws),ce=z.sel);var nt=x;function Ot(lo){if(rs(nt,lo)!=0)if(nt=lo,S.unit=="rectangle"){for(var qn=[],xs=u.options.tabSize,Ps=hi(Ho(z,x.line).text,x.ch,xs),ws=hi(Ho(z,lo.line).text,lo.ch,xs),_a=Math.min(Ps,ws),$l=Math.max(Ps,ws),Wi=Math.min(x.line,lo.line),hu=Math.min(u.lastLine(),Math.max(x.line,lo.line));Wi<=hu;Wi++){var Ta=Ho(z,Wi).text,El=vt(Ta,_a,xs);_a==$l?qn.push(new _r(un(Wi,El),un(Wi,El))):Ta.length>El&&qn.push(new _r(un(Wi,El),un(Wi,vt(Ta,$l,xs))))}qn.length||qn.push(new _r(x,x)),Ai(z,ai(u,ce.ranges.slice(0,se).concat(qn),se),{origin:"*mouse",scroll:!1}),u.scrollIntoView(lo)}else{var wt=K,ji=Pb(u,lo,S.unit),al=wt.anchor,hr;rs(ji.anchor,al)>0?(hr=ji.head,al=Da(wt.from(),ji.anchor)):(hr=ji.anchor,al=au(wt.to(),ji.head));var Mi=ce.ranges.slice(0);Mi[se]=xa(u,new _r(Ss(z,al),hr)),Ai(z,ai(u,Mi,se),Ws)}}var bt=D.wrapper.getBoundingClientRect(),sn=0;function An(lo){var qn=++sn,xs=cr(u,lo,!0,S.unit=="rectangle");if(xs)if(rs(xs,nt)!=0){u.curOp.focus=Eo(Oo(u)),Ot(xs);var Ps=ud(D,z);(xs.line>=Ps.to||xs.line<Ps.from)&&setTimeout(vo(u,function(){sn==qn&&An(lo)}),150)}else{var ws=lo.clientY<bt.top?-20:lo.clientY>bt.bottom?20:0;ws&&setTimeout(vo(u,function(){sn==qn&&(D.scroller.scrollTop+=ws,An(lo))}),50)}}function mo(lo){u.state.selectingText=!1,sn=1/0,lo&&(Cr(lo),D.input.focus()),Mn(D.wrapper.ownerDocument,"mousemove",xo),Mn(D.wrapper.ownerDocument,"mouseup",Go),z.history.lastSelOrigin=null}var xo=vo(u,function(lo){lo.buttons===0||!Ks(lo)?mo(lo):An(lo)}),Go=vo(u,mo);u.state.selectingText=Go,Co(D.wrapper.ownerDocument,"mousemove",xo),Co(D.wrapper.ownerDocument,"mouseup",Go)}function xa(u,m){var x=m.anchor,S=m.head,D=Ho(u.doc,x.line);if(rs(x,S)==0&&x.sticky==S.sticky)return m;var z=Uo(D);if(!z)return m;var K=Gn(z,x.ch,x.sticky),se=z[K];if(se.from!=x.ch&&se.to!=x.ch)return m;var ce=K+(se.from==x.ch==(se.level!=1)?0:1);if(ce==0||ce==z.length)return m;var ve;if(S.line!=x.line)ve=(S.line-x.line)*(u.doc.direction=="ltr"?1:-1)>0;else{var be=Gn(z,S.ch,S.sticky),nt=be-K||(S.ch-x.ch)*(se.level==1?-1:1);be==ce-1||be==ce?ve=nt<0:ve=nt>0}var Ot=z[ce+(ve?-1:0)],bt=ve==(Ot.level==1),sn=bt?Ot.from:Ot.to,An=bt?"after":"before";return x.ch==sn&&x.sticky==An?m:new _r(new un(x.line,sn,An),S)}function Us(u,m,x,S){var D,z;if(m.touches)D=m.touches[0].clientX,z=m.touches[0].clientY;else try{D=m.clientX,z=m.clientY}catch{return!1}if(D>=Math.floor(u.display.gutters.getBoundingClientRect().right))return!1;S&&Cr(m);var K=u.display,se=K.lineDiv.getBoundingClientRect();if(z>se.bottom||!pr(u,x))return bl(m);z-=se.top-K.viewOffset;for(var ce=0;ce<u.display.gutterSpecs.length;++ce){var ve=K.gutters.childNodes[ce];if(ve&&ve.getBoundingClientRect().right>=D){var be=gi(u.doc,z),nt=u.display.gutterSpecs[ce];return go(u,x,u,be,nt.className,m),bl(m)}}}function Ah(u,m){return Us(u,m,"gutterClick",!0)}function ea(u,m){ei(u.display,m)||e0(u,m)||Mo(u,m,"contextmenu")||ln||u.display.input.onContextMenu(m)}function e0(u,m){return pr(u,"gutterContextMenu")?Us(u,m,"gutterContextMenu",!1):!1}function md(u){u.display.wrapper.className=u.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+u.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ba(u)}var Bl={toString:function(){return"CodeMirror.Init"}},Bi={},Sp={};function $f(u){var m=u.optionHandlers;function x(S,D,z,K){u.defaults[S]=D,z&&(m[S]=K?function(se,ce,ve){ve!=Bl&&z(se,ce,ve)}:z)}u.defineOption=x,u.Init=Bl,x("value","",function(S,D){return S.setValue(D)},!0),x("mode",null,function(S,D){S.doc.modeOption=D,Tu(S)},!0),x("indentUnit",2,Tu,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(S){gp(S),Ba(S),Yc(S)},!0),x("lineSeparator",null,function(S,D){if(S.doc.lineSep=D,!!D){var z=[],K=S.doc.first;S.doc.iter(function(ce){for(var ve=0;;){var be=ce.text.indexOf(D,ve);if(be==-1)break;ve=be+D.length,z.push(un(K,be))}K++});for(var se=z.length-1;se>=0;se--)B(S.doc,D,z[se],un(z[se].line,z[se].ch+D.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(S,D,z){S.state.specialChars=new RegExp(D.source+(D.test("	")?"":"|	"),"g"),z!=Bl&&S.refresh()}),x("specialCharPlaceholder",Nn,function(S){return S.refresh()},!0),x("electricChars",!0),x("inputStyle",dt?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(S,D){return S.getInputField().spellcheck=D},!0),x("autocorrect",!1,function(S,D){return S.getInputField().autocorrect=D},!0),x("autocapitalize",!1,function(S,D){return S.getInputField().autocapitalize=D},!0),x("rtlMoveVisually",!P),x("wholeLineUpdateBefore",!0),x("theme","default",function(S){md(S),rl(S)},!0),x("keyMap","default",function(S,D,z){var K=Xu(D),se=z!=Bl&&Xu(z);se&&se.detach&&se.detach(S,K),K.attach&&K.attach(S,se||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,Ib,!0),x("gutters",[],function(S,D){S.display.gutterSpecs=Bd(D,S.options.lineNumbers),rl(S)},!0),x("fixedGutter",!0,function(S,D){S.display.gutters.style.left=D?ma(S.display)+"px":"0",S.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(S){return Pd(S)},!0),x("scrollbarStyle","native",function(S){dd(S),Pd(S),S.display.scrollbars.setScrollTop(S.doc.scrollTop),S.display.scrollbars.setScrollLeft(S.doc.scrollLeft)},!0),x("lineNumbers",!1,function(S,D){S.display.gutterSpecs=Bd(S.options.gutters,D),rl(S)},!0),x("firstLineNumber",1,rl,!0),x("lineNumberFormatter",function(S){return S},rl,!0),x("showCursorWhenSelecting",!1,Pl,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(S,D){D=="nocursor"&&(wc(S),S.display.input.blur()),S.display.input.readOnlyChanged(D)}),x("screenReaderLabel",null,function(S,D){D=D===""?null:D,S.display.input.screenReaderLabelChanged(D)}),x("disableInput",!1,function(S,D){D||S.display.input.reset()},!0),x("dragDrop",!0,t0),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,Pl,!0),x("singleCursorHeightPerLine",!0,Pl,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,gp,!0),x("addModeClass",!1,gp,!0),x("pollInterval",100),x("undoDepth",200,function(S,D){return S.doc.history.undoDepth=D}),x("historyEventDelay",1250),x("viewportMargin",10,function(S){return S.refresh()},!0),x("maxHighlightLength",1e4,gp,!0),x("moveInputWithCursor",!0,function(S,D){D||S.display.input.resetPosition()}),x("tabindex",null,function(S,D){return S.display.input.getField().tabIndex=D||""}),x("autofocus",null),x("direction","ltr",function(S,D){return S.doc.setDirection(D)},!0),x("phrases",null)}function t0(u,m,x){var S=x&&x!=Bl;if(!m!=!S){var D=u.display.dragFunctions,z=m?Co:Mn;z(u.display.scroller,"dragstart",D.start),z(u.display.scroller,"dragenter",D.enter),z(u.display.scroller,"dragover",D.over),z(u.display.scroller,"dragleave",D.leave),z(u.display.scroller,"drop",D.drop)}}function Ib(u){u.options.lineWrapping?(eo(u.display.wrapper,"CodeMirror-wrap"),u.display.sizer.style.minWidth="",u.display.sizerWidth=null):(Fe(u.display.wrapper,"CodeMirror-wrap"),ne(u)),Ji(u),Yc(u),Ba(u),setTimeout(function(){return Pd(u)},100)}function Oi(u,m){var x=this;if(!(this instanceof Oi))return new Oi(u,m);this.options=m=m?le(m):{},le(Bi,m,!1);var S=m.value;typeof S=="string"?S=new lc(S,m.mode,null,m.lineSeparator,m.direction):m.mode&&(S.modeOption=m.mode),this.doc=S;var D=new Oi.inputStyles[m.inputStyle](this),z=this.display=new af(u,S,D,m);z.wrapper.CodeMirror=this,md(this),m.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),dd(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new fs,keySeq:null,specialChars:null},m.autofocus&&!dt&&z.input.focus(),Y&&V<11&&setTimeout(function(){return x.display.input.reset(!0)},20),n0(this),yi(),sf(this),this.curOp.forceUpdate=!0,Sh(this,S),m.autofocus&&!dt||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&zi(x)},20):wc(this);for(var K in Sp)Sp.hasOwnProperty(K)&&Sp[K](this,m[K],Bl);Fd(this),m.finishInit&&m.finishInit(this);for(var se=0;se<vg.length;++se)vg[se](this);Va(this),te&&m.lineWrapping&&getComputedStyle(z.lineDiv).textRendering=="optimizelegibility"&&(z.lineDiv.style.textRendering="auto")}Oi.defaults=Bi,Oi.optionHandlers=Sp;function n0(u){var m=u.display;Co(m.scroller,"mousedown",vo(u,X1)),Y&&V<11?Co(m.scroller,"dblclick",vo(u,function(ce){if(!Mo(u,ce)){var ve=cr(u,ce);if(!(!ve||Ah(u,ce)||ei(u.display,ce))){Cr(ce);var be=u.findWordAt(ve);Hr(u.doc,be.anchor,be.head)}}})):Co(m.scroller,"dblclick",function(ce){return Mo(u,ce)||Cr(ce)}),Co(m.scroller,"contextmenu",function(ce){return ea(u,ce)}),Co(m.input.getField(),"contextmenu",function(ce){m.scroller.contains(ce.target)||ea(u,ce)});var x,S={end:0};function D(){m.activeTouch&&(x=setTimeout(function(){return m.activeTouch=null},1e3),S=m.activeTouch,S.end=+new Date)}function z(ce){if(ce.touches.length!=1)return!1;var ve=ce.touches[0];return ve.radiusX<=1&&ve.radiusY<=1}function K(ce,ve){if(ve.left==null)return!0;var be=ve.left-ce.left,nt=ve.top-ce.top;return be*be+nt*nt>400}Co(m.scroller,"touchstart",function(ce){if(!Mo(u,ce)&&!z(ce)&&!Ah(u,ce)){m.input.ensurePolled(),clearTimeout(x);var ve=+new Date;m.activeTouch={start:ve,moved:!1,prev:ve-S.end<=300?S:null},ce.touches.length==1&&(m.activeTouch.left=ce.touches[0].pageX,m.activeTouch.top=ce.touches[0].pageY)}}),Co(m.scroller,"touchmove",function(){m.activeTouch&&(m.activeTouch.moved=!0)}),Co(m.scroller,"touchend",function(ce){var ve=m.activeTouch;if(ve&&!ei(m,ce)&&ve.left!=null&&!ve.moved&&new Date-ve.start<300){var be=u.coordsChar(m.activeTouch,"page"),nt;!ve.prev||K(ve,ve.prev)?nt=new _r(be,be):!ve.prev.prev||K(ve,ve.prev.prev)?nt=u.findWordAt(be):nt=new _r(un(be.line,0),Ss(u.doc,un(be.line+1,0))),u.setSelection(nt.anchor,nt.head),u.focus(),Cr(ce)}D()}),Co(m.scroller,"touchcancel",D),Co(m.scroller,"scroll",function(){m.scroller.clientHeight&&(Ya(u,m.scroller.scrollTop),cu(u,m.scroller.scrollLeft,!0),go(u,"scroll",u))}),Co(m.scroller,"mousewheel",function(ce){return wh(u,ce)}),Co(m.scroller,"DOMMouseScroll",function(ce){return wh(u,ce)}),Co(m.wrapper,"scroll",function(){return m.wrapper.scrollTop=m.wrapper.scrollLeft=0}),m.dragFunctions={enter:function(ce){Mo(u,ce)||ba(ce)},over:function(ce){Mo(u,ce)||(mg(u,ce),ba(ce))},start:function(ce){return hg(u,ce)},drop:vo(u,ym),leave:function(ce){Mo(u,ce)||Nb(u)}};var se=m.input.getField();Co(se,"keyup",function(ce){return Fi.call(u,ce)}),Co(se,"keydown",vo(u,Lb)),Co(se,"keypress",vo(u,yp)),Co(se,"focus",function(ce){return zi(u,ce)}),Co(se,"blur",function(ce){return wc(u,ce)})}var vg=[];Oi.defineInitHook=function(u){return vg.push(u)};function xp(u,m,x,S){var D=u.doc,z;x==null&&(x="add"),x=="smart"&&(D.mode.indent?z=ut(u,m).state:x="prev");var K=u.options.tabSize,se=Ho(D,m),ce=hi(se.text,null,K);se.stateAfter&&(se.stateAfter=null);var ve=se.text.match(/^\s*/)[0],be;if(!S&&!/\S/.test(se.text))be=0,x="not";else if(x=="smart"&&(be=D.mode.indent(z,se.text.slice(ve.length),se.text),be==Vr||be>150)){if(!S)return;x="prev"}x=="prev"?m>D.first?be=hi(Ho(D,m-1).text,null,K):be=0:x=="add"?be=ce+u.options.indentUnit:x=="subtract"?be=ce-u.options.indentUnit:typeof x=="number"&&(be=ce+x),be=Math.max(0,be);var nt="",Ot=0;if(u.options.indentWithTabs)for(var bt=Math.floor(be/K);bt;--bt)Ot+=K,nt+="	";if(Ot<be&&(nt+=Ns(be-Ot)),nt!=ve)return B(D,nt,un(m,0),un(m,ve.length),"+input"),se.stateAfter=null,!0;for(var sn=0;sn<D.sel.ranges.length;sn++){var An=D.sel.ranges[sn];if(An.head.line==m&&An.head.ch<ve.length){var mo=un(m,ve.length);Ui(D,sn,new _r(mo,mo));break}}}var Hd=null;function Fb(u){Hd=u}function Cv(u,m,x,S,D){var z=u.doc;u.display.shift=!1,S||(S=z.sel);var K=+new Date-200,se=D=="paste"||u.state.pasteIncoming>K,ce=io(m),ve=null;if(se&&S.ranges.length>1)if(Hd&&Hd.text.join(`
`)==m){if(S.ranges.length%Hd.text.length==0){ve=[];for(var be=0;be<Hd.text.length;be++)ve.push(z.splitLines(Hd.text[be]))}}else ce.length==S.ranges.length&&u.options.pasteLinesPerSelection&&(ve=Bs(ce,function(xo){return[xo]}));for(var nt=u.curOp.updateInput,Ot=S.ranges.length-1;Ot>=0;Ot--){var bt=S.ranges[Ot],sn=bt.from(),An=bt.to();bt.empty()&&(x&&x>0?sn=un(sn.line,sn.ch-x):u.state.overwrite&&!se?An=un(An.line,Math.min(Ho(z,An.line).text.length,An.ch+At(ce).length)):se&&Hd&&Hd.lineWise&&Hd.text.join(`
`)==ce.join(`
`)&&(sn=An=un(sn.line,0)));var mo={from:sn,to:An,text:ve?ve[Ot%ve.length]:ce,origin:D||(se?"paste":u.state.cutIncoming>K?"cut":"+input")};uf(u.doc,mo),Ir(u,"inputRead",u,mo)}m&&!se&&Sv(u,m),Wu(u),u.curOp.updateInput<2&&(u.curOp.updateInput=nt),u.curOp.typing=!0,u.state.pasteIncoming=u.state.cutIncoming=-1}function o0(u,m){var x=u.clipboardData&&u.clipboardData.getData("Text");if(x)return u.preventDefault(),!m.isReadOnly()&&!m.options.disableInput&&m.hasFocus()&&Na(m,function(){return Cv(m,x,0,null,"paste")}),!0}function Sv(u,m){if(!(!u.options.electricChars||!u.options.smartIndent))for(var x=u.doc.sel,S=x.ranges.length-1;S>=0;S--){var D=x.ranges[S];if(!(D.head.ch>100||S&&x.ranges[S-1].head.line==D.head.line)){var z=u.getModeAt(D.head),K=!1;if(z.electricChars){for(var se=0;se<z.electricChars.length;se++)if(m.indexOf(z.electricChars.charAt(se))>-1){K=xp(u,D.head.line,"smart");break}}else z.electricInput&&z.electricInput.test(Ho(u.doc,D.head.line).text.slice(0,D.head.ch))&&(K=xp(u,D.head.line,"smart"));K&&Ir(u,"electricInput",u,D.head.line)}}}function pw(u){for(var m=[],x=[],S=0;S<u.doc.sel.ranges.length;S++){var D=u.doc.sel.ranges[S].head.line,z={anchor:un(D,0),head:un(D+1,0)};x.push(z),m.push(u.getRange(z.anchor,z.head))}return{text:m,ranges:x}}function s0(u,m,x,S){u.setAttribute("autocorrect",x?"on":"off"),u.setAttribute("autocapitalize",S?"on":"off"),u.setAttribute("spellcheck",!!m)}function Bb(){var u=Ze("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),m=Ze("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return te?u.style.width="1000px":u.setAttribute("wrap","off"),Je&&(u.style.border="1px solid black"),m}function r0(u){var m=u.optionHandlers,x=u.helpers={};u.prototype={constructor:u,focus:function(){Yt(this).focus(),this.display.input.focus()},setOption:function(S,D){var z=this.options,K=z[S];z[S]==D&&S!="mode"||(z[S]=D,m.hasOwnProperty(S)&&vo(this,m[S])(this,D,K),go(this,"optionChange",this,S))},getOption:function(S){return this.options[S]},getDoc:function(){return this.doc},addKeyMap:function(S,D){this.state.keyMaps[D?"push":"unshift"](Xu(S))},removeKeyMap:function(S){for(var D=this.state.keyMaps,z=0;z<D.length;++z)if(D[z]==S||D[z].name==S)return D.splice(z,1),!0},addOverlay:xr(function(S,D){var z=S.token?S:u.getMode(this.options,S);if(z.startState)throw new Error("Overlays may not be stateful.");rr(this.state.overlays,{mode:z,modeSpec:S,opaque:D&&D.opaque,priority:D&&D.priority||0},function(K){return K.priority}),this.state.modeGen++,Yc(this)}),removeOverlay:xr(function(S){for(var D=this.state.overlays,z=0;z<D.length;++z){var K=D[z].modeSpec;if(K==S||typeof S=="string"&&K.name==S){D.splice(z,1),this.state.modeGen++,Yc(this);return}}}),indentLine:xr(function(S,D,z){typeof D!="string"&&typeof D!="number"&&(D==null?D=this.options.smartIndent?"smart":"prev":D=D?"add":"subtract"),ya(this.doc,S)&&xp(this,S,D,z)}),indentSelection:xr(function(S){for(var D=this.doc.sel.ranges,z=-1,K=0;K<D.length;K++){var se=D[K];if(se.empty())se.head.line>z&&(xp(this,se.head.line,S,!0),z=se.head.line,K==this.doc.sel.primIndex&&Wu(this));else{var ce=se.from(),ve=se.to(),be=Math.max(z,ce.line);z=Math.min(this.lastLine(),ve.line-(ve.ch?0:1))+1;for(var nt=be;nt<z;++nt)xp(this,nt,S);var Ot=this.doc.sel.ranges;ce.ch==0&&D.length==Ot.length&&Ot[K].from().ch>0&&Ui(this.doc,K,new _r(ce,Ot[K].to()),fo)}}}),getTokenAt:function(S,D){return Yn(this,S,D)},getLineTokens:function(S,D){return Yn(this,un(S),D,!0)},getTokenTypeAt:function(S){S=Ss(this.doc,S);var D=ke(this,Ho(this.doc,S.line)),z=0,K=(D.length-1)/2,se=S.ch,ce;if(se==0)ce=D[2];else for(;;){var ve=z+K>>1;if((ve?D[ve*2-1]:0)>=se)K=ve;else if(D[ve*2+1]<se)z=ve+1;else{ce=D[ve*2+2];break}}var be=ce?ce.indexOf("overlay "):-1;return be<0?ce:be==0?null:ce.slice(0,be-1)},getModeAt:function(S){var D=this.doc.mode;return D.innerMode?u.innerMode(D,this.getTokenAt(S).state).mode:D},getHelper:function(S,D){return this.getHelpers(S,D)[0]},getHelpers:function(S,D){var z=[];if(!x.hasOwnProperty(D))return z;var K=x[D],se=this.getModeAt(S);if(typeof se[D]=="string")K[se[D]]&&z.push(K[se[D]]);else if(se[D])for(var ce=0;ce<se[D].length;ce++){var ve=K[se[D][ce]];ve&&z.push(ve)}else se.helperType&&K[se.helperType]?z.push(K[se.helperType]):K[se.name]&&z.push(K[se.name]);for(var be=0;be<K._global.length;be++){var nt=K._global[be];nt.pred(se,this)&&ns(z,nt.val)==-1&&z.push(nt.val)}return z},getStateAfter:function(S,D){var z=this.doc;return S=yl(z,S??z.first+z.size-1),ut(this,S+1,D).state},cursorCoords:function(S,D){var z,K=this.doc.sel.primary();return S==null?z=K.head:typeof S=="object"?z=Ss(this.doc,S):z=S?K.from():K.to(),So(this,z,D||"page")},charCoords:function(S,D){return ko(this,Ss(this.doc,S),D||"page")},coordsChar:function(S,D){return S=vn(this,S,D||"page"),Zs(this,S.left,S.top)},lineAtHeight:function(S,D){return S=vn(this,{top:S,left:0},D||"page").top,gi(this.doc,S+this.display.viewOffset)},heightAtLine:function(S,D,z){var K=!1,se;if(typeof S=="number"){var ce=this.doc.first+this.doc.size-1;S<this.doc.first?S=this.doc.first:S>ce&&(S=ce,K=!0),se=Ho(this.doc,S)}else se=S;return tn(this,se,{top:0,left:0},D||"page",z||K).top+(K?this.doc.height-F(se):0)},defaultTextHeight:function(){return Qo(this.display)},defaultCharWidth:function(){return Ha(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(S,D,z,K,se){var ce=this.display;S=So(this,Ss(this.doc,S));var ve=S.bottom,be=S.left;if(D.style.position="absolute",D.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(D),ce.sizer.appendChild(D),K=="over")ve=S.top;else if(K=="above"||K=="near"){var nt=Math.max(ce.wrapper.clientHeight,this.doc.height),Ot=Math.max(ce.sizer.clientWidth,ce.lineSpace.clientWidth);(K=="above"||S.bottom+D.offsetHeight>nt)&&S.top>D.offsetHeight?ve=S.top-D.offsetHeight:S.bottom+D.offsetHeight<=nt&&(ve=S.bottom),be+D.offsetWidth>Ot&&(be=Ot-D.offsetWidth)}D.style.top=ve+"px",D.style.left=D.style.right="",se=="right"?(be=ce.sizer.clientWidth-D.offsetWidth,D.style.right="0px"):(se=="left"?be=0:se=="middle"&&(be=(ce.sizer.clientWidth-D.offsetWidth)/2),D.style.left=be+"px"),z&&xl(this,{left:be,top:ve,right:be+D.offsetWidth,bottom:ve+D.offsetHeight})},triggerOnKeyDown:xr(Lb),triggerOnKeyPress:xr(yp),triggerOnKeyUp:Fi,triggerOnMouseDown:xr(X1),execCommand:function(S){if(Sm.hasOwnProperty(S))return Sm[S].call(null,this)},triggerElectric:xr(function(S){Sv(this,S)}),findPosH:function(S,D,z,K){var se=1;D<0&&(se=-1,D=-D);for(var ce=Ss(this.doc,S),ve=0;ve<D&&(ce=Au(this.doc,ce,se,z,K),!ce.hitSide);++ve);return ce},moveH:xr(function(S,D){var z=this;this.extendSelectionsBy(function(K){return z.display.shift||z.doc.extend||K.empty()?Au(z.doc,K.head,S,D,z.options.rtlMoveVisually):S<0?K.from():K.to()},In)}),deleteH:xr(function(S,D){var z=this.doc.sel,K=this.doc;z.somethingSelected()?K.replaceSelection("",null,"+delete"):hf(this,function(se){var ce=Au(K,se.head,S,D,!1);return S<0?{from:ce,to:se.head}:{from:se.head,to:ce}})}),findPosV:function(S,D,z,K){var se=1,ce=K;D<0&&(se=-1,D=-D);for(var ve=Ss(this.doc,S),be=0;be<D;++be){var nt=So(this,ve,"div");if(ce==null?ce=nt.left:nt.left=ce,ve=Pc(this,nt,se,z),ve.hitSide)break}return ve},moveV:xr(function(S,D){var z=this,K=this.doc,se=[],ce=!this.display.shift&&!K.extend&&K.sel.somethingSelected();if(K.extendSelectionsBy(function(be){if(ce)return S<0?be.from():be.to();var nt=So(z,be.head,"div");be.goalColumn!=null&&(nt.left=be.goalColumn),se.push(nt.left);var Ot=Pc(z,nt,S,D);return D=="page"&&be==K.sel.primary()&&rg(z,ko(z,Ot,"div").top-nt.top),Ot},In),se.length)for(var ve=0;ve<K.sel.ranges.length;ve++)K.sel.ranges[ve].goalColumn=se[ve]}),findWordAt:function(S){var D=this.doc,z=Ho(D,S.line).text,K=S.ch,se=S.ch;if(z){var ce=this.getHelper(S,"wordChars");(S.sticky=="before"||se==z.length)&&K?--K:++se;for(var ve=z.charAt(K),be=J(ve,ce)?function(nt){return J(nt,ce)}:/\s/.test(ve)?function(nt){return/\s/.test(nt)}:function(nt){return!/\s/.test(nt)&&!J(nt)};K>0&&be(z.charAt(K-1));)--K;for(;se<z.length&&be(z.charAt(se));)++se}return new _r(un(S.line,K),un(S.line,se))},toggleOverwrite:function(S){S!=null&&S==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?eo(this.display.cursorDiv,"CodeMirror-overwrite"):Fe(this.display.cursorDiv,"CodeMirror-overwrite"),go(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Eo(Oo(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:xr(function(S,D){Io(this,S,D)}),getScrollInfo:function(){var S=this.display.scroller;return{left:S.scrollLeft,top:S.scrollTop,height:S.scrollHeight-lu(this)-this.display.barHeight,width:S.scrollWidth-lu(this)-this.display.barWidth,clientHeight:vh(this),clientWidth:Of(this)}},scrollIntoView:xr(function(S,D){S==null?(S={from:this.doc.sel.primary().head,to:null},D==null&&(D=this.options.cursorScrollMargin)):typeof S=="number"?S={from:un(S,0),to:null}:S.from==null&&(S={from:S,to:null}),S.to||(S.to=S.from),S.margin=D||0,S.from.line!=null?dv(this,S):_l(this,S.from,S.to,S.margin)}),setSize:xr(function(S,D){var z=this,K=function(ce){return typeof ce=="number"||/^\d+$/.test(String(ce))?ce+"px":ce};S!=null&&(this.display.wrapper.style.width=K(S)),D!=null&&(this.display.wrapper.style.height=K(D)),this.options.lineWrapping&&cd(this);var se=this.display.viewFrom;this.doc.iter(se,this.display.viewTo,function(ce){if(ce.widgets){for(var ve=0;ve<ce.widgets.length;ve++)if(ce.widgets[ve].noHScroll){Qi(z,se,"widget");break}}++se}),this.curOp.forceUpdate=!0,go(this,"refresh",this)}),operation:function(S){return Na(this,S)},startOperation:function(){return sf(this)},endOperation:function(){return Va(this)},refresh:xr(function(){var S=this.display.cachedTextHeight;Yc(this),this.curOp.forceUpdate=!0,Ba(this),Io(this,this.doc.scrollLeft,this.doc.scrollTop),Ra(this.display),(S==null||Math.abs(S-Qo(this.display))>.5||this.options.lineWrapping)&&Ji(this),go(this,"refresh",this)}),swapDoc:xr(function(S){var D=this.doc;return D.cm=null,this.state.selectingText&&this.state.selectingText(),Sh(this,S),Ba(this),this.display.input.reset(),Io(this,S.scrollLeft,S.scrollTop),this.curOp.forceScroll=!0,Ir(this,"swapDoc",this,D),D}),phrase:function(S){var D=this.options.phrases;return D&&Object.prototype.hasOwnProperty.call(D,S)?D[S]:S},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pn(u),u.registerHelper=function(S,D,z){x.hasOwnProperty(S)||(x[S]=u[S]={_global:[]}),x[S][D]=z},u.registerGlobalHelper=function(S,D,z,K){u.registerHelper(S,D,K),x[S]._global.push({pred:z,val:K})}}function Au(u,m,x,S,D){var z=m,K=x,se=Ho(u,m.line),ce=D&&u.direction=="rtl"?-x:x;function ve(){var Go=m.line+ce;return Go<u.first||Go>=u.first+u.size?!1:(m=new un(Go,m.ch,m.sticky),se=Ho(u,Go))}function be(Go){var lo;if(S=="codepoint"){var qn=se.text.charCodeAt(m.ch+(x>0?0:-1));if(isNaN(qn))lo=null;else{var xs=x>0?qn>=55296&&qn<56320:qn>=56320&&qn<57343;lo=new un(m.line,Math.max(0,Math.min(se.text.length,m.ch+x*(xs?2:1))),-x)}}else D?lo=Cm(u.cm,se,m,x):lo=cc(se,m,x);if(lo==null)if(!Go&&ve())m=bv(D,u.cm,se,m.line,ce);else return!1;else m=lo;return!0}if(S=="char"||S=="codepoint")be();else if(S=="column")be(!0);else if(S=="word"||S=="group")for(var nt=null,Ot=S=="group",bt=u.cm&&u.cm.getHelper(m,"wordChars"),sn=!0;!(x<0&&!be(!sn));sn=!1){var An=se.text.charAt(m.ch)||`
`,mo=J(An,bt)?"w":Ot&&An==`
`?"n":!Ot||/\s/.test(An)?null:"p";if(Ot&&!sn&&!mo&&(mo="s"),nt&&nt!=mo){x<0&&(x=1,be(),m.sticky="after");break}if(mo&&(nt=mo),x>0&&!be(!sn))break}var xo=ac(u,m,z,K,!0);return oa(z,xo)&&(xo.hitSide=!0),xo}function Pc(u,m,x,S){var D=u.doc,z=m.left,K;if(S=="page"){var se=Math.min(u.display.wrapper.clientHeight,Yt(u).innerHeight||D(u).documentElement.clientHeight),ce=Math.max(se-.5*Qo(u.display),3);K=(x>0?m.bottom:m.top)+x*ce}else S=="line"&&(K=x>0?m.bottom+3:m.top-3);for(var ve;ve=Zs(u,z,K),!!ve.outside;){if(x<0?K<=0:K>=D.height){ve.hitSide=!0;break}K+=x*5}return ve}var Wr=function(u){this.cm=u,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new fs,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Wr.prototype.init=function(u){var m=this,x=this,S=x.cm,D=x.div=u.lineDiv;D.contentEditable=!0,s0(D,S.options.spellcheck,S.options.autocorrect,S.options.autocapitalize);function z(se){for(var ce=se.target;ce;ce=ce.parentNode){if(ce==D)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ce.className))break}return!1}Co(D,"paste",function(se){!z(se)||Mo(S,se)||o0(se,S)||V<=11&&setTimeout(vo(S,function(){return m.updateFromDOM()}),20)}),Co(D,"compositionstart",function(se){m.composing={data:se.data,done:!1}}),Co(D,"compositionupdate",function(se){m.composing||(m.composing={data:se.data,done:!1})}),Co(D,"compositionend",function(se){m.composing&&(se.data!=m.composing.data&&m.readFromDOMSoon(),m.composing.done=!0)}),Co(D,"touchstart",function(){return x.forceCompositionEnd()}),Co(D,"input",function(){m.composing||m.readFromDOMSoon()});function K(se){if(!(!z(se)||Mo(S,se))){if(S.somethingSelected())Fb({lineWise:!1,text:S.getSelections()}),se.type=="cut"&&S.replaceSelection("",null,"cut");else if(S.options.lineWiseCopyCut){var ce=pw(S);Fb({lineWise:!0,text:ce.text}),se.type=="cut"&&S.operation(function(){S.setSelections(ce.ranges,0,fo),S.replaceSelection("",null,"cut")})}else return;if(se.clipboardData){se.clipboardData.clearData();var ve=Hd.text.join(`
`);if(se.clipboardData.setData("Text",ve),se.clipboardData.getData("Text")==ve){se.preventDefault();return}}var be=Bb(),nt=be.firstChild;s0(nt),S.display.lineSpace.insertBefore(be,S.display.lineSpace.firstChild),nt.value=Hd.text.join(`
`);var Ot=Eo(Ds(D));us(nt),setTimeout(function(){S.display.lineSpace.removeChild(be),Ot.focus(),Ot==D&&x.showPrimarySelection()},50)}}Co(D,"copy",K),Co(D,"cut",K)},Wr.prototype.screenReaderLabelChanged=function(u){u?this.div.setAttribute("aria-label",u):this.div.removeAttribute("aria-label")},Wr.prototype.prepareSelection=function(){var u=Kc(this.cm,!1);return u.focus=Eo(Ds(this.div))==this.div,u},Wr.prototype.showSelection=function(u,m){!u||!this.cm.display.view.length||((u.focus||m)&&this.showPrimarySelection(),this.showMultipleSelections(u))},Wr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Wr.prototype.showPrimarySelection=function(){var u=this.getSelection(),m=this.cm,x=m.doc.sel.primary(),S=x.from(),D=x.to();if(m.display.viewTo==m.display.viewFrom||S.line>=m.display.viewTo||D.line<m.display.viewFrom){u.removeAllRanges();return}var z=$b(m,u.anchorNode,u.anchorOffset),K=$b(m,u.focusNode,u.focusOffset);if(!(z&&!z.bad&&K&&!K.bad&&rs(Da(z,K),S)==0&&rs(au(z,K),D)==0)){var se=m.display.view,ce=S.line>=m.display.viewFrom&&Yo(m,S)||{node:se[0].measure.map[2],offset:0},ve=D.line<m.display.viewTo&&Yo(m,D);if(!ve){var be=se[se.length-1].measure,nt=be.maps?be.maps[be.maps.length-1]:be.map;ve={node:nt[nt.length-1],offset:nt[nt.length-2]-nt[nt.length-3]}}if(!ce||!ve){u.removeAllRanges();return}var Ot=u.rangeCount&&u.getRangeAt(0),bt;try{bt=en(ce.node,ce.offset,ve.offset,ve.node)}catch{}bt&&(!C&&m.state.focused?(u.collapse(ce.node,ce.offset),bt.collapsed||(u.removeAllRanges(),u.addRange(bt))):(u.removeAllRanges(),u.addRange(bt)),Ot&&u.anchorNode==null?u.addRange(Ot):C&&this.startGracePeriod()),this.rememberSelection()}},Wr.prototype.startGracePeriod=function(){var u=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){u.gracePeriod=!1,u.selectionChanged()&&u.cm.operation(function(){return u.cm.curOp.selectionChanged=!0})},20)},Wr.prototype.showMultipleSelections=function(u){wn(this.cm.display.cursorDiv,u.cursors),wn(this.cm.display.selectionDiv,u.selection)},Wr.prototype.rememberSelection=function(){var u=this.getSelection();this.lastAnchorNode=u.anchorNode,this.lastAnchorOffset=u.anchorOffset,this.lastFocusNode=u.focusNode,this.lastFocusOffset=u.focusOffset},Wr.prototype.selectionInEditor=function(){var u=this.getSelection();if(!u.rangeCount)return!1;var m=u.getRangeAt(0).commonAncestorContainer;return xt(this.div,m)},Wr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Eo(Ds(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Wr.prototype.blur=function(){this.div.blur()},Wr.prototype.getField=function(){return this.div},Wr.prototype.supportsTouch=function(){return!0},Wr.prototype.receivedFocus=function(){var u=this,m=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):Na(this.cm,function(){return m.cm.curOp.selectionChanged=!0});function x(){m.cm.state.focused&&(m.pollSelection(),m.polling.set(m.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Wr.prototype.selectionChanged=function(){var u=this.getSelection();return u.anchorNode!=this.lastAnchorNode||u.anchorOffset!=this.lastAnchorOffset||u.focusNode!=this.lastFocusNode||u.focusOffset!=this.lastFocusOffset},Wr.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var u=this.getSelection(),m=this.cm;if(xe&&ye&&this.cm.display.gutterSpecs.length&&eu(u.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=$b(m,u.anchorNode,u.anchorOffset),S=$b(m,u.focusNode,u.focusOffset);x&&S&&Na(m,function(){Ai(m.doc,Rc(x,S),fo),(x.bad||S.bad)&&(m.curOp.selectionChanged=!0)})}}},Wr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var u=this.cm,m=u.display,x=u.doc.sel.primary(),S=x.from(),D=x.to();if(S.ch==0&&S.line>u.firstLine()&&(S=un(S.line-1,Ho(u.doc,S.line-1).length)),D.ch==Ho(u.doc,D.line).text.length&&D.line<u.lastLine()&&(D=un(D.line+1,0)),S.line<m.viewFrom||D.line>m.viewTo-1)return!1;var z,K,se;S.line==m.viewFrom||(z=bh(u,S.line))==0?(K=Xo(m.view[0].line),se=m.view[0].node):(K=Xo(m.view[z].line),se=m.view[z-1].node.nextSibling);var ce=bh(u,D.line),ve,be;if(ce==m.view.length-1?(ve=m.viewTo-1,be=m.lineDiv.lastChild):(ve=Xo(m.view[ce+1].line)-1,be=m.view[ce+1].node.previousSibling),!se)return!1;for(var nt=u.doc.splitLines(gw(u,se,be,K,ve)),Ot=Ls(u.doc,un(K,0),un(ve,Ho(u.doc,ve).text.length));nt.length>1&&Ot.length>1;)if(At(nt)==At(Ot))nt.pop(),Ot.pop(),ve--;else if(nt[0]==Ot[0])nt.shift(),Ot.shift(),K++;else break;for(var bt=0,sn=0,An=nt[0],mo=Ot[0],xo=Math.min(An.length,mo.length);bt<xo&&An.charCodeAt(bt)==mo.charCodeAt(bt);)++bt;for(var Go=At(nt),lo=At(Ot),qn=Math.min(Go.length-(nt.length==1?bt:0),lo.length-(Ot.length==1?bt:0));sn<qn&&Go.charCodeAt(Go.length-sn-1)==lo.charCodeAt(lo.length-sn-1);)++sn;if(nt.length==1&&Ot.length==1&&K==S.line)for(;bt&&bt>S.ch&&Go.charCodeAt(Go.length-sn-1)==lo.charCodeAt(lo.length-sn-1);)bt--,sn++;nt[nt.length-1]=Go.slice(0,Go.length-sn).replace(/^\u200b+/,""),nt[0]=nt[0].slice(bt).replace(/\u200b+$/,"");var xs=un(K,bt),Ps=un(ve,Ot.length?At(Ot).length-sn:0);if(nt.length>1||nt[0]||rs(xs,Ps))return B(u.doc,nt,xs,Ps,"+input"),!0},Wr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Wr.prototype.reset=function(){this.forceCompositionEnd()},Wr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Wr.prototype.readFromDOMSoon=function(){var u=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(u.readDOMTimeout=null,u.composing)if(u.composing.done)u.composing=null;else return;u.updateFromDOM()},80))},Wr.prototype.updateFromDOM=function(){var u=this;(this.cm.isReadOnly()||!this.pollContent())&&Na(this.cm,function(){return Yc(u.cm)})},Wr.prototype.setUneditable=function(u){u.contentEditable="false"},Wr.prototype.onKeyPress=function(u){u.charCode==0||this.composing||(u.preventDefault(),this.cm.isReadOnly()||vo(this.cm,Cv)(this.cm,String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),0))},Wr.prototype.readOnlyChanged=function(u){this.div.contentEditable=String(u!="nocursor")},Wr.prototype.onContextMenu=function(){},Wr.prototype.resetPosition=function(){},Wr.prototype.needsContentAttribute=!0;function Yo(u,m){var x=dl(u,m.line);if(!x||x.hidden)return null;var S=Ho(u.doc,m.line),D=Hu(x,S,m.line),z=Uo(S,u.doc.direction),K="left";if(z){var se=Gn(z,m.ch);K=se%2?"right":"left"}var ce=cm(D.map,m.ch,K);return ce.offset=ce.collapse=="right"?ce.end:ce.start,ce}function eu(u){for(var m=u;m;m=m.parentNode)if(/CodeMirror-gutter-wrapper/.test(m.className))return!0;return!1}function zd(u,m){return m&&(u.bad=!0),u}function gw(u,m,x,S,D){var z="",K=!1,se=u.doc.lineSeparator(),ce=!1;function ve(bt){return function(sn){return sn.id==bt}}function be(){K&&(z+=se,ce&&(z+=se),K=ce=!1)}function nt(bt){bt&&(be(),z+=bt)}function Ot(bt){if(bt.nodeType==1){var sn=bt.getAttribute("cm-text");if(sn){nt(sn);return}var An=bt.getAttribute("cm-marker"),mo;if(An){var xo=u.findMarks(un(S,0),un(D+1,0),ve(+An));xo.length&&(mo=xo[0].find(0))&&nt(Ls(u.doc,mo.from,mo.to).join(se));return}if(bt.getAttribute("contenteditable")=="false")return;var Go=/^(pre|div|p|li|table|br)$/i.test(bt.nodeName);if(!/^br$/i.test(bt.nodeName)&&bt.textContent.length==0)return;Go&&be();for(var lo=0;lo<bt.childNodes.length;lo++)Ot(bt.childNodes[lo]);/^(pre|p)$/i.test(bt.nodeName)&&(ce=!0),Go&&(K=!0)}else bt.nodeType==3&&nt(bt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ot(m),m!=x;)m=m.nextSibling,ce=!1;return z}function $b(u,m,x){var S;if(m==u.display.lineDiv){if(S=u.display.lineDiv.childNodes[x],!S)return zd(u.clipPos(un(u.display.viewTo-1)),!0);m=null,x=0}else for(S=m;;S=S.parentNode){if(!S||S==u.display.lineDiv)return null;if(S.parentNode&&S.parentNode==u.display.lineDiv)break}for(var D=0;D<u.display.view.length;D++){var z=u.display.view[D];if(z.node==S)return Hb(z,m,x)}}function Hb(u,m,x){var S=u.text.firstChild,D=!1;if(!m||!xt(S,m))return zd(un(Xo(u.line),0),!0);if(m==S&&(D=!0,m=S.childNodes[x],x=0,!m)){var z=u.rest?At(u.rest):u.line;return zd(un(Xo(z),z.text.length),D)}var K=m.nodeType==3?m:null,se=m;for(!K&&m.childNodes.length==1&&m.firstChild.nodeType==3&&(K=m.firstChild,x&&(x=K.nodeValue.length));se.parentNode!=S;)se=se.parentNode;var ce=u.measure,ve=ce.maps;function be(mo,xo,Go){for(var lo=-1;lo<(ve?ve.length:0);lo++)for(var qn=lo<0?ce.map:ve[lo],xs=0;xs<qn.length;xs+=3){var Ps=qn[xs+2];if(Ps==mo||Ps==xo){var ws=Xo(lo<0?u.line:u.rest[lo]),_a=qn[xs]+Go;return(Go<0||Ps!=mo)&&(_a=qn[xs+(Go?1:0)]),un(ws,_a)}}}var nt=be(K,se,x);if(nt)return zd(nt,D);for(var Ot=se.nextSibling,bt=K?K.nodeValue.length-x:0;Ot;Ot=Ot.nextSibling){if(nt=be(Ot,Ot.firstChild,0),nt)return zd(un(nt.line,nt.ch-bt),D);bt+=Ot.textContent.length}for(var sn=se.previousSibling,An=x;sn;sn=sn.previousSibling){if(nt=be(sn,sn.firstChild,-1),nt)return zd(un(nt.line,nt.ch+An),D);An+=sn.textContent.length}}var Ja=function(u){this.cm=u,this.prevInput="",this.pollingFast=!1,this.polling=new fs,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ja.prototype.init=function(u){var m=this,x=this,S=this.cm;this.createField(u);var D=this.textarea;u.wrapper.insertBefore(this.wrapper,u.wrapper.firstChild),Je&&(D.style.width="0px"),Co(D,"input",function(){Y&&V>=9&&m.hasSelection&&(m.hasSelection=null),x.poll()}),Co(D,"paste",function(K){Mo(S,K)||o0(K,S)||(S.state.pasteIncoming=+new Date,x.fastPoll())});function z(K){if(!Mo(S,K)){if(S.somethingSelected())Fb({lineWise:!1,text:S.getSelections()});else if(S.options.lineWiseCopyCut){var se=pw(S);Fb({lineWise:!0,text:se.text}),K.type=="cut"?S.setSelections(se.ranges,null,fo):(x.prevInput="",D.value=se.text.join(`
`),us(D))}else return;K.type=="cut"&&(S.state.cutIncoming=+new Date)}}Co(D,"cut",z),Co(D,"copy",z),Co(u.scroller,"paste",function(K){if(!(ei(u,K)||Mo(S,K))){if(!D.dispatchEvent){S.state.pasteIncoming=+new Date,x.focus();return}var se=new Event("paste");se.clipboardData=K.clipboardData,D.dispatchEvent(se)}}),Co(u.lineSpace,"selectstart",function(K){ei(u,K)||Cr(K)}),Co(D,"compositionstart",function(){var K=S.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:K,range:S.markText(K,S.getCursor("to"),{className:"CodeMirror-composing"})}}),Co(D,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},Ja.prototype.createField=function(u){this.wrapper=Bb(),this.textarea=this.wrapper.firstChild;var m=this.cm.options;s0(this.textarea,m.spellcheck,m.autocorrect,m.autocapitalize)},Ja.prototype.screenReaderLabelChanged=function(u){u?this.textarea.setAttribute("aria-label",u):this.textarea.removeAttribute("aria-label")},Ja.prototype.prepareSelection=function(){var u=this.cm,m=u.display,x=u.doc,S=Kc(u);if(u.options.moveInputWithCursor){var D=So(u,x.sel.primary().head,"div"),z=m.wrapper.getBoundingClientRect(),K=m.lineDiv.getBoundingClientRect();S.teTop=Math.max(0,Math.min(m.wrapper.clientHeight-10,D.top+K.top-z.top)),S.teLeft=Math.max(0,Math.min(m.wrapper.clientWidth-10,D.left+K.left-z.left))}return S},Ja.prototype.showSelection=function(u){var m=this.cm,x=m.display;wn(x.cursorDiv,u.cursors),wn(x.selectionDiv,u.selection),u.teTop!=null&&(this.wrapper.style.top=u.teTop+"px",this.wrapper.style.left=u.teLeft+"px")},Ja.prototype.reset=function(u){if(!(this.contextMenuPending||this.composing&&u)){var m=this.cm;if(this.resetting=!0,m.somethingSelected()){this.prevInput="";var x=m.getSelection();this.textarea.value=x,m.state.focused&&us(this.textarea),Y&&V>=9&&(this.hasSelection=x)}else u||(this.prevInput=this.textarea.value="",Y&&V>=9&&(this.hasSelection=null));this.resetting=!1}},Ja.prototype.getField=function(){return this.textarea},Ja.prototype.supportsTouch=function(){return!1},Ja.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!dt||Eo(Ds(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Ja.prototype.blur=function(){this.textarea.blur()},Ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ja.prototype.receivedFocus=function(){this.slowPoll()},Ja.prototype.slowPoll=function(){var u=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){u.poll(),u.cm.state.focused&&u.slowPoll()})},Ja.prototype.fastPoll=function(){var u=!1,m=this;m.pollingFast=!0;function x(){var S=m.poll();!S&&!u?(u=!0,m.polling.set(60,x)):(m.pollingFast=!1,m.slowPoll())}m.polling.set(20,x)},Ja.prototype.poll=function(){var u=this,m=this.cm,x=this.textarea,S=this.prevInput;if(this.contextMenuPending||this.resetting||!m.state.focused||Ia(x)&&!S&&!this.composing||m.isReadOnly()||m.options.disableInput||m.state.keySeq)return!1;var D=x.value;if(D==S&&!m.somethingSelected())return!1;if(Y&&V>=9&&this.hasSelection===D||Qt&&/[\uf700-\uf7ff]/.test(D))return m.display.input.reset(),!1;if(m.doc.sel==m.display.selForContextMenu){var z=D.charCodeAt(0);if(z==8203&&!S&&(S="â"),z==8666)return this.reset(),this.cm.execCommand("undo")}for(var K=0,se=Math.min(S.length,D.length);K<se&&S.charCodeAt(K)==D.charCodeAt(K);)++K;return Na(m,function(){Cv(m,D.slice(K),S.length-K,null,u.composing?"*compose":null),D.length>1e3||D.indexOf(`
`)>-1?x.value=u.prevInput="":u.prevInput=D,u.composing&&(u.composing.range.clear(),u.composing.range=m.markText(u.composing.start,m.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ja.prototype.onKeyPress=function(){Y&&V>=9&&(this.hasSelection=null),this.fastPoll()},Ja.prototype.onContextMenu=function(u){var m=this,x=m.cm,S=x.display,D=m.textarea;m.contextMenuPending&&m.contextMenuPending();var z=cr(x,u),K=S.scroller.scrollTop;if(!z||Le)return;var se=x.options.resetSelectionOnContextMenu;se&&x.doc.sel.contains(z)==-1&&vo(x,Ai)(x.doc,Rc(z),fo);var ce=D.style.cssText,ve=m.wrapper.style.cssText,be=m.wrapper.offsetParent.getBoundingClientRect();m.wrapper.style.cssText="position: static",D.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(u.clientY-be.top-5)+"px; left: "+(u.clientX-be.left-5)+`px;
      z-index: 1000; background: `+(Y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var nt;te&&(nt=D.ownerDocument.defaultView.scrollY),S.input.focus(),te&&D.ownerDocument.defaultView.scrollTo(null,nt),S.input.reset(),x.somethingSelected()||(D.value=m.prevInput=" "),m.contextMenuPending=bt,S.selForContextMenu=x.doc.sel,clearTimeout(S.detectingSelectAll);function Ot(){if(D.selectionStart!=null){var An=x.somethingSelected(),mo="â"+(An?D.value:"");D.value="â",D.value=mo,m.prevInput=An?"":"â",D.selectionStart=1,D.selectionEnd=mo.length,S.selForContextMenu=x.doc.sel}}function bt(){if(m.contextMenuPending==bt&&(m.contextMenuPending=!1,m.wrapper.style.cssText=ve,D.style.cssText=ce,Y&&V<9&&S.scrollbars.setScrollTop(S.scroller.scrollTop=K),D.selectionStart!=null)){(!Y||Y&&V<9)&&Ot();var An=0,mo=function(){S.selForContextMenu==x.doc.sel&&D.selectionStart==0&&D.selectionEnd>0&&m.prevInput=="â"?vo(x,La)(x):An++<10?S.detectingSelectAll=setTimeout(mo,500):(S.selForContextMenu=null,S.input.reset())};S.detectingSelectAll=setTimeout(mo,200)}}if(Y&&V>=9&&Ot(),ln){ba(u);var sn=function(){Mn(window,"mouseup",sn),setTimeout(bt,20)};Co(window,"mouseup",sn)}else setTimeout(bt,50)},Ja.prototype.readOnlyChanged=function(u){u||this.reset(),this.textarea.disabled=u=="nocursor",this.textarea.readOnly=!!u},Ja.prototype.setUneditable=function(){},Ja.prototype.needsContentAttribute=!1;function _p(u,m){if(m=m?le(m):{},m.value=u.value,!m.tabindex&&u.tabIndex&&(m.tabindex=u.tabIndex),!m.placeholder&&u.placeholder&&(m.placeholder=u.placeholder),m.autofocus==null){var x=Eo(Ds(u));m.autofocus=x==u||u.getAttribute("autofocus")!=null&&x==document.body}function S(){u.value=se.getValue()}var D;if(u.form&&(Co(u.form,"submit",S),!m.leaveSubmitMethodAlone)){var z=u.form;D=z.submit;try{var K=z.submit=function(){S(),z.submit=D,z.submit(),z.submit=K}}catch{}}m.finishInit=function(ce){ce.save=S,ce.getTextArea=function(){return u},ce.toTextArea=function(){ce.toTextArea=isNaN,S(),u.parentNode.removeChild(ce.getWrapperElement()),u.style.display="",u.form&&(Mn(u.form,"submit",S),!m.leaveSubmitMethodAlone&&typeof u.form.submit=="function"&&(u.form.submit=D))}},u.style.display="none";var se=Oi(function(ce){return u.parentNode.insertBefore(ce,u.nextSibling)},m);return se}function zb(u){u.off=Mn,u.on=Co,u.wheelEventPixels=fv,u.Doc=lc,u.splitLines=io,u.countColumn=hi,u.findColumn=vt,u.isWordChar=Vt,u.Pass=Vr,u.signal=go,u.Line=fe,u.changeEnd=Vi,u.scrollbarModel=dm,u.Pos=un,u.cmpPos=rs,u.modes=Qe,u.mimeModes=qe,u.resolveMode=Do,u.getMode=Rs,u.modeExtensions=er,u.extendMode=os,u.copyState=gr,u.startState=da,u.innerMode=_n,u.commands=Sm,u.keyMap=Pf,u.keyName=Xa,u.isModifierKey=hw,u.lookupKey=wm,u.normalizeKeyMap=If,u.StringStream=vr,u.SharedTextMarker=Fl,u.TextMarker=ti,u.LineWidget=bo,u.e_preventDefault=Cr,u.e_stopPropagation=Lr,u.e_stop=ba,u.addClass=eo,u.contains=xt,u.rmClass=Fe,u.keyNames=hd}$f(Oi),r0(Oi);var _m="iter insert remove copy getEditor constructor".split(" ");for(var bg in lc.prototype)lc.prototype.hasOwnProperty(bg)&&ns(_m,bg)<0&&(Oi.prototype[bg]=(function(u){return function(){return u.apply(this.doc,arguments)}})(lc.prototype[bg]));return Pn(lc),Oi.inputStyles={textarea:Ja,contenteditable:Wr},Oi.defineMode=function(u){!Oi.defaults.mode&&u!="null"&&(Oi.defaults.mode=u),Rn.apply(this,arguments)},Oi.defineMIME=jo,Oi.defineMode("null",function(){return{token:function(u){return u.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(u,m){Oi.prototype[u]=m},Oi.defineDocExtension=function(u,m){lc.prototype[u]=m},Oi.fromTextArea=_p,zb(Oi),Oi.version="5.65.20",Oi}))})(jV)),jV.exports}var t1e=foe();const n1e=Tne(t1e);var Rre={exports:{}},Lre;function o1e(){return Lre||(Lre=1,(function(r,a){(function(d){d(foe())})(function(d){var g={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},C={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};d.defineMode("xml",function(k,M){var H=k.indentUnit,Y={},V=M.htmlMode?g:C;for(var te in V)Y[te]=V[te];for(var te in M)Y[te]=M[te];var Se,ye;function je(Ze,U){function en(eo){return U.tokenize=eo,eo(Ze,U)}var xt=Ze.next();if(xt=="<")return Ze.eat("!")?Ze.eat("[")?Ze.match("CDATA[")?en(Ce("atom","]]>")):null:Ze.match("--")?en(Ce("comment","-->")):Ze.match("DOCTYPE",!0,!0)?(Ze.eatWhile(/[\w\._\-]/),en(at(1))):null:Ze.eat("?")?(Ze.eatWhile(/[\w\._\-]/),U.tokenize=Ce("meta","?>"),"meta"):(Se=Ze.eat("/")?"closeTag":"openTag",U.tokenize=Le,"tag bracket");if(xt=="&"){var Eo;return Ze.eat("#")?Ze.eat("x")?Eo=Ze.eatWhile(/[a-fA-F\d]/)&&Ze.eat(";"):Eo=Ze.eatWhile(/[\d]/)&&Ze.eat(";"):Eo=Ze.eatWhile(/[\w\.\-:]/)&&Ze.eat(";"),Eo?"atom":"error"}else return Ze.eatWhile(/[^&<]/),null}je.isInText=!0;function Le(Ze,U){var en=Ze.next();if(en==">"||en=="/"&&Ze.eat(">"))return U.tokenize=je,Se=en==">"?"endTag":"selfcloseTag","tag bracket";if(en=="=")return Se="equals",null;if(en=="<"){U.tokenize=je,U.state=Et,U.tagName=U.tagStart=null;var xt=U.tokenize(Ze,U);return xt?xt+" tag error":"tag error"}else return/[\'\"]/.test(en)?(U.tokenize=Ee(en),U.stringStartCol=Ze.column(),U.tokenize(Ze,U)):(Ze.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Ee(Ze){var U=function(en,xt){for(;!en.eol();)if(en.next()==Ze){xt.tokenize=Le;break}return"string"};return U.isInAttribute=!0,U}function Ce(Ze,U){return function(en,xt){for(;!en.eol();){if(en.match(U)){xt.tokenize=je;break}en.next()}return Ze}}function at(Ze){return function(U,en){for(var xt;(xt=U.next())!=null;){if(xt=="<")return en.tokenize=at(Ze+1),en.tokenize(U,en);if(xt==">")if(Ze==1){en.tokenize=je;break}else return en.tokenize=at(Ze-1),en.tokenize(U,en)}return"meta"}}function Je(Ze){return Ze&&Ze.toLowerCase()}function xe(Ze,U,en){this.prev=Ze.context,this.tagName=U||"",this.indent=Ze.indented,this.startOfLine=en,(Y.doNotIndent.hasOwnProperty(U)||Ze.context&&Ze.context.noIndent)&&(this.noIndent=!0)}function dt(Ze){Ze.context&&(Ze.context=Ze.context.prev)}function Qt(Ze,U){for(var en;;){if(!Ze.context||(en=Ze.context.tagName,!Y.contextGrabbers.hasOwnProperty(Je(en))||!Y.contextGrabbers[Je(en)].hasOwnProperty(Je(U))))return;dt(Ze)}}function Et(Ze,U,en){return Ze=="openTag"?(en.tagStart=U.column(),P):Ze=="closeTag"?mn:Et}function P(Ze,U,en){return Ze=="word"?(en.tagName=U.current(),ye="tag",et):Y.allowMissingTagName&&Ze=="endTag"?(ye="tag bracket",et(Ze,U,en)):(ye="error",P)}function mn(Ze,U,en){if(Ze=="word"){var xt=U.current();return en.context&&en.context.tagName!=xt&&Y.implicitlyClosed.hasOwnProperty(Je(en.context.tagName))&&dt(en),en.context&&en.context.tagName==xt||Y.matchClosing===!1?(ye="tag",Ln):(ye="tag error",ln)}else return Y.allowMissingTagName&&Ze=="endTag"?(ye="tag bracket",Ln(Ze,U,en)):(ye="error",ln)}function Ln(Ze,U,en){return Ze!="endTag"?(ye="error",Ln):(dt(en),Et)}function ln(Ze,U,en){return ye="error",Ln(Ze,U,en)}function et(Ze,U,en){if(Ze=="word")return ye="attribute",Fe;if(Ze=="endTag"||Ze=="selfcloseTag"){var xt=en.tagName,Eo=en.tagStart;return en.tagName=en.tagStart=null,Ze=="selfcloseTag"||Y.autoSelfClosers.hasOwnProperty(Je(xt))?Qt(en,xt):(Qt(en,xt),en.context=new xe(en,xt,Eo==en.indented)),Et}return ye="error",et}function Fe(Ze,U,en){return Ze=="equals"?En:(Y.allowMissing||(ye="error"),et(Ze,U,en))}function En(Ze,U,en){return Ze=="string"?wn:Ze=="word"&&Y.allowUnquoted?(ye="string",et):(ye="error",et(Ze,U,en))}function wn(Ze,U,en){return Ze=="string"?wn:et(Ze,U,en)}return{startState:function(Ze){var U={tokenize:je,state:Et,indented:Ze||0,tagName:null,tagStart:null,context:null};return Ze!=null&&(U.baseIndent=Ze),U},token:function(Ze,U){if(!U.tagName&&Ze.sol()&&(U.indented=Ze.indentation()),Ze.eatSpace())return null;Se=null;var en=U.tokenize(Ze,U);return(en||Se)&&en!="comment"&&(ye=null,U.state=U.state(Se||en,Ze,U),ye&&(en=ye=="error"?en+" error":ye)),en},indent:function(Ze,U,en){var xt=Ze.context;if(Ze.tokenize.isInAttribute)return Ze.tagStart==Ze.indented?Ze.stringStartCol+1:Ze.indented+H;if(xt&&xt.noIndent)return d.Pass;if(Ze.tokenize!=Le&&Ze.tokenize!=je)return en?en.match(/^(\s*)/)[0].length:0;if(Ze.tagName)return Y.multilineTagIndentPastTag!==!1?Ze.tagStart+Ze.tagName.length+2:Ze.tagStart+H*(Y.multilineTagIndentFactor||1);if(Y.alignCDATA&&/<!\[CDATA\[/.test(U))return 0;var Eo=U&&/^<(\/)?([\w_:\.-]*)/.exec(U);if(Eo&&Eo[1])for(;xt;)if(xt.tagName==Eo[2]){xt=xt.prev;break}else if(Y.implicitlyClosed.hasOwnProperty(Je(xt.tagName)))xt=xt.prev;else break;else if(Eo)for(;xt;){var eo=Y.contextGrabbers[Je(xt.tagName)];if(eo&&eo.hasOwnProperty(Je(Eo[2])))xt=xt.prev;else break}for(;xt&&xt.prev&&!xt.startOfLine;)xt=xt.prev;return xt?xt.indent+H:Ze.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:Y.htmlMode?"html":"xml",helperType:Y.htmlMode?"html":"xml",skipAttribute:function(Ze){Ze.state==En&&(Ze.state=et)},xmlCurrentTag:function(Ze){return Ze.tagName?{name:Ze.tagName,close:Ze.type=="closeTag"}:null},xmlCurrentContext:function(Ze){for(var U=[],en=Ze.context;en;en=en.prev)U.push(en.tagName);return U.reverse()}}}),d.defineMIME("text/xml","xml"),d.defineMIME("application/xml","xml"),d.mimeModes.hasOwnProperty("text/html")||d.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),Rre.exports}o1e();var Pre={exports:{}},Ire;function s1e(){return Ire||(Ire=1,(function(r,a){(function(d){d(foe())})(function(d){var g=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),C=d.Pos,k={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function M(ye){return ye&&ye.bracketRegex||/[(){}[\]]/}function H(ye,je,Le){var Ee=ye.getLineHandle(je.line),Ce=je.ch-1,at=Le&&Le.afterCursor;at==null&&(at=/(^| )cm-fat-cursor($| )/.test(ye.getWrapperElement().className));var Je=M(Le),xe=!at&&Ce>=0&&Je.test(Ee.text.charAt(Ce))&&k[Ee.text.charAt(Ce)]||Je.test(Ee.text.charAt(Ce+1))&&k[Ee.text.charAt(++Ce)];if(!xe)return null;var dt=xe.charAt(1)==">"?1:-1;if(Le&&Le.strict&&dt>0!=(Ce==je.ch))return null;var Qt=ye.getTokenTypeAt(C(je.line,Ce+1)),Et=Y(ye,C(je.line,Ce+(dt>0?1:0)),dt,Qt,Le);return Et==null?null:{from:C(je.line,Ce),to:Et&&Et.pos,match:Et&&Et.ch==xe.charAt(0),forward:dt>0}}function Y(ye,je,Le,Ee,Ce){for(var at=Ce&&Ce.maxScanLineLength||1e4,Je=Ce&&Ce.maxScanLines||1e3,xe=[],dt=M(Ce),Qt=Le>0?Math.min(je.line+Je,ye.lastLine()+1):Math.max(ye.firstLine()-1,je.line-Je),Et=je.line;Et!=Qt;Et+=Le){var P=ye.getLine(Et);if(P){var mn=Le>0?0:P.length-1,Ln=Le>0?P.length:-1;if(!(P.length>at))for(Et==je.line&&(mn=je.ch-(Le<0?1:0));mn!=Ln;mn+=Le){var ln=P.charAt(mn);if(dt.test(ln)&&(Ee===void 0||(ye.getTokenTypeAt(C(Et,mn+1))||"")==(Ee||""))){var et=k[ln];if(et&&et.charAt(1)==">"==Le>0)xe.push(ln);else if(xe.length)xe.pop();else return{pos:C(Et,mn),ch:ln}}}}}return Et-Le==(Le>0?ye.lastLine():ye.firstLine())?!1:null}function V(ye,je,Le){for(var Ee=ye.state.matchBrackets.maxHighlightLineLength||1e3,Ce=Le&&Le.highlightNonMatching,at=[],Je=ye.listSelections(),xe=0;xe<Je.length;xe++){var dt=Je[xe].empty()&&H(ye,Je[xe].head,Le);if(dt&&(dt.match||Ce!==!1)&&ye.getLine(dt.from.line).length<=Ee){var Qt=dt.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";at.push(ye.markText(dt.from,C(dt.from.line,dt.from.ch+1),{className:Qt})),dt.to&&ye.getLine(dt.to.line).length<=Ee&&at.push(ye.markText(dt.to,C(dt.to.line,dt.to.ch+1),{className:Qt}))}}if(at.length){g&&ye.state.focused&&ye.focus();var Et=function(){ye.operation(function(){for(var P=0;P<at.length;P++)at[P].clear()})};if(je)setTimeout(Et,800);else return Et}}function te(ye){ye.operation(function(){ye.state.matchBrackets.currentlyHighlighted&&(ye.state.matchBrackets.currentlyHighlighted(),ye.state.matchBrackets.currentlyHighlighted=null),ye.state.matchBrackets.currentlyHighlighted=V(ye,!1,ye.state.matchBrackets)})}function Se(ye){ye.state.matchBrackets&&ye.state.matchBrackets.currentlyHighlighted&&(ye.state.matchBrackets.currentlyHighlighted(),ye.state.matchBrackets.currentlyHighlighted=null)}d.defineOption("matchBrackets",!1,function(ye,je,Le){Le&&Le!=d.Init&&(ye.off("cursorActivity",te),ye.off("focus",te),ye.off("blur",Se),Se(ye)),je&&(ye.state.matchBrackets=typeof je=="object"?je:{},ye.on("cursorActivity",te),ye.on("focus",te),ye.on("blur",Se))}),d.defineExtension("matchBrackets",function(){V(this,!0)}),d.defineExtension("findMatchingBracket",function(ye,je,Le){return(Le||typeof je=="boolean")&&(Le?(Le.strict=je,je=Le):je=je?{strict:!0}:null),H(this,ye,je)}),d.defineExtension("scanForBracket",function(ye,je,Le,Ee){return Y(this,ye,je,Le,Ee)})})})()),Pre.exports}s1e();function Hle(r,a){return function(){return r.apply(a,arguments)}}const{toString:r1e}=Object.prototype,{getPrototypeOf:hoe}=Object,{iterator:MU,toStringTag:zle}=Symbol,NU=(r=>a=>{const d=r1e.call(a);return r[d]||(r[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),Ob=r=>(r=r.toLowerCase(),a=>NU(a)===r),RU=r=>a=>typeof a===r,{isArray:NO}=Array,CO=RU("undefined");function uI(r){return r!==null&&!CO(r)&&r.constructor!==null&&!CO(r.constructor)&&dp(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Vle=Ob("ArrayBuffer");function i1e(r){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&Vle(r.buffer),a}const a1e=RU("string"),dp=RU("function"),Ule=RU("number"),dI=r=>r!==null&&typeof r=="object",l1e=r=>r===!0||r===!1,ZV=r=>{if(NU(r)!=="object")return!1;const a=hoe(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(zle in r)&&!(MU in r)},c1e=r=>{if(!dI(r)||uI(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},u1e=Ob("Date"),d1e=Ob("File"),f1e=Ob("Blob"),h1e=Ob("FileList"),m1e=r=>dI(r)&&dp(r.pipe),p1e=r=>{let a;return r&&(typeof FormData=="function"&&r instanceof FormData||dp(r.append)&&((a=NU(r))==="formdata"||a==="object"&&dp(r.toString)&&r.toString()==="[object FormData]"))},g1e=Ob("URLSearchParams"),[v1e,b1e,y1e,w1e]=["ReadableStream","Request","Response","Headers"].map(Ob),C1e=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fI(r,a,{allOwnKeys:d=!1}={}){if(r===null||typeof r>"u")return;let g,C;if(typeof r!="object"&&(r=[r]),NO(r))for(g=0,C=r.length;g<C;g++)a.call(null,r[g],g,r);else{if(uI(r))return;const k=d?Object.getOwnPropertyNames(r):Object.keys(r),M=k.length;let H;for(g=0;g<M;g++)H=k[g],a.call(null,r[H],H,r)}}function Wle(r,a){if(uI(r))return null;a=a.toLowerCase();const d=Object.keys(r);let g=d.length,C;for(;g-- >0;)if(C=d[g],a===C.toLowerCase())return C;return null}const x_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jle=r=>!CO(r)&&r!==x_;function mne(){const{caseless:r,skipUndefined:a}=jle(this)&&this||{},d={},g=(C,k)=>{const M=r&&Wle(d,k)||k;ZV(d[M])&&ZV(C)?d[M]=mne(d[M],C):ZV(C)?d[M]=mne({},C):NO(C)?d[M]=C.slice():(!a||!CO(C))&&(d[M]=C)};for(let C=0,k=arguments.length;C<k;C++)arguments[C]&&fI(arguments[C],g);return d}const S1e=(r,a,d,{allOwnKeys:g}={})=>(fI(a,(C,k)=>{d&&dp(C)?r[k]=Hle(C,d):r[k]=C},{allOwnKeys:g}),r),x1e=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),_1e=(r,a,d,g)=>{r.prototype=Object.create(a.prototype,g),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:a.prototype}),d&&Object.assign(r.prototype,d)},T1e=(r,a,d,g)=>{let C,k,M;const H={};if(a=a||{},r==null)return a;do{for(C=Object.getOwnPropertyNames(r),k=C.length;k-- >0;)M=C[k],(!g||g(M,r,a))&&!H[M]&&(a[M]=r[M],H[M]=!0);r=d!==!1&&hoe(r)}while(r&&(!d||d(r,a))&&r!==Object.prototype);return a},E1e=(r,a,d)=>{r=String(r),(d===void 0||d>r.length)&&(d=r.length),d-=a.length;const g=r.indexOf(a,d);return g!==-1&&g===d},k1e=r=>{if(!r)return null;if(NO(r))return r;let a=r.length;if(!Ule(a))return null;const d=new Array(a);for(;a-- >0;)d[a]=r[a];return d},D1e=(r=>a=>r&&a instanceof r)(typeof Uint8Array<"u"&&hoe(Uint8Array)),A1e=(r,a)=>{const g=(r&&r[MU]).call(r);let C;for(;(C=g.next())&&!C.done;){const k=C.value;a.call(r,k[0],k[1])}},O1e=(r,a)=>{let d;const g=[];for(;(d=r.exec(a))!==null;)g.push(d);return g},M1e=Ob("HTMLFormElement"),N1e=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,g,C){return g.toUpperCase()+C}),Fre=(({hasOwnProperty:r})=>(a,d)=>r.call(a,d))(Object.prototype),R1e=Ob("RegExp"),Zle=(r,a)=>{const d=Object.getOwnPropertyDescriptors(r),g={};fI(d,(C,k)=>{let M;(M=a(C,k,r))!==!1&&(g[k]=M||C)}),Object.defineProperties(r,g)},L1e=r=>{Zle(r,(a,d)=>{if(dp(r)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const g=r[d];if(dp(g)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},P1e=(r,a)=>{const d={},g=C=>{C.forEach(k=>{d[k]=!0})};return NO(r)?g(r):g(String(r).split(a)),d},I1e=()=>{},F1e=(r,a)=>r!=null&&Number.isFinite(r=+r)?r:a;function B1e(r){return!!(r&&dp(r.append)&&r[zle]==="FormData"&&r[MU])}const $1e=r=>{const a=new Array(10),d=(g,C)=>{if(dI(g)){if(a.indexOf(g)>=0)return;if(uI(g))return g;if(!("toJSON"in g)){a[C]=g;const k=NO(g)?[]:{};return fI(g,(M,H)=>{const Y=d(M,C+1);!CO(Y)&&(k[H]=Y)}),a[C]=void 0,k}}return g};return d(r,0)},H1e=Ob("AsyncFunction"),z1e=r=>r&&(dI(r)||dp(r))&&dp(r.then)&&dp(r.catch),qle=((r,a)=>r?setImmediate:a?((d,g)=>(x_.addEventListener("message",({source:C,data:k})=>{C===x_&&k===d&&g.length&&g.shift()()},!1),C=>{g.push(C),x_.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",dp(x_.postMessage)),V1e=typeof queueMicrotask<"u"?queueMicrotask.bind(x_):typeof process<"u"&&process.nextTick||qle,U1e=r=>r!=null&&dp(r[MU]),xn={isArray:NO,isArrayBuffer:Vle,isBuffer:uI,isFormData:p1e,isArrayBufferView:i1e,isString:a1e,isNumber:Ule,isBoolean:l1e,isObject:dI,isPlainObject:ZV,isEmptyObject:c1e,isReadableStream:v1e,isRequest:b1e,isResponse:y1e,isHeaders:w1e,isUndefined:CO,isDate:u1e,isFile:d1e,isBlob:f1e,isRegExp:R1e,isFunction:dp,isStream:m1e,isURLSearchParams:g1e,isTypedArray:D1e,isFileList:h1e,forEach:fI,merge:mne,extend:S1e,trim:C1e,stripBOM:x1e,inherits:_1e,toFlatObject:T1e,kindOf:NU,kindOfTest:Ob,endsWith:E1e,toArray:k1e,forEachEntry:A1e,matchAll:O1e,isHTMLForm:M1e,hasOwnProperty:Fre,hasOwnProp:Fre,reduceDescriptors:Zle,freezeMethods:L1e,toObjectSet:P1e,toCamelCase:N1e,noop:I1e,toFiniteNumber:F1e,findKey:Wle,global:x_,isContextDefined:jle,isSpecCompliantForm:B1e,toJSONObject:$1e,isAsyncFn:H1e,isThenable:z1e,setImmediate:qle,asap:V1e,isIterable:U1e};function Li(r,a,d,g,C){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",a&&(this.code=a),d&&(this.config=d),g&&(this.request=g),C&&(this.response=C,this.status=C.status?C.status:null)}xn.inherits(Li,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xn.toJSONObject(this.config),code:this.code,status:this.status}}});const Yle=Li.prototype,Gle={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Gle[r]={value:r}});Object.defineProperties(Li,Gle);Object.defineProperty(Yle,"isAxiosError",{value:!0});Li.from=(r,a,d,g,C,k)=>{const M=Object.create(Yle);xn.toFlatObject(r,M,function(te){return te!==Error.prototype},V=>V!=="isAxiosError");const H=r&&r.message?r.message:"Error",Y=a==null&&r?r.code:a;return Li.call(M,H,Y,d,g,C),r&&M.cause==null&&Object.defineProperty(M,"cause",{value:r,configurable:!0}),M.name=r&&r.name||"Error",k&&Object.assign(M,k),M};const W1e=null;function pne(r){return xn.isPlainObject(r)||xn.isArray(r)}function Kle(r){return xn.endsWith(r,"[]")?r.slice(0,-2):r}function Bre(r,a,d){return r?r.concat(a).map(function(C,k){return C=Kle(C),!d&&k?"["+C+"]":C}).join(d?".":""):a}function j1e(r){return xn.isArray(r)&&!r.some(pne)}const Z1e=xn.toFlatObject(xn,{},null,function(a){return/^is[A-Z]/.test(a)});function LU(r,a,d){if(!xn.isObject(r))throw new TypeError("target must be an object");a=a||new FormData,d=xn.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ee,Ce){return!xn.isUndefined(Ce[Ee])});const g=d.metaTokens,C=d.visitor||te,k=d.dots,M=d.indexes,Y=(d.Blob||typeof Blob<"u"&&Blob)&&xn.isSpecCompliantForm(a);if(!xn.isFunction(C))throw new TypeError("visitor must be a function");function V(Le){if(Le===null)return"";if(xn.isDate(Le))return Le.toISOString();if(xn.isBoolean(Le))return Le.toString();if(!Y&&xn.isBlob(Le))throw new Li("Blob is not supported. Use a Buffer instead.");return xn.isArrayBuffer(Le)||xn.isTypedArray(Le)?Y&&typeof Blob=="function"?new Blob([Le]):Buffer.from(Le):Le}function te(Le,Ee,Ce){let at=Le;if(Le&&!Ce&&typeof Le=="object"){if(xn.endsWith(Ee,"{}"))Ee=g?Ee:Ee.slice(0,-2),Le=JSON.stringify(Le);else if(xn.isArray(Le)&&j1e(Le)||(xn.isFileList(Le)||xn.endsWith(Ee,"[]"))&&(at=xn.toArray(Le)))return Ee=Kle(Ee),at.forEach(function(xe,dt){!(xn.isUndefined(xe)||xe===null)&&a.append(M===!0?Bre([Ee],dt,k):M===null?Ee:Ee+"[]",V(xe))}),!1}return pne(Le)?!0:(a.append(Bre(Ce,Ee,k),V(Le)),!1)}const Se=[],ye=Object.assign(Z1e,{defaultVisitor:te,convertValue:V,isVisitable:pne});function je(Le,Ee){if(!xn.isUndefined(Le)){if(Se.indexOf(Le)!==-1)throw Error("Circular reference detected in "+Ee.join("."));Se.push(Le),xn.forEach(Le,function(at,Je){(!(xn.isUndefined(at)||at===null)&&C.call(a,at,xn.isString(Je)?Je.trim():Je,Ee,ye))===!0&&je(at,Ee?Ee.concat(Je):[Je])}),Se.pop()}}if(!xn.isObject(r))throw new TypeError("data must be an object");return je(r),a}function $re(r){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(g){return a[g]})}function moe(r,a){this._pairs=[],r&&LU(r,this,a)}const Xle=moe.prototype;Xle.append=function(a,d){this._pairs.push([a,d])};Xle.toString=function(a){const d=a?function(g){return a.call(this,g,$re)}:$re;return this._pairs.map(function(C){return d(C[0])+"="+d(C[1])},"").join("&")};function q1e(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jle(r,a,d){if(!a)return r;const g=d&&d.encode||q1e;xn.isFunction(d)&&(d={serialize:d});const C=d&&d.serialize;let k;if(C?k=C(a,d):k=xn.isURLSearchParams(a)?a.toString():new moe(a,d).toString(g),k){const M=r.indexOf("#");M!==-1&&(r=r.slice(0,M)),r+=(r.indexOf("?")===-1?"?":"&")+k}return r}class Hre{constructor(){this.handlers=[]}use(a,d,g){return this.handlers.push({fulfilled:a,rejected:d,synchronous:g?g.synchronous:!1,runWhen:g?g.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){xn.forEach(this.handlers,function(g){g!==null&&a(g)})}}const Qle={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y1e=typeof URLSearchParams<"u"?URLSearchParams:moe,G1e=typeof FormData<"u"?FormData:null,K1e=typeof Blob<"u"?Blob:null,X1e={isBrowser:!0,classes:{URLSearchParams:Y1e,FormData:G1e,Blob:K1e},protocols:["http","https","file","blob","url","data"]},poe=typeof window<"u"&&typeof document<"u",gne=typeof navigator=="object"&&navigator||void 0,J1e=poe&&(!gne||["ReactNative","NativeScript","NS"].indexOf(gne.product)<0),Q1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",e0e=poe&&window.location.href||"http://localhost",t0e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:poe,hasStandardBrowserEnv:J1e,hasStandardBrowserWebWorkerEnv:Q1e,navigator:gne,origin:e0e},Symbol.toStringTag,{value:"Module"})),dh={...t0e,...X1e};function n0e(r,a){return LU(r,new dh.classes.URLSearchParams,{visitor:function(d,g,C,k){return dh.isNode&&xn.isBuffer(d)?(this.append(g,d.toString("base64")),!1):k.defaultVisitor.apply(this,arguments)},...a})}function o0e(r){return xn.matchAll(/\w+|\[(\w*)]/g,r).map(a=>a[0]==="[]"?"":a[1]||a[0])}function s0e(r){const a={},d=Object.keys(r);let g;const C=d.length;let k;for(g=0;g<C;g++)k=d[g],a[k]=r[k];return a}function ece(r){function a(d,g,C,k){let M=d[k++];if(M==="__proto__")return!0;const H=Number.isFinite(+M),Y=k>=d.length;return M=!M&&xn.isArray(C)?C.length:M,Y?(xn.hasOwnProp(C,M)?C[M]=[C[M],g]:C[M]=g,!H):((!C[M]||!xn.isObject(C[M]))&&(C[M]=[]),a(d,g,C[M],k)&&xn.isArray(C[M])&&(C[M]=s0e(C[M])),!H)}if(xn.isFormData(r)&&xn.isFunction(r.entries)){const d={};return xn.forEachEntry(r,(g,C)=>{a(o0e(g),C,d,0)}),d}return null}function r0e(r,a,d){if(xn.isString(r))try{return(a||JSON.parse)(r),xn.trim(r)}catch(g){if(g.name!=="SyntaxError")throw g}return(d||JSON.stringify)(r)}const hI={transitional:Qle,adapter:["xhr","http","fetch"],transformRequest:[function(a,d){const g=d.getContentType()||"",C=g.indexOf("application/json")>-1,k=xn.isObject(a);if(k&&xn.isHTMLForm(a)&&(a=new FormData(a)),xn.isFormData(a))return C?JSON.stringify(ece(a)):a;if(xn.isArrayBuffer(a)||xn.isBuffer(a)||xn.isStream(a)||xn.isFile(a)||xn.isBlob(a)||xn.isReadableStream(a))return a;if(xn.isArrayBufferView(a))return a.buffer;if(xn.isURLSearchParams(a))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let H;if(k){if(g.indexOf("application/x-www-form-urlencoded")>-1)return n0e(a,this.formSerializer).toString();if((H=xn.isFileList(a))||g.indexOf("multipart/form-data")>-1){const Y=this.env&&this.env.FormData;return LU(H?{"files[]":a}:a,Y&&new Y,this.formSerializer)}}return k||C?(d.setContentType("application/json",!1),r0e(a)):a}],transformResponse:[function(a){const d=this.transitional||hI.transitional,g=d&&d.forcedJSONParsing,C=this.responseType==="json";if(xn.isResponse(a)||xn.isReadableStream(a))return a;if(a&&xn.isString(a)&&(g&&!this.responseType||C)){const M=!(d&&d.silentJSONParsing)&&C;try{return JSON.parse(a,this.parseReviver)}catch(H){if(M)throw H.name==="SyntaxError"?Li.from(H,Li.ERR_BAD_RESPONSE,this,null,this.response):H}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dh.classes.FormData,Blob:dh.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xn.forEach(["delete","get","head","post","put","patch"],r=>{hI.headers[r]={}});const i0e=xn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a0e=r=>{const a={};let d,g,C;return r&&r.split(`
`).forEach(function(M){C=M.indexOf(":"),d=M.substring(0,C).trim().toLowerCase(),g=M.substring(C+1).trim(),!(!d||a[d]&&i0e[d])&&(d==="set-cookie"?a[d]?a[d].push(g):a[d]=[g]:a[d]=a[d]?a[d]+", "+g:g)}),a},zre=Symbol("internals");function IP(r){return r&&String(r).trim().toLowerCase()}function qV(r){return r===!1||r==null?r:xn.isArray(r)?r.map(qV):String(r)}function l0e(r){const a=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let g;for(;g=d.exec(r);)a[g[1]]=g[2];return a}const c0e=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function zte(r,a,d,g,C){if(xn.isFunction(g))return g.call(this,a,d);if(C&&(a=d),!!xn.isString(a)){if(xn.isString(g))return a.indexOf(g)!==-1;if(xn.isRegExp(g))return g.test(a)}}function u0e(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,d,g)=>d.toUpperCase()+g)}function d0e(r,a){const d=xn.toCamelCase(" "+a);["get","set","has"].forEach(g=>{Object.defineProperty(r,g+d,{value:function(C,k,M){return this[g].call(this,a,C,k,M)},configurable:!0})})}let fp=class{constructor(a){a&&this.set(a)}set(a,d,g){const C=this;function k(H,Y,V){const te=IP(Y);if(!te)throw new Error("header name must be a non-empty string");const Se=xn.findKey(C,te);(!Se||C[Se]===void 0||V===!0||V===void 0&&C[Se]!==!1)&&(C[Se||Y]=qV(H))}const M=(H,Y)=>xn.forEach(H,(V,te)=>k(V,te,Y));if(xn.isPlainObject(a)||a instanceof this.constructor)M(a,d);else if(xn.isString(a)&&(a=a.trim())&&!c0e(a))M(a0e(a),d);else if(xn.isObject(a)&&xn.isIterable(a)){let H={},Y,V;for(const te of a){if(!xn.isArray(te))throw TypeError("Object iterator must return a key-value pair");H[V=te[0]]=(Y=H[V])?xn.isArray(Y)?[...Y,te[1]]:[Y,te[1]]:te[1]}M(H,d)}else a!=null&&k(d,a,g);return this}get(a,d){if(a=IP(a),a){const g=xn.findKey(this,a);if(g){const C=this[g];if(!d)return C;if(d===!0)return l0e(C);if(xn.isFunction(d))return d.call(this,C,g);if(xn.isRegExp(d))return d.exec(C);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,d){if(a=IP(a),a){const g=xn.findKey(this,a);return!!(g&&this[g]!==void 0&&(!d||zte(this,this[g],g,d)))}return!1}delete(a,d){const g=this;let C=!1;function k(M){if(M=IP(M),M){const H=xn.findKey(g,M);H&&(!d||zte(g,g[H],H,d))&&(delete g[H],C=!0)}}return xn.isArray(a)?a.forEach(k):k(a),C}clear(a){const d=Object.keys(this);let g=d.length,C=!1;for(;g--;){const k=d[g];(!a||zte(this,this[k],k,a,!0))&&(delete this[k],C=!0)}return C}normalize(a){const d=this,g={};return xn.forEach(this,(C,k)=>{const M=xn.findKey(g,k);if(M){d[M]=qV(C),delete d[k];return}const H=a?u0e(k):String(k).trim();H!==k&&delete d[k],d[H]=qV(C),g[H]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const d=Object.create(null);return xn.forEach(this,(g,C)=>{g!=null&&g!==!1&&(d[C]=a&&xn.isArray(g)?g.join(", "):g)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,d])=>a+": "+d).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...d){const g=new this(a);return d.forEach(C=>g.set(C)),g}static accessor(a){const g=(this[zre]=this[zre]={accessors:{}}).accessors,C=this.prototype;function k(M){const H=IP(M);g[H]||(d0e(C,M),g[H]=!0)}return xn.isArray(a)?a.forEach(k):k(a),this}};fp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xn.reduceDescriptors(fp.prototype,({value:r},a)=>{let d=a[0].toUpperCase()+a.slice(1);return{get:()=>r,set(g){this[d]=g}}});xn.freezeMethods(fp);function Vte(r,a){const d=this||hI,g=a||d,C=fp.from(g.headers);let k=g.data;return xn.forEach(r,function(H){k=H.call(d,k,C.normalize(),a?a.status:void 0)}),C.normalize(),k}function tce(r){return!!(r&&r.__CANCEL__)}function RO(r,a,d){Li.call(this,r??"canceled",Li.ERR_CANCELED,a,d),this.name="CanceledError"}xn.inherits(RO,Li,{__CANCEL__:!0});function nce(r,a,d){const g=d.config.validateStatus;!d.status||!g||g(d.status)?r(d):a(new Li("Request failed with status code "+d.status,[Li.ERR_BAD_REQUEST,Li.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function f0e(r){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""}function h0e(r,a){r=r||10;const d=new Array(r),g=new Array(r);let C=0,k=0,M;return a=a!==void 0?a:1e3,function(Y){const V=Date.now(),te=g[k];M||(M=V),d[C]=Y,g[C]=V;let Se=k,ye=0;for(;Se!==C;)ye+=d[Se++],Se=Se%r;if(C=(C+1)%r,C===k&&(k=(k+1)%r),V-M<a)return;const je=te&&V-te;return je?Math.round(ye*1e3/je):void 0}}function m0e(r,a){let d=0,g=1e3/a,C,k;const M=(V,te=Date.now())=>{d=te,C=null,k&&(clearTimeout(k),k=null),r(...V)};return[(...V)=>{const te=Date.now(),Se=te-d;Se>=g?M(V,te):(C=V,k||(k=setTimeout(()=>{k=null,M(C)},g-Se)))},()=>C&&M(C)]}const aU=(r,a,d=3)=>{let g=0;const C=h0e(50,250);return m0e(k=>{const M=k.loaded,H=k.lengthComputable?k.total:void 0,Y=M-g,V=C(Y),te=M<=H;g=M;const Se={loaded:M,total:H,progress:H?M/H:void 0,bytes:Y,rate:V||void 0,estimated:V&&H&&te?(H-M)/V:void 0,event:k,lengthComputable:H!=null,[a?"download":"upload"]:!0};r(Se)},d)},Vre=(r,a)=>{const d=r!=null;return[g=>a[0]({lengthComputable:d,total:r,loaded:g}),a[1]]},Ure=r=>(...a)=>xn.asap(()=>r(...a)),p0e=dh.hasStandardBrowserEnv?((r,a)=>d=>(d=new URL(d,dh.origin),r.protocol===d.protocol&&r.host===d.host&&(a||r.port===d.port)))(new URL(dh.origin),dh.navigator&&/(msie|trident)/i.test(dh.navigator.userAgent)):()=>!0,g0e=dh.hasStandardBrowserEnv?{write(r,a,d,g,C,k,M){if(typeof document>"u")return;const H=[`${r}=${encodeURIComponent(a)}`];xn.isNumber(d)&&H.push(`expires=${new Date(d).toUTCString()}`),xn.isString(g)&&H.push(`path=${g}`),xn.isString(C)&&H.push(`domain=${C}`),k===!0&&H.push("secure"),xn.isString(M)&&H.push(`SameSite=${M}`),document.cookie=H.join("; ")},read(r){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function v0e(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function b0e(r,a){return a?r.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):r}function oce(r,a,d){let g=!v0e(a);return r&&(g||d==!1)?b0e(r,a):a}const Wre=r=>r instanceof fp?{...r}:r;function L_(r,a){a=a||{};const d={};function g(V,te,Se,ye){return xn.isPlainObject(V)&&xn.isPlainObject(te)?xn.merge.call({caseless:ye},V,te):xn.isPlainObject(te)?xn.merge({},te):xn.isArray(te)?te.slice():te}function C(V,te,Se,ye){if(xn.isUndefined(te)){if(!xn.isUndefined(V))return g(void 0,V,Se,ye)}else return g(V,te,Se,ye)}function k(V,te){if(!xn.isUndefined(te))return g(void 0,te)}function M(V,te){if(xn.isUndefined(te)){if(!xn.isUndefined(V))return g(void 0,V)}else return g(void 0,te)}function H(V,te,Se){if(Se in a)return g(V,te);if(Se in r)return g(void 0,V)}const Y={url:k,method:k,data:k,baseURL:M,transformRequest:M,transformResponse:M,paramsSerializer:M,timeout:M,timeoutMessage:M,withCredentials:M,withXSRFToken:M,adapter:M,responseType:M,xsrfCookieName:M,xsrfHeaderName:M,onUploadProgress:M,onDownloadProgress:M,decompress:M,maxContentLength:M,maxBodyLength:M,beforeRedirect:M,transport:M,httpAgent:M,httpsAgent:M,cancelToken:M,socketPath:M,responseEncoding:M,validateStatus:H,headers:(V,te,Se)=>C(Wre(V),Wre(te),Se,!0)};return xn.forEach(Object.keys({...r,...a}),function(te){const Se=Y[te]||C,ye=Se(r[te],a[te],te);xn.isUndefined(ye)&&Se!==H||(d[te]=ye)}),d}const sce=r=>{const a=L_({},r);let{data:d,withXSRFToken:g,xsrfHeaderName:C,xsrfCookieName:k,headers:M,auth:H}=a;if(a.headers=M=fp.from(M),a.url=Jle(oce(a.baseURL,a.url,a.allowAbsoluteUrls),r.params,r.paramsSerializer),H&&M.set("Authorization","Basic "+btoa((H.username||"")+":"+(H.password?unescape(encodeURIComponent(H.password)):""))),xn.isFormData(d)){if(dh.hasStandardBrowserEnv||dh.hasStandardBrowserWebWorkerEnv)M.setContentType(void 0);else if(xn.isFunction(d.getHeaders)){const Y=d.getHeaders(),V=["content-type","content-length"];Object.entries(Y).forEach(([te,Se])=>{V.includes(te.toLowerCase())&&M.set(te,Se)})}}if(dh.hasStandardBrowserEnv&&(g&&xn.isFunction(g)&&(g=g(a)),g||g!==!1&&p0e(a.url))){const Y=C&&k&&g0e.read(k);Y&&M.set(C,Y)}return a},y0e=typeof XMLHttpRequest<"u",w0e=y0e&&function(r){return new Promise(function(d,g){const C=sce(r);let k=C.data;const M=fp.from(C.headers).normalize();let{responseType:H,onUploadProgress:Y,onDownloadProgress:V}=C,te,Se,ye,je,Le;function Ee(){je&&je(),Le&&Le(),C.cancelToken&&C.cancelToken.unsubscribe(te),C.signal&&C.signal.removeEventListener("abort",te)}let Ce=new XMLHttpRequest;Ce.open(C.method.toUpperCase(),C.url,!0),Ce.timeout=C.timeout;function at(){if(!Ce)return;const xe=fp.from("getAllResponseHeaders"in Ce&&Ce.getAllResponseHeaders()),Qt={data:!H||H==="text"||H==="json"?Ce.responseText:Ce.response,status:Ce.status,statusText:Ce.statusText,headers:xe,config:r,request:Ce};nce(function(P){d(P),Ee()},function(P){g(P),Ee()},Qt),Ce=null}"onloadend"in Ce?Ce.onloadend=at:Ce.onreadystatechange=function(){!Ce||Ce.readyState!==4||Ce.status===0&&!(Ce.responseURL&&Ce.responseURL.indexOf("file:")===0)||setTimeout(at)},Ce.onabort=function(){Ce&&(g(new Li("Request aborted",Li.ECONNABORTED,r,Ce)),Ce=null)},Ce.onerror=function(dt){const Qt=dt&&dt.message?dt.message:"Network Error",Et=new Li(Qt,Li.ERR_NETWORK,r,Ce);Et.event=dt||null,g(Et),Ce=null},Ce.ontimeout=function(){let dt=C.timeout?"timeout of "+C.timeout+"ms exceeded":"timeout exceeded";const Qt=C.transitional||Qle;C.timeoutErrorMessage&&(dt=C.timeoutErrorMessage),g(new Li(dt,Qt.clarifyTimeoutError?Li.ETIMEDOUT:Li.ECONNABORTED,r,Ce)),Ce=null},k===void 0&&M.setContentType(null),"setRequestHeader"in Ce&&xn.forEach(M.toJSON(),function(dt,Qt){Ce.setRequestHeader(Qt,dt)}),xn.isUndefined(C.withCredentials)||(Ce.withCredentials=!!C.withCredentials),H&&H!=="json"&&(Ce.responseType=C.responseType),V&&([ye,Le]=aU(V,!0),Ce.addEventListener("progress",ye)),Y&&Ce.upload&&([Se,je]=aU(Y),Ce.upload.addEventListener("progress",Se),Ce.upload.addEventListener("loadend",je)),(C.cancelToken||C.signal)&&(te=xe=>{Ce&&(g(!xe||xe.type?new RO(null,r,Ce):xe),Ce.abort(),Ce=null)},C.cancelToken&&C.cancelToken.subscribe(te),C.signal&&(C.signal.aborted?te():C.signal.addEventListener("abort",te)));const Je=f0e(C.url);if(Je&&dh.protocols.indexOf(Je)===-1){g(new Li("Unsupported protocol "+Je+":",Li.ERR_BAD_REQUEST,r));return}Ce.send(k||null)})},C0e=(r,a)=>{const{length:d}=r=r?r.filter(Boolean):[];if(a||d){let g=new AbortController,C;const k=function(V){if(!C){C=!0,H();const te=V instanceof Error?V:this.reason;g.abort(te instanceof Li?te:new RO(te instanceof Error?te.message:te))}};let M=a&&setTimeout(()=>{M=null,k(new Li(`timeout ${a} of ms exceeded`,Li.ETIMEDOUT))},a);const H=()=>{r&&(M&&clearTimeout(M),M=null,r.forEach(V=>{V.unsubscribe?V.unsubscribe(k):V.removeEventListener("abort",k)}),r=null)};r.forEach(V=>V.addEventListener("abort",k));const{signal:Y}=g;return Y.unsubscribe=()=>xn.asap(H),Y}},S0e=function*(r,a){let d=r.byteLength;if(d<a){yield r;return}let g=0,C;for(;g<d;)C=g+a,yield r.slice(g,C),g=C},x0e=async function*(r,a){for await(const d of _0e(r))yield*S0e(d,a)},_0e=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const a=r.getReader();try{for(;;){const{done:d,value:g}=await a.read();if(d)break;yield g}}finally{await a.cancel()}},jre=(r,a,d,g)=>{const C=x0e(r,a);let k=0,M,H=Y=>{M||(M=!0,g&&g(Y))};return new ReadableStream({async pull(Y){try{const{done:V,value:te}=await C.next();if(V){H(),Y.close();return}let Se=te.byteLength;if(d){let ye=k+=Se;d(ye)}Y.enqueue(new Uint8Array(te))}catch(V){throw H(V),V}},cancel(Y){return H(Y),C.return()}},{highWaterMark:2})},Zre=64*1024,{isFunction:PV}=xn,T0e=(({Request:r,Response:a})=>({Request:r,Response:a}))(xn.global),{ReadableStream:qre,TextEncoder:Yre}=xn.global,Gre=(r,...a)=>{try{return!!r(...a)}catch{return!1}},E0e=r=>{r=xn.merge.call({skipUndefined:!0},T0e,r);const{fetch:a,Request:d,Response:g}=r,C=a?PV(a):typeof fetch=="function",k=PV(d),M=PV(g);if(!C)return!1;const H=C&&PV(qre),Y=C&&(typeof Yre=="function"?(Le=>Ee=>Le.encode(Ee))(new Yre):async Le=>new Uint8Array(await new d(Le).arrayBuffer())),V=k&&H&&Gre(()=>{let Le=!1;const Ee=new d(dh.origin,{body:new qre,method:"POST",get duplex(){return Le=!0,"half"}}).headers.has("Content-Type");return Le&&!Ee}),te=M&&H&&Gre(()=>xn.isReadableStream(new g("").body)),Se={stream:te&&(Le=>Le.body)};C&&["text","arrayBuffer","blob","formData","stream"].forEach(Le=>{!Se[Le]&&(Se[Le]=(Ee,Ce)=>{let at=Ee&&Ee[Le];if(at)return at.call(Ee);throw new Li(`Response type '${Le}' is not supported`,Li.ERR_NOT_SUPPORT,Ce)})});const ye=async Le=>{if(Le==null)return 0;if(xn.isBlob(Le))return Le.size;if(xn.isSpecCompliantForm(Le))return(await new d(dh.origin,{method:"POST",body:Le}).arrayBuffer()).byteLength;if(xn.isArrayBufferView(Le)||xn.isArrayBuffer(Le))return Le.byteLength;if(xn.isURLSearchParams(Le)&&(Le=Le+""),xn.isString(Le))return(await Y(Le)).byteLength},je=async(Le,Ee)=>{const Ce=xn.toFiniteNumber(Le.getContentLength());return Ce??ye(Ee)};return async Le=>{let{url:Ee,method:Ce,data:at,signal:Je,cancelToken:xe,timeout:dt,onDownloadProgress:Qt,onUploadProgress:Et,responseType:P,headers:mn,withCredentials:Ln="same-origin",fetchOptions:ln}=sce(Le),et=a||fetch;P=P?(P+"").toLowerCase():"text";let Fe=C0e([Je,xe&&xe.toAbortSignal()],dt),En=null;const wn=Fe&&Fe.unsubscribe&&(()=>{Fe.unsubscribe()});let Ze;try{if(Et&&V&&Ce!=="get"&&Ce!=="head"&&(Ze=await je(mn,at))!==0){let qt=new d(Ee,{method:"POST",body:at,duplex:"half"}),us;if(xn.isFormData(at)&&(us=qt.headers.get("content-type"))&&mn.setContentType(us),qt.body){const[Er,Oo]=Vre(Ze,aU(Ure(Et)));at=jre(qt.body,Zre,Er,Oo)}}xn.isString(Ln)||(Ln=Ln?"include":"omit");const U=k&&"credentials"in d.prototype,en={...ln,signal:Fe,method:Ce.toUpperCase(),headers:mn.normalize().toJSON(),body:at,duplex:"half",credentials:U?Ln:void 0};En=k&&new d(Ee,en);let xt=await(k?et(En,ln):et(Ee,en));const Eo=te&&(P==="stream"||P==="response");if(te&&(Qt||Eo&&wn)){const qt={};["status","statusText","headers"].forEach(Ds=>{qt[Ds]=xt[Ds]});const us=xn.toFiniteNumber(xt.headers.get("content-length")),[Er,Oo]=Qt&&Vre(us,aU(Ure(Qt),!0))||[];xt=new g(jre(xt.body,Zre,Er,()=>{Oo&&Oo(),wn&&wn()}),qt)}P=P||"text";let eo=await Se[xn.findKey(Se,P)||"text"](xt,Le);return!Eo&&wn&&wn(),await new Promise((qt,us)=>{nce(qt,us,{data:eo,headers:fp.from(xt.headers),status:xt.status,statusText:xt.statusText,config:Le,request:En})})}catch(U){throw wn&&wn(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Li("Network Error",Li.ERR_NETWORK,Le,En),{cause:U.cause||U}):Li.from(U,U&&U.code,Le,En)}}},k0e=new Map,rce=r=>{let a=r&&r.env||{};const{fetch:d,Request:g,Response:C}=a,k=[g,C,d];let M=k.length,H=M,Y,V,te=k0e;for(;H--;)Y=k[H],V=te.get(Y),V===void 0&&te.set(Y,V=H?new Map:E0e(a)),te=V;return V};rce();const goe={http:W1e,xhr:w0e,fetch:{get:rce}};xn.forEach(goe,(r,a)=>{if(r){try{Object.defineProperty(r,"name",{value:a})}catch{}Object.defineProperty(r,"adapterName",{value:a})}});const Kre=r=>`- ${r}`,D0e=r=>xn.isFunction(r)||r===null||r===!1;function A0e(r,a){r=xn.isArray(r)?r:[r];const{length:d}=r;let g,C;const k={};for(let M=0;M<d;M++){g=r[M];let H;if(C=g,!D0e(g)&&(C=goe[(H=String(g)).toLowerCase()],C===void 0))throw new Li(`Unknown adapter '${H}'`);if(C&&(xn.isFunction(C)||(C=C.get(a))))break;k[H||"#"+M]=C}if(!C){const M=Object.entries(k).map(([Y,V])=>`adapter ${Y} `+(V===!1?"is not supported by the environment":"is not available in the build"));let H=d?M.length>1?`since :
`+M.map(Kre).join(`
`):" "+Kre(M[0]):"as no adapter specified";throw new Li("There is no suitable adapter to dispatch the request "+H,"ERR_NOT_SUPPORT")}return C}const ice={getAdapter:A0e,adapters:goe};function Ute(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new RO(null,r)}function Xre(r){return Ute(r),r.headers=fp.from(r.headers),r.data=Vte.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ice.getAdapter(r.adapter||hI.adapter,r)(r).then(function(g){return Ute(r),g.data=Vte.call(r,r.transformResponse,g),g.headers=fp.from(g.headers),g},function(g){return tce(g)||(Ute(r),g&&g.response&&(g.response.data=Vte.call(r,r.transformResponse,g.response),g.response.headers=fp.from(g.response.headers))),Promise.reject(g)})}const ace="1.13.1",PU={};["object","boolean","number","function","string","symbol"].forEach((r,a)=>{PU[r]=function(g){return typeof g===r||"a"+(a<1?"n ":" ")+r}});const Jre={};PU.transitional=function(a,d,g){function C(k,M){return"[Axios v"+ace+"] Transitional option '"+k+"'"+M+(g?". "+g:"")}return(k,M,H)=>{if(a===!1)throw new Li(C(M," has been removed"+(d?" in "+d:"")),Li.ERR_DEPRECATED);return d&&!Jre[M]&&(Jre[M]=!0,console.warn(C(M," has been deprecated since v"+d+" and will be removed in the near future"))),a?a(k,M,H):!0}};PU.spelling=function(a){return(d,g)=>(console.warn(`${g} is likely a misspelling of ${a}`),!0)};function O0e(r,a,d){if(typeof r!="object")throw new Li("options must be an object",Li.ERR_BAD_OPTION_VALUE);const g=Object.keys(r);let C=g.length;for(;C-- >0;){const k=g[C],M=a[k];if(M){const H=r[k],Y=H===void 0||M(H,k,r);if(Y!==!0)throw new Li("option "+k+" must be "+Y,Li.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new Li("Unknown option "+k,Li.ERR_BAD_OPTION)}}const YV={assertOptions:O0e,validators:PU},H1=YV.validators;let D_=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Hre,response:new Hre}}async request(a,d){try{return await this._request(a,d)}catch(g){if(g instanceof Error){let C={};Error.captureStackTrace?Error.captureStackTrace(C):C=new Error;const k=C.stack?C.stack.replace(/^.+\n/,""):"";try{g.stack?k&&!String(g.stack).endsWith(k.replace(/^.+\n.+\n/,""))&&(g.stack+=`
`+k):g.stack=k}catch{}}throw g}}_request(a,d){typeof a=="string"?(d=d||{},d.url=a):d=a||{},d=L_(this.defaults,d);const{transitional:g,paramsSerializer:C,headers:k}=d;g!==void 0&&YV.assertOptions(g,{silentJSONParsing:H1.transitional(H1.boolean),forcedJSONParsing:H1.transitional(H1.boolean),clarifyTimeoutError:H1.transitional(H1.boolean)},!1),C!=null&&(xn.isFunction(C)?d.paramsSerializer={serialize:C}:YV.assertOptions(C,{encode:H1.function,serialize:H1.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),YV.assertOptions(d,{baseUrl:H1.spelling("baseURL"),withXsrfToken:H1.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let M=k&&xn.merge(k.common,k[d.method]);k&&xn.forEach(["delete","get","head","post","put","patch","common"],Le=>{delete k[Le]}),d.headers=fp.concat(M,k);const H=[];let Y=!0;this.interceptors.request.forEach(function(Ee){typeof Ee.runWhen=="function"&&Ee.runWhen(d)===!1||(Y=Y&&Ee.synchronous,H.unshift(Ee.fulfilled,Ee.rejected))});const V=[];this.interceptors.response.forEach(function(Ee){V.push(Ee.fulfilled,Ee.rejected)});let te,Se=0,ye;if(!Y){const Le=[Xre.bind(this),void 0];for(Le.unshift(...H),Le.push(...V),ye=Le.length,te=Promise.resolve(d);Se<ye;)te=te.then(Le[Se++],Le[Se++]);return te}ye=H.length;let je=d;for(;Se<ye;){const Le=H[Se++],Ee=H[Se++];try{je=Le(je)}catch(Ce){Ee.call(this,Ce);break}}try{te=Xre.call(this,je)}catch(Le){return Promise.reject(Le)}for(Se=0,ye=V.length;Se<ye;)te=te.then(V[Se++],V[Se++]);return te}getUri(a){a=L_(this.defaults,a);const d=oce(a.baseURL,a.url,a.allowAbsoluteUrls);return Jle(d,a.params,a.paramsSerializer)}};xn.forEach(["delete","get","head","options"],function(a){D_.prototype[a]=function(d,g){return this.request(L_(g||{},{method:a,url:d,data:(g||{}).data}))}});xn.forEach(["post","put","patch"],function(a){function d(g){return function(k,M,H){return this.request(L_(H||{},{method:a,headers:g?{"Content-Type":"multipart/form-data"}:{},url:k,data:M}))}}D_.prototype[a]=d(),D_.prototype[a+"Form"]=d(!0)});let M0e=class lce{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(k){d=k});const g=this;this.promise.then(C=>{if(!g._listeners)return;let k=g._listeners.length;for(;k-- >0;)g._listeners[k](C);g._listeners=null}),this.promise.then=C=>{let k;const M=new Promise(H=>{g.subscribe(H),k=H}).then(C);return M.cancel=function(){g.unsubscribe(k)},M},a(function(k,M,H){g.reason||(g.reason=new RO(k,M,H),d(g.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const d=this._listeners.indexOf(a);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const a=new AbortController,d=g=>{a.abort(g)};return this.subscribe(d),a.signal.unsubscribe=()=>this.unsubscribe(d),a.signal}static source(){let a;return{token:new lce(function(C){a=C}),cancel:a}}};function N0e(r){return function(d){return r.apply(null,d)}}function R0e(r){return xn.isObject(r)&&r.isAxiosError===!0}const vne={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vne).forEach(([r,a])=>{vne[a]=r});function cce(r){const a=new D_(r),d=Hle(D_.prototype.request,a);return xn.extend(d,D_.prototype,a,{allOwnKeys:!0}),xn.extend(d,a,null,{allOwnKeys:!0}),d.create=function(C){return cce(L_(r,C))},d}const Fu=cce(hI);Fu.Axios=D_;Fu.CanceledError=RO;Fu.CancelToken=M0e;Fu.isCancel=tce;Fu.VERSION=ace;Fu.toFormData=LU;Fu.AxiosError=Li;Fu.Cancel=Fu.CanceledError;Fu.all=function(a){return Promise.all(a)};Fu.spread=N0e;Fu.isAxiosError=R0e;Fu.mergeConfig=L_;Fu.AxiosHeaders=fp;Fu.formToJSON=r=>ece(xn.isHTMLForm(r)?new FormData(r):r);Fu.getAdapter=ice.getAdapter;Fu.HttpStatusCode=vne;Fu.default=Fu;const{Axios:twe,AxiosError:nwe,CanceledError:owe,isCancel:swe,CancelToken:rwe,VERSION:iwe,all:awe,Cancel:lwe,isAxiosError:cwe,spread:uwe,toFormData:dwe,AxiosHeaders:fwe,HttpStatusCode:hwe,formToJSON:mwe,getAdapter:pwe,mergeConfig:gwe}=Fu;window.jQuery=window.$=aw;window.bootstrap=Yae;window.Popper=void 0;window.moment=Ms();window.tempusDominus=Qbe;window.CodeMirror=n1e;window.axios=Fu;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*! DataTables 2.3.4
 * Â© SpryMedia Ltd - datatables.net/license
 */var st=aw,$t=function(r,a){if($t.factory(r,a))return $t;if(this instanceof $t)return st(r).DataTable(a);a=r;var d=this,g=a===void 0,C=this.length;return g&&(a={}),this.api=function(){return new va(this)},this.each(function(){var k={},M=C>1?lie(k,a,!0):a,H=0,Y,V=this.getAttribute("id"),te=$t.defaults,Se=st(this);if(this.nodeName.toLowerCase()!="table"){tv(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}M.on&&M.on.options&&cie(Se,"options",M.on.options),Se.trigger("options.dt",M),eie(te),mce(te.column),RS(te,te,!0),RS(te.column,te.column,!0),RS(te,st.extend(M,Mce(Se.data())),!0);var ye=$t.settings;for(H=0,Y=ye.length;H<Y;H++){var je=ye[H];if(je.nTable==this||je.nTHead&&je.nTHead.parentNode==this||je.nTFoot&&je.nTFoot.parentNode==this){var Le=M.bRetrieve!==void 0?M.bRetrieve:te.bRetrieve,Ee=M.bDestroy!==void 0?M.bDestroy:te.bDestroy;if(g||Le)return je.oInstance;if(Ee){new $t.Api(je).destroy();break}else{tv(je,0,"Cannot reinitialise DataTable",3);return}}if(je.sTableId==this.id){ye.splice(H,1);break}}(V===null||V==="")&&(V="DataTables_Table_"+$t.ext._unique++,this.id=V),Se.children("colgroup").remove();var Ce=st.extend(!0,{},$t.models.oSettings,{sDestroyWidth:Se[0].style.width,sInstance:V,sTableId:V,colgroup:st("<colgroup>").prependTo(this),fastData:function(Ze,U,en){return lv(Ce,Ze,U,en)}});Ce.nTable=this,Ce.oInit=M,ye.push(Ce),Ce.api=new va(Ce),Ce.oInstance=d.length===1?d:Se.dataTable(),eie(M),M.aLengthMenu&&!M.iDisplayLength&&(M.iDisplayLength=Array.isArray(M.aLengthMenu[0])?M.aLengthMenu[0][0]:st.isPlainObject(M.aLengthMenu[0])?M.aLengthMenu[0].value:M.aLengthMenu[0]),M=lie(st.extend(!0,{},te),M),PS(Ce.oFeatures,M,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),PS(Ce,M,["ajax","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","iStateDuration","bSortCellsTop","iTabIndex","sDom","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId","caption","layout","orderDescReverse","orderIndicators","orderHandler","titleRow","typeDetect",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),PS(Ce.oScroll,M,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),PS(Ce.oLanguage,M,"fnInfoCallback"),Qg(Ce,"aoDrawCallback",M.fnDrawCallback),Qg(Ce,"aoStateSaveParams",M.fnStateSaveParams),Qg(Ce,"aoStateLoadParams",M.fnStateLoadParams),Qg(Ce,"aoStateLoaded",M.fnStateLoaded),Qg(Ce,"aoRowCallback",M.fnRowCallback),Qg(Ce,"aoRowCreatedCallback",M.fnCreatedRow),Qg(Ce,"aoHeaderCallback",M.fnHeaderCallback),Qg(Ce,"aoFooterCallback",M.fnFooterCallback),Qg(Ce,"aoInitComplete",M.fnInitComplete),Qg(Ce,"aoPreDrawCallback",M.fnPreDrawCallback),Ce.rowIdFn=SO(M.rowId),M.on&&Object.keys(M.on).forEach(function(Ze){cie(Se,Ze,M.on[Ze])}),$0e(Ce);var at=Ce.oClasses;st.extend(at,$t.ext.classes,M.oClasses),Se.addClass(at.table),Ce.oFeatures.bPaginate||(M.iDisplayStart=0),Ce.iInitDisplayStart===void 0&&(Ce.iInitDisplayStart=M.iDisplayStart,Ce._iDisplayStart=M.iDisplayStart);var Je=M.iDeferLoading;if(Je!==null){Ce.deferLoading=!0;var xe=Array.isArray(Je);Ce._iRecordsDisplay=xe?Je[0]:Je,Ce._iRecordsTotal=xe?Je[1]:Je}var dt=[],Qt=this.getElementsByTagName("thead"),Et=Cce(Ce,Qt[0]);if(M.aoColumns)dt=M.aoColumns;else if(Et.length)for(H=0,Y=Et[0].length;H<Y;H++)dt.push(null);for(H=0,Y=dt.length;H<Y;H++)pce(Ce);V0e(Ce,M.aoColumnDefs,dt,Et,function(Ze,U){bne(Ce,Ze,U)});var P=Se.children("tbody").find("tr:first-child").eq(0);if(P.length){var mn=function(Ze,U){return Ze.getAttribute("data-"+U)!==null?U:null};st(P[0]).children("th, td").each(function(Ze,U){var en=Ce.aoColumns[Ze];if(en||tv(Ce,0,"Incorrect column count",18),en.mData===Ze){var xt=mn(U,"sort")||mn(U,"order"),Eo=mn(U,"filter")||mn(U,"search");(xt!==null||Eo!==null)&&(en.mData={_:Ze+".display",sort:xt!==null?Ze+".@data-"+xt:void 0,type:xt!==null?Ze+".@data-"+xt:void 0,filter:Eo!==null?Ze+".@data-"+Eo:void 0},en._isArrayHost=!0,bne(Ce,Ze))}})}Qg(Ce,"aoDrawCallback",VU);var Ln=Ce.oFeatures;if(M.bStateSave&&(Ln.bStateSave=!0),M.aaSorting===void 0){var ln=Ce.aaSorting;for(H=0,Y=ln.length;H<Y;H++)ln[H][1]=Ce.aoColumns[H].asSorting[0]}Cne(Ce),Qg(Ce,"aoDrawCallback",function(){(Ce.bSorted||tg(Ce)==="ssp"||Ln.bDeferRender)&&Cne(Ce)});var et=Se.children("caption");Ce.caption&&(et.length===0&&(et=st("<caption/>").appendTo(Se)),et.html(Ce.caption)),et.length&&(et[0]._captionSide=et.css("caption-side"),Ce.captionNode=et[0]),Qt.length===0&&(Qt=st("<thead/>").appendTo(Se)),Ce.nTHead=Qt[0];var Fe=Se.children("tbody");Fe.length===0&&(Fe=st("<tbody/>").insertAfter(Qt)),Ce.nTBody=Fe[0];var En=Se.children("tfoot");En.length===0&&(En=st("<tfoot/>").appendTo(Se)),Ce.nTFoot=En[0],Ce.aiDisplay=Ce.aiDisplayMaster.slice(),Ce.bInitialised=!0;var wn=Ce.oLanguage;st.extend(!0,wn,M.oLanguage),wn.sUrl?st.ajax({dataType:"json",url:wn.sUrl,success:function(Ze){RS(te.oLanguage,Ze),st.extend(!0,wn,Ze,Ce.oInit.oLanguage),el(Ce,null,"i18n",[Ce],!0),KV(Ce)},error:function(){tv(Ce,0,"i18n file loading error",21),KV(Ce)}}):(el(Ce,null,"i18n",[Ce],!0),KV(Ce))}),d=null,this};$t.ext=of={builder:"-source-",buttons:{},ccContent:{},classes:{},errMode:"alert",escape:{attributes:!1},feature:[],features:{},search:[],selector:{cell:[],column:[],row:[]},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{className:{},detect:[],render:{},search:{},order:{}},_unique:0,fnVersionCheck:$t.fnVersionCheck,iApiIndex:0,sVersion:$t.version};st.extend(of,{afnFiltering:of.search,aTypes:of.type.detect,ofnSearch:of.type.search,oSort:of.type.order,afnSortData:of.order,aoFeatures:of.feature,oStdClasses:of.classes,oPagination:of.pager});st.extend($t.ext.classes,{container:"dt-container",empty:{row:"dt-empty"},info:{container:"dt-info"},layout:{row:"dt-layout-row",cell:"dt-layout-cell",tableRow:"dt-layout-table",tableCell:"",start:"dt-layout-start",end:"dt-layout-end",full:"dt-layout-full"},length:{container:"dt-length",select:"dt-input"},order:{canAsc:"dt-orderable-asc",canDesc:"dt-orderable-desc",isAsc:"dt-ordering-asc",isDesc:"dt-ordering-desc",none:"dt-orderable-none",position:"sorting_"},processing:{container:"dt-processing"},scrolling:{body:"dt-scroll-body",container:"dt-scroll",footer:{self:"dt-scroll-foot",inner:"dt-scroll-footInner"},header:{self:"dt-scroll-head",inner:"dt-scroll-headInner"}},search:{container:"dt-search",input:"dt-input"},table:"dataTable",tbody:{cell:"",row:""},thead:{cell:"",row:""},tfoot:{cell:"",row:""},paging:{active:"current",button:"dt-paging-button",container:"dt-paging",disabled:"disabled",nav:""}});var of,va,Qs,Ml,Wte={},L0e=/[\r\n\u2028]/g,voe=/<([^>]*>)/g,P0e=Math.pow(2,28),Qre=/^\d{2,4}[./-]\d{1,2}[./-]\d{1,2}([T ]{1}\d{1,2}[:.]\d{2}([.:]\d{2})?)?$/,I0e=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),boe=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,Kp=function(r){return!r||r===!0||r==="-"},uce=function(r){var a=parseInt(r,10);return!isNaN(a)&&isFinite(r)?a:null},dce=function(r,a){return Wte[a]||(Wte[a]=new RegExp(wne(a),"g")),typeof r=="string"&&a!=="."?r.replace(/\./g,"").replace(Wte[a],"."):r},YP=function(r,a,d,g){var C=typeof r,k=C==="string";return C==="number"||C==="bigint"||g&&Kp(r)?!0:(a&&k&&(r=dce(r,a)),d&&k&&(r=r.replace(boe,"")),!isNaN(parseFloat(r))&&isFinite(r))},F0e=function(r){return Kp(r)||typeof r=="string"},lU=function(r,a,d,g){if(g&&Kp(r))return!0;if(typeof r=="string"&&r.match(/<(input|select)/i))return null;var C=F0e(r);return C&&YP(iw(r),a,d,g)?!0:null},hh=function(r,a,d){var g=[],C=0,k=r.length;if(d!==void 0)for(;C<k;C++)r[C]&&r[C][a]&&g.push(r[C][a][d]);else for(;C<k;C++)r[C]&&g.push(r[C][a]);return g},mI=function(r,a,d,g){var C=[],k=0,M=a.length;if(g!==void 0)for(;k<M;k++)r[a[k]]&&r[a[k]][d]&&C.push(r[a[k]][d][g]);else for(;k<M;k++)r[a[k]]&&C.push(r[a[k]][d]);return C},OS=function(r,a){var d=[],g;a===void 0?(a=0,g=r):(g=a,a=r);for(var C=a;C<g;C++)d.push(C);return d},fce=function(r){for(var a=[],d=0,g=r.length;d<g;d++)r[d]&&a.push(r[d]);return a},iw=function(r){if(!r||typeof r!="string")return r;if(r.length>P0e)throw new Error("Exceeded max str len");var a;r=r.replace(voe,"");do a=r,r=r.replace(/<script/i,"");while(r!==a);return a},A_=function(r){return Array.isArray(r)&&(r=r.join(",")),typeof r=="string"?r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):r},cU=function(r,a){if(typeof r!="string")return r;var d=r.normalize?r.normalize("NFD"):r;return d.length!==r.length?(a===!0?r+" ":"")+d.replace(/[\u0300-\u036f]/g,""):d},B0e=function(r){if(r.length<2)return!0;for(var a=r.slice().sort(),d=a[0],g=1,C=a.length;g<C;g++){if(a[g]===d)return!1;d=a[g]}return!0},LO=function(r){if(Array.from&&Set)return Array.from(new Set(r));if(B0e(r))return r.slice();var a=[],d,g,C=r.length,k,M=0;e:for(g=0;g<C;g++){for(d=r[g],k=0;k<M;k++)if(a[k]===d)continue e;a.push(d),M++}return a},hce=function(r,a){if(Array.isArray(a))for(var d=0;d<a.length;d++)hce(r,a[d]);else r.push(a);return r};function hO(r,a){a&&a.split(" ").forEach(function(d){d&&r.classList.add(d)})}$t.util={diacritics:function(r,a){var d=typeof r;if(d!=="function")return cU(r,a);cU=r},debounce:function(r,a){var d;return function(){var g=this,C=arguments;clearTimeout(d),d=setTimeout(function(){r.apply(g,C)},a||250)}},throttle:function(r,a){var d=a!==void 0?a:200,g,C;return function(){var k=this,M=+new Date,H=arguments;g&&M<g+d?(clearTimeout(C),C=setTimeout(function(){g=void 0,r.apply(k,H)},d)):(g=M,r.apply(k,H))}},escapeRegex:function(r){return r.replace(I0e,"\\$1")},set:function(r){if(st.isPlainObject(r))return $t.util.set(r._);if(r===null)return function(){};if(typeof r=="function")return function(d,g,C){r(d,"set",g,C)};if(typeof r=="string"&&(r.indexOf(".")!==-1||r.indexOf("[")!==-1||r.indexOf("(")!==-1)){var a=function(d,g,C){for(var k=nie(C),M,H=k[k.length-1],Y,V,te,Se,ye=0,je=k.length-1;ye<je;ye++){if(k[ye]==="__proto__"||k[ye]==="constructor")throw new Error("Cannot set prototype values");if(Y=k[ye].match(FP),V=k[ye].match(nO),Y){if(k[ye]=k[ye].replace(FP,""),d[k[ye]]=[],M=k.slice(),M.splice(0,ye+1),Se=M.join("."),Array.isArray(g))for(var Le=0,Ee=g.length;Le<Ee;Le++)te={},a(te,g[Le],Se),d[k[ye]].push(te);else d[k[ye]]=g;return}else V&&(k[ye]=k[ye].replace(nO,""),d=d[k[ye]](g));(d[k[ye]]===null||d[k[ye]]===void 0)&&(d[k[ye]]={}),d=d[k[ye]]}H.match(nO)?d=d[H.replace(nO,"")](g):d[H.replace(FP,"")]=g};return function(d,g){return a(d,g,r)}}else return function(d,g){d[r]=g}},get:function(r){if(st.isPlainObject(r)){var a={};return st.each(r,function(g,C){C&&(a[g]=$t.util.get(C))}),function(g,C,k,M){var H=a[C]||a._;return H!==void 0?H(g,C,k,M):g}}else{if(r===null)return function(g){return g};if(typeof r=="function")return function(g,C,k,M){return r(g,C,k,M)};if(typeof r=="string"&&(r.indexOf(".")!==-1||r.indexOf("[")!==-1||r.indexOf("(")!==-1)){var d=function(g,C,k){var M,H,Y,V;if(k!=="")for(var te=nie(k),Se=0,ye=te.length;Se<ye;Se++){if(M=te[Se].match(FP),H=te[Se].match(nO),M){if(te[Se]=te[Se].replace(FP,""),te[Se]!==""&&(g=g[te[Se]]),Y=[],te.splice(0,Se+1),V=te.join("."),Array.isArray(g))for(var je=0,Le=g.length;je<Le;je++)Y.push(d(g[je],C,V));var Ee=M[0].substring(1,M[0].length-1);g=Ee===""?Y:Y.join(Ee);break}else if(H){te[Se]=te[Se].replace(nO,""),g=g[te[Se]]();continue}if(g===null||g[te[Se]]===null)return null;if(g===void 0||g[te[Se]]===void 0)return;g=g[te[Se]]}return g};return function(g,C){return d(g,C,r)}}else return function(g){return g[r]}}},stripHtml:function(r){var a=typeof r;if(a==="function"){iw=r;return}else if(a==="string")return iw(r);return r},escapeHtml:function(r){var a=typeof r;if(a==="function"){A_=r;return}else if(a==="string"||Array.isArray(r))return A_(r);return r},unique:LO};function IU(r){var a="a aa ai ao as b fn i m o s ",d,g,C={};st.each(r,function(k){d=k.match(/^([^A-Z]+?)([A-Z])/),d&&a.indexOf(d[1]+" ")!==-1&&(g=k.replace(d[0],d[2].toLowerCase()),C[g]=k,d[1]==="o"&&IU(r[k]))}),r._hungarianMap=C}function RS(r,a,d){r._hungarianMap||IU(r);var g;st.each(a,function(C){g=r._hungarianMap[C],g!==void 0&&(d||a[g]===void 0)&&(g.charAt(0)==="o"?(a[g]||(a[g]={}),st.extend(!0,a[g],a[C]),RS(r[g],a[g],d)):a[g]=a[C])})}var cp=function(r,a,d){r[a]!==void 0&&(r[d]=r[a])};function eie(r){cp(r,"ordering","bSort"),cp(r,"orderMulti","bSortMulti"),cp(r,"orderClasses","bSortClasses"),cp(r,"orderCellsTop","bSortCellsTop"),cp(r,"order","aaSorting"),cp(r,"orderFixed","aaSortingFixed"),cp(r,"paging","bPaginate"),cp(r,"pagingType","sPaginationType"),cp(r,"pageLength","iDisplayLength"),cp(r,"searching","bFilter"),typeof r.sScrollX=="boolean"&&(r.sScrollX=r.sScrollX?"100%":""),typeof r.scrollX=="boolean"&&(r.scrollX=r.scrollX?"100%":""),typeof r.bSort=="object"?(r.orderIndicators=r.bSort.indicators!==void 0?r.bSort.indicators:!0,r.orderHandler=r.bSort.handler!==void 0?r.bSort.handler:!0,r.bSort=!0):r.bSort===!1?(r.orderIndicators=!1,r.orderHandler=!1):r.bSort===!0&&(r.orderIndicators=!0,r.orderHandler=!0),typeof r.bSortCellsTop=="boolean"&&(r.titleRow=r.bSortCellsTop);var a=r.aoSearchCols;if(a)for(var d=0,g=a.length;d<g;d++)a[d]&&RS($t.models.oSearch,a[d]);r.serverSide&&!r.searchDelay&&(r.searchDelay=400)}function mce(r){cp(r,"orderable","bSortable"),cp(r,"orderData","aDataSort"),cp(r,"orderSequence","asSorting"),cp(r,"orderDataType","sortDataType");var a=r.aDataSort;typeof a=="number"&&!Array.isArray(a)&&(r.aDataSort=[a])}function $0e(r){if(!$t.__browser){var a={};$t.__browser=a;var d=st("<div/>").css({position:"fixed",top:0,left:-1*window.pageXOffset,height:1,width:1,overflow:"hidden"}).append(st("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(st("<div/>").css({width:"100%",height:10}))).appendTo("body"),g=d.children(),C=g.children();a.barWidth=g[0].offsetWidth-g[0].clientWidth,a.bScrollbarLeft=Math.round(C.offset().left)!==1,d.remove()}st.extend(r.oBrowser,$t.__browser),r.oScroll.iBarWidth=$t.__browser.barWidth}function pce(r){var a=$t.defaults.column,d=r.aoColumns.length,g=st.extend({},$t.models.oColumn,a,{aDataSort:a.aDataSort?a.aDataSort:[d],mData:a.mData?a.mData:d,idx:d,searchFixed:{},colEl:st("<col>").attr("data-dt-column",d)});r.aoColumns.push(g);var C=r.aoPreSearchCols;C[d]=st.extend({},$t.models.oSearch,C[d])}function bne(r,a,d){var g=r.aoColumns[a];if(d!=null){mce(d),RS($t.defaults.column,d,!0),d.mDataProp!==void 0&&!d.mData&&(d.mData=d.mDataProp),d.sType&&(g._sManualType=d.sType),d.className&&!d.sClass&&(d.sClass=d.className);var C=g.sClass;st.extend(g,d),PS(g,d,"sWidth","sWidthOrig"),C!==g.sClass&&(g.sClass=C+" "+g.sClass),d.iDataSort!==void 0&&(g.aDataSort=[d.iDataSort]),PS(g,d,"aDataSort")}var k=g.mData,M=SO(k);if(g.mRender&&Array.isArray(g.mRender)){var H=g.mRender.slice(),Y=H.shift();g.mRender=$t.render[Y].apply(window,H)}g._render=g.mRender?SO(g.mRender):null;var V=function(te){return typeof te=="string"&&te.indexOf("@")!==-1};g._bAttrSrc=st.isPlainObject(k)&&(V(k.sort)||V(k.type)||V(k.filter)),g._setter=null,g.fnGetData=function(te,Se,ye){var je=M(te,Se,void 0,ye);return g._render&&Se?g._render(je,Se,te,ye):je},g.fnSetData=function(te,Se,ye){return __(k)(te,Se,ye)},typeof k!="number"&&!g._isArrayHost&&(r._rowReadObject=!0),r.oFeatures.bSort||(g.bSortable=!1)}function FU(r){oye(r),H0e(r);var a=r.oScroll;(a.sY!==""||a.sX!=="")&&Tce(r),el(r,null,"column-sizing",[r])}function H0e(r){for(var a=r.aoColumns,d=0;d<a.length;d++){var g=gce(r,[d],!1);a[d].colEl.css("width",g),r.oScroll.sX&&a[d].colEl.css("min-width",g)}}function yoe(r,a){var d=woe(r,"bVisible");return typeof d[a]=="number"?d[a]:null}function pI(r,a){var d=woe(r,"bVisible"),g=d.indexOf(a);return g!==-1?g:null}function BU(r){var a=r.aoHeader,d=r.aoColumns,g=0;if(a.length)for(var C=0,k=a[0].length;C<k;C++)d[C].bVisible&&st(a[0][C].cell).css("display")!=="none"&&g++;return g}function woe(r,a){var d=[];return r.aoColumns.map(function(g,C){g[a]&&d.push(C)}),d}function jte(r,a){return a===!0?r._name:a}function $U(r){var a=r.aoColumns,d=r.aoData,g=$t.ext.type.detect,C,k,M,H,Y,V,te,Se,ye;for(C=0,k=a.length;C<k;C++){if(te=a[C],ye=[],!te.sType&&te._sManualType)te.sType=te._sManualType;else if(!te.sType){if(!r.typeDetect)return;for(M=0,H=g.length;M<H;M++){var je=g[M],Le=je.oneOf,Ee=je.allOf||je,Ce=je.init,at=!1;if(Se=null,Ce&&(Se=jte(je,Ce(r,te,C)),Se)){te.sType=Se;break}for(Y=0,V=d.length;Y<V&&!(d[Y]&&(ye[Y]===void 0&&(ye[Y]=lv(r,Y,C,"type")),Le&&!at&&(at=jte(je,Le(ye[Y],r))),Se=jte(je,Ee(ye[Y],r)),!Se&&M!==g.length-3||Se==="html"&&!Kp(ye[Y])));Y++);if(Le&&at&&Se||!Le&&Se){te.sType=Se;break}}te.sType||(te.sType="string")}var Je=of.type.className[te.sType];Je&&(tie(r.aoHeader,C,Je),tie(r.aoFooter,C,Je));var xe=of.type.render[te.sType];xe&&!te._render&&(te._render=$t.util.get(xe),z0e(r,C))}}function z0e(r,a){for(var d=r.aoData,g=0;g<d.length;g++)if(d[g].nTr){var C=lv(r,g,a,"display");d[g].displayData[a]=C,uU(d[g].anCells[a],C)}}function tie(r,a,d){r.forEach(function(g){g[a]&&g[a].unique&&hO(g[a].cell,d)})}function V0e(r,a,d,g,C){var k,M,H,Y,V,te,Se,ye=r.aoColumns;if(d)for(k=0,M=d.length;k<M;k++)d[k]&&d[k].name&&(ye[k].sName=d[k].name);if(a)for(k=a.length-1;k>=0;k--){Se=a[k];var je=Se.target!==void 0?Se.target:Se.targets!==void 0?Se.targets:Se.aTargets;for(Array.isArray(je)||(je=[je]),H=0,Y=je.length;H<Y;H++){var Le=je[H];if(typeof Le=="number"&&Le>=0){for(;ye.length<=Le;)pce(r);C(Le,Se)}else if(typeof Le=="number"&&Le<0)C(ye.length+Le,Se);else if(typeof Le=="string")for(V=0,te=ye.length;V<te;V++)Le==="_all"?C(V,Se):Le.indexOf(":name")!==-1?ye[V].sName===Le.replace(":name","")&&C(V,Se):g.forEach(function(Ee){if(Ee[V]){var Ce=st(Ee[V].cell);Le.match(/^[a-z][\w-]*$/i)&&(Le="."+Le),Ce.is(Le)&&C(V,Se)}})}}if(d)for(k=0,M=d.length;k<M;k++)C(k,d[k])}function gce(r,a,d,g){Array.isArray(a)||(a=Coe(a));for(var C=0,k,M=r.aoColumns,H=0,Y=a.length;H<Y;H++){var V=M[a[H]],te=d?V.sWidthOrig:V.sWidth;if(V.bVisible!==!1){if(te==null)return null;if(typeof te=="number")k="px",C+=te;else{var Se=te.match(/([\d\.]+)([^\d]*)/);Se&&(C+=Se[1]*1,k=Se.length===3?Se[2]:"px")}}}return C+k}function Coe(r){var a=st(r).closest("[data-dt-column]").attr("data-dt-column");return a?a.split(",").map(function(d){return d*1}):[]}function P_(r,a,d,g){var C=r.aoData.length,k=st.extend(!0,{},$t.models.oRow,{src:d?"dom":"data",idx:C});k._aData=a,r.aoData.push(k);for(var M=r.aoColumns,H=0,Y=M.length;H<Y;H++)M[H].sType=null;r.aiDisplayMaster.push(C);var V=r.rowIdFn(a);return V!==void 0&&(r.aIds[V]=k),(d||!r.oFeatures.bDeferRender)&&bce(r,C,d,g),C}function Soe(r,a){var d;return a instanceof st||(a=st(a)),a.map(function(g,C){return d=vce(r,C),P_(r,d.data,C,d.cells)})}function lv(r,a,d,g){g==="search"?g="filter":g==="order"&&(g="sort");var C=r.aoData[a];if(C){var k=r.iDraw,M=r.aoColumns[d],H=C._aData,Y=M.sDefaultContent,V=M.fnGetData(H,g,{settings:r,row:a,col:d});if(g!=="display"&&V&&typeof V=="object"&&V.nodeName&&(V=V.innerHTML),V===void 0)return r.iDrawError!=k&&Y===null&&(tv(r,0,"Requested unknown parameter "+(typeof M.mData=="function"?"{function}":"'"+M.mData+"'")+" for row "+a+", column "+d,4),r.iDrawError=k),Y;if((V===H||V===null)&&Y!==null&&g!==void 0)V=Y;else if(typeof V=="function")return V.call(H);if(V===null&&g==="display")return"";if(g==="filter"){var te=$t.ext.type.search;te[M.sType]&&(V=te[M.sType](V))}return V}}function U0e(r,a,d,g){var C=r.aoColumns[d],k=r.aoData[a]._aData;C.fnSetData(k,g,{settings:r,row:a,col:d})}function uU(r,a){a&&typeof a=="object"&&a.nodeName?st(r).empty().append(a):r.innerHTML=a}var FP=/\[.*?\]$/,nO=/\(\)$/;function nie(r){var a=r.match(/(\\.|[^.])+/g)||[""];return a.map(function(d){return d.replace(/\\\./g,".")})}var SO=$t.util.get,__=$t.util.set;function oie(r){return hh(r.aoData,"_aData")}function xoe(r){r.aoData.length=0,r.aiDisplayMaster.length=0,r.aiDisplay.length=0,r.aIds={}}function HU(r,a,d,g){var C=r.aoData[a],k,M;if(C._aSortData=null,C._aFilterData=null,C.displayData=null,d==="dom"||(!d||d==="auto")&&C.src==="dom")C._aData=vce(r,C,g,g===void 0?void 0:C._aData).data;else{var H=C.anCells,Y=_oe(r,a);if(H)if(g!==void 0)uU(H[g],Y[g]);else for(k=0,M=H.length;k<M;k++)uU(H[k],Y[k])}var V=r.aoColumns;if(g!==void 0)V[g].sType=null,V[g].maxLenString=null;else{for(k=0,M=V.length;k<M;k++)V[k].sType=null,V[k].maxLenString=null;yce(r,C)}}function vce(r,a,d,g){var C=[],k=a.firstChild,M,H,Y=0,V,te=r.aoColumns,Se=r._rowReadObject;g=g!==void 0?g:Se?{}:[];var ye=function(Je,xe){if(typeof Je=="string"){var dt=Je.indexOf("@");if(dt!==-1){var Qt=Je.substring(dt+1),Et=__(Je);Et(g,xe.getAttribute(Qt))}}},je=function(Je){if(d===void 0||d===Y)if(H=te[Y],V=Je.innerHTML.trim(),H&&H._bAttrSrc){var xe=__(H.mData._);xe(g,V),ye(H.mData.sort,Je),ye(H.mData.type,Je),ye(H.mData.filter,Je)}else Se?(H._setter||(H._setter=__(H.mData)),H._setter(g,V)):g[Y]=V;Y++};if(k)for(;k;)M=k.nodeName.toUpperCase(),(M=="TD"||M=="TH")&&(je(k),C.push(k)),k=k.nextSibling;else{C=a.anCells;for(var Le=0,Ee=C.length;Le<Ee;Le++)je(C[Le])}var Ce=a.firstChild?a:a.nTr;if(Ce){var at=Ce.getAttribute("id");at&&__(r.rowId)(g,at)}return{data:g,cells:C}}function _oe(r,a){var d=r.aoData[a],g=r.aoColumns;if(!d.displayData){d.displayData=[];for(var C=0,k=g.length;C<k;C++)d.displayData.push(lv(r,a,C,"display"))}return d.displayData}function bce(r,a,d,g){var C=r.aoData[a],k=C._aData,M=[],H,Y,V,te,Se,ye,je=r.oClasses.tbody.row;if(C.nTr===null){for(H=d||document.createElement("tr"),C.nTr=H,C.anCells=M,hO(H,je),H._DT_RowIndex=a,yce(r,C),te=0,Se=r.aoColumns.length;te<Se;te++){V=r.aoColumns[te],ye=!(d&&g[te]),Y=ye?document.createElement(V.sCellType):g[te],Y||tv(r,0,"Incorrect column count",18),Y._DT_CellIndex={row:a,column:te},M.push(Y);var Le=_oe(r,a);(ye||(V.mRender||V.mData!==te)&&(!st.isPlainObject(V.mData)||V.mData._!==te+".display"))&&uU(Y,Le[te]),hO(Y,V.sClass),V.bVisible&&ye?H.appendChild(Y):!V.bVisible&&!ye&&Y.parentNode.removeChild(Y),V.fnCreatedCell&&V.fnCreatedCell.call(r.oInstance,Y,lv(r,a,te),k,a,te)}el(r,"aoRowCreatedCallback","row-created",[H,k,a,M])}else hO(C.nTr,je)}function yce(r,a){var d=a.nTr,g=a._aData;if(d){var C=r.rowIdFn(g);if(C&&(d.id=C),g.DT_RowClass){var k=g.DT_RowClass.split(" ");a.__rowc=a.__rowc?LO(a.__rowc.concat(k)):k,st(d).removeClass(a.__rowc.join(" ")).addClass(g.DT_RowClass)}g.DT_RowAttr&&st(d).attr(g.DT_RowAttr),g.DT_RowData&&st(d).data(g.DT_RowData)}}function sie(r,a){var d=r.oClasses,g=r.aoColumns,C,k,M,H=a==="header"?r.nTHead:r.nTFoot,Y=a==="header"?"sTitle":a;if(H){if((a==="header"||hh(r.aoColumns,Y).join(""))&&(M=st("tr",H),M.length||(M=st("<tr/>").appendTo(H)),M.length===1)){var V=0;for(st("td, th",M).each(function(){V+=this.colSpan}),C=V,k=g.length;C<k;C++)st("<th/>").html(g[C][Y]||"").appendTo(M)}var te=Cce(r,H,!0);a==="header"?(r.aoHeader=te,st("tr",H).addClass(d.thead.row)):(r.aoFooter=te,st("tr",H).addClass(d.tfoot.row)),st(H).children("tr").children("th, td").each(function(){hU(r,a)(r,st(this),d)})}}function wce(r,a,d){var g,C,k,M=[],H=[],Y=r.aoColumns,V=Y.length,te,Se;if(a){for(d||(d=OS(V).filter(function(Le){return Y[Le].bVisible})),g=0;g<a.length;g++)M[g]=a[g].slice().filter(function(Le,Ee){return d.includes(Ee)}),H.push([]);for(g=0;g<M.length;g++)for(C=0;C<M[g].length;C++)if(te=1,Se=1,H[g][C]===void 0){for(k=M[g][C].cell;M[g+te]!==void 0&&M[g][C].cell==M[g+te][C].cell;)H[g+te][C]=null,te++;for(;M[g][C+Se]!==void 0&&M[g][C].cell==M[g][C+Se].cell;){for(var ye=0;ye<te;ye++)H[g+ye][C+Se]=null;Se++}var je=st("span.dt-column-title",k);H[g][C]={cell:k,colspan:Se,rowspan:te,title:je.length?je.html():st(k).html()}}return H}}function dU(r,a){for(var d=wce(r,a),g,C,k=0;k<a.length;k++){if(g=a[k].row,g)for(;C=g.firstChild;)g.removeChild(C);for(var M=0;M<d[k].length;M++){var H=d[k][M];H&&st(H.cell).appendTo(g).attr("rowspan",H.rowspan).attr("colspan",H.colspan)}}}function PO(r,a){Y0e(r);var d=el(r,"aoPreDrawCallback","preDraw",[r]);if(d.indexOf(!1)!==-1){Xp(r,!1);return}var g=[],C=0,k=tg(r)=="ssp",M=r.aiDisplay,H=r._iDisplayStart,Y=r.fnDisplayEnd(),V=r.aoColumns,te=st(r.nTBody);if(r.bDrawing=!0,r.deferLoading)r.deferLoading=!1,r.iDraw++,Xp(r,!1);else if(!k)r.iDraw++;else if(!r.bDestroying&&!a){r.iDraw===0&&te.empty().append(rie(r)),G0e(r);return}if(M.length!==0)for(var Se=k?0:H,ye=k?r.aoData.length:Y,je=Se;je<ye;je++){var Le=M[je],Ee=r.aoData[Le];Ee.nTr===null&&bce(r,Le);for(var Ce=Ee.nTr,at=0;at<V.length;at++){var Je=V[at],xe=Ee.anCells[at];hO(xe,of.type.className[Je.sType]),hO(xe,r.oClasses.tbody.cell)}el(r,"aoRowCallback",null,[Ce,Ee._aData,C,je,Le]),g.push(Ce),C++}else g[0]=rie(r);el(r,"aoHeaderCallback","header",[st(r.nTHead).children("tr")[0],oie(r),H,Y,M]),el(r,"aoFooterCallback","footer",[st(r.nTFoot).children("tr")[0],oie(r),H,Y,M]),te[0].replaceChildren?te[0].replaceChildren.apply(te[0],g):(te.children().detach(),te.append(st(g))),st(r.nTableWrapper).toggleClass("dt-empty-footer",st("tr",r.nTFoot).length===0),el(r,"aoDrawCallback","draw",[r],!0),r.bSorted=!1,r.bFiltered=!1,r.bDrawing=!1}function xO(r,a,d){var g=r.oFeatures,C=g.bSort,k=g.bFilter;(d===void 0||d===!0)&&($U(r),C&&koe(r),k?KP(r,r.oPreviousSearch):r.aiDisplay=r.aiDisplayMaster.slice()),a!==!0&&(r._iDisplayStart=0),r._drawHold=a,PO(r),r.api.one("draw",function(){r._drawHold=!1})}function rie(r){var a=r.oLanguage,d=a.sZeroRecords,g=tg(r);return(g==="ssp"||g==="ajax")&&!r.json?d=a.sLoadingRecords:a.sEmptyTable&&r.fnRecordsTotal()===0&&(d=a.sEmptyTable),st("<tr/>").append(st("<td />",{colSpan:BU(r),class:r.oClasses.empty.row}).html(d))[0]}function yne(r,a,d){if(Array.isArray(d)){for(var g=0;g<d.length;g++)yne(r,a,d[g]);return}var C=r[a];st.isPlainObject(d)?d.features?(d.rowId&&(r.id=d.rowId),d.rowClass&&(r.className=d.rowClass),C.id=d.id,C.className=d.className,yne(r,a,d.features)):Object.keys(d).map(function(k){C.contents.push({feature:k,opts:d[k]})}):C.contents.push(d)}function W0e(r,a,d){for(var g,C=0;C<r.length;C++)if(g=r[C],g.rowNum===a&&(d==="full"&&g.full||(d==="start"||d==="end")&&(g.start||g.end)))return g[d]||(g[d]={contents:[]}),g;return g={rowNum:a},g[d]={contents:[]},r.push(g),g}function iie(r,a,d){var g=[];st.each(a,function(k,M){if(M!==null){var H=k.match(/^([a-z]+)([0-9]*)([A-Za-z]*)$/),Y=H[2]?H[2]*1:0,V=H[3]?H[3].toLowerCase():"full";if(H[1]===d){var te=W0e(g,Y,V);yne(te,V,M)}}}),g.sort(function(k,M){var H=k.rowNum,Y=M.rowNum;if(H===Y){var V=k.full&&!M.full?-1:1;return d==="bottom"?V*-1:V}return Y-H}),d==="bottom"&&g.reverse();for(var C=0;C<g.length;C++)delete g[C].rowNum,j0e(r,g[C]);return g}function j0e(r,a){var d=function(C,k){return of.features[C]||tv(r,0,"Unknown feature: "+C),of.features[C].apply(this,[r,k])},g=function(C){if(a[C])for(var k=a[C].contents,M=0,H=k.length;M<H;M++)if(k[M]){if(typeof k[M]=="string")k[M]=d(k[M],null);else if(st.isPlainObject(k[M]))k[M]=d(k[M].feature,k[M].opts);else if(typeof k[M].node=="function")k[M]=k[M].node(r);else if(typeof k[M]=="function"){var Y=k[M](r);k[M]=typeof Y.node=="function"?Y.node():Y}}else continue};g("start"),g("end"),g("full")}function Z0e(r){var a=r.oClasses,d=st(r.nTable),g=st("<div/>").attr({id:r.sTableId+"_wrapper",class:a.container}).insertBefore(d);if(r.nTableWrapper=g[0],r.sDom)q0e(r,r.sDom,g);else{var C=iie(r,r.layout,"top"),k=iie(r,r.layout,"bottom"),M=hU(r,"layout");C.forEach(function(H){M(r,g,H)}),M(r,g,{full:{table:!0,contents:[_ce(r)]}}),k.forEach(function(H){M(r,g,H)})}nye(r)}function q0e(r,a,d){for(var g=a.match(/(".*?")|('.*?')|./g),C,k,M,H,Y,V=0;V<g.length;V++){if(C=null,k=g[V],k=="<"){if(M=st("<div/>"),H=g[V+1],H[0]=="'"||H[0]=='"'){Y=H.replace(/['"]/g,"");var te="",Se;if(Y.indexOf(".")!=-1){var ye=Y.split(".");te=ye[0],Se=ye[1]}else Y[0]=="#"?te=Y:Se=Y;M.attr("id",te.substring(1)).addClass(Se),V++}d.append(M),d=M}else k==">"?d=d.parent():k=="t"?C=_ce(r):$t.ext.feature.forEach(function(je){k==je.cFeature&&(C=je.fnInit(r))});C&&d.append(C)}}function Cce(r,a,d){var g=r.aoColumns,C=st(a).children("tr"),k,M,H,Y,V,te,Se,ye,je,Le,Ee=r.titleRow,Ce=a&&a.nodeName.toLowerCase()==="thead",at=[],Je,xe=function(ln,et,Fe){for(var En=ln[et];En[Fe];)Fe++;return Fe};for(H=0,te=C.length;H<te;H++)at.push([]);for(H=0,te=C.length;H<te;H++)for(k=C[H],ye=0,M=k.firstChild;M;){if(M.nodeName.toUpperCase()=="TD"||M.nodeName.toUpperCase()=="TH"){var dt=[],Qt=st(M);if(je=M.getAttribute("colspan")*1,Le=M.getAttribute("rowspan")*1,je=!je||je===0||je===1?1:je,Le=!Le||Le===0||Le===1?1:Le,Se=xe(at,H,ye),Je=je===1,d){if(Je){bne(r,Se,Mce(Qt.data()));var Et=g[Se],P=M.getAttribute("width")||null,mn=M.style.width.match(/width:\s*(\d+[pxem%]+)/);mn&&(P=mn[1]),Et.sWidthOrig=Et.sWidth||P,Ce?(Et.sTitle!==null&&!Et.autoTitle&&(Ee===!0&&H===0||Ee===!1&&H===C.length-1||Ee===H||Ee===null)&&(M.innerHTML=Et.sTitle),!Et.sTitle&&Je&&(Et.sTitle=iw(M.innerHTML),Et.autoTitle=!0)):Et.footer&&(M.innerHTML=Et.footer),Et.ariaTitle||(Et.ariaTitle=Qt.attr("aria-label")||Et.sTitle),Et.className&&Qt.addClass(Et.className)}st("span.dt-column-title",M).length===0&&st("<span>").addClass("dt-column-title").append(M.childNodes).appendTo(M),r.orderIndicators&&Ce&&Qt.filter(":not([data-dt-order=disable])").length!==0&&Qt.parent(":not([data-dt-order=disable])").length!==0&&st("span.dt-column-order",M).length===0&&st("<span>").addClass("dt-column-order").appendTo(M);var Ln=Ce?"header":"footer";st("span.dt-column-"+Ln,M).length===0&&st("<div>").addClass("dt-column-"+Ln).append(M.childNodes).appendTo(M)}for(V=0;V<je;V++){for(Y=0;Y<Le;Y++)at[H+Y][Se+V]={cell:M,unique:Je},at[H+Y].row=k;dt.push(Se+V)}M.setAttribute("data-dt-column",LO(dt).join(","))}M=M.nextSibling}return at}function Y0e(r){var a=tg(r)=="ssp",d=r.iInitDisplayStart;d!==void 0&&d!==-1&&(r._iDisplayStart=a?d:d>=r.fnRecordsDisplay()?0:d,r.iInitDisplayStart=-1)}function Toe(r,a,d){var g,C=r.ajax,k=r.oInstance,M=function(te){var Se=r.jqXHR?r.jqXHR.status:null;(te===null||typeof Se=="number"&&Se==204)&&(te={},GP(r,te,[]));var ye=te.error||te.sError;if(ye&&tv(r,0,ye),te.d&&typeof te.d=="string")try{te=JSON.parse(te.d)}catch{}r.json=te,el(r,null,"xhr",[r,te,r.jqXHR],!0),d(te)};if(st.isPlainObject(C)&&C.data){g=C.data;var H=typeof g=="function"?g(a,r):g;a=typeof g=="function"&&H?H:st.extend(!0,a,H),delete C.data}var Y={url:typeof C=="string"?C:"",data:a,success:M,dataType:"json",cache:!1,type:r.sServerMethod,error:function(te,Se){var ye=el(r,null,"xhr",[r,null,r.jqXHR],!0);ye.indexOf(!0)===-1&&(Se=="parsererror"?tv(r,0,"Invalid JSON response",1):te.readyState===4&&tv(r,0,"Ajax error",7)),Xp(r,!1)}};if(st.isPlainObject(C)&&st.extend(Y,C),r.oAjaxData=a,el(r,null,"preXhr",[r,a,Y],!0),Y.submitAs==="json"&&typeof a=="object"&&(Y.data=JSON.stringify(a)),typeof C=="function")r.jqXHR=C.call(k,a,M,r);else if(C.url===""){var V={};GP(r,V,[]),M(V)}else r.jqXHR=st.ajax(Y);g&&(C.data=g)}function G0e(r){r.iDraw++,Xp(r,!0),Toe(r,K0e(r),function(a){X0e(r,a)})}function K0e(r){var a=r.aoColumns,d=r.oFeatures,g=r.oPreviousSearch,C=r.aoPreSearchCols,k=function(M,H){return typeof a[M][H]=="function"?"function":a[M][H]};return{draw:r.iDraw,columns:a.map(function(M,H){return{data:k(H,"mData"),name:M.sName,searchable:M.bSearchable,orderable:M.bSortable,search:{value:C[H].search,regex:C[H].regex,fixed:Object.keys(M.searchFixed).map(function(Y){return{name:Y,term:typeof M.searchFixed[Y]!="function"?M.searchFixed[Y].toString():"function"}})}}}),order:zU(r).map(function(M){return{column:M.col,dir:M.dir,name:k(M.col,"sName")}}),start:r._iDisplayStart,length:d.bPaginate?r._iDisplayLength:-1,search:{value:g.search,regex:g.regex,fixed:Object.keys(r.searchFixed).map(function(M){return{name:M,term:typeof r.searchFixed[M]!="function"?r.searchFixed[M].toString():"function"}})}}}function X0e(r,a){var d=GP(r,a),g=Zte(r,"draw",a),C=Zte(r,"recordsTotal",a),k=Zte(r,"recordsFiltered",a);if(g!==void 0){if(g*1<r.iDraw)return;r.iDraw=g*1}d||(d=[]),xoe(r),r._iRecordsTotal=parseInt(C,10),r._iRecordsDisplay=parseInt(k,10);for(var M=0,H=d.length;M<H;M++)P_(r,d[M]);r.aiDisplay=r.aiDisplayMaster.slice(),$U(r),PO(r,!0),fU(r),Xp(r,!1)}function GP(r,a,d){var g="data";if(st.isPlainObject(r.ajax)&&r.ajax.dataSrc!==void 0){var C=r.ajax.dataSrc;typeof C=="string"||typeof C=="function"?g=C:C.data!==void 0&&(g=C.data)}if(!d)return g==="data"?a.aaData||a[g]:g!==""?SO(g)(a):a;__(g)(a,d)}function Zte(r,a,d){var g=st.isPlainObject(r.ajax)?r.ajax.dataSrc:null;if(g&&g[a])return SO(g[a])(d);var C="";return a==="draw"?C="sEcho":a==="recordsTotal"?C="iTotalRecords":a==="recordsFiltered"&&(C="iTotalDisplayRecords"),d[C]!==void 0?d[C]:d[a]}function KP(r,a){var d=r.aoPreSearchCols;if(tg(r)!="ssp"){tye(r),r.aiDisplay=r.aiDisplayMaster.slice(),IV(r.aiDisplay,r,a.search,a),st.each(r.searchFixed,function(k,M){IV(r.aiDisplay,r,M,{})});for(var g=0;g<d.length;g++){var C=d[g];IV(r.aiDisplay,r,C.search,C,g),st.each(r.aoColumns[g].searchFixed,function(k,M){IV(r.aiDisplay,r,M,{},g)})}J0e(r)}r.bFiltered=!0,el(r,null,"search",[r])}function J0e(r){for(var a=$t.ext.search,d=r.aiDisplay,g,C,k=0,M=a.length;k<M;k++){for(var H=[],Y=0,V=d.length;Y<V;Y++)C=d[Y],g=r.aoData[C],a[k](r,g._aFilterData,C,g._aData,Y)&&H.push(C);d.length=0,UU(d,H)}}function IV(r,a,d,g,C){if(d!==""){var k=0,M=[],H=typeof d=="function"?d:null,Y=d instanceof RegExp?d:H?null:Q0e(d,g);for(k=0;k<r.length;k++){var V=a.aoData[r[k]],te=C===void 0?V._sFilterRow:V._aFilterData[C];(H&&H(te,V._aData,r[k],C)||Y&&Y.test(te))&&M.push(r[k])}for(r.length=M.length,k=0;k<M.length;k++)r[k]=M[k]}}function Q0e(r,a){var d=[],g=st.extend({},{boundary:!1,caseInsensitive:!0,exact:!1,regex:!1,smart:!0},a);if(typeof r!="string"&&(r=r.toString()),r=cU(r),g.exact)return new RegExp("^"+wne(r)+"$",g.caseInsensitive?"i":"");if(r=g.regex?r:wne(r),g.smart){var C=r.match(/!?["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],k=C.map(function(Y){var V=!1,te;return Y.charAt(0)==="!"&&(V=!0,Y=Y.substring(1)),Y.charAt(0)==='"'?(te=Y.match(/^"(.*)"$/),Y=te?te[1]:Y):Y.charAt(0)==="â"&&(te=Y.match(/^\u201C(.*)\u201D$/),Y=te?te[1]:Y),V&&(Y.length>1&&d.push("(?!"+Y+")"),Y=""),Y.replace(/"/g,"")}),M=d.length?d.join(""):"",H=g.boundary?"\\b":"";r="^(?=.*?"+H+k.join(")(?=.*?"+H)+")("+M+".)*$"}return new RegExp(r,g.caseInsensitive?"i":"")}var wne=$t.util.escapeRegex,GV=st("<div>")[0],eye=GV.textContent!==void 0;function tye(r){for(var a=r.aoColumns,d=r.aoData,g,C,k,M,H,Y,V=!1,te=0;te<d.length;te++)if(d[te]&&(Y=d[te],!Y._aFilterData)){for(M=[],C=0,k=a.length;C<k;C++)g=a[C],g.bSearchable?(H=lv(r,te,C,"filter"),H===null&&(H=""),typeof H!="string"&&H.toString&&(H=H.toString())):H="",H.indexOf&&H.indexOf("&")!==-1&&(GV.innerHTML=H,H=eye?GV.textContent:GV.innerText),H.replace&&(H=H.replace(/[\r\n\u2028]/g,"")),M.push(H);Y._aFilterData=M,Y._sFilterRow=M.join("  "),V=!0}return V}function KV(r){var a,d=r.oInit,g=r.deferLoading,C=tg(r);if(!r.bInitialised){setTimeout(function(){KV(r)},200);return}sie(r,"header"),sie(r,"footer"),lye(r,d,function(){dU(r,r.aoHeader),dU(r,r.aoFooter);var k=r.iInitDisplayStart;if(d.aaData)for(a=0;a<d.aaData.length;a++)P_(r,d.aaData[a]);else(g||C=="dom")&&Soe(r,st(r.nTBody).children("tr"));r.aiDisplay=r.aiDisplayMaster.slice(),Z0e(r),rye(r),Ece(r),Xp(r,!0),el(r,null,"preInit",[r],!0),xO(r),(C!="ssp"||g)&&(C=="ajax"?Toe(r,{},function(M){var H=GP(r,M);for(a=0;a<H.length;a++)P_(r,H[a]);r.iInitDisplayStart=k,xO(r),Xp(r,!1),fU(r)}):(fU(r),Xp(r,!1)))})}function fU(r){if(!r._bInitComplete){var a=[r,r.json];r._bInitComplete=!0,FU(r),el(r,null,"plugin-init",a,!0),el(r,"aoInitComplete","init",a,!0)}}function Sce(r,a){var d=parseInt(a,10);r._iDisplayLength=d,Oce(r),el(r,null,"length",[r,d])}function Eoe(r,a,d){var g=r._iDisplayStart,C=r._iDisplayLength,k=r.fnRecordsDisplay();if(k===0||C===-1)g=0;else if(typeof a=="number")g=a*C,g>k&&(g=0);else if(a=="first")g=0;else if(a=="previous")g=C>=0?g-C:0,g<0&&(g=0);else if(a=="next")g+C<k&&(g+=C);else if(a=="last")g=Math.floor((k-1)/C)*C;else{if(a==="ellipsis")return;tv(r,0,"Unknown paging action: "+a,5)}var M=r._iDisplayStart!==g;return r._iDisplayStart=g,el(r,null,M?"page":"page-nc",[r]),M&&d&&PO(r),M}function nye(r){var a=r.nTable,d=r.oScroll.sX!==""||r.oScroll.sY!=="";if(r.oFeatures.bProcessing){var g=st("<div/>",{id:r.sTableId+"_processing",class:r.oClasses.processing.container,role:"status"}).html(r.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>");d?g.prependTo(st("div.dt-scroll",r.nTableWrapper)):g.insertBefore(a),st(a).on("processing.dt.DT",function(C,k,M){g.css("display",M?"block":"none")})}}function Xp(r,a){r.bDrawing&&a===!1||el(r,null,"processing",[r,a])}function xce(r,a,d){a?(Xp(r,!0),setTimeout(function(){d(),Xp(r,!1)},0)):d()}function _ce(r){var a=st(r.nTable),d=r.oScroll;if(d.sX===""&&d.sY==="")return r.nTable;var g=d.sX,C=d.sY,k=r.oClasses.scrolling,M=r.captionNode,H=M?M._captionSide:null,Y=st(a[0].cloneNode(!1)),V=st(a[0].cloneNode(!1)),te=a.children("tfoot"),Se="<div/>",ye=function(Je){return Je?LS(Je):null};te.length||(te=null);var je=st(Se,{class:k.container}).append(st(Se,{class:k.header.self}).css({overflow:"hidden",position:"relative",border:0,width:g?ye(g):"100%"}).append(st(Se,{class:k.header.inner}).css({"box-sizing":"content-box",width:d.sXInner||"100%"}).append(Y.removeAttr("id").css("margin-left",0).append(H==="top"?M:null).append(a.children("thead"))))).append(st(Se,{class:k.body}).css({position:"relative",overflow:"auto",width:ye(g)}).append(a));te&&je.append(st(Se,{class:k.footer.self}).css({overflow:"hidden",border:0,width:g?ye(g):"100%"}).append(st(Se,{class:k.footer.inner}).append(V.removeAttr("id").css("margin-left",0).append(H==="bottom"?M:null).append(a.children("tfoot")))));var Le=je.children(),Ee=Le[0],Ce=Le[1],at=te?Le[2]:null;return st(Ce).on("scroll.DT",function(){var Je=this.scrollLeft;Ee.scrollLeft=Je,te&&(at.scrollLeft=Je)}),st("th, td",Ee).on("focus",function(){var Je=Ee.scrollLeft;Ce.scrollLeft=Je,te&&(Ce.scrollLeft=Je)}),st(Ce).css("max-height",C),d.bCollapse||st(Ce).css("height",C),r.nScrollHead=Ee,r.nScrollBody=Ce,r.nScrollFoot=at,r.aoDrawCallback.push(Tce),je[0]}function Tce(r){var a=r.oScroll,d=a.iBarWidth,g=st(r.nScrollHead),C=g.children("div"),k=C.children("table"),M=r.nScrollBody,H=st(M),Y=st(r.nScrollFoot),V=Y.children("div"),te=V.children("table"),Se=st(r.nTHead),ye=st(r.nTable),je=r.nTFoot&&st("th, td",r.nTFoot).length?st(r.nTFoot):null,Le=r.oBrowser,Ee,Ce,at=M.scrollHeight>M.clientHeight;if(r.scrollBarVis!==at&&r.scrollBarVis!==void 0){r.scrollBarVis=at,FU(r);return}else r.scrollBarVis=at;if(ye.children("thead, tfoot").remove(),Ee=Se.clone().prependTo(ye),Ee.find("th, td").removeAttr("tabindex"),Ee.find("[id]").removeAttr("id"),je&&(Ce=je.clone().prependTo(ye),Ce.find("[id]").removeAttr("id")),r.aiDisplay.length){var Je=null,xe=tg(r)!=="ssp"?r._iDisplayStart:0;for(P=xe;P<xe+r.aiDisplay.length;P++){var dt=r.aiDisplay[P],Qt=r.aoData[dt].nTr;if(Qt){Je=Qt;break}}if(Je)for(var Et=st(Je).children("th, td").map(function(En){return{idx:yoe(r,En),width:st(this).outerWidth()}}),P=0;P<Et.length;P++){var mn=r.aoColumns[Et[P].idx].colEl[0],Ln=mn.style.width.replace("px","");Ln!==Et[P].width&&(mn.style.width=Et[P].width+"px",a.sX&&(mn.style.minWidth=Et[P].width+"px"))}}k.find("colgroup").remove(),k.append(r.colgroup.clone()),je&&(te.find("colgroup").remove(),te.append(r.colgroup.clone())),st("th, td",Ee).each(function(){st(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')}),je&&st("th, td",Ce).each(function(){st(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')});var ln=Math.floor(ye.height())>M.clientHeight||H.css("overflow-y")=="scroll",et="padding"+(Le.bScrollbarLeft?"Left":"Right"),Fe=ye.outerWidth();k.css("width",LS(Fe)),C.css("width",LS(Fe)).css(et,ln?d+"px":"0px"),je&&(te.css("width",LS(Fe)),V.css("width",LS(Fe)).css(et,ln?d+"px":"0px")),ye.children("colgroup").prependTo(ye),H.trigger("scroll"),(r.bSorted||r.bFiltered)&&!r._drawHold&&(M.scrollTop=0)}function oye(r){if(r.oFeatures.bAutoWidth){var a=r.nTable,d=r.aoColumns,g=r.oScroll,C=g.sY,k=g.sX,M=g.sXInner,H=woe(r,"bVisible"),Y=a.getAttribute("width"),V=a.parentNode,te,Se,ye,je=a.style.width,Le=aie(r);if(Le===r.containerWidth)return!1;r.containerWidth=Le,!je&&!Y&&(a.style.width="100%",je="100%"),je&&je.indexOf("%")!==-1&&(Y=je),el(r,null,"column-calc",{visible:H},!1);var Ee=st(a.cloneNode()).css("visibility","hidden").removeAttr("id");Ee.append("<tbody/>");var Ce=st("<tr/>").appendTo(Ee.find("tbody"));for(Ee.append(st(r.nTHead).clone()).append(st(r.nTFoot).clone()),Ee.find("tfoot th, tfoot td").css("width",""),Ee.find("thead th, thead td").each(function(){var Fe=gce(r,this,!0);Fe?(this.style.width=Fe,k&&(this.style.minWidth=Fe,st(this).append(st("<div/>").css({width:Fe,margin:0,padding:0,border:0,height:1})))):this.style.width=""}),te=0;te<H.length;te++){ye=H[te],Se=d[ye];var at=sye(r,ye),Je=of.type.className[Se.sType],xe=at+Se.sContentPadding,dt=at.indexOf("<")===-1?document.createTextNode(xe):xe;st("<td/>").addClass(Je).addClass(Se.sClass).append(dt).appendTo(Ce)}st("[name]",Ee).removeAttr("name");var Qt=st("<div/>").css(k||C?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(Ee).appendTo(V);k&&M?Ee.width(M):k?(Ee.css("width","auto"),Ee.removeAttr("width"),Ee.outerWidth()<V.clientWidth&&Y&&Ee.outerWidth(V.clientWidth)):C?Ee.outerWidth(V.clientWidth):Y&&Ee.outerWidth(Y);var Et=0,P=Ee.find("tbody tr").eq(0).children();for(te=0;te<H.length;te++){var mn=P[te].getBoundingClientRect().width;Et+=mn,d[H[te]].sWidth=LS(mn)}if(a.style.width=LS(Et),Qt.remove(),Y&&(a.style.width=LS(Y)),(Y||k)&&!r._reszEvt){var Ln=$t.util.throttle(function(){var Fe=aie(r);!r.bDestroying&&Fe!==0&&FU(r)});if(window.ResizeObserver){var ln=st(r.nTableWrapper).is(":visible"),et=st("<div>").css({width:"100%",height:0}).addClass("dt-autosize").appendTo(r.nTableWrapper);r.resizeObserver=new ResizeObserver(function(Fe){ln?ln=!1:Ln()}),r.resizeObserver.observe(et[0])}else st(window).on("resize.DT-"+r.sInstance,Ln);r._reszEvt=!0}}}function aie(r){return st(r.nTableWrapper).is(":visible")?st(r.nTableWrapper).width():0}function sye(r,a){var d=r.aoColumns[a];if(!d.maxLenString){for(var g,C="",k=-1,M=0,H=r.aiDisplayMaster.length;M<H;M++){var Y=r.aiDisplayMaster[M],V=_oe(r,Y)[a],te=V&&typeof V=="object"&&V.nodeType?V.innerHTML:V+"";te=te.replace(/id=".*?"/g,"").replace(/name=".*?"/g,""),g=iw(te).replace(/&nbsp;/g," "),g.length>k&&(C=te,k=g.length)}d.maxLenString=C}return d.maxLenString}function LS(r){return r===null?"0px":typeof r=="number"?r<0?"0px":r+"px":r.match(/\d$/)?r+"px":r}function Ece(r){var a=r.aoColumns;for(r.colgroup.empty(),Md=0;Md<a.length;Md++)a[Md].bVisible&&r.colgroup.append(a[Md].colEl)}function rye(r){var a=r.nTHead,d=a.querySelectorAll("tr"),g=r.titleRow,C=':not([data-dt-order="disable"]):not([data-dt-order="icon-only"])';g===!0?a=d[0]:g===!1?a=d[d.length-1]:g!==null&&(a=d[g]),r.orderHandler&&kce(r,a,a===r.nTHead?"tr"+C+" th"+C+", tr"+C+" td"+C:"th"+C+", td"+C);var k=[];T_(r,k,r.aaSorting),r.aaSorting=k}function kce(r,a,d,g,C){Ace(a,d,function(k){var M=!1,H=g===void 0?Coe(k.target):typeof g=="function"?g():Array.isArray(g)?g:[g];if(H.length){for(var Y=0,V=H.length;Y<V;Y++){var te=iye(r,H[Y],Y,k.shiftKey);if(te!==!1&&(M=!0),r.aaSorting.length===1&&r.aaSorting[0][1]==="")break}M&&xce(r,!0,function(){koe(r),Dce(r,r.aiDisplay),xO(r,!1,!1),C&&C()})}})}function Dce(r,a){if(!(a.length<2)){var d=r.aiDisplayMaster,g={},C={},k;for(k=0;k<d.length;k++)g[d[k]]=k;for(k=0;k<a.length;k++)C[a[k]]=g[a[k]];a.sort(function(M,H){return C[M]-C[H]})}}function T_(r,a,d){var g=function(k){if(st.isPlainObject(k)){if(k.idx!==void 0)a.push([k.idx,k.dir]);else if(k.name){var M=hh(r.aoColumns,"sName"),H=M.indexOf(k.name);H!==-1&&a.push([H,k.dir])}}else a.push(k)};if(st.isPlainObject(d))g(d);else if(d.length&&typeof d[0]=="number")g(d);else if(d.length)for(var C=0;C<d.length;C++)g(d[C])}function zU(r){var a,d,g,C=[],k=$t.ext.type.order,M=r.aoColumns,H,Y,V,te,Se=r.aaSortingFixed,ye=st.isPlainObject(Se),je=[];if(!r.oFeatures.bSort)return C;for(Array.isArray(Se)&&T_(r,je,Se),ye&&Se.pre&&T_(r,je,Se.pre),T_(r,je,r.aaSorting),ye&&Se.post&&T_(r,je,Se.post),a=0;a<je.length;a++)if(te=je[a][0],M[te])for(H=M[te].aDataSort,d=0,g=H.length;d<g;d++)Y=H[d],V=M[Y].sType||"string",je[a]._idx===void 0&&(je[a]._idx=M[Y].asSorting.indexOf(je[a][1])),je[a][1]&&C.push({src:te,col:Y,dir:je[a][1],index:je[a]._idx,type:V,formatter:k[V+"-pre"],sorter:k[V+"-"+je[a][1]]});return C}function koe(r,a,d){var g,C,k=[],M=$t.ext.type.order,H=r.aoData,Y,V=r.aiDisplayMaster,te;if($U(r),a!==void 0){var Se=r.aoColumns[a];te=[{src:a,col:a,dir:d,index:0,type:Se.sType,formatter:M[Se.sType+"-pre"],sorter:M[Se.sType+"-"+d]}],V=V.slice()}else te=zU(r);for(g=0,C=te.length;g<C;g++)Y=te[g],aye(r,Y.col);if(tg(r)!="ssp"&&te.length!==0){for(g=0,C=V.length;g<C;g++)k[g]=g;te.length&&te[0].dir==="desc"&&r.orderDescReverse&&k.reverse(),V.sort(function(ye,je){var Le,Ee,Ce,at,Je,xe=te.length,dt=H[ye]._aSortData,Qt=H[je]._aSortData;for(Ce=0;Ce<xe;Ce++)if(Je=te[Ce],Le=dt[Je.col],Ee=Qt[Je.col],Je.sorter){if(at=Je.sorter(Le,Ee),at!==0)return at}else if(at=Le<Ee?-1:Le>Ee?1:0,at!==0)return Je.dir==="asc"?at:-at;return Le=k[ye],Ee=k[je],Le<Ee?-1:Le>Ee?1:0})}else te.length===0&&V.sort(function(ye,je){return ye<je?-1:ye>je?1:0});return a===void 0&&(r.bSorted=!0,r.sortDetails=te,el(r,null,"order",[r,te])),V}function iye(r,a,d,g){var C=r.aoColumns[a],k=r.aaSorting,M=C.asSorting,H,Y=function(te,Se){var ye=te._idx;return ye===void 0&&(ye=M.indexOf(te[1])),ye+1<M.length?ye+1:Se?null:0};if(!C.bSortable)return!1;if(typeof k[0]=="number"&&(k=r.aaSorting=[k]),(g||d)&&r.oFeatures.bSortMulti){var V=hh(k,"0").indexOf(a);V!==-1?(H=Y(k[V],!0),H===null&&k.length===1&&(H=0),H===null||M[H]===""?k.splice(V,1):(k[V][1]=M[H],k[V]._idx=H)):g?(k.push([a,M[0],0]),k[k.length-1]._idx=0):(k.push([a,k[0][1],0]),k[k.length-1]._idx=0)}else k.length&&k[0][0]==a?(H=Y(k[0]),k.length=1,k[0][1]=M[H],k[0]._idx=H):(k.length=0,k.push([a,M[0]]),k[0]._idx=0)}function Cne(r){var a=r.aLastSort,d=r.oClasses.order.position,g=zU(r),C=r.oFeatures,k,M,H;if(C.bSort&&C.bSortClasses){for(k=0,M=a.length;k<M;k++)H=a[k].src,st(hh(r.aoData,"anCells",H)).removeClass(d+(k<2?k+1:3));for(k=0,M=g.length;k<M;k++)H=g[k].src,st(hh(r.aoData,"anCells",H)).addClass(d+(k<2?k+1:3))}r.aLastSort=g}function aye(r,a){var d=r.aoColumns[a],g=$t.ext.order[d.sSortDataType],C;g&&(C=g.call(r.oInstance,r,a,pI(r,a)));for(var k,M,H=$t.ext.type.order[d.sType+"-pre"],Y=r.aoData,V=0;V<Y.length;V++)Y[V]&&(k=Y[V],k._aSortData||(k._aSortData=[]),(!k._aSortData[a]||g)&&(M=g?C[V]:lv(r,V,a,"sort"),k._aSortData[a]=H?H(M,r):M))}function VU(r){if(!r._bLoadingState){var a=[];T_(r,a,r.aaSorting);var d=r.aoColumns,g={time:+new Date,start:r._iDisplayStart,length:r._iDisplayLength,order:a.map(function(C){return d[C[0]]&&d[C[0]].sName?[d[C[0]].sName,C[1]]:C.slice()}),search:st.extend({},r.oPreviousSearch),columns:r.aoColumns.map(function(C,k){return{name:C.sName,visible:C.bVisible,search:st.extend({},r.aoPreSearchCols[k])}})};r.oSavedState=g,el(r,"aoStateSaveParams","stateSaveParams",[r,g]),r.oFeatures.bStateSave&&!r.bDestroying&&r.fnStateSaveCallback.call(r.oInstance,r,g)}}function lye(r,a,d){if(!r.oFeatures.bStateSave){d();return}var g=function(k){Sne(r,k,d)},C=r.fnStateLoadCallback.call(r.oInstance,r,g);return C!==void 0&&Sne(r,C,d),!0}function Sne(r,a,d){var g,C,k=r.aoColumns,M=hh(r.aoColumns,"sName");r._bLoadingState=!0;var H=r._bInitComplete?new $t.Api(r):null;if(!a||!a.time){r._bLoadingState=!1,d();return}var Y=r.iStateDuration;if(Y>0&&a.time<+new Date-Y*1e3){r._bLoadingState=!1,d();return}var V=el(r,"aoStateLoadParams","stateLoadParams",[r,a]);if(V.indexOf(!1)!==-1){r._bLoadingState=!1,d();return}if(r.oLoadedState=st.extend(!0,{},a),el(r,null,"stateLoadInit",[r,a],!0),a.length!==void 0&&(H?H.page.len(a.length):r._iDisplayLength=a.length),a.start!==void 0&&(H===null?(r._iDisplayStart=a.start,r.iInitDisplayStart=a.start):Eoe(r,a.start/r._iDisplayLength)),a.order!==void 0&&(r.aaSorting=[],st.each(a.order,function(Le,Ee){var Ce=[Ee[0],Ee[1]];if(typeof Ee[0]=="string"){var at=M.indexOf(Ee[0]);if(at<0)return;Ce[0]=at}else if(Ce[0]>=k.length)return;r.aaSorting.push(Ce)})),a.search!==void 0&&st.extend(r.oPreviousSearch,a.search),a.columns){var te=a.columns,Se=hh(a.columns,"name");if(Se.join("").length&&Se.join("")!==M.join(""))for(te=[],g=0;g<M.length;g++)if(M[g]!=""){var ye=Se.indexOf(M[g]);ye>=0?te.push(a.columns[ye]):te.push({})}else te.push({});if(te.length===k.length){for(g=0,C=te.length;g<C;g++){var je=te[g];je.visible!==void 0&&(H?H.column(g).visible(je.visible,!1):k[g].bVisible=je.visible),je.search!==void 0&&st.extend(r.aoPreSearchCols[g],je.search)}H&&H.one("draw",function(){H.columns.adjust()})}}r._bLoadingState=!1,el(r,"aoStateLoaded","stateLoaded",[r,a]),d()}function tv(r,a,d,g){d="DataTables warning: "+(r?"table id="+r.sTableId+" - ":"")+d,g&&(d+=". For more information about this error, please see https://datatables.net/tn/"+g);{var C=$t.ext,k=C.sErrMode||C.errMode;if(r&&el(r,null,"dt-error",[r,g,d],!0),k=="alert")alert(d);else{if(k=="throw")throw new Error(d);typeof k=="function"&&k(r,g,d)}}}function PS(r,a,d,g){if(Array.isArray(d)){st.each(d,function(C,k){Array.isArray(k)?PS(r,a,k[0],k[1]):PS(r,a,k)});return}g===void 0&&(g=d),a[d]!==void 0&&(r[g]=a[d])}function lie(r,a,d){var g;for(var C in a)Object.prototype.hasOwnProperty.call(a,C)&&(g=a[C],st.isPlainObject(g)?(st.isPlainObject(r[C])||(r[C]={}),st.extend(!0,r[C],g)):d&&C!=="data"&&C!=="aaData"&&Array.isArray(g)?r[C]=g.slice():r[C]=g);return r}function Ace(r,a,d){st(r).on("click.DT",a,function(g){d(g)}).on("keypress.DT",a,function(g){g.which===13&&(g.preventDefault(),d(g))}).on("selectstart.DT",a,function(){return!1})}function Qg(r,a,d){d&&r[a].push(d)}function el(r,a,d,g,C){var k=[];if(a&&(k=r[a].slice().reverse().map(function(Y){return Y.apply(r.oInstance,g)})),d!==null){var M=st.Event(d+".dt"),H=st(r.nTable);M.dt=r.api,H[C?"trigger":"triggerHandler"](M,g),C&&H.parents("body").length===0&&st("body").trigger(M,g),k.push(M.result)}return k}function Oce(r){var a=r._iDisplayStart,d=r.fnDisplayEnd(),g=r._iDisplayLength;a>=d&&(a=d-g),a-=a%g,(g===-1||a<0)&&(a=0),r._iDisplayStart=a}function hU(r,a){var d=r.renderer,g=$t.ext.renderer[a];return st.isPlainObject(d)&&d[a]?g[d[a]]||g._:typeof d=="string"&&g[d]||g._}function tg(r){return r.oFeatures.bServerSide?"ssp":r.ajax?"ajax":"dom"}function Doe(r,a,d){var g=r.fnFormatNumber,C=r._iDisplayStart+1,k=r._iDisplayLength,M=r.fnRecordsDisplay(),H=r.fnRecordsTotal(),Y=k===-1;return a.replace(/_START_/g,g.call(r,C)).replace(/_END_/g,g.call(r,r.fnDisplayEnd())).replace(/_MAX_/g,g.call(r,H)).replace(/_TOTAL_/g,g.call(r,M)).replace(/_PAGE_/g,g.call(r,Y?1:Math.ceil(C/k))).replace(/_PAGES_/g,g.call(r,Y?1:Math.ceil(M/k))).replace(/_ENTRIES_/g,r.api.i18n("entries","",d)).replace(/_ENTRIES-MAX_/g,r.api.i18n("entries","",H)).replace(/_ENTRIES-TOTAL_/g,r.api.i18n("entries","",M))}function UU(r,a){if(a)if(a.length<1e4)r.push.apply(r,a);else for(Md=0;Md<a.length;Md++)r.push(a[Md])}function cie(r,a,d){for(Array.isArray(d)||(d=[d]),Md=0;Md<d.length;Md++)r.on(a+".dt",d[Md])}function Mce(r){return $t.ext.escape.attributes&&st.each(r,function(a,d){r[a]=A_(d)}),r}var Aoe=[],rm=Array.prototype,cye=function(r){var a,d,g=$t.settings,C=hh(g,"nTable");if(r){if(r.nTable&&r.oFeatures)return[r];if(r.nodeName&&r.nodeName.toLowerCase()==="table")return a=C.indexOf(r),a!==-1?[g[a]]:null;if(r&&typeof r.settings=="function")return r.settings().toArray();typeof r=="string"?d=st(r).get():r instanceof st&&(d=r.get())}else return[];if(d)return g.filter(function(k,M){return d.includes(C[M])})};va=function(r,a){if(!(this instanceof va))return new va(r,a);var d,g=[],C=function(k){var M=cye(k);M&&g.push.apply(g,M)};if(Array.isArray(r))for(d=0;d<r.length;d++)C(r[d]);else C(r);this.context=g.length>1?LO(g):g,UU(this,a),this.selector={rows:null,cols:null,opts:null},va.extend(this,this,Aoe)};$t.Api=va;st.extend(va.prototype,{any:function(){return this.count()!==0},context:[],count:function(){return this.flatten().length},each:function(r){for(var a=0,d=this.length;a<d;a++)r.call(this,this[a],a,this);return this},eq:function(r){var a=this.context;return a.length>r?new va(a[r],this[r]):null},filter:function(r){var a=rm.filter.call(this,r,this);return new va(this.context,a)},flatten:function(){var r=[];return new va(this.context,r.concat.apply(r,this.toArray()))},get:function(r){return this[r]},join:rm.join,includes:function(r){return this.indexOf(r)!==-1},indexOf:rm.indexOf,iterator:function(r,a,d,g){var C=[],k,M,H,Y,V,te=this.context,Se,ye,je,Le=this.selector;for(typeof r=="string"&&(g=d,d=a,a=r,r=!1),M=0,H=te.length;M<H;M++){var Ee=new va(te[M]);if(a==="table")k=d.call(Ee,te[M],M),k!==void 0&&C.push(k);else if(a==="columns"||a==="rows")k=d.call(Ee,te[M],this[M],M),k!==void 0&&C.push(k);else if(a==="every"||a==="column"||a==="column-rows"||a==="row"||a==="cell")for(ye=this[M],a==="column-rows"&&(Se=WU(te[M],Le.opts)),Y=0,V=ye.length;Y<V;Y++)je=ye[Y],a==="cell"?k=d.call(Ee,te[M],je.row,je.column,M,Y):k=d.call(Ee,te[M],je,M,Y,Se),k!==void 0&&C.push(k)}if(C.length||g){var Ce=new va(te,r?C.concat.apply([],C):C),at=Ce.selector;return at.rows=Le.rows,at.cols=Le.cols,at.opts=Le.opts,Ce}return this},lastIndexOf:rm.lastIndexOf,length:0,map:function(r){var a=rm.map.call(this,r,this);return new va(this.context,a)},pluck:function(r){var a=$t.util.get(r);return this.map(function(d){return a(d)})},pop:rm.pop,push:rm.push,reduce:rm.reduce,reduceRight:rm.reduceRight,reverse:rm.reverse,selector:null,shift:rm.shift,slice:function(){return new va(this.context,this)},sort:rm.sort,splice:rm.splice,toArray:function(){return rm.slice.call(this)},to$:function(){return st(this)},toJQuery:function(){return st(this)},unique:function(){return new va(this.context,LO(this.toArray()))},unshift:rm.unshift});function uye(r,a,d){return function(){var g=a.apply(r||this,arguments);return va.extend(g,g,d.methodExt),g}}function dye(r,a){for(var d=0,g=r.length;d<g;d++)if(r[d].name===a)return r[d];return null}window.__apiStruct=Aoe;va.extend=function(r,a,d){if(!(!d.length||!a||!(a instanceof va)&&!a.__dt_wrapper)){var g,C,k;for(g=0,C=d.length;g<C;g++)k=d[g],k.name!=="__proto__"&&(a[k.name]=k.type==="function"?uye(r,k.val,k):k.type==="object"?{}:k.val,a[k.name].__dt_wrapper=!0,va.extend(r,a[k.name],k.propExt))}};va.register=Qs=function(r,a){if(Array.isArray(r)){for(var d=0,g=r.length;d<g;d++)va.register(r[d],a);return}var C,k,M=r.split("."),H=Aoe,Y,V;for(C=0,k=M.length;C<k;C++){V=M[C].indexOf("()")!==-1,Y=V?M[C].replace("()",""):M[C];var te=dye(H,Y);te||(te={name:Y,val:{},methodExt:[],propExt:[],type:"object"},H.push(te)),C===k-1?(te.val=a,te.type=typeof a=="function"?"function":st.isPlainObject(a)?"object":"other"):H=V?te.methodExt:te.propExt}};va.registerPlural=Ml=function(r,a,d){va.register(r,d),va.register(a,function(){var g=d.apply(this,arguments);return g===this?this:g instanceof va?g.length?Array.isArray(g[0])?new va(g.context,g[0]):g[0]:void 0:g})};var Nce=function(r,a){if(Array.isArray(r)){var d=[];return r.forEach(function(C){var k=Nce(C,a);UU(d,k)}),d.filter(function(C){return C})}if(typeof r=="number")return[a[r]];var g=a.map(function(C){return C.nTable});return st(g).filter(r).map(function(){var C=g.indexOf(this);return a[C]}).toArray()};Qs("tables()",function(r){return r!=null?new va(Nce(r,this.context)):this});Qs("table()",function(r){var a=this.tables(r),d=a.context;return d.length?new va(d[0]):a});[["nodes","node","nTable"],["body","body","nTBody"],["header","header","nTHead"],["footer","footer","nTFoot"]].forEach(function(r){Ml("tables()."+r[0]+"()","table()."+r[1]+"()",function(){return this.iterator("table",function(a){return a[r[2]]},1)})});[["header","aoHeader"],["footer","aoFooter"]].forEach(function(r){Qs("table()."+r[0]+".structure()",function(a){var d=this.columns(a).indexes().flatten().toArray(),g=this.context[0],C=wce(g,g[r[1]],d),k=d.slice().sort(function(M,H){return M-H});return C.map(function(M){return d.map(function(H){return M[k.indexOf(H)]})})})});Ml("tables().containers()","table().container()",function(){return this.iterator("table",function(r){return r.nTableWrapper},1)});Qs("tables().every()",function(r){var a=this;return this.iterator("table",function(d,g){r.call(a.table(g),g)})});Qs("caption()",function(r,a){var d=this.context;if(r===void 0){var g=d[0].captionNode;return g&&d.length?g.innerHTML:null}return this.iterator("table",function(C){var k=st(C.nTable),M=st(C.captionNode),H=st(C.nTableWrapper);if(M.length||(M=st("<caption/>").html(r),C.captionNode=M[0],a||(k.prepend(M),a=M.css("caption-side"))),M.html(r),a&&(M.css("caption-side",a),M[0]._captionSide=a),H.find("div.dataTables_scroll").length){var Y=a==="top"?"Head":"Foot";H.find("div.dataTables_scroll"+Y+" table").prepend(M)}else k.prepend(M)},1)});Qs("caption.node()",function(){var r=this.context;return r.length?r[0].captionNode:null});Qs("draw()",function(r){return this.iterator("table",function(a){r==="page"?PO(a):(typeof r=="string"&&(r=r!=="full-hold"),xO(a,r===!1))})});Qs("page()",function(r){return r===void 0?this.page.info().page:this.iterator("table",function(a){Eoe(a,r)})});Qs("page.info()",function(){if(this.context.length!==0){var r=this.context[0],a=r._iDisplayStart,d=r.oFeatures.bPaginate?r._iDisplayLength:-1,g=r.fnRecordsDisplay(),C=d===-1;return{page:C?0:Math.floor(a/d),pages:C?1:Math.ceil(g/d),start:a,end:r.fnDisplayEnd(),length:d,recordsTotal:r.fnRecordsTotal(),recordsDisplay:g,serverSide:tg(r)==="ssp"}}});Qs("page.len()",function(r){return r===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(a){Sce(a,r)})});var Rce=function(r,a,d){if(d){var g=new va(r);g.one("draw",function(){d(g.ajax.json())})}if(tg(r)=="ssp")xO(r,a);else{Xp(r,!0);var C=r.jqXHR;C&&C.readyState!==4&&C.abort(),Toe(r,{},function(k){xoe(r);for(var M=GP(r,k),H=0,Y=M.length;H<Y;H++)P_(r,M[H]);xO(r,a),fU(r),Xp(r,!1)})}};Qs("ajax.json()",function(){var r=this.context;if(r.length>0)return r[0].json});Qs("ajax.params()",function(){var r=this.context;if(r.length>0)return r[0].oAjaxData});Qs("ajax.reload()",function(r,a){return this.iterator("table",function(d){Rce(d,a===!1,r)})});Qs("ajax.url()",function(r){var a=this.context;return r===void 0?a.length===0?void 0:(a=a[0],st.isPlainObject(a.ajax)?a.ajax.url:a.ajax):this.iterator("table",function(d){st.isPlainObject(d.ajax)?d.ajax.url=r:d.ajax=r})});Qs("ajax.url().load()",function(r,a){return this.iterator("table",function(d){Rce(d,a===!1,r)})});var Ooe=function(r,a,d,g,C){var k=[],M,H,Y,V=typeof a;for((!a||V==="string"||V==="function"||a.length===void 0)&&(a=[a]),H=0,Y=a.length;H<Y;H++)M=d(typeof a[H]=="string"?a[H].trim():a[H]),M=M.filter(function(Se){return Se!=null}),M&&M.length&&(k=k.concat(M));var te=of.selector[r];if(te.length)for(H=0,Y=te.length;H<Y;H++)k=te[H](g,C,k);return LO(k)},Moe=function(r){return r||(r={}),r.filter&&r.search===void 0&&(r.search=r.filter),st.extend({columnOrder:"implied",search:"none",order:"current",page:"all"},r)},Noe=function(r){var a=new va(r.context[0]);return r.length&&a.push(r[0]),a.selector=r.selector,a.length&&a[0].length>1&&a[0].splice(1),a},WU=function(r,a){var d,g,C,k=[],M=r.aiDisplay,H=r.aiDisplayMaster,Y=a.search,V=a.order,te=a.page;if(tg(r)=="ssp")return Y==="removed"?[]:OS(0,H.length);if(te=="current")for(d=r._iDisplayStart,g=r.fnDisplayEnd();d<g;d++)k.push(M[d]);else if(V=="current"||V=="applied"){if(Y=="none")k=H.slice();else if(Y=="applied")k=M.slice();else if(Y=="removed"){var Se={};for(d=0,g=M.length;d<g;d++)Se[M[d]]=null;H.forEach(function(je){Object.prototype.hasOwnProperty.call(Se,je)||k.push(je)})}}else if(V=="index"||V=="original")for(d=0,g=r.aoData.length;d<g;d++)r.aoData[d]&&(Y=="none"?k.push(d):(C=M.indexOf(d),(C===-1&&Y=="removed"||C>=0&&Y=="applied")&&k.push(d)));else if(typeof V=="number"){var ye=koe(r,V,"asc");if(Y==="none")k=ye;else for(d=0;d<ye.length;d++)C=M.indexOf(ye[d]),(C===-1&&Y=="removed"||C>=0&&Y=="applied")&&k.push(ye[d])}return k},fye=function(r,a,d){var g,C=function(M){var H=uce(M),Y=r.aoData;if(H!==null&&!d)return[H];if(g||(g=WU(r,d)),H!==null&&g.indexOf(H)!==-1)return[H];if(M==null||M==="")return g;if(typeof M=="function")return g.map(function(Le){var Ee=Y[Le];return M(Le,Ee._aData,Ee.nTr)?Le:null});if(M.nodeName){var V=M._DT_RowIndex,te=M._DT_CellIndex;if(V!==void 0)return Y[V]&&Y[V].nTr===M?[V]:[];if(te)return Y[te.row]&&Y[te.row].nTr===M.parentNode?[te.row]:[];var Se=st(M).closest("*[data-dt-row]");return Se.length?[Se.data("dt-row")]:[]}if(typeof M=="string"&&M.charAt(0)==="#"){var ye=r.aIds[M.replace(/^#/,"")];if(ye!==void 0)return[ye.idx]}var je=fce(mI(r.aoData,g,"nTr"));return st(je).filter(M).map(function(){return this._DT_RowIndex}).toArray()},k=Ooe("row",a,C,r,d);return(d.order==="current"||d.order==="applied")&&Dce(r,k),k};Qs("rows()",function(r,a){r===void 0?r="":st.isPlainObject(r)&&(a=r,r=""),a=Moe(a);var d=this.iterator("table",function(g){return fye(g,r,a)},1);return d.selector.rows=r,d.selector.opts=a,d});Qs("rows().nodes()",function(){return this.iterator("row",function(r,a){return r.aoData[a].nTr||void 0},1)});Qs("rows().data()",function(){return this.iterator(!0,"rows",function(r,a){return mI(r.aoData,a,"_aData")},1)});Ml("rows().cache()","row().cache()",function(r){return this.iterator("row",function(a,d){var g=a.aoData[d];return r==="search"?g._aFilterData:g._aSortData},1)});Ml("rows().invalidate()","row().invalidate()",function(r){return this.iterator("row",function(a,d){HU(a,d,r)})});Ml("rows().indexes()","row().index()",function(){return this.iterator("row",function(r,a){return a},1)});Ml("rows().ids()","row().id()",function(r){for(var a=[],d=this.context,g=0,C=d.length;g<C;g++)for(var k=0,M=this[g].length;k<M;k++){var H=d[g].rowIdFn(d[g].aoData[this[g][k]]._aData);a.push((r===!0?"#":"")+H)}return new va(d,a)});Ml("rows().remove()","row().remove()",function(){return this.iterator("row",function(r,a){var d=r.aoData,g=d[a],C=r.aiDisplayMaster.indexOf(a);C!==-1&&r.aiDisplayMaster.splice(C,1),r._iRecordsDisplay>0&&r._iRecordsDisplay--,Oce(r);var k=r.rowIdFn(g._aData);k!==void 0&&delete r.aIds[k],d[a]=null}),this});Qs("rows.add()",function(r){var a=this.iterator("table",function(g){var C,k,M,H=[];for(k=0,M=r.length;k<M;k++)C=r[k],C.nodeName&&C.nodeName.toUpperCase()==="TR"?H.push(Soe(g,C)[0]):H.push(P_(g,C));return H},1),d=this.rows(-1);return d.pop(),UU(d,a),d});Qs("row()",function(r,a){return Noe(this.rows(r,a))});Qs("row().data()",function(r){var a=this.context;if(r===void 0)return a.length&&this.length&&this[0].length?a[0].aoData[this[0]]._aData:void 0;var d=a[0].aoData[this[0]];return d._aData=r,Array.isArray(r)&&d.nTr&&d.nTr.id&&__(a[0].rowId)(r,d.nTr.id),HU(a[0],this[0],"data"),this});Qs("row().node()",function(){var r=this.context;if(r.length&&this.length&&this[0].length){var a=r[0].aoData[this[0]];if(a&&a.nTr)return a.nTr}return null});Qs("row.add()",function(r){r instanceof st&&r.length&&(r=r[0]);var a=this.iterator("table",function(d){return r.nodeName&&r.nodeName.toUpperCase()==="TR"?Soe(d,r)[0]:P_(d,r)});return this.row(a[0])});st(document).on("plugin-init.dt",function(r,a){var d=new va(a);d.on("stateSaveParams.DT",function(g,C,k){for(var M=C.rowIdFn,H=C.aiDisplayMaster,Y=[],V=0;V<H.length;V++){var te=H[V],Se=C.aoData[te];Se._detailsShow&&Y.push("#"+M(Se._aData))}k.childRows=Y}),d.on("stateLoaded.DT",function(g,C,k){uie(d,k)}),uie(d,d.state.loaded())});var uie=function(r,a){a&&a.childRows&&r.rows(a.childRows.map(function(d){return d.replace(/([^:\\]*(?:\\.[^:\\]*)*):/g,"$1\\:")})).every(function(){el(r.settings()[0],null,"requestChild",[this])})},hye=function(r,a,d,g){var C=[],k=function(M,H){if(Array.isArray(M)||M instanceof st){for(var Y=0,V=M.length;Y<V;Y++)k(M[Y],H);return}if(M.nodeName&&M.nodeName.toLowerCase()==="tr")M.setAttribute("data-dt-row",a.idx),C.push(M);else{var te=st("<tr><td></td></tr>").attr("data-dt-row",a.idx).addClass(H);st("td",te).addClass(H).html(M)[0].colSpan=BU(r),C.push(te[0])}};k(d,g),a._details&&a._details.detach(),a._details=st(C),a._detailsShow&&a._details.insertAfter(a.nTr)},Lce=$t.util.throttle(function(r){VU(r[0])},500),Roe=function(r,a){var d=r.context;if(d.length){var g=d[0].aoData[a!==void 0?a:r[0]];g&&g._details&&(g._details.detach(),g._detailsShow=void 0,g._details=void 0,st(g.nTr).removeClass("dt-hasChild"),Lce(d))}},Pce=function(r,a){var d=r.context;if(d.length&&r.length){var g=d[0].aoData[r[0]];g._details&&(g._detailsShow=a,a?(g._details.insertAfter(g.nTr),st(g.nTr).addClass("dt-hasChild")):(g._details.detach(),st(g.nTr).removeClass("dt-hasChild")),el(d[0],null,"childRow",[a,r.row(r[0])]),mye(d[0]),Lce(d))}},mye=function(r){var a=new va(r),d=".dt.DT_details",g="draw"+d,C="column-sizing"+d,k="destroy"+d,M=r.aoData;a.off(g+" "+C+" "+k),hh(M,"_details").length>0&&(a.on(g,function(H,Y){r===Y&&a.rows({page:"current"}).eq(0).each(function(V){var te=M[V];te._detailsShow&&te._details.insertAfter(te.nTr)})}),a.on(C,function(H,Y){if(r===Y)for(var V,te=BU(Y),Se=0,ye=M.length;Se<ye;Se++)V=M[Se],V&&V._details&&V._details.each(function(){var je=st(this).children("td");je.length==1&&je.attr("colspan",te)})}),a.on(k,function(H,Y){if(r===Y)for(var V=0,te=M.length;V<te;V++)M[V]&&M[V]._details&&Roe(a,V)}))},pye="",gI=pye+"row().child",jU=gI+"()";Qs(jU,function(r,a){var d=this.context;return r===void 0?d.length&&this.length&&d[0].aoData[this[0]]?d[0].aoData[this[0]]._details:void 0:(r===!0?this.child.show():r===!1?Roe(this):d.length&&this.length&&hye(d[0],d[0].aoData[this[0]],r,a),this)});Qs([gI+".show()",jU+".show()"],function(){return Pce(this,!0),this});Qs([gI+".hide()",jU+".hide()"],function(){return Pce(this,!1),this});Qs([gI+".remove()",jU+".remove()"],function(){return Roe(this),this});Qs(gI+".isShown()",function(){var r=this.context;return r.length&&this.length&&r[0].aoData[this[0]]&&r[0].aoData[this[0]]._detailsShow||!1});var gye=/^([^:]+)?:(name|title|visIdx|visible)$/,Loe=function(r,a,d,g,C,k){for(var M=[],H=0,Y=C.length;H<Y;H++)M.push(lv(r,C[H],a,k));return M},Ice=function(r,a,d){var g=r.aoHeader,C=r.titleRow,k=null;if(d!==void 0)k=d;else if(C===!0)k=0;else if(C===!1)k=g.length-1;else if(C!==null)k=C;else{for(var M=0;M<g.length;M++)g[M][a].unique&&st("span.dt-column-title",g[M][a].cell).text()&&(k=M);k===null&&(k=0)}return g[k][a].cell},vye=function(r){for(var a=[],d=0;d<r.length;d++)for(var g=0;g<r[d].length;g++){var C=r[d][g].cell;a.includes(C)||a.push(C)}return a},bye=function(r,a,d){var g=r.aoColumns,C,k,M=vye(r.aoHeader),H=function(V){var te=uce(V);if(V==="")return OS(g.length);if(te!==null)return[te>=0?te:g.length+te];if(typeof V=="function"){var Se=WU(r,d);return g.map(function(at,Je){return V(Je,Loe(r,Je,0,0,Se),Ice(r,Je))?Je:null})}var ye=typeof V=="string"?V.match(gye):"";if(ye)switch(ye[2]){case"visIdx":case"visible":if(ye[1]&&ye[1].match(/^\d+$/)){var je=parseInt(ye[1],10);if(je<0){var Le=g.map(function(at,Je){return at.bVisible?Je:null});return[Le[Le.length+je]]}return[yoe(r,je)]}return g.map(function(at,Je){return at.bVisible?ye[1]?st(M[Je]).filter(ye[1]).length>0?Je:null:Je:null});case"name":return C||(C=hh(g,"sName")),C.map(function(at,Je){return at===ye[1]?Je:null});case"title":return k||(k=hh(g,"sTitle")),k.map(function(at,Je){return at===ye[1]?Je:null});default:return[]}if(V.nodeName&&V._DT_CellIndex)return[V._DT_CellIndex.column];var Ee=st(M).filter(V).map(function(){return Coe(this)}).toArray().sort(function(at,Je){return at-Je});if(Ee.length||!V.nodeName)return Ee;var Ce=st(V).closest("*[data-dt-column]");return Ce.length?[Ce.data("dt-column")]:[]},Y=Ooe("column",a,H,r,d);return d.columnOrder&&d.columnOrder==="index"?Y.sort(function(V,te){return V-te}):Y},yye=function(r,a,d){var g=r.aoColumns,C=g[a],k=r.aoData,M,H,Y,V;if(d===void 0)return C.bVisible;if(C.bVisible===d)return!1;if(d){var te=hh(g,"bVisible").indexOf(!0,a+1);for(H=0,Y=k.length;H<Y;H++)k[H]&&(V=k[H].nTr,M=k[H].anCells,V&&V.insertBefore(M[a],M[te]||null))}else st(hh(r.aoData,"anCells",a)).detach();return C.bVisible=d,Ece(r),!0};Qs("columns()",function(r,a){r===void 0?r="":st.isPlainObject(r)&&(a=r,r=""),a=Moe(a);var d=this.iterator("table",function(g){return bye(g,r,a)},1);return d.selector.cols=r,d.selector.opts=a,d});Ml("columns().header()","column().header()",function(r){return this.iterator("column",function(a,d){return Ice(a,d,r)},1)});Ml("columns().footer()","column().footer()",function(r){return this.iterator("column",function(a,d){var g=a.aoFooter;return g.length?a.aoFooter[r!==void 0?r:0][d].cell:null},1)});Ml("columns().data()","column().data()",function(){return this.iterator("column-rows",Loe,1)});Ml("columns().render()","column().render()",function(r){return this.iterator("column-rows",function(a,d,g,C,k){return Loe(a,d,g,C,k,r)},1)});Ml("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(r,a){return r.aoColumns[a].mData},1)});Ml("columns().cache()","column().cache()",function(r){return this.iterator("column-rows",function(a,d,g,C,k){return mI(a.aoData,k,r==="search"?"_aFilterData":"_aSortData",d)},1)});Ml("columns().init()","column().init()",function(){return this.iterator("column",function(r,a){return r.aoColumns[a]},1)});Ml("columns().names()","column().name()",function(){return this.iterator("column",function(r,a){return r.aoColumns[a].sName},1)});Ml("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(r,a,d,g,C){return mI(r.aoData,C,"anCells",a)},1)});Ml("columns().titles()","column().title()",function(r,a){return this.iterator("column",function(d,g){typeof r=="number"&&(a=r,r=void 0);var C=st("span.dt-column-title",this.column(g).header(a));return r!==void 0?(C.html(r),this):C.html()},1)});Ml("columns().types()","column().type()",function(){return this.iterator("column",function(r,a){var d=r.aoColumns[a].sType;return d||$U(r),d},1)});Ml("columns().visible()","column().visible()",function(r,a){var d=this,g=[],C=this.iterator("column",function(k,M){if(r===void 0)return k.aoColumns[M].bVisible;yye(k,M,r)&&g.push(M)});return r!==void 0&&this.iterator("table",function(k){dU(k,k.aoHeader),dU(k,k.aoFooter),k.aiDisplay.length||st(k.nTBody).find("td[colspan]").attr("colspan",BU(k)),VU(k),d.iterator("column",function(M,H){g.includes(H)&&el(M,null,"column-visibility",[M,H,r,a])}),g.length&&(a===void 0||a)&&d.columns.adjust()}),C});Ml("columns().widths()","column().width()",function(){var r=this.columns(":visible").count(),a=st("<tr>").html("<td>"+Array(r).join("</td><td>")+"</td>");st(this.table().body()).append(a);var d=a.children().map(function(){return st(this).outerWidth()});return a.remove(),this.iterator("column",function(g,C){var k=pI(g,C);return k!==null?d[k]:0},1)});Ml("columns().indexes()","column().index()",function(r){return this.iterator("column",function(a,d){return r==="visible"?pI(a,d):d},1)});Qs("columns.adjust()",function(){return this.iterator("table",function(r){r.containerWidth=-1,FU(r)},1)});Qs("column.index()",function(r,a){if(this.context.length!==0){var d=this.context[0];if(r==="fromVisible"||r==="toData")return yoe(d,a);if(r==="fromData"||r==="toVisible")return pI(d,a)}});Qs("column()",function(r,a){return Noe(this.columns(r,a))});var wye=function(r,a,d){var g=r.aoData,C=WU(r,d),k=fce(mI(g,C,"anCells")),M=st(hce([],k)),H,Y=r.aoColumns.length,V,te,Se,ye,je,Le,Ee=function(Ce){var at=typeof Ce=="function";if(Ce==null||at){for(V=[],te=0,Se=C.length;te<Se;te++)for(H=C[te],ye=0;ye<Y;ye++)je={row:H,column:ye},at?(Le=g[H],Ce(je,lv(r,H,ye),Le.anCells?Le.anCells[ye]:null)&&V.push(je)):V.push(je);return V}if(st.isPlainObject(Ce))return Ce.column!==void 0&&Ce.row!==void 0&&C.indexOf(Ce.row)!==-1?[Ce]:[];var Je=M.filter(Ce).map(function(xe,dt){return{row:dt._DT_CellIndex.row,column:dt._DT_CellIndex.column}}).toArray();return Je.length||!Ce.nodeName?Je:(Le=st(Ce).closest("*[data-dt-row]"),Le.length?[{row:Le.data("dt-row"),column:Le.data("dt-column")}]:[])};return Ooe("cell",a,Ee,r,d)};Qs("cells()",function(r,a,d){if(st.isPlainObject(r)&&(r.row===void 0?(d=r,r=null):(d=a,a=null)),st.isPlainObject(a)&&(d=a,a=null),a==null)return this.iterator("table",function(ye){return wye(ye,r,Moe(d))});var g=d?{page:d.page,order:d.order,search:d.search}:{},C=this.columns(a,g),k=this.rows(r,g),M,H,Y,V,te=this.iterator("table",function(ye,je){var Le=[];for(M=0,H=k[je].length;M<H;M++)for(Y=0,V=C[je].length;Y<V;Y++)Le.push({row:k[je][M],column:C[je][Y]});return Le},1),Se=d&&d.selected?this.cells(te,d):te;return st.extend(Se.selector,{cols:a,rows:r,opts:d}),Se});Ml("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(r,a,d){var g=r.aoData[a];return g&&g.anCells?g.anCells[d]:void 0},1)});Qs("cells().data()",function(){return this.iterator("cell",function(r,a,d){return lv(r,a,d)},1)});Ml("cells().cache()","cell().cache()",function(r){return r=r==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(a,d,g){return a.aoData[d][r][g]},1)});Ml("cells().render()","cell().render()",function(r){return this.iterator("cell",function(a,d,g){return lv(a,d,g,r)},1)});Ml("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(r,a,d){return{row:a,column:d,columnVisible:pI(r,d)}},1)});Ml("cells().invalidate()","cell().invalidate()",function(r){return this.iterator("cell",function(a,d,g){HU(a,d,r,g)})});Qs("cell()",function(r,a,d){return Noe(this.cells(r,a,d))});Qs("cell().data()",function(r){var a=this.context,d=this[0];return r===void 0?a.length&&d.length?lv(a[0],d[0].row,d[0].column):void 0:(U0e(a[0],d[0].row,d[0].column,r),HU(a[0],d[0].row,"data",d[0].column),this)});Qs("order()",function(r,a){var d=this.context,g=Array.prototype.slice.call(arguments);return r===void 0?d.length!==0?d[0].aaSorting:void 0:(typeof r=="number"?r=[[r,a]]:g.length>1&&(r=g),this.iterator("table",function(C){var k=[];T_(C,k,r),C.aaSorting=k}))});Qs("order.listener()",function(r,a,d){return this.iterator("table",function(g){kce(g,r,{},a,d)})});Qs("order.fixed()",function(r){if(!r){var a=this.context,d=a.length?a[0].aaSortingFixed:void 0;return Array.isArray(d)?{pre:d}:d}return this.iterator("table",function(g){g.aaSortingFixed=st.extend(!0,{},r)})});Qs(["columns().order()","column().order()"],function(r){var a=this;return r?this.iterator("table",function(d,g){d.aaSorting=a[g].map(function(C){return[C,r]})}):this.iterator("column",function(d,g){for(var C=zU(d),k=0,M=C.length;k<M;k++)if(C[k].col===g)return C[k].dir;return null},1)});Ml("columns().orderable()","column().orderable()",function(r){return this.iterator("column",function(a,d){var g=a.aoColumns[d];return r?g.asSorting:g.bSortable},1)});Qs("processing()",function(r){return this.iterator("table",function(a){Xp(a,r)})});Qs("search()",function(r,a,d,g){var C=this.context;return r===void 0?C.length!==0?C[0].oPreviousSearch.search:void 0:this.iterator("table",function(k){k.oFeatures.bFilter&&(typeof a=="object"?KP(k,st.extend(k.oPreviousSearch,a,{search:r})):KP(k,st.extend(k.oPreviousSearch,{search:r,regex:a===null?!1:a,smart:d===null?!0:d,caseInsensitive:g===null?!0:g})))})});Qs("search.fixed()",function(r,a){var d=this.iterator(!0,"table",function(g){var C=g.searchFixed;if(r){if(a===void 0)return C[r];a===null?delete C[r]:C[r]=a}else return Object.keys(C);return this});return r!==void 0&&a===void 0?d[0]:d});Ml("columns().search()","column().search()",function(r,a,d,g){return this.iterator("column",function(C,k){var M=C.aoPreSearchCols;if(r===void 0)return M[k].search;C.oFeatures.bFilter&&(typeof a=="object"?st.extend(M[k],a,{search:r}):st.extend(M[k],{search:r,regex:a===null?!1:a,smart:d===null?!0:d,caseInsensitive:g===null?!0:g}),KP(C,C.oPreviousSearch))})});Qs(["columns().search.fixed()","column().search.fixed()"],function(r,a){var d=this.iterator(!0,"column",function(g,C){var k=g.aoColumns[C].searchFixed;if(r){if(a===void 0)return k[r]||null;a===null?delete k[r]:k[r]=a}else return Object.keys(k);return this});return r!==void 0&&a===void 0?d[0]:d});Qs("state()",function(r,a){if(!r)return this.context.length?this.context[0].oSavedState:null;var d=st.extend(!0,{},r);return this.iterator("table",function(g){a!==!1&&(d.time=+new Date+100),Sne(g,d,function(){})})});Qs("state.clear()",function(){return this.iterator("table",function(r){r.fnStateSaveCallback.call(r.oInstance,r,{})})});Qs("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});Qs("state.save()",function(){return this.iterator("table",function(r){VU(r)})});var die,fie;$t.use=function(r,a){var d=typeof r=="string"?a:r,g=typeof a=="string"?a:r;if(d===void 0&&typeof g=="string")switch(g){case"lib":case"jq":return st;case"win":return window;case"datetime":return $t.DateTime;case"luxon":return FS;case"moment":return I_;case"bootstrap":return die||window.bootstrap;case"foundation":return fie||window.Foundation;default:return null}g==="lib"||g==="jq"||d&&d.fn&&d.fn.jquery?st=d:g==="win"||d&&d.document?(window=d,document=d.document):g==="datetime"||d&&d.type==="DateTime"?$t.DateTime=d:g==="luxon"||d&&d.FixedOffsetZone?FS=d:g==="moment"||d&&d.isMoment?I_=d:g==="bootstrap"||d&&d.Modal&&d.Modal.NAME==="modal"?die=d:(g==="foundation"||d&&d.Reveal)&&(fie=d)};$t.factory=function(r,a){var d=!1;return r&&r.document&&(window=r,document=r.document),a&&a.fn&&a.fn.jquery&&(st=a,d=!0),d};$t.versionCheck=function(r,a){for(var d=a?a.split("."):$t.version.split("."),g=r.split("."),C,k,M=0,H=g.length;M<H;M++)if(C=parseInt(d[M],10)||0,k=parseInt(g[M],10)||0,C!==k)return C>k;return!0};$t.isDataTable=function(r){var a=st(r).get(0),d=!1;return r instanceof $t.Api?!0:(st.each($t.settings,function(g,C){var k=C.nScrollHead?st("table",C.nScrollHead)[0]:null,M=C.nScrollFoot?st("table",C.nScrollFoot)[0]:null;(C.nTable===a||k===a||M===a)&&(d=!0)}),d)};$t.tables=function(r){var a=!1;st.isPlainObject(r)&&(a=r.api,r=r.visible);var d=$t.settings.filter(function(g){return!!(!r||r&&st(g.nTable).is(":visible"))}).map(function(g){return g.nTable});return a?new va(d):d};$t.camelToHungarian=RS;Qs("$()",function(r,a){var d=this.rows(a).nodes(),g=st(d);return st([].concat(g.filter(r).toArray(),g.find(r).toArray()))});st.each(["on","one","off"],function(r,a){Qs(a+"()",function(){var d=Array.prototype.slice.call(arguments);d[0]=d[0].split(/\s/).map(function(C){return C.match(/\.dt\b/)?C:C+".dt"}).join(" ");var g=st(this.tables().nodes());return g[a].apply(g,d),this})});Qs("clear()",function(){return this.iterator("table",function(r){xoe(r)})});Qs("error()",function(r){return this.iterator("table",function(a){tv(a,0,r)})});Qs("settings()",function(){return new va(this.context,this.context)});Qs("init()",function(){var r=this.context;return r.length?r[0].oInit:null});Qs("data()",function(){return this.iterator("table",function(r){return hh(r.aoData,"_aData")}).flatten()});Qs("trigger()",function(r,a,d){return this.iterator("table",function(g){return el(g,null,r,a,d)}).flatten()});Qs("ready()",function(r){var a=this.context;return r?this.tables().every(function(){var d=this;this.context[0]._bInitComplete?r.call(d):this.on("init.dt.DT",function(){r.call(d)})}):a.length?a[0]._bInitComplete||!1:null});Qs("destroy()",function(r){return r=r||!1,this.iterator("table",function(a){var d=a.oClasses,g=a.nTable,C=a.nTBody,k=a.nTHead,M=a.nTFoot,H=st(g),Y=st(C),V=st(a.nTableWrapper),te=a.aoData.map(function(Ce){return Ce?Ce.nTr:null}),Se=d.order;a.bDestroying=!0,el(a,"aoDestroyCallback","destroy",[a],!0),r||new va(a).columns().visible(!0),a.resizeObserver&&a.resizeObserver.disconnect(),V.off(".DT").find(":not(tbody *)").off(".DT"),st(window).off(".DT-"+a.sInstance),g!=k.parentNode&&(H.children("thead").detach(),H.append(k)),M&&g!=M.parentNode&&(H.children("tfoot").detach(),H.append(M)),hie(k,"header"),hie(M,"footer"),a.colgroup.remove(),a.aaSorting=[],a.aaSortingFixed=[],Cne(a),st(H).find("th, td").removeClass(st.map($t.ext.type.className,function(Ce){return Ce}).join(" ")),st("th, td",k).removeClass(Se.none+" "+Se.canAsc+" "+Se.canDesc+" "+Se.isAsc+" "+Se.isDesc).css("width","").removeAttr("aria-sort"),Y.children().detach(),Y.append(te);var ye=a.nTableWrapper.parentNode,je=a.nTableWrapper.nextSibling,Le=r?"remove":"detach";H[Le](),V[Le](),!r&&ye&&(ye.insertBefore(g,je),H.css("width",a.sDestroyWidth).removeClass(d.table));var Ee=$t.settings.indexOf(a);Ee!==-1&&$t.settings.splice(Ee,1)})});st.each(["column","row","cell"],function(r,a){Qs(a+"s().every()",function(d){var g=this.selector.opts,C=this,k,M=0;return this.iterator("every",function(H,Y,V){k=C[a](Y,g),a==="cell"?d.call(k,k[0][0].row,k[0][0].column,V,M):d.call(k,Y,V,M),M++})})});Qs("i18n()",function(r,a,d){var g=this.context[0],C=SO(r)(g.oLanguage);return C===void 0&&(C=a),st.isPlainObject(C)&&(C=d!==void 0&&C[d]!==void 0?C[d]:d===!1?C:C._),typeof C=="string"?C.replace("%d",d):C});function hie(r,a){st(r).find("span.dt-column-order").remove(),st(r).find("span.dt-column-title").each(function(){var d=st(this).html();st(this).parent().parent().append(d),st(this).remove()}),st(r).find("div.dt-column-"+a).remove(),st("th, td",r).removeAttr("data-dt-column")}$t.version="2.3.4";$t.settings=[];$t.models={};$t.models.oSearch={caseInsensitive:!0,search:"",regex:!1,smart:!0,return:!1};$t.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,src:null,idx:-1,displayData:null};$t.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null,maxLenString:null,searchFixed:null};$t.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],bAutoWidth:!0,bDeferRender:!0,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:null,titleRow:null,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(r){return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnStateLoadCallback:function(r){try{return JSON.parse((r.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+r.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(r,a){try{(r.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+r.sInstance+"_"+location.pathname,JSON.stringify(a))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{orderable:": Activate to sort",orderableReverse:": Activate to invert sorting",orderableRemove:": Activate to remove sorting",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous",number:""}},oPaginate:{sFirst:"Â«",sLast:"Â»",sNext:"âº",sPrevious:"â¹"},entries:{_:"entries",1:"entry"},lengthLabels:{"-1":"All"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ _ENTRIES-TOTAL_",sInfoEmpty:"Showing 0 to 0 of 0 _ENTRIES-TOTAL_",sInfoFiltered:"(filtered from _MAX_ total _ENTRIES-MAX_)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"_MENU_ _ENTRIES_ per page",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},orderDescReverse:!0,oSearch:st.extend({},$t.models.oSearch),layout:{topStart:"pageLength",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},sDom:null,searchDelay:null,sPaginationType:"",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId",caption:null,iDeferLoading:null,on:null};IU($t.defaults);$t.defaults.column={aDataSort:null,iDataSort:-1,ariaTitle:"",asSorting:["asc","desc",""],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};IU($t.defaults.column);$t.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:!0,bLengthChange:!0,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollbarLeft:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},searchFixed:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",pagingControls:0,iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,bAjaxDataGet:!0,jqXHR:null,json:void 0,oAjaxData:void 0,sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return tg(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return tg(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var r=this._iDisplayLength,a=this._iDisplayStart,d=a+r,g=this.aiDisplay.length,C=this.oFeatures,k=C.bPaginate;return C.bServerSide?k===!1||r===-1?a+g:Math.min(a+r,this._iRecordsDisplay):!k||d>g||r===-1?g:d},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null,caption:"",captionNode:null,colgroup:null,deferLoading:null,typeDetect:!0,resizeObserver:null,containerWidth:-1,orderDescReverse:null,orderIndicators:!0,orderHandler:!0,titleRow:null};var Cye=$t.ext.pager;st.extend(Cye,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(){return["numbers"]},simple_numbers:function(){return["previous","numbers","next"]},full_numbers:function(){return["first","previous","numbers","next","last"]},first_last:function(){return["first","last"]},first_last_numbers:function(){return["first","numbers","last"]},_numbers:Hce,numbers_length:7});st.extend(!0,$t.ext.renderer,{pagingButton:{_:function(r,a,d,g,C){var k=r.oClasses.paging,M=[k.button],H;return g&&M.push(k.active),C&&M.push(k.disabled),a==="ellipsis"?H=st('<span class="ellipsis"></span>').html(d)[0]:H=st("<button>",{class:M.join(" "),role:"link",type:"button"}).html(d),{display:H,clicker:H}}},pagingContainer:{_:function(r,a){return a}}});var IO=function(r,a){return function(d){return Kp(d)||typeof d!="string"||(d=d.replace(L0e," "),r&&(d=iw(d)),d=cU(d,!1)),d}};function mie(r,a,d,g,C){return I_?r[a](C):FS?r[d](C):g?r[g](C):r}var pie=!1,FS,I_;function Sye(){window.luxon&&!FS&&(FS=window.luxon),window.moment&&!I_&&(I_=window.moment)}function mU(r,a,d){var g;if(Sye(),I_){if(g=I_.utc(r,a,d,!0),!g.isValid())return null}else if(FS){if(g=a&&typeof r=="string"?FS.DateTime.fromFormat(r,a):FS.DateTime.fromISO(r),!g.isValid)return null;g=g.setLocale(d)}else a?(pie||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),pie=!0):g=new Date(r);return g}function qte(r){return function(a,d,g,C){arguments.length===0?(g="en",d=null,a=null):arguments.length===1?(g="en",d=a,a=null):arguments.length===2&&(g=d,d=a,a=null);var k="datetime"+(d?"-"+d:"");return $t.ext.type.order[k+"-pre"]||$t.type(k,{detect:function(M){return M===k?k:!1},order:{pre:function(M){return M.valueOf()}},className:"dt-right"}),function(M,H){if(M==null)if(C==="--now"){var Y=new Date;M=new Date(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds()))}else M="";if(H==="type")return k;if(M==="")return H!=="sort"?"":mU("0000-01-01 00:00:00",null,g);if(d!==null&&a===d&&H!=="sort"&&H!=="type"&&!(M instanceof Date))return M;var V=mU(M,a,g);if(V===null)return M;if(H==="sort")return V;var te=d===null?mie(V,"toDate","toJSDate","")[r](navigator.language,{timeZone:"UTC"}):mie(V,"format","toFormat","toISOString",d);return H==="display"?A_(te):te}}}var Fce=",",Bce=".";if(window.Intl!==void 0)try{for(var BP=new Intl.NumberFormat().formatToParts(100000.1),Md=0;Md<BP.length;Md++)BP[Md].type==="group"?Fce=BP[Md].value:BP[Md].type==="decimal"&&(Bce=BP[Md].value)}catch{}$t.datetime=function(r,a){var d="datetime-"+r;a||(a="en"),$t.ext.type.order[d]||$t.type(d,{detect:function(g){var C=mU(g,r,a);return g===""||C?d:!1},order:{pre:function(g){return mU(g,r,a)||0}},className:"dt-right"})};$t.render={date:qte("toLocaleDateString"),datetime:qte("toLocaleString"),time:qte("toLocaleTimeString"),number:function(r,a,d,g,C){return r==null&&(r=Fce),a==null&&(a=Bce),{display:function(k){if(typeof k!="number"&&typeof k!="string"||k===""||k===null)return k;var M=k<0?"-":"",H=parseFloat(k),Y=Math.abs(H);if(Y>=1e11||Y<1e-4&&Y!==0){var V=H.toExponential(d).split(/e\+?/);return V[0]+" x 10<sup>"+V[1]+"</sup>"}if(isNaN(H))return A_(k);H=H.toFixed(d),k=Math.abs(H);var te=parseInt(k,10),Se=d?a+(k-te).toFixed(d).substring(2):"";return te===0&&parseFloat(Se)===0&&(M=""),M+(g||"")+te.toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)+Se+(C||"")}}},text:function(){return{display:A_,filter:A_}}};var im=$t.ext.type;$t.type=function(r,a,d){if(!a)return{className:im.className[r],detect:im.detect.find(function(M){return M._name===r}),order:{pre:im.order[r+"-pre"],asc:im.order[r+"-asc"],desc:im.order[r+"-desc"]},render:im.render[r],search:im.search[r]};var g=function(M,H){im[M][r]=H},C=function(M){Object.defineProperty(M,"_name",{value:r});var H=im.detect.findIndex(function(Y){return Y._name===r});H===-1?im.detect.unshift(M):im.detect.splice(H,1,M)},k=function(M){im.order[r+"-pre"]=M.pre,im.order[r+"-asc"]=M.asc,im.order[r+"-desc"]=M.desc};d===void 0&&(d=a,a=null),a==="className"?g("className",d):a==="detect"?C(d):a==="order"?k(d):a==="render"?g("render",d):a==="search"?g("search",d):a||(d.className&&g("className",d.className),d.detect!==void 0&&C(d.detect),d.order&&k(d.order),d.render!==void 0&&g("render",d.render),d.search!==void 0&&g("search",d.search))};$t.types=function(){return im.detect.map(function(r){return r._name})};var xne=function(r,a){return r=r!=null?r.toString().toLowerCase():"",a=a!=null?a.toString().toLowerCase():"",r.localeCompare(a,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})},gie=function(r,a){return r=iw(r),a=iw(a),xne(r,a)};$t.type("string",{detect:function(){return"string"},order:{pre:function(r){return Kp(r)&&typeof r!="boolean"?"":typeof r=="string"?r.toLowerCase():r.toString?r.toString():""}},search:IO(!1)});$t.type("string-utf8",{detect:{allOf:function(r){return!0},oneOf:function(r){return!Kp(r)&&navigator.languages&&typeof r=="string"&&r.match(/[^\x00-\x7F]/)}},order:{asc:xne,desc:function(r,a){return xne(r,a)*-1}},search:IO(!1)});$t.type("html",{detect:{allOf:function(r){return Kp(r)||typeof r=="string"&&r.indexOf("<")!==-1},oneOf:function(r){return!Kp(r)&&typeof r=="string"&&r.indexOf("<")!==-1}},order:{pre:function(r){return Kp(r)?"":r.replace?iw(r).trim().toLowerCase():r+""}},search:IO(!0)});$t.type("html-utf8",{detect:{allOf:function(r){return Kp(r)||typeof r=="string"&&r.indexOf("<")!==-1},oneOf:function(r){return navigator.languages&&!Kp(r)&&typeof r=="string"&&r.indexOf("<")!==-1&&typeof r=="string"&&r.match(/[^\x00-\x7F]/)}},order:{asc:gie,desc:function(r,a){return gie(r,a)*-1}},search:IO(!0)});$t.type("date",{className:"dt-type-date",detect:{allOf:function(r){if(r&&!(r instanceof Date)&&!Qre.test(r))return null;var a=Date.parse(r);return a!==null&&!isNaN(a)||Kp(r)},oneOf:function(r){return r instanceof Date||typeof r=="string"&&Qre.test(r)}},order:{pre:function(r){var a=Date.parse(r);return isNaN(a)?-1/0:a}}});$t.type("html-num-fmt",{className:"dt-type-numeric",detect:{allOf:function(r,a){var d=a.oLanguage.sDecimal;return lU(r,d,!0,!1)},oneOf:function(r,a){var d=a.oLanguage.sDecimal;return lU(r,d,!0,!1)}},order:{pre:function(r,a){var d=a.oLanguage.sDecimal;return ZU(r,d,voe,boe)}},search:IO(!0)});$t.type("html-num",{className:"dt-type-numeric",detect:{allOf:function(r,a){var d=a.oLanguage.sDecimal;return lU(r,d,!1,!0)},oneOf:function(r,a){var d=a.oLanguage.sDecimal;return lU(r,d,!1,!1)}},order:{pre:function(r,a){var d=a.oLanguage.sDecimal;return ZU(r,d,voe)}},search:IO(!0)});$t.type("num-fmt",{className:"dt-type-numeric",detect:{allOf:function(r,a){var d=a.oLanguage.sDecimal;return YP(r,d,!0,!0)},oneOf:function(r,a){var d=a.oLanguage.sDecimal;return YP(r,d,!0,!1)}},order:{pre:function(r,a){var d=a.oLanguage.sDecimal;return ZU(r,d,boe)}}});$t.type("num",{className:"dt-type-numeric",detect:{allOf:function(r,a){var d=a.oLanguage.sDecimal;return YP(r,d,!1,!0)},oneOf:function(r,a){var d=a.oLanguage.sDecimal;return YP(r,d,!1,!1)}},order:{pre:function(r,a){var d=a.oLanguage.sDecimal;return ZU(r,d)}}});var ZU=function(r,a,d,g){if(r!==0&&(!r||r==="-"))return-1/0;var C=typeof r;return C==="number"||C==="bigint"?r:(a&&(r=dce(r,a)),r.replace&&(d&&(r=r.replace(d,"")),g&&(r=r.replace(g,""))),r*1)};st.extend(!0,$t.ext.renderer,{footer:{_:function(r,a,d){a.addClass(d.tfoot.cell)}},header:{_:function(r,a,d){a.addClass(d.thead.cell),r.oFeatures.bSort||a.addClass(d.order.none);var g=r.titleRow,C=a.closest("thead").find("tr"),k=a.parent().index();a.attr("data-dt-order")==="disable"||a.parent().attr("data-dt-order")==="disable"||g===!0&&k!==0||g===!1&&k!==C.length-1||typeof g=="number"&&k!==g||st(r.nTable).on("order.dt.DT column-visibility.dt.DT",function(M,H,Y){if(r===H){var V=H.sortDetails;if(V){var te=hh(V,"col");if(!(M.type==="column-visibility"&&!te.includes(Y))){var Se,ye=d.order,je=H.api.columns(a),Le=r.aoColumns[je.flatten()[0]],Ee=je.orderable().includes(!0),Ce="",at=je.indexes(),Je=je.orderable(!0).flatten(),xe=r.iTabIndex,dt=H.orderHandler&&Ee;a.removeClass(ye.isAsc+" "+ye.isDesc).toggleClass(ye.none,!Ee).toggleClass(ye.canAsc,dt&&Je.includes("asc")).toggleClass(ye.canDesc,dt&&Je.includes("desc"));var Qt=!0;for(Se=0;Se<at.length;Se++)te.includes(at[Se])||(Qt=!1);if(Qt){var Et=je.order();a.addClass(Et.includes("asc")?ye.isAsc:""+Et.includes("desc")?ye.isDesc:"")}var P=-1;for(Se=0;Se<te.length;Se++)if(r.aoColumns[te[Se]].bVisible){P=te[Se];break}if(at[0]==P){var mn=V[0],Ln=Le.asSorting;a.attr("aria-sort",mn.dir==="asc"?"ascending":"descending"),Ce=Ln[mn.index+1]?"Reverse":"Remove"}else a.removeAttr("aria-sort");if(Ee){var ln=a.find(".dt-column-order");ln.attr("role","button").attr("aria-label",Ee?Le.ariaTitle+H.api.i18n("oAria.orderable"+Ce):Le.ariaTitle),xe!==-1&&ln.attr("tabindex",xe)}}}}})}},layout:{_:function(r,a,d){var g=r.oClasses.layout,C=st("<div/>").attr("id",d.id||null).addClass(d.className||g.row).appendTo(a);$t.ext.renderer.layout._forLayoutRow(d,function(k,M){if(!(k==="id"||k==="className")){var H="";M.table&&(C.addClass(g.tableRow),H+=g.tableCell+" "),k==="start"?H+=g.start:k==="end"?H+=g.end:H+=g.full,st("<div/>").attr({id:M.id||null,class:M.className?M.className:g.cell+" "+H}).append(M.contents).appendTo(C)}})},_forLayoutRow:function(r,a){var d=function(g){switch(g){case"":return 0;case"start":return 1;case"end":return 2;default:return 3}};Object.keys(r).sort(function(g,C){return d(g)-d(C)}).forEach(function(g){a(g,r[g])})}}});$t.feature={};$t.feature.register=function(r,a,d){$t.ext.features[r]=a,d&&of.feature.push({cFeature:d,fnInit:a})};function FV(r,a,d){d&&(r[a]=d)}$t.feature.register("div",function(r,a){var d=st("<div>")[0];return a&&(FV(d,"className",a.className),FV(d,"id",a.id),FV(d,"innerHTML",a.html),FV(d,"textContent",a.text)),d});$t.feature.register("info",function(r,a){if(!r.oFeatures.bInfo)return null;var d=r.oLanguage,g=r.sTableId,C=st("<div/>",{class:r.oClasses.info.container});return a=st.extend({callback:d.fnInfoCallback,empty:d.sInfoEmpty,postfix:d.sInfoPostFix,search:d.sInfoFiltered,text:d.sInfo},a),r.aoDrawCallback.push(function(k){xye(k,a,C)}),r._infoEl||(C.attr({"aria-live":"polite",id:g+"_info",role:"status"}),st(r.nTable).attr("aria-describedby",g+"_info"),r._infoEl=C),C},"i");function xye(r,a,d){var g=r._iDisplayStart+1,C=r.fnDisplayEnd(),k=r.fnRecordsTotal(),M=r.fnRecordsDisplay(),H=M?a.text:a.empty;M!==k&&(H+=" "+a.search),H+=a.postfix,H=Doe(r,H),a.callback&&(H=a.callback.call(r.oInstance,r,g,C,k,M,H)),d.html(H),el(r,null,"info",[r,d[0],H])}var Yte=0;$t.feature.register("search",function(r,a){if(!r.oFeatures.bFilter)return null;var d=r.oClasses.search,g=r.sTableId,C=r.oLanguage,k=r.oPreviousSearch,M='<input type="search" class="'+d.input+'"/>';a=st.extend({placeholder:C.sSearchPlaceholder,processing:!1,text:C.sSearch},a),a.text.indexOf("_INPUT_")===-1&&(a.text+="_INPUT_"),a.text=Doe(r,a.text);var H=a.text.match(/_INPUT_$/),Y=a.text.match(/^_INPUT_/),V=a.text.replace(/_INPUT_/,""),te="<label>"+a.text+"</label>";Y?te="_INPUT_<label>"+V+"</label>":H&&(te="<label>"+V+"</label>_INPUT_");var Se=st("<div>").addClass(d.container).append(te.replace(/_INPUT_/,M));Se.find("label").attr("for","dt-search-"+Yte),Se.find("input").attr("id","dt-search-"+Yte),Yte++;var ye=function(Ee){var Ce=this.value;k.return&&Ee.key!=="Enter"||Ce!=k.search&&xce(r,a.processing,function(){k.search=Ce,KP(r,k),r._iDisplayStart=0,PO(r)})},je=r.searchDelay!==null?r.searchDelay:0,Le=st("input",Se).val(k.search).attr("placeholder",a.placeholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",je?$t.util.debounce(ye,je):ye).on("mouseup.DT",function(Ee){setTimeout(function(){ye.call(Le[0],Ee)},10)}).on("keypress.DT",function(Ee){if(Ee.keyCode==13)return!1}).attr("aria-controls",g);return st(r.nTable).on("search.dt.DT",function(Ee,Ce){r===Ce&&Le[0]!==document.activeElement&&Le.val(typeof k.search!="function"?k.search:"")}),Se},"f");$t.feature.register("paging",function(r,a){if(!r.oFeatures.bPaginate)return null;a=st.extend({buttons:$t.ext.pager.numbers_length,type:r.sPaginationType,boundaryNumbers:!0,firstLast:!0,previousNext:!0,numbers:!0},a);var d=st("<div/>").addClass(r.oClasses.paging.container+(a.type?" paging_"+a.type:"")).append(st("<nav>").attr("aria-label","pagination").addClass(r.oClasses.paging.nav)),g=function(){$ce(r,d.children(),a)};return r.aoDrawCallback.push(g),st(r.nTable).on("column-sizing.dt.DT",g),d},"p");function _ye(r){var a=[];return r.numbers&&a.push("numbers"),r.previousNext&&(a.unshift("previous"),a.push("next")),r.firstLast&&(a.unshift("first"),a.push("last")),a}function $ce(r,a,d){if(r._bInitComplete){var g=d.type?$t.ext.pager[d.type]:_ye,C=r.oLanguage.oAria.paginate||{},k=r._iDisplayStart,M=r._iDisplayLength,H=r.fnRecordsDisplay(),Y=M===-1,V=Y?0:Math.ceil(k/M),te=Y?1:Math.ceil(H/M),Se=[],ye=[],je=g(d).map(function(Et){return Et==="numbers"?Hce(V,te,d.buttons,d.boundaryNumbers):Et});Se=Se.concat.apply(Se,je);for(var Le=0;Le<Se.length;Le++){var Ee=Se[Le],Ce=Tye(r,Ee,V,te),at=hU(r,"pagingButton")(r,Ee,Ce.display,Ce.active,Ce.disabled),Je=typeof Ee=="string"?C[Ee]:C.number?C.number+(Ee+1):null;st(at.clicker).attr({"aria-controls":r.sTableId,"aria-disabled":Ce.disabled?"true":null,"aria-current":Ce.active?"page":null,"aria-label":Je,"data-dt-idx":Ee,tabIndex:Ce.disabled?-1:r.iTabIndex&&at.clicker[0].nodeName.toLowerCase()!=="span"?r.iTabIndex:null}),typeof Ee!="number"&&st(at.clicker).addClass(Ee),Ace(at.clicker,{action:Ee},function(Et){Et.preventDefault(),Eoe(r,Et.data.action,!0)}),ye.push(at.display)}var xe=hU(r,"pagingContainer")(r,ye),dt=a.find(document.activeElement).data("dt-idx");if(a.empty().append(xe),dt!==void 0&&a.find("[data-dt-idx="+dt+"]").trigger("focus"),ye.length){var Qt=st(ye[0]).outerHeight();d.buttons>1&&Qt>0&&st(a).height()>=Qt*2-10&&$ce(r,a,st.extend({},d,{buttons:d.buttons-2}))}}}function Tye(r,a,d,g){var C=r.oLanguage.oPaginate,k={display:"",active:!1,disabled:!1};switch(a){case"ellipsis":k.display="&#x2026;";break;case"first":k.display=C.sFirst,d===0&&(k.disabled=!0);break;case"previous":k.display=C.sPrevious,d===0&&(k.disabled=!0);break;case"next":k.display=C.sNext,(g===0||d===g-1)&&(k.disabled=!0);break;case"last":k.display=C.sLast,(g===0||d===g-1)&&(k.disabled=!0);break;default:typeof a=="number"&&(k.display=r.fnFormatNumber(a+1),d===a&&(k.active=!0));break}return k}function Hce(r,a,d,g){var C=[],k=Math.floor(d/2),M=g?2:1,H=g?1:0;return a<=d?C=OS(0,a):d===1?C=[r]:d===3?r<=1?C=[0,1,"ellipsis"]:r>=a-2?(C=OS(a-2,a),C.unshift("ellipsis")):C=["ellipsis",r,"ellipsis"]:r<=k?(C=OS(0,d-M),C.push("ellipsis"),g&&C.push(a-1)):r>=a-1-k?(C=OS(a-(d-M),a),C.unshift("ellipsis"),g&&C.unshift(0)):(C=OS(r-k+M,r+k-H),C.push("ellipsis"),C.unshift("ellipsis"),g&&(C.push(a-1),C.unshift(0))),C}var Gte=0;$t.feature.register("pageLength",function(r,a){var d=r.oFeatures;if(!d.bPaginate||!d.bLengthChange)return null;a=st.extend({menu:r.aLengthMenu,text:r.oLanguage.sLengthMenu},a);var g=r.oClasses.length,C=r.sTableId,k=a.menu,M=[],H=[],Y;if(Array.isArray(k[0]))M=k[0],H=k[1];else for(Y=0;Y<k.length;Y++)st.isPlainObject(k[Y])?(M.push(k[Y].value),H.push(k[Y].label)):(M.push(k[Y]),H.push(k[Y]));var V=a.text.match(/_MENU_$/),te=a.text.match(/^_MENU_/),Se=a.text.replace(/_MENU_/,""),ye="<label>"+a.text+"</label>";te?ye="_MENU_<label>"+Se+"</label>":V&&(ye="<label>"+Se+"</label>_MENU_");var je="tmp-"+ +new Date,Le=st("<div/>").addClass(g.container).append(ye.replace("_MENU_",'<span id="'+je+'"></span>')),Ee=[];Array.prototype.slice.call(Le.find("label")[0].childNodes).forEach(function(xe){xe.nodeType===Node.TEXT_NODE&&Ee.push({el:xe,text:xe.textContent})});var Ce=function(xe){Ee.forEach(function(dt){dt.el.textContent=Doe(r,dt.text,xe)})},at=st("<select/>",{"aria-controls":C,class:g.select});for(Y=0;Y<M.length;Y++){var Je=r.api.i18n("lengthLabels."+M[Y],null);Je===null&&(Je=typeof H[Y]=="number"?r.fnFormatNumber(H[Y]):H[Y]),at[0][Y]=new Option(Je,M[Y])}return Le.find("label").attr("for","dt-length-"+Gte),at.attr("id","dt-length-"+Gte),Gte++,Le.find("#"+je).replaceWith(at),st("select",Le).val(r._iDisplayLength).on("change.DT",function(){Sce(r,st(this).val()),PO(r)}),st(r.nTable).on("length.dt.DT",function(xe,dt,Qt){r===dt&&(st("select",Le).val(Qt),Ce(Qt))}),Ce(r._iDisplayLength),Le},"l");st.fn.dataTable=$t;$t.$=st;st.fn.dataTableSettings=$t.settings;st.fn.dataTableExt=$t.ext;st.fn.DataTable=function(r){return st(this).dataTable(r).api()};st.each($t,function(r,a){st.fn.DataTable[r]=a});/*! DataTables Bootstrap 5 integration
 * Â© SpryMedia Ltd - datatables.net/license
 */let XP=aw;XP.extend(!0,$t.defaults,{renderer:"bootstrap"});XP.extend(!0,$t.ext.classes,{container:"dt-container dt-bootstrap5",search:{input:"form-control form-control-sm"},length:{select:"form-select form-select-sm"},processing:{container:"dt-processing card"},layout:{row:"row mt-2 justify-content-between",cell:"d-md-flex justify-content-between align-items-center",tableCell:"col-12",start:"dt-layout-start col-md-auto me-auto",end:"dt-layout-end col-md-auto ms-auto",full:"dt-layout-full col-md"}});$t.ext.renderer.pagingButton.bootstrap=function(r,a,d,g,C){var k=["dt-paging-button","page-item"];g&&k.push("active"),C&&k.push("disabled");var M=XP("<li>").addClass(k.join(" ")),H=XP("<button>",{class:"page-link",role:"link",type:"button"}).html(d).appendTo(M);return{display:M,clicker:H}};$t.ext.renderer.pagingContainer.bootstrap=function(r,a){return XP("<ul/>").addClass("pagination").append(a)};/*! Buttons for DataTables 3.2.5
 * Â© SpryMedia Ltd - datatables.net/license
 */let zn=aw;var Eye=0,kye=0,Gp=$t.ext.buttons,_ne=null;function Poe(r,a,d){zn.fn.animate?r.stop().fadeIn(a,d):r.css("display","block")}function Ioe(r,a,d){zn.fn.animate?r.stop().fadeOut(a,d):(r.css("display","none"),d&&d.call(r))}var Wl=function(r,a){if(!$t.versionCheck("2"))throw"Warning: Buttons requires DataTables 2 or newer";if(!(this instanceof Wl))return function(d){return new Wl(d,r).container()};typeof a>"u"&&(a={}),a===!0&&(a={}),Array.isArray(a)&&(a={buttons:a}),this.c=zn.extend(!0,{},Wl.defaults,a),a.buttons&&(this.c.buttons=a.buttons),this.s={dt:new $t.Api(r),buttons:[],listenKeys:"",namespace:"dtb"+Eye++},this.dom={container:zn("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};zn.extend(Wl.prototype,{action:function(r,a){var d=this._nodeToButton(r);return a===void 0?d.conf.action:(d.conf.action=a,this)},active:function(r,a){var d=this._nodeToButton(r),g=this.c.dom.button.active,C=zn(d.node);return d.inCollection&&this.c.dom.collection.button&&this.c.dom.collection.button.active!==void 0&&(g=this.c.dom.collection.button.active),a===void 0?C.hasClass(g):(C.toggleClass(g,a===void 0?!0:a),this)},add:function(r,a,d){var g=this.s.buttons;if(typeof a=="string"){for(var C=a.split("-"),k=this.s,M=0,H=C.length-1;M<H;M++)k=k.buttons[C[M]*1];g=k.buttons,a=C[C.length-1]*1}let Y=this._expandButton(g,r,r!==void 0?r.split:void 0,(r===void 0||r.split===void 0||r.split.length===0)&&k!==void 0,!1,a);return(d===void 0||d===!0)&&this._draw(),Y},collectionRebuild:function(r,a){var d=this._nodeToButton(r);if(a!==void 0){var g;for(g=d.buttons.length-1;g>=0;g--)this.remove(d.buttons[g].node);for(d.conf.prefixButtons&&a.unshift.apply(a,d.conf.prefixButtons),d.conf.postfixButtons&&a.push.apply(a,d.conf.postfixButtons),g=0;g<a.length;g++){var C=a[g];this._expandButton(d.buttons,C,C!==void 0&&C.config!==void 0&&C.config.split!==void 0,!0,C.parentConf!==void 0&&C.parentConf.split!==void 0,null,C.parentConf)}}this._draw(d.collection,d.buttons)},container:function(){return this.dom.container},disable:function(r){var a=this._nodeToButton(r);return a.isSplit?zn(a.node.childNodes[0]).addClass(this.c.dom.button.disabled).prop("disabled",!0):zn(a.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),a.disabled=!0,this._checkSplitEnable(),this},destroy:function(){zn("body").off("keyup."+this.s.namespace);var r=this.s.buttons.slice(),a,d;for(a=0,d=r.length;a<d;a++)this.remove(r[a].node);this.dom.container.remove();var g=this.s.dt.settings()[0];for(a=0,d=g.length;a<d;a++)if(g.inst===this){g.splice(a,1);break}return this},enable:function(r,a){if(a===!1)return this.disable(r);var d=this._nodeToButton(r);return d.isSplit?zn(d.node.childNodes[0]).removeClass(this.c.dom.button.disabled).prop("disabled",!1):zn(d.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),d.disabled=!1,this._checkSplitEnable(),this},index:function(r,a,d){a||(a="",d=this.s.buttons);for(var g=0,C=d.length;g<C;g++){var k=d[g].buttons;if(d[g].node===r)return a+g;if(k&&k.length){var M=this.index(r,g+"-",k);if(M!==null)return M}}return null},name:function(){return this.c.name},node:function(r){if(!r)return this.dom.container;var a=this._nodeToButton(r);return zn(a.node)},processing:function(r,a){var d=this.s.dt,g=this._nodeToButton(r);return a===void 0?zn(g.node).hasClass("processing"):(zn(g.node).toggleClass("processing",a),zn(d.table().node()).triggerHandler("buttons-processing.dt",[a,d.button(r),d,zn(r),g.conf]),this)},remove:function(r){var a=this._nodeToButton(r),d=this._nodeToHost(r),g=this.s.dt;if(a.buttons.length)for(var C=a.buttons.length-1;C>=0;C--)this.remove(a.buttons[C].node);a.conf.destroying=!0,a.conf.destroy&&a.conf.destroy.call(g.button(r),g,zn(r),a.conf),this._removeKey(a.conf),zn(a.node).remove(),a.inserter&&zn(a.inserter).remove();var k=zn.inArray(a,d);return d.splice(k,1),this},text:function(r,a){var d=this._nodeToButton(r),g=d.textNode,C=this.s.dt,k=zn(d.node),M=function(H){return typeof H=="function"?H(C,k,d.conf):H};return a===void 0?M(d.conf.text):(d.conf.text=a,g.html(M(a)),this)},_constructor:function(){var r=this,a=this.s.dt,d=a.settings()[0],g=this.c.buttons;d._buttons||(d._buttons=[]),d._buttons.push({inst:this,name:this.c.name});for(var C=0,k=g.length;C<k;C++)this.add(g[C]);a.on("destroy",function(M,H){H===d&&r.destroy()}),zn("body").on("keyup."+this.s.namespace,function(M){if(!document.activeElement||document.activeElement===document.body){var H=String.fromCharCode(M.keyCode).toLowerCase();r.s.listenKeys.toLowerCase().indexOf(H)!==-1&&r._keypress(H,M)}})},_addKey:function(r){r.key&&(this.s.listenKeys+=zn.isPlainObject(r.key)?r.key.key:r.key)},_draw:function(r,a){r||(r=this.dom.container,a=this.s.buttons),r.children().detach();for(var d=0,g=a.length;d<g;d++)r.append(a[d].inserter),r.append(" "),a[d].buttons&&a[d].buttons.length&&this._draw(a[d].collection,a[d].buttons)},_expandButton:function(r,a,d,g,C,k,M){var H=this.s.dt,Y=!1,V=this.c.dom.collection,te=Array.isArray(a)?a:[a],Se;a===void 0&&(te=Array.isArray(d)?d:[d]);for(var ye=0,je=te.length;ye<je;ye++){var Le=this._resolveExtends(te[ye]);if(Le){if(Y=!!(Le.config&&Le.config.split),Array.isArray(Le)){this._expandButton(r,Le,Ee!==void 0&&Ee.conf!==void 0?Ee.conf.split:void 0,g,M!==void 0&&M.split!==void 0,k,M);continue}var Ee=this._buildButton(Le,g,Le.split!==void 0||Le.config!==void 0&&Le.config.split!==void 0,C);if(Ee){if(k!=null?(r.splice(k,0,Ee),k++):r.push(Ee),Ee.conf.dropIcon&&!Ee.conf.split&&zn(Ee.node).addClass(this.c.dom.button.dropClass).append(this.c.dom.button.dropHtml),Ee.conf.buttons&&(Ee.collection=zn("<"+V.container.content.tag+"/>"),Ee.conf._collection=Ee.collection,this._expandButton(Ee.buttons,Ee.conf.buttons,Ee.conf.split,!Y,Y,k,Ee.conf)),Ee.conf.split){Ee.collection=zn("<"+V.container.tag+"/>"),Ee.conf._collection=Ee.collection;for(var Ce=0;Ce<Ee.conf.split.length;Ce++){var at=Ee.conf.split[Ce];typeof at=="object"&&(at.parent=M,at.collectionLayout===void 0&&(at.collectionLayout=Ee.conf.collectionLayout),at.dropup===void 0&&(at.dropup=Ee.conf.dropup),at.fade===void 0&&(at.fade=Ee.conf.fade))}this._expandButton(Ee.buttons,Ee.conf.buttons,Ee.conf.split,!Y,Y,k,Ee.conf)}Ee.conf.parent=M,Le.init&&Le.init.call(H.button(Ee.node),H,zn(Ee.node),Le),Se=Ee.node}}}return Se},_buildButton:function(r,a,d,g){var C=this,k=this.c.dom,M,H=this.s.dt,Y=!1,V=function(Fe){return typeof Fe=="function"?Fe(H,ye,r):Fe},te=zn.extend(!0,{},k.button);if(a&&d&&k.collection.split?zn.extend(!0,te,k.collection.split.action):g||a?zn.extend(!0,te,k.collection.button):d&&zn.extend(!0,te,k.split.button),r.spacer){var Se=zn("<"+te.spacer.tag+"/>").addClass("dt-button-spacer "+r.style+" "+te.spacer.className).html(V(r.text));return{conf:r,node:Se,nodeChild:null,inserter:Se,buttons:[],inCollection:a,isSplit:d,collection:null,textNode:Se}}if(r.available&&!r.available(H,r)&&!r.html)return!1;var ye;if(r.html)ye=zn(r.html);else{var je=function(Fe,En,wn,Ze,U){Ze.action.call(En.button(wn),Fe,En,wn,Ze,U),zn(En.table().node()).triggerHandler("buttons-action.dt",[En.button(wn),En,wn,Ze])},Le=function(Fe,En,wn,Ze){Ze.async?(C.processing(wn[0],!0),setTimeout(function(){je(Fe,En,wn,Ze,function(){C.processing(wn[0],!1)})},Ze.async)):je(Fe,En,wn,Ze,function(){})},Ee=r.tag||te.tag,Ce=r.clickBlurs===void 0?!0:r.clickBlurs;if(ye=zn("<"+Ee+"/>").addClass(te.className).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(Fe){Fe.preventDefault(),!ye.hasClass(te.disabled)&&r.action&&Le(Fe,H,ye,r),Ce&&ye.trigger("blur")}).on("keypress.dtb",function(Fe){Fe.keyCode===13&&(Fe.preventDefault(),!ye.hasClass(te.disabled)&&r.action&&Le(Fe,H,ye,r))}),Ee.toLowerCase()==="a"&&ye.attr("href","#"),Ee.toLowerCase()==="button"&&ye.attr("type","button"),te.liner.tag){var at=te.liner.tag.toLowerCase(),Je=zn("<"+at+"/>").html(V(r.text)).addClass(te.liner.className);at==="a"&&Je.attr("href","#"),(at==="a"||at==="button")&&(Je.attr("tabindex",this.s.dt.settings()[0].iTabIndex),Y=!0),ye.append(Je),M=Je}else ye.html(V(r.text)),M=ye;Y||ye.attr("tabindex",this.s.dt.settings()[0].iTabIndex),r.enabled===!1&&ye.addClass(te.disabled),r.className&&ye.addClass(r.className),r.titleAttr&&ye.attr("title",V(r.titleAttr)),r.attr&&ye.attr(r.attr),r.namespace||(r.namespace=".dt-button-"+kye++),r.config!==void 0&&r.config.split&&(r.split=r.config.split)}var xe=this.c.dom.buttonContainer,dt;xe&&xe.tag?dt=zn("<"+xe.tag+"/>").addClass(xe.className).append(ye):dt=ye,this._addKey(r),this.c.buttonCreated&&(dt=this.c.buttonCreated(r,dt));var Qt;if(d){var Et=a?zn.extend(!0,this.c.dom.split,this.c.dom.collection.split):this.c.dom.split,P=Et.wrapper;Qt=zn("<"+P.tag+"/>").addClass(P.className).append(ye);var mn=zn.extend(r,{autoClose:!0,align:Et.dropdown.align,attr:{"aria-haspopup":"dialog","aria-expanded":!1},className:Et.dropdown.className,closeButton:!1,splitAlignClass:Et.dropdown.splitAlignClass,text:Et.dropdown.text});this._addKey(mn);var Ln=function(Fe,En,wn,Ze){Gp.split.action.call(En.button(Qt),Fe,En,wn,Ze),zn(En.table().node()).triggerHandler("buttons-action.dt",[En.button(wn),En,wn,Ze]),wn.attr("aria-expanded",!0)},ln=zn('<button class="'+Et.dropdown.className+' dt-button"></button>').html(this.c.dom.button.dropHtml).addClass(this.c.dom.button.dropClass).on("click.dtb",function(Fe){Fe.preventDefault(),Fe.stopPropagation(),ln.hasClass(te.disabled)||Ln(Fe,H,ln,mn),Ce&&ln.trigger("blur")}).on("keypress.dtb",function(Fe){Fe.keyCode===13&&(Fe.preventDefault(),ln.hasClass(te.disabled)||Ln(Fe,H,ln,mn))});r.split.length===0&&ln.addClass("dtb-hide-drop"),Qt.append(ln).attr(mn.attr)}var et=d?Qt.get(0):ye.get(0);return{conf:r,node:et,nodeChild:et&&et.children&&et.children.length?et.children[0]:null,inserter:d?Qt:dt,buttons:[],inCollection:a,isSplit:d,inSplit:g,collection:null,textNode:M}},_checkSplitEnable:function(r){r||(r=this.s.buttons);for(var a=0;a<r.length;a++){var d=r[a];if(d.isSplit){var g=d.node.childNodes[1];this._checkAnyEnabled(d.buttons)?zn(g).removeClass(this.c.dom.button.disabled).prop("disabled",!1):zn(g).addClass(this.c.dom.button.disabled).prop("disabled",!1)}else d.isCollection&&this._checkSplitEnable(d.buttons)}},_checkAnyEnabled:function(r){for(var a=0;a<r.length;a++)if(!r[a].disabled)return!0;return!1},_nodeToButton:function(r,a){a||(a=this.s.buttons);for(var d=0,g=a.length;d<g;d++){if(a[d].node===r||a[d].nodeChild===r)return a[d];if(a[d].buttons.length){var C=this._nodeToButton(r,a[d].buttons);if(C)return C}}},_nodeToHost:function(r,a){a||(a=this.s.buttons);for(var d=0,g=a.length;d<g;d++){if(a[d].node===r)return a;if(a[d].buttons.length){var C=this._nodeToHost(r,a[d].buttons);if(C)return C}}},_keypress:function(r,a){if(!a._buttonsHandled){var d=function(C,k){if(C.key){if(C.key===r)a._buttonsHandled=!0,zn(k).click();else if(zn.isPlainObject(C.key)){if(C.key.key!==r||C.key.shiftKey&&!a.shiftKey||C.key.altKey&&!a.altKey||C.key.ctrlKey&&!a.ctrlKey||C.key.metaKey&&!a.metaKey)return;a._buttonsHandled=!0,zn(k).click()}}},g=function(C){for(var k=0,M=C.length;k<M;k++)d(C[k].conf,C[k].node),C[k].buttons.length&&g(C[k].buttons)};g(this.s.buttons)}},_removeKey:function(r){if(r.key){var a=zn.isPlainObject(r.key)?r.key.key:r.key,d=this.s.listenKeys.split(""),g=zn.inArray(a,d);d.splice(g,1),this.s.listenKeys=d.join("")}},_resolveExtends:function(r){var a=this,d=this.s.dt,g,C,k=function(te){for(var Se=0;!zn.isPlainObject(te)&&!Array.isArray(te);){if(te===void 0)return;if(typeof te=="function"){if(te=te.call(a,d,r),!te)return!1}else if(typeof te=="string"){if(!Gp[te])return{html:te};te=Gp[te]}if(Se++,Se>30)throw"Buttons: Too many iterations"}return Array.isArray(te)?te:zn.extend({},te)};for(r=k(r);r&&r.extend;){if(!Gp[r.extend])throw"Cannot extend unknown button type: "+r.extend;var M=k(Gp[r.extend]);if(Array.isArray(M))return M;if(!M)return!1;var H=M.className;r.config!==void 0&&M.config!==void 0&&(r.config=zn.extend({},M.config,r.config)),r=zn.extend({},M,r),H&&r.className!==H&&(r.className=H+" "+r.className),r.extend=M.extend}var Y=r.postfixButtons;if(Y)for(r.buttons||(r.buttons=[]),g=0,C=Y.length;g<C;g++)r.buttons.push(Y[g]);var V=r.prefixButtons;if(V)for(r.buttons||(r.buttons=[]),g=0,C=V.length;g<C;g++)r.buttons.splice(g,0,V[g]);return r},_popover:function(r,a,d){var g=a,C=this.c,k=!1,M=zn.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,containerClassName:C.dom.collection.container.className,contentClassName:C.dom.collection.container.content.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:C.dom.collection.container.tag},d),H=M.tag+"."+M.containerClassName.replace(/ /g,"."),Y=a.node(),V=M.collectionLayout.includes("fixed")?zn("body"):a.node(),te=function(){k=!0,Ioe(zn(H),M.fade,function(){zn(this).detach()}),zn(g.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),zn("div.dt-button-background").off("click.dtb-collection"),Wl.background(!1,M.backgroundClassName,M.fade,V),zn(window).off("resize.resize.dtb-collection"),zn("body").off(".dtb-collection"),g.off("buttons-action.b-internal"),g.off("destroy"),zn("body").trigger("buttons-popover-hide.dt")};if(r===!1){te();return}var Se=zn(g.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());if(Se.length&&(V.closest(H).length&&(V=Se.eq(0)),te()),M.sort){var ye=zn("button",r).map(function(Fe,En){return{text:zn(En).text(),el:En}}).toArray();ye.sort(function(Fe,En){return Fe.text.localeCompare(En.text)}),zn(r).append(ye.map(function(Fe){return Fe.el}))}var je=zn(".dt-button",r).length,Le="";je===3?Le="dtb-b3":je===2?Le="dtb-b2":je===1&&(Le="dtb-b1");var Ee=zn("<"+M.tag+"/>").addClass(M.containerClassName).addClass(M.collectionLayout).addClass(M.splitAlignClass).addClass(Le).css("display","none").attr({"aria-modal":!0,role:"dialog"});r=zn(r).addClass(M.contentClassName).attr("role","menu").appendTo(Ee),Y.attr("aria-expanded","true"),V.parents("body")[0]!==document.body&&(V=zn(document.body).children("div, section, p").last()),M.popoverTitle?Ee.prepend('<div class="dt-button-collection-title">'+M.popoverTitle+"</div>"):M.collectionTitle&&Ee.prepend('<div class="dt-button-collection-title">'+M.collectionTitle+"</div>"),M.closeButton&&Ee.prepend('<div class="dtb-popover-close">&times;</div>').addClass("dtb-collection-closeable"),Poe(Ee.insertAfter(V),M.fade);var Ce=zn(a.table().container()),at=Ee.css("position");if((M.span==="container"||M.align==="dt-container")&&(V=V.parent(),Ee.css("width",Ce.width())),at==="absolute"){var Je=zn(V[0].offsetParent),xe=V.position(),dt=V.offset(),Qt=Je.offset(),Et=Je.position(),P=window.getComputedStyle(Je[0]);Qt.height=Je.outerHeight(),Qt.width=Je.width()+parseFloat(P.paddingLeft),Qt.right=Qt.left+Qt.width,Qt.bottom=Qt.top+Qt.height;var mn=xe.top+V.outerHeight(),Ln=xe.left;Ee.css({top:mn,left:Ln}),P=window.getComputedStyle(Ee[0]);var ln=Ee.offset();ln.height=Ee.outerHeight(),ln.width=Ee.outerWidth(),ln.right=ln.left+ln.width,ln.bottom=ln.top+ln.height,ln.marginTop=parseFloat(P.marginTop),ln.marginBottom=parseFloat(P.marginBottom),M.dropup&&(mn=xe.top-ln.height-ln.marginTop-ln.marginBottom),(M.align==="button-right"||Ee.hasClass(M.rightAlignClassName))&&(Ln=xe.left-ln.width+V.outerWidth()),(M.align==="dt-container"||M.align==="container")&&Ln<xe.left&&(Ln=-xe.left),Et.left+Ln+ln.width>zn(window).width()&&(Ln=zn(window).width()-ln.width-Et.left),dt.left+Ln<0&&(Ln=-dt.left),Et.top+mn+ln.height>zn(window).height()+zn(window).scrollTop()&&(mn=xe.top-ln.height-ln.marginTop-ln.marginBottom),Je.offset().top+mn<zn(window).scrollTop()&&(mn=xe.top+V.outerHeight()),Ee.css({top:mn,left:Ln})}else{var et=function(){var Fe=zn(window).height()/2,En=Ee.height()/2;En>Fe&&(En=Fe),Ee.css("marginTop",En*-1)};et(),zn(window).on("resize.dtb-collection",function(){et()})}M.background&&Wl.background(!0,M.backgroundClassName,M.fade,M.backgroundHost||V),zn("div.dt-button-background").on("click.dtb-collection",function(){}),M.autoClose&&setTimeout(function(){g.on("buttons-action.b-internal",function(Fe,En,wn,Ze){Ze[0]!==V[0]&&te()})},0),zn(Ee).trigger("buttons-popover.dt"),g.on("destroy",te),setTimeout(function(){k=!1,zn("body").on("click.dtb-collection",function(Fe){if(!k){var En=zn.fn.addBack?"addBack":"andSelf",wn=zn(Fe.target).parent()[0];(!zn(Fe.target).parents()[En]().filter(r).length&&!zn(wn).hasClass("dt-buttons")||zn(Fe.target).hasClass("dt-button-background"))&&te()}}).on("keyup.dtb-collection",function(Fe){Fe.keyCode===27&&te()}).on("keydown.dtb-collection",function(Fe){var En=zn("a, button",r),wn=document.activeElement;Fe.keyCode===9&&(En.index(wn)===-1?(En.first().focus(),Fe.preventDefault()):Fe.shiftKey?wn===En[0]&&(En.last().focus(),Fe.preventDefault()):wn===En.last()[0]&&(En.first().focus(),Fe.preventDefault()))})},0)}});Wl.background=function(r,a,d,g){d===void 0&&(d=400),g||(g=document.body),r?Poe(zn("<div/>").addClass(a).css("display","none").insertAfter(g),d):Ioe(zn("div."+a),d,function(){zn(this).removeClass(a).remove()})};Wl.instanceSelector=function(r,a){if(r==null)return zn.map(a,function(k){return k.inst});var d=[],g=zn.map(a,function(k){return k.name}),C=function(k){if(Array.isArray(k)){for(var M=0,H=k.length;M<H;M++)C(k[M]);return}if(typeof k=="string")if(k.indexOf(",")!==-1)C(k.split(","));else{var Y=zn.inArray(k.trim(),g);Y!==-1&&d.push(a[Y].inst)}else if(typeof k=="number")d.push(a[k].inst);else if(typeof k=="object"&&k.nodeName)for(var V=0;V<a.length;V++)a[V].inst.dom.container[0]===k&&d.push(a[V].inst);else typeof k=="object"&&d.push(k)};return C(r),d};Wl.buttonSelector=function(r,a){for(var d=[],g=function(Y,V,te){for(var Se,ye,je=0,Le=V.length;je<Le;je++)Se=V[je],Se&&(ye=te!==void 0?te+je:je+"",Y.push({node:Se.node,name:Se.conf.name,idx:ye}),Se.buttons&&g(Y,Se.buttons,ye+"-"))},C=function(Y,V){var te,Se,ye=[];g(ye,V.s.buttons);var je=zn.map(ye,function(Je){return Je.node});if(Array.isArray(Y)||Y instanceof zn){for(te=0,Se=Y.length;te<Se;te++)C(Y[te],V);return}if(Y==null||Y==="*")for(te=0,Se=ye.length;te<Se;te++)d.push({inst:V,node:ye[te].node});else if(typeof Y=="number")V.s.buttons[Y]&&d.push({inst:V,node:V.s.buttons[Y].node});else if(typeof Y=="string")if(Y.indexOf(",")!==-1){var Le=Y.split(",");for(te=0,Se=Le.length;te<Se;te++)C(Le[te].trim(),V)}else if(Y.match(/^\d+(\-\d+)*$/)){var Ee=zn.map(ye,function(Je){return Je.idx});d.push({inst:V,node:ye[zn.inArray(Y,Ee)].node})}else if(Y.indexOf(":name")!==-1){var Ce=Y.replace(":name","");for(te=0,Se=ye.length;te<Se;te++)ye[te].name===Ce&&d.push({inst:V,node:ye[te].node})}else zn(je).filter(Y).each(function(){d.push({inst:V,node:this})});else if(typeof Y=="object"&&Y.nodeName){var at=zn.inArray(Y,je);at!==-1&&d.push({inst:V,node:je[at]})}},k=0,M=r.length;k<M;k++){var H=r[k];C(a,H)}return d};Wl.stripData=function(r,a){return r!==null&&typeof r=="object"&&r.nodeName&&r.nodeType&&(r=r.innerHTML),typeof r!="string"||(r=Wl.stripHtmlScript(r),r=Wl.stripHtmlComments(r),(!a||a.stripHtml)&&(r=$t.util.stripHtml(r)),(!a||a.trim)&&(r=r.trim()),(!a||a.stripNewlines)&&(r=r.replace(/\n/g," ")),(!a||a.decodeEntities)&&(_ne?r=_ne(r):(bie.innerHTML=r,r=bie.value)),(!a||a.escapeExcelFormula)&&r.match(/^[=@\t\r]/)&&(r="'"+r)),r};Wl.entityDecoder=function(r){_ne=r};Wl.stripHtmlComments=function(r){var a;do a=r,r=r.replace(/(<!--.*?--!?>)|(<!--[\S\s]+?--!?>)|(<!--[\S\s]*?$)/g,"");while(r!==a);return r};Wl.stripHtmlScript=function(r){var a;do a=r,r=r.replace(/<script\b[^<]*(?:(?!<\/script[^>]*>)<[^<]*)*<\/script[^>]*>/gi,"");while(r!==a);return r};Wl.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{container:{className:"dt-button-collection",content:{className:"",tag:"div"},tag:"div"}},button:{tag:"button",className:"dt-button",active:"dt-button-active",disabled:"disabled",spacer:{className:"dt-button-spacer",tag:"span"},liner:{tag:"span",className:""},dropClass:"",dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>'},split:{action:{className:"dt-button-split-drop-button dt-button",tag:"button"},dropdown:{align:"split-right",className:"dt-button-split-drop",splitAlignClass:"dt-button-split-left",tag:"button"},wrapper:{className:"dt-button-split",tag:"div"}}}};Wl.version="3.2.5";zn.extend(Gp,{collection:{text:function(r){return r.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,dropIcon:!0,init:function(r,a){a.attr("aria-expanded",!1)},action:function(r,a,d,g){g._collection.parents("body").length?this.popover(!1,g):this.popover(g._collection,g),r.type==="keypress"&&zn("a, button",g._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(r){return r.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(r,a){return a.attr("aria-expanded",!1)},action:function(r,a,d,g){this.popover(g._collection,g)},attr:{"aria-haspopup":"dialog"}},copy:function(){if(Gp.copyHtml5)return"copyHtml5"},csv:function(r,a){if(Gp.csvHtml5&&Gp.csvHtml5.available(r,a))return"csvHtml5"},excel:function(r,a){if(Gp.excelHtml5&&Gp.excelHtml5.available(r,a))return"excelHtml5"},pdf:function(r,a){if(Gp.pdfHtml5&&Gp.pdfHtml5.available(r,a))return"pdfHtml5"},pageLength:function(r){var a=r.settings()[0].aLengthMenu,d=[],g=[],C=function(H){return H.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},H.page.len())};if(Array.isArray(a[0]))d=a[0],g=a[1];else for(var k=0;k<a.length;k++){var M=a[k];zn.isPlainObject(M)?(d.push(M.value),g.push(M.label)):(d.push(M),g.push(M))}return{extend:"collection",text:C,className:"buttons-page-length",autoClose:!0,buttons:zn.map(d,function(H,Y){return{text:g[Y],className:"button-page-length",action:function(V,te){te.page.len(H).draw()},init:function(V,te,Se){var ye=this,je=function(){ye.active(V.page.len()===H)};V.on("length.dt"+Se.namespace,je),je()},destroy:function(V,te,Se){V.off("length.dt"+Se.namespace)}}}),init:function(H,Y,V){var te=this;H.on("length.dt"+V.namespace,function(){te.text(V.text)})},destroy:function(H,Y,V){H.off("length.dt"+V.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(r){return r.i18n("buttons.spacer","")}}});$t.Api.register("buttons()",function(r,a){a===void 0&&(a=r,r=void 0),this.selector.buttonGroup=r;var d=this.iterator(!0,"table",function(g){if(g._buttons)return Wl.buttonSelector(Wl.instanceSelector(r,g._buttons),a)},!0);return d._groupSelector=r,d});$t.Api.register("button()",function(r,a){var d=this.buttons(r,a);return d.length>1&&d.splice(1,d.length),d});$t.Api.registerPlural("buttons().active()","button().active()",function(r){return r===void 0?this.map(function(a){return a.inst.active(a.node)}):this.each(function(a){a.inst.active(a.node,r)})});$t.Api.registerPlural("buttons().action()","button().action()",function(r){return r===void 0?this.map(function(a){return a.inst.action(a.node)}):this.each(function(a){a.inst.action(a.node,r)})});$t.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(r){return this.each(function(a){for(var d=0;d<r.length;d++)typeof r[d]=="object"&&(r[d].parentConf=a);a.inst.collectionRebuild(a.node,r)})});$t.Api.register(["buttons().enable()","button().enable()"],function(r){return this.each(function(a){a.inst.enable(a.node,r)})});$t.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(r){r.inst.disable(r.node)})});$t.Api.register("button().index()",function(){var r=null;return this.each(function(a){var d=a.inst.index(a.node);d!==null&&(r=d)}),r});$t.Api.registerPlural("buttons().nodes()","button().node()",function(){var r=zn();return zn(this.each(function(a){r=r.add(a.inst.node(a.node))})),r});$t.Api.registerPlural("buttons().processing()","button().processing()",function(r){return r===void 0?this.map(function(a){return a.inst.processing(a.node)}):this.each(function(a){a.inst.processing(a.node,r)})});$t.Api.registerPlural("buttons().text()","button().text()",function(r){return r===void 0?this.map(function(a){return a.inst.text(a.node)}):this.each(function(a){a.inst.text(a.node,r)})});$t.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(r){r.inst.node(r.node).trigger("click")})});$t.Api.register("button().popover()",function(r,a){return this.map(function(d){return d.inst._popover(r,this.button(this[0].node),a)})});$t.Api.register("buttons().containers()",function(){var r=zn(),a=this._groupSelector;return this.iterator(!0,"table",function(d){if(d._buttons)for(var g=Wl.instanceSelector(a,d._buttons),C=0,k=g.length;C<k;C++)r=r.add(g[C].container())}),r});$t.Api.register("buttons().container()",function(){return this.containers().eq(0)});$t.Api.register("button().add()",function(r,a,d){var g=this.context,C;if(g.length){var k=Wl.instanceSelector(this._groupSelector,g[0]._buttons);k.length&&(C=k[0].add(a,r,d))}return C?this.button(this._groupSelector,C):this});$t.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(r){r.destroy()}),this});$t.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(r){r.inst.remove(r.node)}),this});var $P;$t.Api.register("buttons.info()",function(r,a,d){var g=this;return r===!1?(this.off("destroy.btn-info"),Ioe(zn("#datatables_buttons_info"),400,function(){zn(this).remove()}),clearTimeout($P),$P=null,this):($P&&clearTimeout($P),zn("#datatables_buttons_info").length&&zn("#datatables_buttons_info").remove(),r=r?"<h2>"+r+"</h2>":"",Poe(zn('<div id="datatables_buttons_info" class="dt-button-info"/>').html(r).append(zn("<div/>")[typeof a=="string"?"html":"append"](a)).css("display","none").appendTo("body")),d!==void 0&&d!==0&&($P=setTimeout(function(){g.buttons.info(!1)},d)),this.on("destroy.btn-info",function(){g.buttons.info(!1)}),this)});$t.Api.register("buttons.exportData()",function(r){if(this.context.length)return Oye(new $t.Api(this.context[0]),r)});$t.Api.register("buttons.exportInfo()",function(r){return r||(r={}),{filename:Dye(r,this),title:Aye(r,this),messageTop:vie(this,r,r.message||r.messageTop,"top"),messageBottom:vie(this,r,r.messageBottom,"bottom")}});var Dye=function(r,a){var d=r.filename==="*"&&r.title!=="*"&&r.title!==void 0&&r.title!==null&&r.title!==""?r.title:r.filename;if(typeof d=="function"&&(d=d(r,a)),d==null)return null;d.indexOf("*")!==-1&&(d=d.replace(/\*/g,zn("head > title").text()).trim()),d=d.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var g=Foe(r.extension,r,a);return g||(g=""),d+g},Foe=function(r,a,d){return r==null?null:typeof r=="function"?r(a,d):r},Aye=function(r,a){var d=Foe(r.title,r,a);return d===null?null:d.indexOf("*")!==-1?d.replace(/\*/g,zn("head > title").text()||"Exported data"):d},vie=function(r,a,d,g){var C=Foe(d,a,r);if(C===null)return null;var k=zn("caption",r.table().container()).eq(0);if(C==="*"){var M=k.css("caption-side");return M!==g?null:k.length?k.text():""}return C},bie=zn("<textarea/>")[0],Oye=function(r,a){var d=zn.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,escapeExcelFormula:!1,trim:!0,format:{header:function(dt){return Wl.stripData(dt,d)},footer:function(dt){return Wl.stripData(dt,d)},body:function(dt){return Wl.stripData(dt,d)}},customizeData:null,customizeZip:null},a),g=r.columns(d.columns).indexes().map(function(dt){var Qt=r.column(dt);return d.format.header(Qt.title(),dt,Qt.header())}).toArray(),C=r.table().footer()?r.columns(d.columns).indexes().map(function(dt){var Qt=r.column(dt).footer(),Et="";if(Qt){var P=zn(".dt-column-title",Qt);Et=P.length?P.html():zn(Qt).html()}return d.format.footer(Et,dt,Qt)}).toArray():null,k=zn.extend({},d.modifier);r.select&&typeof r.select.info=="function"&&k.selected===void 0&&r.rows(d.rows,zn.extend({selected:!0},k)).any()&&zn.extend(k,{selected:!0});for(var M=r.rows(d.rows,k).indexes().toArray(),H=r.cells(M,d.columns,{order:k.order}),Y=H.render(d.orthogonal).toArray(),V=H.nodes().toArray(),te=H.indexes().toArray(),Se=r.columns(d.columns).count(),ye=Se>0?Y.length/Se:0,je=[],Le=0,Ee=0,Ce=ye;Ee<Ce;Ee++){for(var at=[Se],Je=0;Je<Se;Je++)at[Je]=d.format.body(Y[Le],te[Le].row,te[Le].column,V[Le]),Le++;je[Ee]=at}var xe={header:g,headerStructure:yie(d.format.header,r.table().header.structure(d.columns)),footer:C,footerStructure:yie(d.format.footer,r.table().footer.structure(d.columns)),body:je};return d.customizeData&&d.customizeData(xe),xe};function yie(r,a){for(var d=0;d<a.length;d++)for(var g=0;g<a[d].length;g++){var C=a[d][g];C&&(C.title=r(C.title,g,C.cell))}return a}zn.fn.dataTable.Buttons=Wl;zn.fn.DataTable.Buttons=Wl;zn(document).on("init.dt plugin-init.dt",function(r,a){if(r.namespace==="dt"){var d=a.oInit.buttons||$t.defaults.buttons;d&&!a._buttons&&new Wl(a,d).container()}});function zce(r,a){var d=new $t.Api(r),g=a||d.init().buttons||$t.defaults.buttons;return new Wl(d,g).container()}$t.ext.feature.push({fnInit:zce,cFeature:"B"});$t.feature&&$t.feature.register("buttons",zce);/*! Bootstrap integration for DataTables' Buttons
 * Â© SpryMedia Ltd - datatables.net/license
 */let wie=aw;wie.extend(!0,$t.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary",active:"active",dropHtml:"",dropClass:"dropdown-toggle"},collection:{container:{tag:"div",className:"dt-button-collection",content:{tag:"ul",className:"dropdown-menu show"}},closeButton:!1,button:{tag:"li",className:"dt-button",active:"dt-button-active-a",disabled:"disabled",liner:{tag:"a",className:"dropdown-item"},spacer:{className:"divider",tag:"li"}}},split:{action:{tag:"a",className:"btn btn-secondary dt-button-split-drop-button",closeButton:!1},dropdown:{tag:"button",className:"btn btn-secondary dt-button-split-drop dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},wrapper:{tag:"div",className:"dt-button-split btn-group",closeButton:!1}}},buttonCreated:function(r,a){return r.buttons?wie('<div class="btn-group"/>').append(a):a}});$t.ext.buttons.collection.rightAlignClassName="dropdown-menu-right";/*! Select for DataTables 2.1.0
 * Â© SpryMedia Ltd - datatables.net/license/mit
 */let ci=aw;$t.select={};$t.select.classes={checkbox:"dt-select-checkbox"};$t.select.version="2.1.0";$t.select.init=function(r){var a=r.settings()[0];if(!$t.versionCheck("2"))throw"Warning: Select requires DataTables 2 or newer";if(!a._select){var d=r.state.loaded(),g=function(at,Je,xe){if(!(xe===null||xe.select===void 0)){if(r.rows({selected:!0}).any()&&r.rows().deselect(),xe.select.rows!==void 0&&r.rows(xe.select.rows).select(),r.columns({selected:!0}).any()&&r.columns().deselect(),xe.select.columns!==void 0&&r.columns(xe.select.columns).select(),r.cells({selected:!0}).any()&&r.cells().deselect(),xe.select.cells!==void 0)for(var dt=0;dt<xe.select.cells.length;dt++)r.cell(xe.select.cells[dt].row,xe.select.cells[dt].column).select();r.state.save()}};r.on("stateSaveParams",function(at,Je,xe){xe.select={},xe.select.rows=r.rows({selected:!0}).ids(!0).toArray(),xe.select.columns=r.columns({selected:!0})[0],xe.select.cells=r.cells({selected:!0})[0].map(function(dt){return{row:r.row(dt.row).id(!0),column:dt.column}})}).on("stateLoadParams",g).one("init",function(){g(void 0,void 0,d)});var C=a.oInit.select,k=$t.defaults.select,M=C===void 0?k:C,H="row",Y="api",V=!1,te=!0,Se=null,ye=!0,je="td, th",Le="selected",Ee=!0,Ce=!1;a._select={infoEls:[]},M===!0?(Y="os",Ce=!0):typeof M=="string"?(Y=M,Ce=!0):ci.isPlainObject(M)&&(M.blurable!==void 0&&(V=M.blurable),M.toggleable!==void 0&&(te=M.toggleable),M.info!==void 0&&(ye=M.info),M.items!==void 0&&(H=M.items),M.style!==void 0?(Y=M.style,Ce=!0):(Y="os",Ce=!0),M.selector!==void 0&&(je=M.selector),M.className!==void 0&&(Le=M.className),M.headerCheckbox!==void 0&&(Ee=M.headerCheckbox),M.selectable!==void 0&&(Se=M.selectable)),r.select.selector(je),r.select.items(H),r.select.style(Y),r.select.blurable(V),r.select.toggleable(te),r.select.info(ye),r.select.selectable(Se),a._select.className=Le,!Ce&&ci(r.table().node()).hasClass("selectable")&&r.select.style("os"),(Ee||Ee==="select-page"||Ee==="select-all")&&r.ready(function(){Mye(r,Ee)})}};function Cie(r,a,d){var g,C,k,M=function(Y,V){if(Y>V){var te=V;V=Y,Y=te}var Se=!1;return r.columns(":visible").indexes().filter(function(ye){return ye===Y&&(Se=!0),ye===V?(Se=!1,!0):Se})},H=function(Y,V){var te=r.rows({search:"applied"}).indexes();if(te.indexOf(Y)>te.indexOf(V)){var Se=V;V=Y,Y=Se}var ye=!1;return te.filter(function(je){return je===Y&&(ye=!0),je===V?(ye=!1,!0):ye})};!r.cells({selected:!0}).any()&&!d?(C=M(0,a.column),k=H(0,a.row)):(C=M(d.column,a.column),k=H(d.row,a.row)),g=r.cells(k,C).flatten(),r.cells(a,{selected:!0}).any()?r.cells(g).deselect():r.cells(g).select()}function _O(r){var a=$t.select.classes.checkbox;return r?a.replace(/ /g,"."):a}function mO(r){var a=r.settings()[0],d=a._select.selector;ci(r.table().container()).off("mousedown.dtSelect",d).off("mouseup.dtSelect",d).off("click.dtSelect",d),ci("body").off("click.dtSelect"+Boe(r.table().node()))}function Vce(r){var a=ci(r.table().container()),d=r.settings()[0],g=d._select.selector,C;a.on("mousedown.dtSelect",g,function(k){(k.shiftKey||k.metaKey||k.ctrlKey)&&a.css("-moz-user-select","none").one("selectstart.dtSelect",g,function(){return!1}),window.getSelection&&(C=window.getSelection())}).on("mouseup.dtSelect",g,function(){a.css("-moz-user-select","")}).on("click.dtSelect",g,function(k){var M=r.select.items(),H;if(C){var Y=window.getSelection();if((!Y.anchorNode||ci(Y.anchorNode).closest("table")[0]===r.table().node())&&Y!==C)return}var V=r.settings()[0],te=r.table().container();if(ci(k.target).closest("div.dt-container")[0]==te){var Se=r.cell(ci(k.target).closest("td, th"));if(Se.any()){var ye=ci.Event("user-select.dt");if(j1(r,ye,[M,Se,k]),!ye.isDefaultPrevented()){var je=Se.index();M==="row"?(H=je.row,Kte(k,r,V,"row",H)):M==="column"?(H=Se.index().column,Kte(k,r,V,"column",H)):M==="cell"&&(H=Se.index(),Kte(k,r,V,"cell",H)),V._select_lastCell=je}}}}),ci("body").on("click.dtSelect"+Boe(r.table().node()),function(k){if(d._select.blurable){if(ci(k.target).parents().filter(r.table().container()).length||ci(k.target).parents("html").length===0||ci(k.target).parents("div.DTE").length)return;var M=ci.Event("select-blur.dt");if(j1(r,M,[k.target,k]),M.isDefaultPrevented())return;vI(d,!0)}})}function j1(r,a,d,g){g&&!r.flatten().length||(typeof a=="string"&&(a=a+".dt"),d.unshift(r),ci(r.table().node()).trigger(a,d))}function qU(r){return r.mRender&&r.mRender._name==="selectCheckbox"}function Sie(r,a){if(!(r.select.style()==="api"||r.select.info()===!1)){var d=r.settings()[0]._select_set.length,g=d||r.rows({selected:!0}).count(),C=r.columns({selected:!0}).count(),k=r.cells({selected:!0}).count(),M=function(te,Se,ye){te.append(ci('<span class="select-item"/>').append(r.i18n("select."+Se+"s",{_:"%d "+Se+"s selected",0:"",1:"1 "+Se+" selected"},ye)))},H=ci(a),Y=ci('<span class="select-info"/>');M(Y,"row",g),M(Y,"column",C),M(Y,"cell",k);var V=H.children("span.select-info");V.length&&V.remove(),Y.text()!==""&&H.append(Y)}}function Mye(r,a){var d=r.settings()[0],g=d.aoColumns;r.columns().iterator("column",function(C,k){var M=g[k];if(qU(M)){var H=r.column(k).header();if(!ci("input",H).length){var Y=ci("<input>").attr({class:_O(!0),type:"checkbox","aria-label":r.i18n("select.aria.headerCheckbox")||"Select all rows"}).appendTo(H).on("change",function(){this.checked?a=="select-page"?r.rows({page:"current"}).select():r.rows({search:"applied"}).select():a=="select-page"?r.rows({page:"current",selected:!0}).deselect():r.rows({selected:!0}).deselect()}).on("click",function(V){V.stopPropagation()});r.on("draw select deselect",function(V,te,Se){if(Se==="row"||!Se){var ye=Nye(r,a);ye.search&&ye.search<=ye.count&&ye.search===ye.available?Y.prop("checked",!0).prop("indeterminate",!1):ye.search===0&&ye.count===0?Y.prop("checked",!1).prop("indeterminate",!1):Y.prop("checked",!1).prop("indeterminate",!0)}})}}})}function Nye(r,a){var d=r.settings()[0],g=d._select.selectable,C=0,k=a=="select-page"?r.rows({page:"current",selected:!0}).count():r.rows({selected:!0}).count(),M=a=="select-page"?r.rows({page:"current",selected:!0}).count():r.rows({search:"applied",selected:!0}).count();if(!g)C=a=="select-page"?r.rows({page:"current"}).count():r.rows({search:"applied"}).count();else for(var H=a=="select-page"?r.rows({page:"current"}).indexes():r.rows({search:"applied"}).indexes(),Y=0;Y<H.length;Y++){var V=d.aoData[H[Y]],te=g(V._aData,V.nTr,H[Y]);te&&C++}return{available:C,count:k,search:M}}function Rye(r){var a=new $t.Api(r);r._select_init=!0,r._select_set=[],r.aoRowCreatedCallback.push(function(d,g,C){var k,M,H=r.aoData[C],Y=a.row(C).id();for((H._select_selected||Y!=="undefined"&&r._select_set.includes(Y))&&(H._select_selected=!0,ci(d).addClass(r._select.className).find("input."+_O(!0)).prop("checked",!0)),k=0,M=r.aoColumns.length;k<M;k++)(r.aoColumns[k]._select_selected||H._selected_cells&&H._selected_cells[k])&&ci(H.anCells[k]).addClass(r._select.className)}),Lye(a),a.on("info.dt",function(d,g,C){g._select.infoEls.includes(C)||g._select.infoEls.push(C),Sie(a,C)}),a.on("select.dtSelect.dt deselect.dtSelect.dt",function(){r._select.infoEls.forEach(function(d){Sie(a,d)}),a.state.save()}),a.on("destroy.dtSelect",function(){ci(a.rows({selected:!0}).nodes()).removeClass(a.settings()[0]._select.className),ci("input."+_O(!0),a.table().header()).remove(),mO(a),a.off(".dtSelect"),ci("body").off(".dtSelect"+Boe(a.table().node()))})}function xie(r,a,d,g){var C=r[a+"s"]({search:"applied"}).indexes(),k=C.indexOf(g),M=C.indexOf(d);if(!r[a+"s"]({selected:!0}).any()&&k===-1)C.splice(C.indexOf(d)+1,C.length);else{if(k>M){var H=M;M=k,k=H}C.splice(M+1,C.length),C.splice(0,k)}r[a](d,{selected:!0}).any()?(C.splice(C.indexOf(d),1),r[a+"s"](C).deselect()):r[a+"s"](C).select()}function vI(r,a){if(a||r._select.style==="single"){var d=new $t.Api(r);d.rows({selected:!0}).deselect(),d.columns({selected:!0}).deselect(),d.cells({selected:!0}).deselect()}}function Kte(r,a,d,g,C){var k=a.select.style(),M=a.select.toggleable(),H=a[g](C,{selected:!0}).any();if(!(H&&!M))if(k==="os")if(r.ctrlKey||r.metaKey)a[g](C).select(!H);else if(r.shiftKey)g==="cell"?Cie(a,C,d._select_lastCell||null):xie(a,g,C,d._select_lastCell?d._select_lastCell[g]:null);else{var Y=a[g+"s"]({selected:!0});H&&Y.flatten().length===1?a[g](C).deselect():(Y.deselect(),a[g](C).select())}else k=="multi+shift"&&r.shiftKey?g==="cell"?Cie(a,C,d._select_lastCell||null):xie(a,g,C,d._select_lastCell?d._select_lastCell[g]:null):a[g](C).select(!H)}function Boe(r){return r.id.replace(/[^a-zA-Z0-9\-\_]/g,"-")}function Lye(r){r.on("select",function(a,d,g,C){if(g==="row"){var k=r.settings()[0];Pye(r,k._select_set,C)}}),r.on("deselect",function(a,d,g,C){if(g==="row"){var k=r.settings()[0];Iye(r,k._select_set,C)}})}function Pye(r,a,d){for(var g=0;g<d.length;g++){var C=r.row(d[g]).id();C&&C!=="undefined"&&!a.includes(C)&&a.push(C)}}function Iye(r,a,d){for(var g=0;g<d.length;g++){var C=r.row(d[g]).id(),k=a.indexOf(C);k!==-1&&a.splice(k,1)}}ci.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(r,a){$t.ext.selector[a.type].push(function(d,g,C){var k=g.selected,M,H=[];if(k!==!0&&k!==!1)return C;for(var Y=0,V=C.length;Y<V;Y++)M=d[a.prop][C[Y]],M&&(k===!0&&M._select_selected===!0||k===!1&&!M._select_selected)&&H.push(C[Y]);return H})});$t.ext.selector.cell.push(function(r,a,d){var g=a.selected,C,k=[];if(g===void 0)return d;for(var M=0,H=d.length;M<H;M++)C=r.aoData[d[M].row],C&&(g===!0&&C._selected_cells&&C._selected_cells[d[M].column]===!0||g===!1&&(!C._selected_cells||!C._selected_cells[d[M].column]))&&k.push(d[M]);return k});var og=$t.Api.register,FO=$t.Api.registerPlural;og("select()",function(){return this.iterator("table",function(r){$t.select.init(new $t.Api(r))})});og("select.blurable()",function(r){return r===void 0?this.context[0]._select.blurable:this.iterator("table",function(a){a._select.blurable=r})});og("select.toggleable()",function(r){return r===void 0?this.context[0]._select.toggleable:this.iterator("table",function(a){a._select.toggleable=r})});og("select.info()",function(r){return r===void 0?this.context[0]._select.info:this.iterator("table",function(a){a._select.info=r})});og("select.items()",function(r){return r===void 0?this.context[0]._select.items:this.iterator("table",function(a){a._select.items=r,j1(new $t.Api(a),"selectItems",[r])})});og("select.style()",function(r){return r===void 0?this.context[0]._select.style:this.iterator("table",function(a){a._select||$t.select.init(new $t.Api(a)),a._select_init||Rye(a),a._select.style=r;var d=new $t.Api(a);r!=="api"?d.ready(function(){mO(d),Vce(d)}):mO(d),j1(new $t.Api(a),"selectStyle",[r])})});og("select.selector()",function(r){return r===void 0?this.context[0]._select.selector:this.iterator("table",function(a){var d=new $t.Api(a),g=a._select.style;mO(d),a._select.selector=r,g&&g!=="api"?d.ready(function(){mO(d),Vce(d)}):mO(d)})});og("select.selectable()",function(r){let a=this.context[0];return r?(a._select.selectable=r,this):a._select.selectable});og("select.last()",function(r){let a=this.context[0];return r?(a._select_lastCell=r,this):a._select_lastCell});og("select.cumulative()",function(){let r=this.context[0];return r&&r._select_set?r._select_set:[]});FO("rows().select()","row().select()",function(r){var a=this,d=[];return r===!1?this.deselect():(this.iterator("row",function(g,C){vI(g);var k=g.aoData[C],M=g.aoColumns;if(g._select.selectable){var H=g._select.selectable(k._aData,k.nTr,C);if(H===!1)return}ci(k.nTr).addClass(g._select.className),k._select_selected=!0,d.push(C);for(var Y=0;Y<M.length;Y++){var V=M[Y];if(V.sType===null&&a.columns().types(),qU(V)){var te=k.anCells;te&&te[Y]&&ci("input."+_O(!0),te[Y]).prop("checked",!0),k._aSortData!==null&&(k._aSortData[Y]=null)}}}),this.iterator("table",function(g){j1(a,"select",["row",d],!0)}),this)});og("row().selected()",function(){var r=this.context[0];return!!(r&&this.length&&r.aoData[this[0]]&&r.aoData[this[0]]._select_selected)});FO("columns().select()","column().select()",function(r){var a=this;return r===!1?this.deselect():(this.iterator("column",function(d,g){vI(d),d.aoColumns[g]._select_selected=!0;var C=new $t.Api(d).column(g);ci(C.header()).addClass(d._select.className),ci(C.footer()).addClass(d._select.className),C.nodes().to$().addClass(d._select.className)}),this.iterator("table",function(d,g){j1(a,"select",["column",a[g]],!0)}),this)});og("column().selected()",function(){var r=this.context[0];return!!(r&&this.length&&r.aoColumns[this[0]]&&r.aoColumns[this[0]]._select_selected)});FO("cells().select()","cell().select()",function(r){var a=this;return r===!1?this.deselect():(this.iterator("cell",function(d,g,C){vI(d);var k=d.aoData[g];k._selected_cells===void 0&&(k._selected_cells=[]),k._selected_cells[C]=!0,k.anCells&&ci(k.anCells[C]).addClass(d._select.className)}),this.iterator("table",function(d,g){j1(a,"select",["cell",a.cells(a[g]).indexes().toArray()],!0)}),this)});og("cell().selected()",function(){var r=this.context[0];if(r&&this.length){var a=r.aoData[this[0][0].row];if(a&&a._selected_cells&&a._selected_cells[this[0][0].column])return!0}return!1});FO("rows().deselect()","row().deselect()",function(){var r=this;return this.iterator("row",function(a,d){var g=a.aoData[d],C=a.aoColumns;ci(g.nTr).removeClass(a._select.className),g._select_selected=!1,a._select_lastCell=null;for(var k=0;k<C.length;k++){var M=C[k];if(M.sType===null&&r.columns().types(),qU(M)){var H=g.anCells;H&&H[k]&&ci("input."+_O(!0),g.anCells[k]).prop("checked",!1),g._aSortData!==null&&(g._aSortData[k]=null)}}}),this.iterator("table",function(a,d){j1(r,"deselect",["row",r[d]],!0)}),this});FO("columns().deselect()","column().deselect()",function(){var r=this;return this.iterator("column",function(a,d){a.aoColumns[d]._select_selected=!1;var g=new $t.Api(a),C=g.column(d);ci(C.header()).removeClass(a._select.className),ci(C.footer()).removeClass(a._select.className),g.cells(null,d).indexes().each(function(k){var M=a.aoData[k.row],H=M._selected_cells;M.anCells&&(!H||!H[k.column])&&ci(M.anCells[k.column]).removeClass(a._select.className)})}),this.iterator("table",function(a,d){j1(r,"deselect",["column",r[d]],!0)}),this});FO("cells().deselect()","cell().deselect()",function(){var r=this;return this.iterator("cell",function(a,d,g){var C=a.aoData[d];C._selected_cells!==void 0&&(C._selected_cells[g]=!1),C.anCells&&!a.aoColumns[g]._select_selected&&ci(C.anCells[g]).removeClass(a._select.className)}),this.iterator("table",function(a,d){j1(r,"deselect",["cell",r[d]],!0)}),this});function aO(r,a){return function(d){return d.i18n("buttons."+r,a)}}function Xte(r){var a=r._eventNamespace;return"draw.dt.DT"+a+" select.dt.DT"+a+" deselect.dt.DT"+a}function Fye(r,a){return!!(a.limitTo.indexOf("rows")!==-1&&r.rows({selected:!0}).any()||a.limitTo.indexOf("columns")!==-1&&r.columns({selected:!0}).any()||a.limitTo.indexOf("cells")!==-1&&r.cells({selected:!0}).any())}var Jte=0;ci.extend($t.ext.buttons,{selected:{text:aO("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(r,a,d){var g=this;d._eventNamespace=".select"+Jte++,r.on(Xte(d),function(){g.enable(Fye(r,d))}),this.disable()},destroy:function(r,a,d){r.off(d._eventNamespace)}},selectedSingle:{text:aO("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(r,a,d){var g=this;d._eventNamespace=".select"+Jte++,r.on(Xte(d),function(){var C=r.rows({selected:!0}).flatten().length+r.columns({selected:!0}).flatten().length+r.cells({selected:!0}).flatten().length;g.enable(C===1)}),this.disable()},destroy:function(r,a,d){r.off(d._eventNamespace)}},selectAll:{text:aO("selectAll","Select all"),className:"buttons-select-all",action:function(r,a,d,g){var C=this.select.items(),k=g.selectorModifier;k?(typeof k=="function"&&(k=k.call(a,r,a,d,g)),this[C+"s"](k).select()):this[C+"s"]().select()}},selectNone:{text:aO("selectNone","Deselect all"),className:"buttons-select-none",action:function(){vI(this.settings()[0],!0)},init:function(r,a,d){var g=this;d._eventNamespace=".select"+Jte++,r.on(Xte(d),function(){var C=r.rows({selected:!0}).flatten().length+r.columns({selected:!0}).flatten().length+r.cells({selected:!0}).flatten().length;g.enable(C>0)}),this.disable()},destroy:function(r,a,d){r.off(d._eventNamespace)}},showSelected:{text:aO("showSelected","Show only selected"),className:"buttons-show-selected",action:function(r,a){if(a.search.fixed("dt-select"))a.search.fixed("dt-select",null),this.active(!1);else{var d=a.settings()[0].aoData;a.search.fixed("dt-select",function(g,C,k){return d[k]._select_selected}),this.active(!0)}a.draw()}}});ci.each(["Row","Column","Cell"],function(r,a){var d=a.toLowerCase();$t.ext.buttons["select"+a+"s"]={text:aO("select"+a+"s","Select "+d+"s"),className:"buttons-select-"+d+"s",action:function(){this.select.items(d)},init:function(g){var C=this;this.active(g.select.items()===d),g.on("selectItems.dt.DT",function(k,M,H){C.active(H===d)})}}});$t.type("select-checkbox",{className:"dt-select",detect:$t.versionCheck("2.1")?{oneOf:function(){return!1},allOf:function(){return!1},init:function(r,a,d){return qU(a)}}:function(r){return r==="select-checkbox"?r:!1},order:{pre:function(r){return r==="X"?-1:0}}});ci.extend(!0,$t.defaults.oLanguage,{select:{aria:{rowCheckbox:"Select row"}}});$t.render.select=function(r,a){var d=r?$t.util.get(r):null,g=a?$t.util.get(a):null,C=function(k,M,H,Y){var V=Y.settings.aoData[Y.row],te=V._select_selected,Se=Y.settings.oLanguage.select.aria.rowCheckbox,ye=Y.settings._select.selectable;if(M==="display"){if(ye){var je=ye(H,V.nTr,Y.row);if(je===!1)return""}return ci("<input>").attr({"aria-label":Se,class:_O(),name:g?g(H):null,type:"checkbox",value:d?d(H):null,checked:te}).on("input",function(Le){Le.preventDefault(),this.checked=ci(this).closest("tr").hasClass("selected")})[0]}else{if(M==="type")return"select-checkbox";if(M==="filter")return""}return te?"X":""};return C._name="selectCheckbox",C};$t.ext.order["select-checkbox"]=function(r,a){return this.api().column(a,{order:"index"}).nodes().map(function(d){return r._select.items==="row"?ci(d).parent().hasClass(r._select.className).toString():r._select.items==="cell"?ci(d).hasClass(r._select.className).toString():!1})};ci.fn.DataTable.select=$t.select;ci(document).on("i18n.dt.dtSelect preInit.dt.dtSelect",function(r,a){r.namespace==="dt"&&$t.select.init(new $t.Api(a))});/*! Bootstrap 5 styling wrapper for Select
 * Â© SpryMedia Ltd - datatables.net/license
 */$t.select.classes.checkbox="form-check-input";window._buildUrl=function(r,a){let d=r.ajax.url()||"",g=r.ajax.params();return g.action=a,d+"?"+$.param(g)};document.addEventListener("DOMContentLoaded",function(){let r=$("table");r.on("select.dt",function(a,d,g,C){d.rows({selected:!0}).every(function(k,M,H){var Y=this.data();Y.deleted_at==null&&(d.button("restore:name").disable(),d.button("forceDelete:name").disable(),d.button("forceDeleteSingle:name").disable())})}),r.on("deselect.dt",function(a,d,g,C){d.rows({selected:!0}).every(function(k,M,H){var Y=this.data();Y.deleted_at==null&&(d.button("restore:name").disable(),d.button("forceDelete:name").disable(),d.button("forceDeleteSingle:name").disable())})})});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.add={name:"add",className:"buttons-add btn-success",text:'<i class="bi bi-plus"></i> New',action:function(r,a,d,g){let C=window.location.toString();C.indexOf("?")>0&&(C=C.substring(0,C.indexOf("?"))),window.location=C+"/create"}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.export={name:"export",extend:"collection",className:"btn-primary",text:'Export&nbsp;<span class="caret"/>',buttons:[{extend:"csv",text:"CSV"},{extend:"excel",text:"Excel"},{extend:"pdf",text:"PDF"}]}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.csv={name:"csv",className:"buttons-csv btn-primary",titleAttr:"Export as CSV",text:'<i class="bi bi-filetype-csv"></i>',action:function(r,a,d,g){window.location=_buildUrl(a,"csv")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.excel={name:"excel",className:"buttons-excel btn-primary",titleAttr:"Export as Excel",text:'<i class="bi bi-file-earmark-excel"></i>',action:function(r,a,d,g){window.location=_buildUrl(a,"excel")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.pdf={name:"pdf",className:"buttons-pdf btn-primary",titleAttr:"Export as PDF",text:'<i class="bi bi-file-pdf"></i>',action:function(r,a,d,g){window.location=_buildUrl(a,"pdf")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.print={name:"print",className:"buttons-print btn-primary",titleAttr:"Print",text:'<i class="bi bi-printer"></i>',action:function(r,a,d,g){window.location=_buildUrl(a,"print")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.reset={name:"reset",className:"btn-primary",titleAttr:"Reset",text:'<i class="bi bi-arrow-counterclockwise"></i>',action:function(r,a,d,g){$(".dataTable").find(":input").each(function(){$(this).val("")}).each(function(C){let k=DataTable.util.escapeRegex($(this).val());a.table().column($(this).closest("th").index()).search(k||"",!1,!0)}),a.search("").draw()}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.reload={name:"reload",className:"btn-primary",titleAttr:"Reload",text:'<i class="bi bi-arrow-repeat"></i>',action:function(r,a,d,g){a.draw(!1)},init:function(r,a,d){r.on("processing.dt",(g,C,k)=>{let M=$(a);k?M.html(`<i class="spinner-border spinner-border-sm" role="status">
  <span class="visually-hidden">Loading...</span>
</i>`):M.html(d.text),M.attr("disabled",k)})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.restore={name:"restore",extend:"selected",className:"buttons-restore btn-success",text:'<i class="bi bi-undo"></i> Restore',action:function(r,a,d,g){(g.editor||a.editor()).remove(a.rows({selected:!0}).indexes(),{title:g.formTitle||"Restore Record",message:function(k,M){let H=M.row({selected:!0}).data();return H.DTE_Restore||"Are you sure you want to restore record # "+H.DT_RowId+"?"},buttons:[{text:'<i class="bi bi-undo"></i> Restore',className:"btn btn-success btn-editor-restore",action:function(){this.submit(null,null,function(k){k.action="restore"})}},{text:"Cancel",className:"btn ml-2",action:function(){this.close()}}]})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.duplicate={name:"duplicate",extend:"selected",className:"buttons-duplicate btn-success",text:'<i class="bi bi-copy"></i> Duplicate',action:function(r,a,d,g){(g.editor||a.editor()).edit(a.rows({selected:!0}).indexes(),{title:g.formTitle||"Duplicate Record",buttons:g.formButtons||[{text:'<i class="bi bi-copy"></i> Duplicate',className:"btn btn-success btn-editor-duplicate",action:function(){this.submit()}},{text:"Cancel",className:"btn ml-2",action:function(){this.close()}}]}).mode("create")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.duplicateSingle={name:"duplicateSingle",extend:"selectedSingle",className:"buttons-duplicate btn-success",text:'<i class="bi bi-copy"></i> Duplicate',action:function(r,a,d,g){(g.editor||a.editor()).edit(a.rows({selected:!0}).indexes(),{title:g.formTitle||"Duplicate Record",buttons:g.formButtons||[{text:'<i class="bi bi-copy"></i> Duplicate',className:"btn btn-success btn-editor-duplicate",action:function(){this.submit()}},{text:"Cancel",className:"btn ml-2",action:function(){this.close()}}]}).mode("create")}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.forceDelete={name:"forceDelete",extend:"selected",className:"buttons-force-delete btn-danger",text:'<i class="bi bi-trash"></i> Force Delete',action:function(r,a,d,g){(g.editor||a.editor()).remove(a.rows({selected:!0}).indexes(),{title:g.formTitle||"Force Delete Record(/s)",message:function(k,M){let H=M.rows(k.modifier()).data();return"Are you sure you want to force delete the following record(s)? <ul><li>"+(H[0].hasOwnProperty("DTE_Remove")?H.pluck("DTE_Remove"):H.pluck("DT_RowId")).join("</li><li>")+"</li></ul>"},buttons:[{text:'<i class="bi bi-trash"></i> Delete',className:"btn btn-danger btn-editor-remove",action:function(){this.submit(null,null,function(k){k.action="forceDelete"})}},{text:"Cancel",className:"btn ml-2",action:function(){this.close()}}]})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.forceDeleteSingle={name:"forceDeleteSingle",extend:"selectedSingle",className:"buttons-force-delete btn-danger",text:'<i class="bi bi-trash"></i> Force Delete',action:function(r,a,d,g){(g.editor||a.editor()).remove(a.rows({selected:!0}).indexes(),{title:g.formTitle||"Force Delete Record",message:function(k,M){let H=M.row({selected:!0}).data();return H.DTE_Remove||"Are you sure you want to force delete record # "+H.DT_RowId+"?"},buttons:[{text:'<i class="bi bi-trash"></i> Delete',className:"btn btn-danger btn-editor-remove",action:function(){this.submit(null,null,function(k){k.action="forceDelete"})}},{text:"Cancel",className:"btn ml-2",action:function(){this.close()}}]})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.url={name:"url",extend:"selectedSingle",className:"buttons-url",text:"URL Action (change me)",action:function(r,a,d,g){let C=a.row({selected:!0}).data(),k=g.data||"DTE_URL",M=C[k]||"#";g.target=="_blank"?window.open(M,"_blank"):window.location=M}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.ajax={name:"ajax",extend:"selectedSingle",className:"buttons-ajax",text:"Ajax Action (Change Me)",action:function(r,a,d,g){let C=a.row({selected:!0}).data(),k=C[g.data||"DTE_AJAX"]||"",M=g.method||"POST";if(g.hasOwnProperty("confirmation")&&!confirm(g.confirmation))return g.hasOwnProperty("onCancel")&&g.onCancel(),!1;$.ajax({url:k,method:M,data:C}).done(H=>{g.hasOwnProperty("onSuccess")&&g.onSuccess(H),a.draw()}).fail(H=>{g.hasOwnProperty("onError")&&g.onError(H)})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.ajaxBatch={name:"ajaxBatch",extend:"selected",className:"buttons-ajax",text:"Ajax Batch Action (Change Me)",action:function(r,a,d,g){const C=a.rows({selected:!0}).data(),k={data:[]};for(let Y=0;Y<C.count();Y++)k.data.push(C[Y]);if(g.hasOwnProperty("confirmation")){const Y=g.confirmation.replaceAll("_COUNT_",C.length).replaceAll("_PLURAL_",C.length>1?"s":"");if(!confirm(Y))return g.hasOwnProperty("onCancel")&&g.onCancel(),!1}const M=g.url||"",H=g.method||"POST";$.ajax({url:M,method:H,data:k}).done(Y=>{g.hasOwnProperty("onSuccess")&&g.onSuccess(Y),a.draw()}).fail(Y=>{g.hasOwnProperty("onError")&&g.onError(Y)})}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.toggleScope={name:"toggleScope",className:"buttons-toggle",text:'<i class="bi bi-square"></i> Toggle',action:function(r,a,d,g){d.find("i").toggleClass("bi-check-square").toggleClass("bi-square");let C=g.scope,k=g.key||"scopes";a.on("preXhr."+C,(M,H,Y)=>{Y[k]=Y[k]||{},Y[k][C]=d.find("i.bi-check-square").length}),a.draw()}}});document.addEventListener("DOMContentLoaded",function(){DataTable.ext.buttons.withTrashed={name:"withTrashed",className:"buttons-toggle",text:'<i class="bi bi-square"></i> Show Deleted',action:function(r,a,d,g){d.find("i").toggleClass("fa-check-square").toggleClass("fa-square");let C=g.key||"scopes";a.on("preXhr.withTrashed",(k,M,H)=>{H[C]=H[C]||{},H[C].withTrashed=d.find("i.fa-check-square").length}),a.draw()}},DataTable.ext.buttons.onlyTrashed={name:"onlyTrashed",className:"buttons-toggle",text:'<i class="bi bi-square"></i> Only Deleted',action:function(r,a,d,g){d.find("i").toggleClass("fa-check-square").toggleClass("fa-square");let C=g.key||"scopes";a.on("preXhr.onlyTrashed",(k,M,H)=>{H[C]=H[C]||{},H[C].onlyTrashed=d.find("i.fa-check-square").length}),a.draw()}}});document.addEventListener("DOMContentLoaded",function(){DataTable.render.badge=function(r){return function(a,d,g){return r||(r="info"),'<span class="badge badge-'+r+'">'+a+"</span>"}},DataTable.render.boolean=function(){return function(r){let a="danger",d="N";return(r||r==="1")&&(a="success",d="Y"),'<span class="badge badge-'+a+'">'+d+"</span>"}},DataTable.render.suffix=function(r){return function(a){return a+" "+r}},DataTable.render.prefix=function(r){return function(a){return r+" "+a}}});window.jQuery=window.$=aw;window.bootstrap=Yae;window.DataTable=$t;aw.extend(!0,$t.Buttons.defaults,{dom:{button:{liner:{tag:""}}}});aw.extend($t.ext.classes,{sTable:"dataTable table table-striped table-bordered table-hover"});var Qte={exports:{}},_ie;function Bye(){return _ie||(_ie=1,(function(r){(function(){var a=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},d=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},g=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},C=function(e,n){return k(function(o,i){return e.eq(n(o),n(i))})},k=function(e){return{eq:e}},M=k(function(e,n){return e===n}),H=M,Y=function(e){return k(function(n,o){if(n.length!==o.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},V=function(e,n){return C(Y(e),function(o){return g(o,n)})},te=function(e){return k(function(n,o){var i=Object.keys(n),c=Object.keys(o);if(!V(H).eq(i,c))return!1;for(var p=i.length,y=0;y<p;y++){var E=i[y];if(!e.eq(n[E],o[E]))return!1}return!0})},Se=k(function(e,n){if(e===n)return!0;var o=a(e),i=a(n);return o!==i?!1:d(o)?e===n:o==="array"?Y(Se).eq(e,n):o==="object"?te(Se).eq(e,n):!1});const ye=Object.getPrototypeOf,je=(e,n,o)=>o(e,n.prototype)?!0:e.constructor?.name===n.name,Le=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&je(e,String,(o,i)=>i.isPrototypeOf(o))?"string":n},Ee=e=>n=>Le(n)===e,Ce=e=>n=>typeof n===e,at=e=>n=>e===n,Je=(e,n)=>dt(e)&&je(e,n,(o,i)=>ye(o)===i),xe=Ee("string"),dt=Ee("object"),Qt=e=>Je(e,Object),Et=Ee("array"),P=at(null),mn=Ce("boolean"),Ln=at(void 0),ln=e=>e==null,et=e=>!ln(e),Fe=Ce("function"),En=Ce("number"),wn=(e,n)=>{if(Et(e)){for(let o=0,i=e.length;o<i;++o)if(!n(e[o]))return!1;return!0}return!1},Ze=()=>{},U=(e,n)=>(...o)=>e(n.apply(null,o)),en=(e,n)=>o=>e(n(o)),xt=e=>()=>e,Eo=e=>e,eo=(e,n)=>e===n;function qt(e,...n){return(...o)=>{const i=n.concat(o);return e.apply(null,i)}}const us=e=>n=>!e(n),Er=e=>()=>{throw new Error(e)},Oo=e=>e(),Ds=e=>{e()},Yt=xt(!1),yt=xt(!0);class le{tag;value;static singletonNone=new le(!1);constructor(n,o){this.tag=n,this.value=o}static some(n){return new le(!0,n)}static none(){return le.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?le.some(n(this.value)):le.none()}bind(n){return this.tag?n(this.value):le.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:le.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return et(n)?le.some(n):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const hi=Array.prototype.slice,fs=Array.prototype.indexOf,ns=Array.prototype.push,js=(e,n)=>fs.call(e,n),Vr=(e,n)=>{const o=js(e,n);return o===-1?le.none():le.some(o)},fo=(e,n)=>js(e,n)>-1,Ws=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return!0}return!1},In=(e,n)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const p=e[c];i[c]=n(p,c)}return i},vt=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];n(c,o)}},Un=(e,n)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];n(i,o)}},Ns=(e,n)=>{const o=[],i=[];for(let c=0,p=e.length;c<p;c++){const y=e[c];(n(y,c)?o:i).push(y)}return{pass:o,fail:i}},At=(e,n)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const p=e[i];n(p,i)&&o.push(p)}return o},Bs=(e,n)=>{if(e.length===0)return[];{let o=n(e[0]);const i=[];let c=[];for(let p=0,y=e.length;p<y;p++){const E=e[p],A=n(E);A!==o&&(i.push(c),c=[]),o=A,c.push(E)}return c.length!==0&&i.push(c),i}},rr=(e,n,o)=>(Un(e,(i,c)=>{o=n(o,i,c)}),o),ir=(e,n,o)=>(vt(e,(i,c)=>{o=n(o,i,c)}),o),Gs=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++){const p=e[i];if(n(p,i))return le.some(p);if(o(p,i))break}return le.none()},Vn=(e,n)=>Gs(e,n,Yt),Vt=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return le.some(o)}return le.none()},J=(e,n)=>{for(let o=e.length-1;o>=0;o--)if(n(e[o],o))return le.some(o);return le.none()},de=e=>{const n=[];for(let o=0,i=e.length;o<i;++o){if(!Et(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);ns.apply(n,e[o])}return n},_e=(e,n)=>de(In(e,n)),Ie=(e,n)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},ot=e=>{const n=hi.call(e,0);return n.reverse(),n},Tt=(e,n)=>At(e,o=>!fo(n,o)),Cn=(e,n)=>{const o={};for(let i=0,c=e.length;i<c;i++){const p=e[i];o[String(p)]=n(p,i)}return o},ro=(e,n)=>{const o=hi.call(e,0);return o.sort(n),o},Gn=(e,n)=>n>=0&&n<e.length?le.some(e[n]):le.none(),yn=e=>Gn(e,0),Uo=e=>Gn(e,e.length-1),zs=Fe(Array.from)?Array.from:e=>hi.call(e),Co=(e,n)=>{for(let o=0;o<e.length;o++){const i=n(e[o],o);if(i.isSome())return i}return le.none()},Ci=(e,n)=>{const o=[],i=Fe(n)?c=>Ws(o,p=>n(p,c)):c=>fo(o,c);for(let c=0,p=e.length;c<p;c++){const y=e[c];i(y)||o.push(y)}return o},Mn=Object.keys,go=Object.hasOwnProperty,Mo=(e,n)=>{const o=Mn(e);for(let i=0,c=o.length;i<c;i++){const p=o[i],y=e[p];n(y,p)}},Wa=(e,n)=>pr(e,(o,i)=>({k:i,v:n(o,i)})),pr=(e,n)=>{const o={};return Mo(e,(i,c)=>{const p=n(i,c);o[p.k]=p.v}),o},Pn=e=>(n,o)=>{e[o]=n},Cr=(e,n,o,i)=>{Mo(e,(c,p)=>{(n(c,p)?o:i)(c,p)})},Lr=(e,n)=>{const o={},i={};return Cr(e,n,Pn(o),Pn(i)),{t:o,f:i}},bl=(e,n)=>{const o={};return Cr(e,n,Pn(o),Ze),o},ba=(e,n)=>{const o=[];return Mo(e,(i,c)=>{o.push(n(i,c))}),o},Xi=e=>ba(e,Eo),Ks=(e,n)=>qo(e,n)?le.from(e[n]):le.none(),qo=(e,n)=>go.call(e,n),or=(e,n)=>qo(e,n)&&e[n]!==void 0&&e[n]!==null,tc=(e,n,o=Se)=>te(o).eq(e,n),Zl={generate:e=>{if(!Et(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return vt(e,(i,c)=>{const p=Mn(i);if(p.length!==1)throw new Error("one and only one name per case");const y=p[0],E=i[y];if(o[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Et(E))throw new Error("case arguments must be an array");n.push(y),o[y]=(...A)=>{const R=A.length;if(R!==E.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+E.length+" ("+E+"), got "+R);return{fold:(...Q)=>{if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);return Q[c].apply(null,A)},match:Q=>{const re=Mn(Q);if(n.length!==re.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+re.join(","));if(!Ie(n,Be=>fo(re,Be)))throw new Error("Not all branches were specified when using match. Specified: "+re.join(", ")+`
Required: `+n.join(", "));return Q[y].apply(null,A)},log:Q=>{console.log(Q,{constructors:n,constructor:y,params:A})}}}}),o}},io=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},Ia=e=>{const n=p=>p(e),o=xt(e),i=()=>c,c={tag:!0,inner:e,fold:(p,y)=>y(e),isValue:yt,isError:Yt,map:p=>Ge.value(p(e)),mapError:i,bind:n,exists:n,forall:n,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:p=>{p(e)},toOptional:()=>le.some(e)};return c},na=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:Yt,isError:yt,map:n,mapError:i=>Ge.error(i(e)),bind:n,exists:Yt,forall:yt,getOr:Eo,or:Eo,getOrThunk:Oo,orThunk:Oo,getOrDie:Er(String(e)),each:Ze,toOptional:le.none};return o},Ge={value:Ia,error:na,fromOption:(e,n)=>e.fold(()=>na(n),Ia)},Qe=typeof window<"u"?window:Function("return this;")(),qe=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Rn=()=>{const e=qe(),n=(o,i)=>{let c="";for(let p=o;p<=i;++p){const y=e[p].toString(16).padStart(2,"0");c+=y}return c};return`${n(0,3)}-${n(4,5)}-${n(6,7)}-${n(8,9)}-${n(10,15)}`},jo=(e,n,o)=>Math.min(Math.max(e,n),o),Do=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Rs=0;const er=e=>{const o=new Date().getTime(),i=Math.floor(Do()*1e9);return Rs++,e+"_"+i+Rs+String(o)},os=()=>window.isSecureContext?window.crypto.randomUUID():Rn(),gr=(e,n)=>n,_n=(e,n)=>Qt(e)&&Qt(n)?vr(e,n):n,da=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<n.length;i++){const c=n[i];for(const p in c)qo(c,p)&&(o[p]=e(o[p],c[p]))}return o},vr=da(_n),Ho=da(gr),Ls=(e,n,o=eo)=>e.exists(i=>o(i,n)),mi=(e,n,o=eo)=>Xo(e,n,o).getOr(e.isNone()&&n.isNone()),pi=e=>{const n=[],o=i=>{n.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return n},Xo=(e,n,o)=>e.isSome()&&n.isSome()?le.some(o(e.getOrDie(),n.getOrDie())):le.none(),gi=(e,n,o,i)=>e.isSome()&&n.isSome()&&o.isSome()?le.some(i(e.getOrDie(),n.getOrDie(),o.getOrDie())):le.none(),ya=e=>e.bind(Eo),fa=(e,n)=>e?le.some(n):le.none(),un=(e,n)=>{let o=n??Qe;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},rs=(e,n)=>{const o=e.split(".");return un(o,n)};Zl.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const oa=e=>{const n=[],o=[];return vt(e,i=>{i.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Uc=e=>{const n=io(le.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(le.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:E=>{o(),n.set(le.some(E))}}},au=e=>{const n=io(le.none()),o=()=>n.get().each(E=>clearInterval(E));return{clear:()=>{o(),n.set(le.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:E=>{o(),n.set(le.some(setInterval(E,e)))}}},Da=()=>{const e=Uc(Ze);return{...e,on:o=>e.get().each(o)}},yl=(e,n)=>e.substring(n),Ss=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,wu=(e,n)=>Po(e,n)?yl(e,n.length):e,Si=(e,n,o=0,i)=>{const c=e.indexOf(n,o);return c!==-1?Ln(i)?!0:c+n.length<=i:!1},Po=(e,n)=>Ss(e,n,0),ie=(e,n)=>Ss(e,n,e.length-n.length),Re=e=>n=>n.replace(e,""),ke=Re(/^\s+|\s+$/g),ut=Re(/^\s+/g),Nt=Re(/\s+$/g),Lt=e=>e.length>0,fn=e=>!Lt(e),ao=(e,n)=>n<=0?"":new Array(n+1).join(e),Yn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?le.none():le.some(o)},Ft=(e,n)=>{let o=null;return{cancel:()=>{P(o)||(clearTimeout(o),o=null)},throttle:(...p)=>{P(o)&&(o=setTimeout(()=>{o=null,e.apply(null,p)},n))}}},is=(e,n)=>{let o=null;const i=()=>{P(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...p)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,p)},n)}}},ds=e=>{let n=!1,o;return(...i)=>(n||(n=!0,o=e.apply(null,i)),o)},Rr="\uFEFF",as="Â ",vi="â¦",dr=e=>e===Rr,Sa=e=>e.replace(/\uFEFF/g,""),ha=e=>{const n={};return vt(e,o=>{n[o]={}}),Mn(n)},Fa=e=>e.length!==void 0,sa=Array.isArray,oc=e=>{if(sa(e))return e;{const n=[];for(let o=0,i=e.length;o<i;o++)n[o]=e[o];return n}},ul=(e,n,o)=>{if(!e)return!1;if(o=o||e,Fa(e)){for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(qo(e,i)&&n.call(o,e[i],i,e)===!1)return!1;return!0},wl=(e,n)=>{const o=[];return ul(e,(i,c)=>{o.push(n(i,c,e))}),o},ql=(e,n)=>{const o=[];return ul(e,(i,c)=>{(!n||n(i,c,e))&&o.push(i)}),o},Tn=(e,n)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},Aa=(e,n,o,i)=>{let c=Ln(o)?e[0]:o;for(let p=0;p<e.length;p++)c=n.call(i,c,e[p],p);return c},Nl=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e))return i;return-1},we=e=>e[e.length-1],We=(e,n,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,p=e.isiOS()&&!c,y=e.isiOS()||e.isAndroid(),E=y||i("(pointer:coarse)"),A=c||!p&&y&&i("(min-device-width:768px)"),R=p||y&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Q=!R&&!A&&!q;return{isiPad:xt(c),isiPhone:xt(p),isTablet:xt(A),isPhone:xt(R),isTouch:xt(E),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:xt(q),isDesktop:xt(Q)}},ft=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(n))return i}},Bt=(e,n)=>{const o=ft(e,n);if(!o)return{major:0,minor:0};const i=c=>Number(n.replace(o,"$"+c));return _s(i(1),i(2))},kn=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Kn():Bt(e,o)},Kn=()=>_s(0,0),_s=(e,n)=>({major:e,minor:n}),bs={nu:_s,detect:kn,unknown:Kn},ar=(e,n)=>Co(n.brands,o=>{const i=o.brand.toLowerCase();return Vn(e,c=>i===c.brand?.toLowerCase()).map(c=>({current:c.name,version:bs.nu(parseInt(o.version,10),0)}))}),ae=(e,n)=>{const o=String(n).toLowerCase();return Vn(e,i=>i.search(o))},Ae=(e,n)=>ae(e,n).map(o=>{const i=bs.detect(o.versionRegexes,n);return{current:o.name,version:i}}),Ye=(e,n)=>ae(e,n).map(o=>{const i=bs.detect(o.versionRegexes,n);return{current:o.name,version:i}}),Ut=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,co=e=>n=>Si(n,e),Is=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Si(e,"edge/")&&Si(e,"chrome")&&Si(e,"safari")&&Si(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ut],search:e=>Si(e,"chrome")&&!Si(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Si(e,"msie")||Si(e,"trident")},{name:"Opera",versionRegexes:[Ut,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:co("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:co("firefox")},{name:"Safari",versionRegexes:[Ut,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Si(e,"safari")||Si(e,"mobile/"))&&Si(e,"applewebkit")}],O=[{name:"Windows",search:co("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Si(e,"iphone")||Si(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:co("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:co("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:co("linux"),versionRegexes:[]},{name:"Solaris",search:co("sunos"),versionRegexes:[]},{name:"FreeBSD",search:co("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:co("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],F={browsers:xt(Is),oses:xt(O)},G="Edge",ne="Chromium",fe="IE",ge="Opera",Me="Firefox",pt="Safari",lt=()=>kt({current:void 0,version:bs.unknown()}),kt=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isEdge:i(G),isChromium:i(ne),isIE:i(fe),isOpera:i(ge),isFirefox:i(Me),isSafari:i(pt)}},on={unknown:lt,nu:kt},Nn="Windows",Jt="iOS",ho="Android",lr="Linux",Qr="macOS",Pr="Solaris",ol="FreeBSD",Pi="ChromeOS",sc=()=>Cu({current:void 0,version:bs.unknown()}),Cu=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isWindows:i(Nn),isiOS:i(Jt),isAndroid:i(ho),isMacOS:i(Qr),isLinux:i(lr),isSolaris:i(Pr),isFreeBSD:i(ol),isChromeOS:i(Pi)}},qr={unknown:sc,nu:Cu},Yr={detect:(e,n,o)=>{const i=F.browsers(),c=F.oses(),p=n.bind(A=>ar(i,A)).orThunk(()=>Ae(i,e)).fold(on.unknown,on.nu),y=Ye(c,e).fold(qr.unknown,qr.nu),E=We(y,p,e,o);return{browser:p,os:y,deviceType:E}}},Ir=e=>window.matchMedia(e).matches;let mh=ds(()=>Yr.detect(window.navigator.userAgent,le.from(window.navigator.userAgentData),Ir));const Wc=()=>mh(),Mc=(e,n)=>rs(e,n),ph=(e,n)=>{const o=Mc(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},jc=Object.getPrototypeOf,Bu=e=>ph("HTMLElement",e),ad=e=>{const n=rs("ownerDocument.defaultView",e);return dt(e)&&(Bu(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(jc(e).constructor.name))},Zc=window.navigator.userAgent,gh=Wc(),Ll=gh.browser,ja=gh.os,Rd=gh.deviceType,cv=Zc.indexOf("Windows Phone")!==-1,Xs={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ll.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ll.isIE(),windowsPhone:cv,browser:{current:Ll.current,version:Ll.version,isChromium:Ll.isChromium,isEdge:Ll.isEdge,isFirefox:Ll.isFirefox,isIE:Ll.isIE,isOpera:Ll.isOpera,isSafari:Ll.isSafari},os:{current:ja.current,version:ja.version,isAndroid:ja.isAndroid,isChromeOS:ja.isChromeOS,isFreeBSD:ja.isFreeBSD,isiOS:ja.isiOS,isLinux:ja.isLinux,isMacOS:ja.isMacOS,isSolaris:ja.isSolaris,isWindows:ja.isWindows},deviceType:{isDesktop:Rd.isDesktop,isiPad:Rd.isiPad,isiPhone:Rd.isiPhone,isPhone:Rd.isPhone,isTablet:Rd.isTablet,isTouch:Rd.isTouch,isWebView:Rd.isWebView}},ei=/^\s*|\s*$/g,$u=e=>ln(e)?"":(""+e).replace(ei,""),Gr=(e,n)=>n?n==="array"&&sa(e)?!0:typeof e===n:e!==void 0,Af=(e,n,o={})=>{const i=xe(e)?e.split(n||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},lu=qo,Of=(e,...n)=>{for(let o=0;o<n.length;o++){const i=n[o];for(const c in i)if(qo(i,c)){const p=i[c];p!==void 0&&(e[c]=p)}}return e},vh=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),ul(e,(c,p)=>n.call(i,c,p,o)===!1?!1:(vh(c,n,o,i),!0)))},gn={trim:$u,isArray:sa,is:Gr,toArray:oc,makeMap:Af,each:ul,map:wl,grep:ql,inArray:Tn,hasOwn:lu,extend:Of,walk:vh,resolve:(e,n=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(n=n[o[i]],!!n);i++);return n},explode:(e,n)=>Et(e)?e:e===""?[]:wl(e.split(n||","),$u),_addCacheSuffix:e=>{const n=Xs.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},dl=(e,n)=>{const i=(n||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return ld(i.childNodes[0])},qc=(e,n)=>{const i=(n||document).createElement(e);return ld(i)},Oa=(e,n)=>{const i=(n||document).createTextNode(e);return ld(i)},ld=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ve={fromHtml:dl,fromTag:qc,fromText:Oa,fromDom:ld,fromPoint:(e,n,o)=>le.from(e.dom.elementFromPoint(n,o)).map(ld)},Yl=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},zu=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},um=(e,n,o)=>{const i=e.document.createRange();return Yl(i,n),zu(i,o),i},cd=(e,n,o,i,c)=>{const p=e.document.createRange();return p.setStart(n.dom,o),p.setEnd(i.dom,c),p},Ba=Zl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ke=(e,n,o)=>n(Ve.fromDom(o.startContainer),o.startOffset,Ve.fromDom(o.endContainer),o.endOffset),Ct=(e,n)=>n.match({domRange:o=>({ltr:xt(o),rtl:le.none}),relative:(o,i)=>({ltr:ds(()=>um(e,o,i)),rtl:ds(()=>le.some(um(e,i,o)))}),exact:(o,i,c,p)=>({ltr:ds(()=>cd(e,o,i,c,p)),rtl:ds(()=>le.some(cd(e,c,p,o,i)))})}),Xt=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Ba.rtl(Ve.fromDom(c.endContainer),c.endOffset,Ve.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Ke(e,Ba.ltr,o)):Ke(e,Ba.ltr,o)},tn=(e,n)=>{const o=Ct(e,n);return Xt(e,o)};Ba.ltr,Ba.rtl;const vn=8,ko=9,So=11,ys=1,Jo=3,Zs=(e,n)=>{const o=e.dom;if(o.nodeType!==ys)return!1;{const i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Js=e=>e.nodeType!==ys&&e.nodeType!==ko&&e.nodeType!==So||e.childElementCount===0,$s=(e,n)=>{const o=n===void 0?document:n.dom;return Js(o)?[]:In(o.querySelectorAll(e),Ve.fromDom)},fr=(e,n)=>{const o=n===void 0?document:n.dom;return Js(o)?le.none():le.from(o.querySelector(e)).map(Ve.fromDom)},no=(e,n)=>e.dom===n.dom,Fr=(e,n)=>{const o=e.dom,i=n.dom;return o===i?!1:o.contains(i)},Cl=Zs,$a=(e,n)=>{const o=[],i=p=>(o.push(p),n(p));let c=n(e);do c=c.bind(i);while(c.isSome());return o},Qo=e=>e.dom.nodeName.toLowerCase(),Ha=e=>e.dom.nodeType,Ii=e=>n=>Ha(n)===e,ma=e=>Ha(e)===vn||Qo(e)==="#comment",Vu=e=>Ji(e)&&ad(e.dom),Ji=Ii(ys),cr=Ii(Jo),bh=Ii(ko),Yc=Ii(So),Qi=e=>n=>Ji(n)&&Qo(n)===e,Gl=e=>Ve.fromDom(e.dom.ownerDocument),Gc=e=>bh(e)?e:Gl(e),Za=e=>Ve.fromDom(Gc(e).dom.documentElement),Uu=e=>Ve.fromDom(Gc(e).dom.defaultView),Pl=e=>le.from(e.dom.parentNode).map(Ve.fromDom),Kc=e=>le.from(e.dom.parentElement).map(Ve.fromDom),Il=(e,n)=>{const o=Fe(n)?n:Yt;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const p=i.parentNode,y=Ve.fromDom(p);if(c.push(y),o(y)===!0)break;i=p}return c},kr=e=>{const n=o=>At(o,i=>!no(e,i));return Pl(e).map(zi).map(n).getOr([])},Su=e=>le.from(e.dom.previousSibling).map(Ve.fromDom),rc=e=>le.from(e.dom.nextSibling).map(Ve.fromDom),Sl=e=>ot($a(e,Su)),sl=e=>$a(e,rc),zi=e=>In(e.dom.childNodes,Ve.fromDom),wc=(e,n)=>{const o=e.dom.childNodes;return le.from(o[n]).map(Ve.fromDom)},qa=e=>wc(e,0),Ma=e=>wc(e,e.dom.childNodes.length-1),ud=e=>e.dom.childNodes.length,uv=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ve.fromDom(n)},sg=e=>Yc(e)&&et(e.dom.host),xl=e=>Ve.fromDom(e.dom.getRootNode()),hp=e=>sg(e)?e:uv(Gc(e)),rg=e=>sg(e)?e:Ve.fromDom(Gc(e).dom.body),Wu=e=>{const n=xl(e);return sg(n)?le.some(n):le.none()},Io=e=>Ve.fromDom(e.dom.host),dv=e=>{if(et(e.target)){const n=Ve.fromDom(e.target);if(Ji(n)&&za(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return yn(o)}}return le.from(e.target)},za=e=>et(e.dom.shadowRoot),_l=(e,n,o,i,c,p,y)=>({target:e,x:n,y:o,stop:i,prevent:c,kill:p,raw:y}),Ya=e=>{const n=Ve.fromDom(dv(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=U(i,o);return _l(n,e.clientX,e.clientY,o,i,c,e)},Di=(e,n)=>o=>{e(o)&&n(Ya(o))},cu=(e,n,o,i,c)=>{const p=Di(o,i);return e.dom.addEventListener(n,p,c),{unbind:qt(Kl,e,n,p,c)}},Mf=(e,n,o,i)=>cu(e,n,o,i,!1),Kl=(e,n,o,i)=>{e.dom.removeEventListener(n,o,i)},Xc=yt,Pd=(e,n,o)=>Mf(e,n,Xc,o),mp=()=>Ve.fromDom(document),dm=(e,n=!1)=>e.dom.focus({preventScroll:n}),dd=e=>{const n=xl(e).dom;return e.dom===n.activeElement},ju=(e=mp())=>le.from(e.dom.activeElement).map(Ve.fromDom),sf=e=>ju(xl(e)).filter(n=>e.dom.contains(n.dom)),Va=(e,n)=>{Pl(e).each(i=>{i.dom.insertBefore(n.dom,e.dom)})},xu=(e,n)=>{rc(e).fold(()=>{Pl(e).each(c=>{Sr(c,n)})},i=>{Va(i,n)})},Id=(e,n)=>{qa(e).fold(()=>{Sr(e,n)},i=>{e.dom.insertBefore(n.dom,i.dom)})},Sr=(e,n)=>{e.dom.appendChild(n.dom)},uu=(e,n)=>{Va(e,n),Sr(n,e)},Mb=(e,n)=>{vt(n,o=>{Va(e,o)})},pp=(e,n)=>{vt(n,(o,i)=>{const c=i===0?e:n[i-1];xu(c,o)})},Na=(e,n)=>{vt(n,o=>{Sr(e,o)})},vo=(e,n,o)=>{if(xe(o)||mn(o)||En(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},xr=(e,n,o)=>{vo(e.dom,n,o)},ri=(e,n)=>{const o=e.dom;Mo(n,(i,c)=>{vo(o,c,i)})},ui=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},_u=(e,n)=>le.from(ui(e,n)),_i=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Ga=(e,n)=>{e.dom.removeAttribute(n)},fm=e=>{const n=e.dom.attributes;return n==null||n.length===0},qs=e=>ir(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),du=e=>{e.dom.textContent="",vt(zi(e),n=>{ii(n)})},ii=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Cc=e=>{const n=zi(e);n.length>0&&pp(e,n),ii(e)},Ka=(e,n)=>Ve.fromDom(e.dom.cloneNode(n)),Ra=e=>Ka(e,!1),Zu=e=>Ka(e,!0),yh=(e,n)=>{const o=Ve.fromTag(n),i=qs(e);return ri(o,i),o},Fd=(e,n)=>{const o=yh(e,n);xu(e,o);const i=zi(e);return Na(o,i),ii(e),o},Bd=(e,n)=>{const i=(n||document).createElement("div");return i.innerHTML=e,zi(Ve.fromDom(i))},rf=e=>In(e,Ve.fromDom),rl=e=>e.dom.innerHTML,af=(e,n)=>{const i=Gl(e).dom,c=Ve.fromDom(i.createDocumentFragment()),p=Bd(n,i);Na(c,p),du(e),Sr(e,c)},ig=e=>{const n=Ve.fromTag("div"),o=Ve.fromDom(e.dom.cloneNode(!0));return Sr(n,o),rl(n)},Nc=e=>e.style!==void 0&&Fe(e.style.getPropertyValue),$r=e=>{const n=cr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Wu(Ve.fromDom(n)).fold(()=>o.body.contains(n),en($r,Io))},fv=(e,n,o)=>{if(!xe(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Nc(e)&&e.style.setProperty(n,o)},wh=(e,n)=>{Nc(e)&&e.style.removeProperty(n)},ra=(e,n,o)=>{const i=e.dom;fv(i,n,o)},_r=(e,n)=>{const o=e.dom;Mo(n,(i,c)=>{fv(o,c,i)})},ai=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!$r(e)?Rc(o,n):c},Rc=(e,n)=>Nc(e)?e.style.getPropertyValue(n):"",Vi=(e,n)=>{const o=e.dom,i=Rc(o,n);return le.from(i).filter(c=>c.length>0)},Ch=e=>{const n={},o=e.dom;if(Nc(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);n[c]=o.style[c]}return n},hm=(e,n)=>{const o=e.dom;wh(o,n),Ls(_u(e,"style").map(ke),"")&&Ga(e,"style")},ag=e=>e.dom.offsetWidth,Tu=((e,n)=>{const o=(E,A)=>{if(!En(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const R=E.dom;Nc(R)&&(R.style[e]=A+"px")},i=E=>{const A=n(E);if(A<=0||A===null){const R=ai(E,e);return parseFloat(R)||0}return A},c=i,p=(E,A)=>ir(A,(R,q)=>{const Q=ai(E,q),re=Q===void 0?0:parseInt(Q,10);return isNaN(re)?R:R+re},0);return{set:o,get:i,getOuter:c,aggregate:p,max:(E,A,R)=>{const q=p(E,R);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return $r(e)?n.getBoundingClientRect().height:n.offsetHeight}),gp=e=>Tu.get(e),lg=(e,n)=>({left:e,top:n,translate:(i,c)=>lg(e+i,n+c)}),Eu=lg,lf=e=>{const n=e.getBoundingClientRect();return Eu(n.left,n.top)},Sh=(e,n)=>e!==void 0?e:n!==void 0?n:0,mm=e=>{const n=e.dom.ownerDocument,o=n.body,i=n.defaultView,c=n.documentElement;if(o===e.dom)return Eu(o.offsetLeft,o.offsetTop);const p=Sh(i?.pageYOffset,c.scrollTop),y=Sh(i?.pageXOffset,c.scrollLeft),E=Sh(c.clientTop,o.clientTop),A=Sh(c.clientLeft,o.clientLeft);return vp(e).translate(y-A,p-E)},vp=e=>{const n=e.dom,i=n.ownerDocument.body;return i===n?Eu(i.offsetLeft,i.offsetTop):$r(e)?lf(n):Eu(0,0)},pm=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Eu(o,i)},cg=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},ku=(e,n)=>{Wc().browser.isSafari()&&Fe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Y1=(e,n)=>{const o=p=>{if(!e(p))throw new Error("Can only get "+n+" value of a "+n+" node");return i(p).getOr("")},i=p=>e(p)?le.from(p.dom.nodeValue):le.none();return{get:o,getOption:i,set:(p,y)=>{if(!e(p))throw new Error("Can only set raw "+n+" value of a "+n+" node");p.dom.nodeValue=y}}},cf=(e,n)=>{const i=document.createDocumentFragment();return vt(e,c=>{i.appendChild(c.dom)}),Ve.fromDom(i)},Ur=Y1(cr,"text"),ic=e=>Ur.get(e),Du=e=>Ur.getOption(e),ug=(e,n)=>Ur.set(e,n),Nf=(e,n)=>{const o=ui(e,n);return o===void 0||o===""?[]:o.split(" ")},hv=(e,n,o)=>{const c=Nf(e,n).concat([o]);return xr(e,n,c.join(" ")),!0},mv=(e,n,o)=>{const i=At(Nf(e,n),c=>c!==o);return i.length>0?xr(e,n,i.join(" ")):Ga(e,n),!1};var Jc=(e,n,o,i,c)=>e(o,i)?le.some(o):Fe(c)&&c(o)?le.none():n(o,i,c);const qu=(e,n,o)=>{let i=e.dom;const c=Fe(o)?o:Yt;for(;i.parentNode;){i=i.parentNode;const p=Ve.fromDom(i);if(n(p))return le.some(p);if(c(p))break}return le.none()},Hr=(e,n,o)=>Jc((c,p)=>p(c),qu,e,n,o),pv=(e,n)=>{const o=e.dom;return o.parentNode?Ui(Ve.fromDom(o.parentNode),i=>!no(e,i)&&n(i)):le.none()},Ui=(e,n)=>{const o=c=>n(Ve.fromDom(c));return Vn(e.dom.childNodes,o).map(Ve.fromDom)},xh=(e,n)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const p=Ve.fromDom(i.childNodes[c]);if(n(p))return le.some(p);const y=o(i.childNodes[c]);if(y.isSome())return y}return le.none()};return o(e.dom)},Ua=(e,n,o)=>qu(e,i=>Zs(i,n),o),fd=(e,n)=>fr(n,e),Ai=(e,n,o)=>Jc((c,p)=>Zs(c,p),Ua,e,n,o),Yu=e=>e.dom.classList!==void 0,bp=e=>Nf(e,"class"),dg=(e,n)=>hv(e,"class",n),fg=(e,n)=>mv(e,"class",n),gm=(e,n)=>fo(bp(e),n)?fg(e,n):dg(e,n),ac=(e,n)=>{Yu(e)?e.dom.classList.add(n):dg(e,n)},Gu=e=>{(Yu(e)?e.dom.classList:bp(e)).length===0&&Ga(e,"class")},La=(e,n)=>{Yu(e)?e.dom.classList.remove(n):fg(e,n),Gu(e)},fl=(e,n)=>{const o=Yu(e)?e.dom.classList.toggle(n):gm(e,n);return Gu(e),o},uf=(e,n)=>Yu(e)&&e.dom.classList.contains(n),vm=(e,n)=>{vt(n,o=>{ac(e,o)})},_h=(e,n)=>{vt(n,o=>{La(e,o)})},gv=e=>Ai(e,"[contenteditable]"),Lc=(e,n=!1)=>$r(e)?e.dom.isContentEditable:gv(e).fold(xt(n),o=>fw(o)==="true"),fw=e=>e.dom.contentEditable,B=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Z=(e,n,o)=>At(Il(e,o),n),he=(e,n)=>At(zi(e),n),Pe=(e,n)=>{let o=[];return vt(zi(e),i=>{n(i)&&(o=o.concat([i])),o=o.concat(Pe(i,n))}),o},rt=(e,n,o)=>Z(e,i=>Zs(i,n),o),Ht=(e,n)=>$s(n,e),Fn=(e,n,o)=>qu(e,n,o).isSome(),bo=(e,n)=>pv(e,n).isSome(),ms=(e,n)=>xh(e,n).isSome(),Vs=(e,n)=>Fn(e,qt(no,n)),bi=(e,n,o)=>Ua(e,n,o).isSome(),ti=e=>Fe(e)?e:Yt,pa=(e,n,o)=>{let i=e.dom;const c=ti(o);for(;i.parentNode;){i=i.parentNode;const p=Ve.fromDom(i),y=n(p);if(y.isSome())return y;if(c(p))break}return le.none()},Fl=(e,n,o)=>{const i=n(e),c=ti(o);return i.orThunk(()=>c(e)?le.none():pa(e,n,c))},df=e=>Du(e).filter(n=>n.trim().length!==0||n.indexOf(as)>-1).isSome(),$d=e=>Vu(e)&&ui(e,"contenteditable")==="false",Ku=["img","br"],vv=e=>df(e)||fo(Ku,Qo(e))||$d(e),bm=e=>xh(e,vv),Rf={create:(e,n,o,i)=>({start:e,soffset:n,finish:o,foffset:i})},ym=Zl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hg=(e,n,o,i)=>e.fold(n,o,i),mg=e=>e.fold(Eo,Eo,Eo),Nb=ym.before,Rb=ym.on,br=ym.after,yi={before:Nb,on:Rb,after:br,cata:hg,getStart:mg},hl=Zl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qc=e=>hl.exact(e.start,e.soffset,e.finish,e.foffset),hd=e=>e.match({domRange:n=>Ve.fromDom(n.startContainer),relative:(n,o)=>yi.getStart(n),exact:(n,o,i,c)=>n}),ff=hl.domRange,Th=hl.relative,Lf=hl.exact,Pf=e=>{const n=hd(e);return Uu(n)},Eh=Rf.create,If={domRange:ff,relative:Th,exact:Lf,exactFromRange:Qc,getWin:Pf,range:Eh},wm=(e,n,o)=>le.from(e.caretPositionFromPoint?.(n,o)).bind(i=>{if(i.offsetNode===null)return le.none();const c=e.createRange();return c.setStart(i.offsetNode,i.offset),c.collapse(),le.some(c)}),hw=(e,n,o)=>le.from(e.caretRangeFromPoint?.(n,o)),il=(e,n,o)=>e.caretPositionFromPoint?wm(e,n,o):e.caretRangeFromPoint?hw(e,n,o):le.none(),Xa=(e,n,o)=>{const i=e.document;return il(i,n,o).map(c=>Rf.create(Ve.fromDom(c.startContainer),c.startOffset,Ve.fromDom(c.endContainer),c.endOffset))},Xu=(e,n)=>{const o=Qo(e);return o==="input"?yi.after(e):fo(["br","img"],o)?n===0?yi.before(e):yi.after(e):yi.on(e,n)},hf=(e,n)=>{const o=e.fold(yi.before,Xu,yi.after),i=n.fold(yi.before,Xu,yi.after);return If.relative(o,i)},pg=(e,n,o,i)=>{const c=Xu(e,n),p=Xu(o,i);return If.relative(c,p)},cc=e=>e.match({domRange:n=>{const o=Ve.fromDom(n.startContainer),i=Ve.fromDom(n.endContainer);return pg(o,n.startOffset,i,n.endOffset)},relative:hf,exact:pg}),bv=e=>{const n=If.getWin(e).dom,o=(c,p,y,E)=>cd(n,c,p,y,E),i=cc(e);return tn(n,i).match({ltr:o,rtl:o})},Cm=(e,n,o)=>Xa(e,n,o),Sm=e=>{const n=e===void 0?window:e;return Wc().browser.isFirefox()?le.none():le.from(n.visualViewport)},fu=(e,n,o,i)=>({x:e,y:n,width:o,height:i,right:e+o,bottom:n+i}),G1=e=>{const n=e===void 0?window:e,o=n.document,i=pm(Ve.fromDom(o));return Sm(n).fold(()=>{const c=n.document.documentElement,p=c.clientWidth,y=c.clientHeight;return fu(i.left,i.top,p,y)},c=>fu(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))};class Ti{rootNode;node;constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,i,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let p=n[i];if(p)return p;for(let y=n.parentNode;y&&y!==this.rootNode;y=y.parentNode)if(p=y[i],p)return p}}}findPreviousNode(n,o){if(n){const i=n.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let p=i.lastChild;p;p=p.lastChild)if(!p.lastChild)return p}return i}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const kh=/^[ \t\r\n]*$/,Dh=e=>kh.test(e),US=e=>{for(const n of e)if(!dr(n))return!1;return!0},gg=e=>" \f	\v".indexOf(e)!==-1,yv=e=>e===`
`||e==="\r",mw=(e,n)=>n<e.length&&n>=0?yv(e[n]):!1,K1=(e,n=4,o=!0,i=!0)=>{const c=ao(" ",n),p=e.replace(/\t/g,c);return ir(p,(E,A)=>gg(A)||A===as?E.pcIsSpace||E.str===""&&o||E.str.length===p.length-1&&i||mw(p,E.str.length+1)?{pcIsSpace:!1,str:E.str+as}:{pcIsSpace:!0,str:E.str+" "}:{pcIsSpace:yv(A),str:E.str+A},{pcIsSpace:!1,str:""}).str},mf=e=>n=>!!n&&n.nodeType===e,Lb=e=>!!e&&!Object.getPrototypeOf(e),yo=mf(1),Fi=e=>yo(e)&&Vu(Ve.fromDom(e)),yp=e=>yo(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",wp=e=>{const n=e.toLowerCase();return o=>et(o)&&o.nodeName.toLowerCase()===n},Tl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return fo(n,i)}return!1}},Ff=(e,n)=>{const o=n.toLowerCase().split(" ");return i=>{if(yo(i)){const c=i.ownerDocument.defaultView;if(c)for(let p=0;p<o.length;p++){const y=c.getComputedStyle(i,null);if((y?y.getPropertyValue(e):null)===o[p])return!0}}return!1}},wv=e=>n=>yo(n)&&n.hasAttribute(e),Cp=e=>yo(e)&&e.hasAttribute("data-mce-bogus"),X1=e=>yo(e)&&e.getAttribute("data-mce-bogus")==="all",Bf=e=>yo(e)&&e.tagName==="TABLE",xm=e=>n=>!!(Fi(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),J1=Tl(["textarea","input"]),pn=mf(3),Pb=mf(4),Q1=mf(7),xa=mf(8),Us=mf(9),Ah=mf(11),ea=wp("br"),e0=wp("img"),md=wp("a"),Bl=xm("true"),Bi=xm("false"),Sp=e=>Fi(e)&&e.isContentEditable&&et(e.parentElement)&&!e.parentElement.isContentEditable,$f=Tl(["td","th"]),t0=Tl(["td","th","caption"]),Ib=wp("template"),Oi=Tl(["video","audio","object","embed"]),n0=wp("li"),vg=wp("details"),xp=wp("summary"),Hd={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Fb=(e,n,o)=>{const i=Ve.fromDom(n),c=Ve.fromDom(e),p=o.getWhitespaceElements();return Fn(c,E=>qo(p,Qo(E)),qt(no,i))},Cv=e=>yo(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),o0=(e,n)=>yo(e)&&qo(n.getNonEmptyElements(),e.nodeName),Sv=wv("data-mce-bookmark"),pw=e=>Kc(Ve.fromDom(e)).exists(n=>!Lc(n)),s0=(e,n,o)=>Dh(e.data)&&!Fb(e,n,o),Bb=(e,n,o,i)=>pn(e)&&!s0(e,n,o)&&(!i.includeZwsp||!US(e.data)),r0=(e,n,o,i)=>Fe(i.isContent)&&i.isContent(n)||o0(n,e)||Sv(n)||Cv(n)||Bb(n,o,e,i)||Bi(n)||Bl(n)&&pw(n),Au=(e,n,o)=>{const i={...Hd,...o};if(i.checkRootAsContent&&r0(e,n,n,i))return!1;let c=n.firstChild,p=0;if(!c)return!0;const y=new Ti(c,n);do{if(i.skipBogus&&yo(c)){const E=c.getAttribute("data-mce-bogus");if(E){c=y.next(E==="all");continue}}if(xa(c)){c=y.next(!0);continue}if(ea(c)){p++,c=y.next();continue}if(r0(e,c,n,i))return!1;c=y.next()}while(c);return p<=1},Pc=(e,n,o)=>Au(e,n.dom,{checkRootAsContent:!0,...o}),Wr=(e,n,o)=>r0(e,n,n,{includeZwsp:Hd.includeZwsp,...o}),Yo=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},eu=e=>Yo(e)!=="html",zd=e=>eu(e.nodeName),gw=e=>Yo(e.nodeName),$b=["svg","math"],Hb=()=>{const e=Da(),n=()=>e.get().map(gw).getOr("html");return{track:c=>(zd(c)?e.set(c):e.get().exists(p=>!p.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Ja="data-mce-block",_p=e=>At(Mn(e),n=>!/[A-Z]/.test(n)),zb=e=>In(_p(e),n=>{const o=CSS.escape(n);return`${o}:`+In($b,i=>`not(${i} ${o})`).join(":")}).join(","),_m=(e,n)=>et(n.querySelector(e))?(n.setAttribute(Ja,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Ja),!1),bg=(e,n)=>{const o=zb(e.getTransparentElements()),i=zb(e.getBlockElements());return At(n.querySelectorAll(o),c=>_m(i,c))},u=(e,n,o)=>{const i=o?"lastChild":"firstChild";for(let c=n[i];c;c=c[i])if(Au(e,c,{checkRootAsContent:!0})){c.parentNode?.removeChild(c);return}},m=(e,n,o)=>{const i=document.createRange(),c=n.parentNode;if(c){i.setStartBefore(n),i.setEndBefore(o);const p=i.extractContents();u(e,p,!0),i.setStartAfter(o),i.setEndAfter(n);const y=i.extractContents();u(e,y,!1),Au(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),Au(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),Au(e,y,{checkRootAsContent:!0})||c.insertBefore(y,n),c.removeChild(n)}},x=(e,n,o)=>{const i=e.getBlockElements(),c=Ve.fromDom(n),p=E=>Qo(E)in i,y=E=>no(E,c);vt(rf(o),E=>{qu(E,p,y).each(A=>{const R=he(E,q=>p(q)&&!e.isValidChild(Qo(A),Qo(q)));if(R.length>0){const q=Kc(A);vt(R,Q=>{qu(Q,p,y).each(re=>{m(e,re.dom,Q.dom)})}),q.each(Q=>bg(e,Q.dom))}})})},S=(e,n,o)=>{vt([...o,...be(e,n)?[n]:[]],i=>vt(Ht(Ve.fromDom(i),i.nodeName.toLowerCase()),c=>{nt(e,c.dom)&&Cc(c)}))},D=(e,n)=>{const o=bg(e,n);x(e,n,o),S(e,n,o)},z=(e,n)=>{if(ve(e,n)){const o=zb(e.getBlockElements());_m(o,n)}},K=(e,n,o)=>{const i=p=>no(p,Ve.fromDom(n)),c=Il(Ve.fromDom(o),i);Gn(c,c.length-2).filter(Ji).fold(()=>D(e,n),p=>D(e,p.dom))},se=e=>e.hasAttribute(Ja),ce=(e,n)=>qo(e.getTransparentElements(),n),ve=(e,n)=>yo(n)&&ce(e,n.nodeName),be=(e,n)=>ve(e,n)&&se(n),nt=(e,n)=>ve(e,n)&&!se(n),Ot=(e,n)=>n.type===1&&ce(e,n.name)&&xe(n.attr(Ja)),bt=Wc().browser,sn=e=>Vn(e,Ji),An=e=>bt.isFirefox()&&Qo(e)==="table"?sn(zi(e)).filter(n=>Qo(n)==="caption").bind(n=>sn(sl(n)).map(o=>{const i=o.dom.offsetTop,c=n.dom.offsetTop,p=n.dom.offsetHeight;return i<=c?-p:0})).getOr(0):0,mo=(e,n)=>e.children&&fo(e.children,n),xo=(e,n,o)=>{let i=0,c=0;const p=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&ai(Ve.fromDom(e),"position")==="static"){const E=n.getBoundingClientRect();return i=E.left+(p.documentElement.scrollLeft||e.scrollLeft)-p.documentElement.clientLeft,c=E.top+(p.documentElement.scrollTop||e.scrollTop)-p.documentElement.clientTop,{x:i,y:c}}let y=n;for(;y&&y!==o&&y.nodeType&&!mo(y,o);){const E=y;i+=E.offsetLeft||0,c+=E.offsetTop||0,y=E.offsetParent}for(y=n.parentNode;y&&y!==o&&y.nodeType&&!mo(y,o);)i-=y.scrollLeft||0,c-=y.scrollTop||0,y=y.parentNode;c+=An(Ve.fromDom(n))}return{x:i,y:c}},Go=(e,n)=>{const o=n.crossOrigin;return n.contentCssCors?"anonymous":Fe(o)?o(e):void 0},lo=(e,n={})=>{let o=0;const i={},c=Ve.fromDom(e),p=Gc(c),y=mt=>{n.referrerPolicy=mt},E=mt=>{n.contentCssCors=mt},A=mt=>{n.crossOrigin=mt},R=mt=>{Sr(hp(c),mt)},q=mt=>{const gt=hp(c);fd(gt,"#"+mt).each(ii)},Q=mt=>Ks(i,mt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),re=mt=>new Promise((gt,Zt)=>{let an;const Zn=gn._addCacheSuffix(mt),Sn=Q(Zn);i[Zn]=Sn,Sn.count++;const Gt=(Hs,mr)=>{vt(Hs,Ds),Sn.status=mr,Sn.passed=[],Sn.failed=[],an&&(an.onload=null,an.onerror=null,an=null)},jt=()=>Gt(Sn.passed,2),cn=()=>Gt(Sn.failed,3);if(gt&&Sn.passed.push(gt),Zt&&Sn.failed.push(Zt),Sn.status===1)return;if(Sn.status===2){jt();return}if(Sn.status===3){cn();return}Sn.status=1;const uo=Ve.fromTag("link",p.dom);ri(uo,{rel:"stylesheet",type:"text/css",id:Sn.id});const ts=Go(mt,n);ts!==void 0&&xr(uo,"crossOrigin",ts),n.referrerPolicy&&xr(uo,"referrerpolicy",n.referrerPolicy),an=uo.dom,an.onload=jt,an.onerror=cn,R(uo),xr(uo,"href",Zn)}),pe=(mt,gt)=>{const Zt=Q(mt);i[mt]=Zt,Zt.count++;const an=Ve.fromTag("style",p.dom);ri(an,{rel:"stylesheet",type:"text/css",id:Zt.id,"data-mce-key":mt}),an.dom.innerHTML=gt,R(an)},Be=mt=>Promise.allSettled(In(mt,Zt=>re(Zt).then(xt(Zt)))).then(Zt=>{const an=Ns(Zt,Zn=>Zn.status==="fulfilled");return an.fail.length>0?Promise.reject(In(an.fail,Zn=>Zn.reason)):In(an.pass,Zn=>Zn.value)}),De=mt=>{const gt=gn._addCacheSuffix(mt);Ks(i,gt).each(Zt=>{--Zt.count===0&&(delete i[gt],q(Zt.id))})};return{load:re,loadRawCss:pe,loadAll:Be,unload:De,unloadRawCss:mt=>{Ks(i,mt).each(gt=>{--gt.count===0&&(delete i[mt],q(gt.id))})},unloadAll:mt=>{vt(mt,gt=>{De(gt)})},_setReferrerPolicy:y,_setContentCssCors:E,_setCrossOrigin:A}},xs=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const p=xl(o).dom;return le.from(e.get(p)).getOrThunk(()=>{const y=lo(p,i);return e.set(p,y),y})}}})(),Ps=e=>e.nodeName.toLowerCase()==="span",ws=(e,n)=>et(e)&&(Wr(n,e)||n.isInline(e.nodeName.toLowerCase())),_a=(e,n,o)=>{const i=new Ti(e,n).prev(!1),c=new Ti(e,n).next(!1),p=Ln(i)||ws(i,o),y=Ln(c)||ws(c,o);return p&&y},$l=e=>Ps(e)&&e.getAttribute("data-mce-type")==="bookmark",Wi=(e,n,o)=>pn(e)&&e.data.length>0&&_a(e,n,o),hu=e=>yo(e)?e.childNodes.length>0:!1,Ta=e=>Ah(e)||Us(e),El=(e,n,o,i)=>{const c=i||n;if(yo(n)&&$l(n))return n;const p=n.childNodes;for(let y=p.length-1;y>=0;y--)El(e,p[y],o,c);if(yo(n)){const y=n.childNodes;y.length===1&&$l(y[0])&&n.parentNode?.insertBefore(y[0],n)}return!Ta(n)&&!Wr(o,n)&&!hu(n)&&!Wi(n,c,o)&&e.remove(n),n},wt=gn.makeMap,ji=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,al=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/[<>&\"\']/g,Mi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zi={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},Dr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Oh={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ml=e=>{const n=Ve.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Vd=(e,n)=>{const o={};if(e){const i=e.split(",");n=n||10;for(let c=0;c<i.length;c+=2){const p=String.fromCharCode(parseInt(i[c],n));if(!Dr[p]){const y="&"+i[c+1]+";";o[p]=y,o[y]=p}}return o}else return},Qa=Vd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Tm=(e,n)=>e.replace(n?ji:al,o=>Dr[o]||o),Hf=e=>(""+e).replace(hr,n=>Dr[n]||n),Em=(e,n)=>e.replace(n?ji:al,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Dr[o]||"&#"+o.charCodeAt(0)+";"),Ou=(e,n,o)=>{const i=o||Qa;return e.replace(n?ji:al,c=>Dr[c]||i[c]||c)},Mh={encodeRaw:Tm,encodeAllRaw:Hf,encodeNumeric:Em,encodeNamed:Ou,getEncodeFunc:(e,n)=>{const o=Vd(n)||Qa,i=(y,E)=>y.replace(E?ji:al,A=>Dr[A]!==void 0?Dr[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(y,E)=>Ou(y,E,o),p=wt(e.replace(/\+/g,","));return p.named&&p.numeric?i:p.named?n?c:Ou:p.numeric?Em:Tm},decode:e=>e.replace(Mi,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Zi[o]||String.fromCharCode(o)):Oh[n]||Qa[n]||ml(n))},Ic=(e,n)=>(e=gn.trim(e),e?e.split(n||" "):[]),Sc=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Tp=e=>dt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Ep=e=>{const n=o=>Et(o)?In(o,n):Tp(o)?new RegExp(o.source,o.flags):dt(o)?Wa(o,n):o;return n(e)},_v=e=>{const n=/^(~)?(.+)$/;return _e(Ic(e,","),o=>{const i=n.exec(o);if(i){const p=i[1]==="~"?"span":"div",y=i[2];return[{cloneName:p,name:y}]}else return[]})},Vb=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Mu=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:i}},yg=e=>{const{blockContent:n,phrasingContent:o,flowContent:i}=Mu(e),c=p=>Object.freeze(p.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(i)})},Xl={html4:ds(()=>yg("html4")),html5:ds(()=>yg("html5")),"html5-strict":ds(()=>yg("html5-strict"))},vw=(e,n)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Xl[e]();return n==="blocks"?le.some(o):n==="phrasing"?le.some(i):n==="flow"?le.some(c):le.none()},zf=e=>{const n=Vb(e),{phrasingContent:o,flowContent:i}=Mu(e),c={},p=(A,R,q)=>{c[A]={attributes:Cn(R,xt({})),attributesOrder:R,children:Cn(q,xt({}))}},y=(A,R="",q="")=>{const Q=Ic(q),re=Ic(A);let pe=re.length;const Be=[...n,...Ic(R)];for(;pe--;)p(re[pe],Be.slice(),Q)},E=(A,R)=>{const q=Ic(A),Q=Ic(R);let re=q.length;for(;re--;){const pe=c[q[re]];for(let Be=0,De=Q.length;Be<De;Be++)pe.attributes[Q[Be]]={},pe.attributesOrder.push(Q[Be])}};return e!=="html5-strict"&&(vt(Ic("acronym applet basefont big font strike tt"),q=>{y(q,"",o)}),vt(Ic("center dir isindex noframes"),q=>{y(q,"",i)})),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset property"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),y("dd div","",i),y("address dt caption","",e==="html4"?o:i),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),y("blockquote","cite",i),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",i),y("dl","","dt dd"),y("a","href target rel media hreflang type",e==="html4"?o:i),y("q","cite",o),y("ins del","cite datetime",i),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",i),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),y("param","name value"),y("map","name",[i,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",i),y("th","colspan rowspan headers scope abbr",i),y("form","accept-charset action autocomplete enctype method name novalidate target",i),y("fieldset","disabled form name",[i,"legend"].join(" ")),y("label","form for",o),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[i,"li"].join(" ")),y("noscript","",i),e!=="html4"&&(y("wbr"),y("ruby","",[o,"rt rp"].join(" ")),y("figcaption","",i),y("mark rt rp bdi","",o),y("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),y("canvas","width height",i),y("data","value",o),y("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[i,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[o,"option"].join(" ")),y("article section nav aside main header footer","",i),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[i,"figcaption"].join(" ")),y("time","datetime",o),y("dialog","open",i),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",o),y("progress","value max",o),y("meter","value min max low high optimum",o),y("details","open",[i,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name"),p("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(E("script","language xml:space"),E("style","xml:space"),E("object","declare classid code codebase codetype archive standby align border hspace vspace"),E("embed","align name hspace vspace"),E("param","valuetype type"),E("a","charset name rev shape coords"),E("br","clear"),E("applet","codebase archive code object alt name width height align hspace vspace"),E("img","name longdesc align border hspace vspace"),E("iframe","longdesc frameborder marginwidth marginheight scrolling align"),E("font basefont","size color face"),E("input","usemap align"),E("select"),E("textarea"),E("h1 h2 h3 h4 h5 h6 div p legend caption","align"),E("ul","type compact"),E("li","type"),E("ol dl menu dir","compact"),E("pre","width xml:space"),E("hr","align noshade size width"),E("isindex","prompt"),E("table","summary width frame rules cellspacing cellpadding align bgcolor"),E("col","width align char charoff valign"),E("colgroup","width align char charoff valign"),E("thead","align char charoff valign"),E("tr","align char charoff valign bgcolor"),E("th","axis align char charoff valign nowrap bgcolor width height"),E("form","accept"),E("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),E("tfoot","align char charoff valign"),E("tbody","align char charoff valign"),E("area","nohref"),E("body","background bgcolor text link vlink alink")),e!=="html4"&&(E("input button select textarea","autofocus"),E("input textarea","placeholder"),E("a","download"),E("link script img","crossorigin"),E("img","loading"),E("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&vt([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),vt(Ic("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},Vf=e=>e==="-"?"remove":"add",bw=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return le.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},dc=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return _e(Ic(e,","),o=>{const i=n.exec(o);if(i){const c=i[1],p=c?Vf(c):"replace",y=i[2],E=_e(Ic(i[3],"|"),A=>bw(A).toArray());return[{operation:p,name:y,validChildren:E}]}else return[]})},Ub=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:p}=n;return vt(Ic(e,"|"),y=>{const E=o.exec(y);if(E){const A={},R=E[1],q=E[2].replace(/[\\:]:/g,":"),Q=E[3],re=E[4];if(R==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(q),A.required=!0),R==="-"){delete c[q],p.splice(gn.inArray(p,q),1);return}if(Q&&(Q==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:q,value:re}),A.defaultValue=re):Q==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:q,value:re}),A.forcedValue=re):Q==="<"&&(A.validValues=gn.makeMap(re,"?"))),i.test(q)){const pe=A;n.attributePatterns=n.attributePatterns||[],pe.pattern=Sc(q),n.attributePatterns.push(pe)}else c[q]||p.push(q),c[q]=A}})},kp=(e,n)=>{Mo(e.attributes,(o,i)=>{n.attributes[i]=o}),n.attributesOrder.push(...e.attributesOrder)},Tv=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return _e(Ic(n,","),i=>{const c=o.exec(i);if(c){const p=c[1],y=c[2],E=c[3],A=c[4],R=c[5],q={attributes:{},attributesOrder:[]};if(e.each(Q=>kp(Q,q)),p==="#"?q.paddEmpty=!0:p==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),R&&Ub(R,q),E&&(q.outputName=y),y==="@")if(e.isNone())e=le.some(q);else return[];return[E?{name:y,element:q,aliasName:E}:{name:y,element:q}]}else return[]})},km={},i0=gn.makeMap,Ud=gn.each,Ev=gn.extend,z_=gn.explode,ll=(e,n={})=>{const o=i0(e," ",i0(e.toUpperCase()," "));return Ev(o,n)},V_=e=>ll("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Dm=(e,n)=>{if(e){const o={};return xe(e)&&(e={"*":e}),Ud(e,(i,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?i0(i,/[, ]/):z_(i,/[, ]/)}),o}else return},Uf=(e={})=>{const n={},o={};let i=[];const c={},p={},y={},E=(cs,Mr,Ol)=>{const ga=e[cs];if(ga)return i0(ga,/[, ]/,i0(ga.toUpperCase(),/[, ]/));{let Ri=km[cs];return Ri||(Ri=ll(Mr,Ol),km[cs]=Ri),Ri}},A=e.schema??"html5",R=zf(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=Dm(e.valid_styles),Q=Dm(e.invalid_styles,"map"),re=Dm(e.valid_classes,"map"),pe=E("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Be=E("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),De=E("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),He=E("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ct="td th iframe video audio object script code",mt=E("non_empty_elements",ct+" pre svg textarea summary",De),gt=E("move_caret_before_on_enter_elements",ct+" table",De),Zt="h1 h2 h3 h4 h5 h6",an=E("text_block_elements",Zt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Zn=E("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",an),Sn=E("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Gt=E("transparent_elements","a ins del canvas map"),jt=E("wrap_block_elements","pre "+Zt);Ud("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),cs=>{p[cs]=new RegExp("</"+cs+"[^>]*>","gi")});const cn=cs=>{const Mr=le.from(n["@"]),Ol=/[*?+]/;vt(Tv(Mr,cs??""),({name:ga,element:Ri,aliasName:vl})=>{if(vl&&(n[vl]=Ri),Ol.test(ga)){const Df=Ri;Df.pattern=Sc(ga),i.push(Df)}else n[ga]=Ri})},uo=cs=>{i=[],vt(Mn(n),Mr=>{delete n[Mr]}),cn(cs)},ts=(cs,Mr)=>{delete km.text_block_elements,delete km.block_elements;const Ol=Mr.extends?!nf(Mr.extends):!1,ga=Mr.extends;if(o[cs]=ga?o[ga]:{},c[cs]=ga??cs,mt[cs.toUpperCase()]={},mt[cs]={},Ol||(Zn[cs.toUpperCase()]={},Zn[cs]={}),ga&&!n[cs]&&n[ga]){const Ri=Ep(n[ga]);delete Ri.removeEmptyAttrs,delete Ri.removeEmpty,n[cs]=Ri}else n[cs]={attributesOrder:[],attributes:{}};if(Et(Mr.attributes)){const Ri=Df=>{vl.attributesOrder.push(Df),vl.attributes[Df]={}},vl=n[cs]??{};delete vl.attributesDefault,delete vl.attributesForced,delete vl.attributePatterns,delete vl.attributesRequired,vl.attributesOrder=[],vl.attributes={},vt(Mr.attributes,Df=>{const Ad=Vb(A);bw(Df).each(({preset:sm,name:Sb})=>{sm?Sb==="global"&&vt(Ad,Ri):Ri(Sb)})}),n[cs]=vl}if(mn(Mr.padEmpty)){const Ri=n[cs]??{};Ri.paddEmpty=Mr.padEmpty,n[cs]=Ri}if(Et(Mr.children)){const Ri={},vl=Ad=>{Ri[Ad]={}},Df=Ad=>{vw(A,Ad).each(sm=>{vt(sm,vl)})};vt(Mr.children,Ad=>{bw(Ad).each(({preset:sm,name:Sb})=>{sm?Df(Sb):vl(Sb)})}),o[cs]=Ri}ga&&Mo(o,(Ri,vl)=>{Ri[ga]&&(o[vl]=Ri=Ev({},o[vl]),Ri[cs]=Ri[ga])})},Hs=cs=>{vt(_v(cs??""),({name:Mr,cloneName:Ol})=>{ts(Mr,{extends:Ol})})},mr=(cs,Mr)=>{y[cs]=Mr},Ki=cs=>{dt(cs)?Mo(cs,(Mr,Ol)=>{const ga=Mr.componentUrl;xe(ga)&&mr(Ol,ga),ts(Ol,Mr)}):xe(cs)&&Hs(cs)},ca=cs=>{vt(dc(cs??""),({operation:Mr,name:Ol,validChildren:ga})=>{const Ri=Mr==="replace"?{"#comment":{}}:o[Ol],vl=Ad=>{Mr==="remove"?delete Ri[Ad]:Ri[Ad]={}},Df=Ad=>{vw(A,Ad).each(sm=>{vt(sm,vl)})};vt(ga,({preset:Ad,name:sm})=>{Ad?Df(sm):vl(sm)}),o[Ol]=Ri})},Ul=cs=>{const Mr=n[cs];if(Mr)return Mr;let Ol=i.length;for(;Ol--;){const ga=i[Ol];if(ga.pattern.test(cs))return ga}},bc=()=>{e.valid_elements?(uo(e.valid_elements),Ud(R,(cs,Mr)=>{o[Mr]=cs.children})):(Ud(R,(cs,Mr)=>{n[Mr]={attributes:cs.attributes,attributesOrder:cs.attributesOrder},o[Mr]=cs.children}),Ud(Ic("strong/b em/i"),cs=>{const Mr=Ic(cs,"/");n[Mr[1]].outputName=Mr[0]}),Ud(Sn,(cs,Mr)=>{n[Mr]&&(e.padd_empty_block_inline_children&&(n[Mr].paddInEmptyBlock=!0),n[Mr].removeEmpty=!0)}),Ud(Ic("ol ul blockquote a table tbody"),cs=>{n[cs]&&(n[cs].removeEmpty=!0)}),Ud(Ic("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),cs=>{n[cs]&&(n[cs].paddEmpty=!0)}),Ud(Ic("span"),cs=>{n[cs].removeEmptyAttrs=!0})),delete n.svg,Ki(e.custom_elements),ca(e.valid_children),cn(e.extended_valid_elements),ca("+ol[ul|ol],+ul[ul|ol]"),Ud({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(cs,Mr)=>{n[Mr]&&(n[Mr].parentsRequired=Ic(cs))}),e.invalid_elements&&Ud(z_(e.invalid_elements),cs=>{n[cs]&&delete n[cs]}),Ul("span")||cn("span[!data-mce-type|*]")},nm=xt(q),to=xt(Q),Vo=xt(re),fi=xt(He),si=xt(Zn),Lo=xt(an),Dn=xt(Sn),Xn=xt(Object.seal(De)),ss=xt(Be),ks=xt(mt),ki=xt(gt),ua=xt(pe),om=xt(Gt),Ef=xt(jt),qp=xt(Object.seal(p)),Yp=(cs,Mr)=>{const Ol=o[cs.toLowerCase()];return!!(Ol&&Ol[Mr.toLowerCase()])},kf=(cs,Mr)=>{const Ol=Ul(cs);if(Ol)if(Mr){if(Ol.attributes[Mr])return!0;const ga=Ol.attributePatterns;if(ga){let Ri=ga.length;for(;Ri--;)if(ga[Ri].pattern.test(Mr))return!0}}else return!0;return!1},nf=cs=>qo(si(),cs),ip=cs=>!Po(cs,"#")&&kf(cs)&&!nf(cs),TS=cs=>qo(Ef(),cs)||ip(cs),ES=xt(c),qA=xt(y);return bc(),{type:A,children:o,elements:n,getValidStyles:nm,getValidClasses:Vo,getBlockElements:si,getInvalidStyles:to,getVoidElements:Xn,getTextBlockElements:Lo,getTextInlineElements:Dn,getBoolAttrs:fi,getElementRule:Ul,getSelfClosingElements:ss,getNonEmptyElements:ks,getMoveCaretBeforeOnEnterElements:ki,getWhitespaceElements:ua,getTransparentElements:om,getSpecialElements:qp,getComponentUrls:qA,isValidChild:Yp,isValid:kf,isBlock:nf,isInline:ip,isWrapper:TS,getCustomElements:ES,addValidElements:cn,setValidElements:uo,addCustomElements:Ki,addValidChildren:ca}},WS=e=>({value:kv(e)}),kv=e=>wu(e,"#").toUpperCase(),pd=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Dv=e=>{const n=pd(e.red)+pd(e.green)+pd(e.blue);return WS(n)},Av=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,jS=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,yw=(e,n,o,i)=>({red:e,green:n,blue:o,alpha:i}),ww=(e,n,o,i)=>{const c=parseInt(e,10),p=parseInt(n,10),y=parseInt(o,10),E=parseFloat(i);return yw(c,p,y,E)},Cw=e=>Av.test(e)?"rgb":jS.test(e)?"rgba":"other",ZS=e=>{const n=Av.exec(e);if(n!==null)return le.some(ww(n[1],n[2],n[3],"1"));const o=jS.exec(e);return o!==null?le.some(ww(o[1],o[2],o[3],o[4])):le.none()},U_=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Ov=e=>ZS(e).map(Dv).map(n=>"#"+n.value).getOr(e),Mv=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,p={};let y,E;const A=Rr;n&&(y=n.getValidStyles(),E=n.getInvalidStyles());const R=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Q=0;Q<R.length;Q++)p[R[Q]]=A+Q,p[A+Q]=R[Q];const q={parse:Q=>{const re={};let pe=!1;const Be=e.url_converter,De=e.url_converter_scope||q,He=(Gt,jt,cn)=>{const uo=re[Gt+"-top"+jt];if(!uo)return;const ts=re[Gt+"-right"+jt];if(!ts)return;const Hs=re[Gt+"-bottom"+jt];if(!Hs)return;const mr=re[Gt+"-left"+jt];if(!mr)return;const Ki=[uo,ts,Hs,mr];let ca=Ki.length-1;for(;ca--&&Ki[ca]===Ki[ca+1];);ca>-1&&cn||(re[Gt+jt]=ca===-1?Ki[0]:Ki.join(" "),delete re[Gt+"-top"+jt],delete re[Gt+"-right"+jt],delete re[Gt+"-bottom"+jt],delete re[Gt+"-left"+jt])},ct=Gt=>{const jt=re[Gt];if(!jt)return;const cn=jt.indexOf(",")>-1?[jt]:jt.split(" ");let uo=cn.length;for(;uo--;)if(cn[uo]!==cn[0])return!1;return re[Gt]=cn[0],!0},mt=(Gt,jt,cn,uo)=>{ct(jt)&&ct(cn)&&ct(uo)&&(re[Gt]=re[jt]+" "+re[cn]+" "+re[uo],delete re[jt],delete re[cn],delete re[uo])},gt=Gt=>(pe=!0,p[Gt]),Zt=(Gt,jt)=>(pe&&(Gt=Gt.replace(/\uFEFF[0-9]/g,cn=>p[cn])),jt||(Gt=Gt.replace(/\\([\'\";:])/g,"$1")),Gt),an=Gt=>String.fromCharCode(parseInt(Gt.slice(1),16)),Zn=Gt=>Gt.replace(/\\[0-9a-f]+/gi,an),Sn=(Gt,jt,cn,uo,ts,Hs)=>{if(ts=ts||Hs,ts)return ts=Zt(ts),"'"+ts.replace(/\'/g,"\\'")+"'";if(jt=Zt(jt||cn||uo||""),!e.allow_script_urls){const mr=jt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(mr)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(mr))return""}return Be&&(jt=Be.call(De,jt,"style")),"url('"+jt.replace(/\'/g,"\\'")+"')"};if(Q){Q=Q.replace(/[\u0000-\u001F]/g,""),Q=Q.replace(/\\[\"\';:\uFEFF]/g,gt).replace(/\"[^\"]+\"|\'[^\']+\'/g,jt=>jt.replace(/[;:]/g,gt));let Gt;for(;Gt=i.exec(Q);){i.lastIndex=Gt.index+Gt[0].length;let jt=Gt[1].replace(c,"").toLowerCase(),cn=Gt[2].replace(c,"");if(jt&&cn){if(jt=Zn(jt),cn=Zn(cn),jt.indexOf(A)!==-1||jt.indexOf('"')!==-1||!e.allow_script_urls&&(jt==="behavior"||/expression\s*\(|\/\*|\*\//.test(cn)))continue;jt==="font-weight"&&cn==="700"?cn="bold":(jt==="color"||jt==="background-color")&&(cn=cn.toLowerCase()),Cw(cn)==="rgb"&&ZS(cn).each(uo=>{cn=Ov(U_(uo)).toLowerCase()}),cn=cn.replace(o,Sn),re[jt]=pe?Zt(cn,!0):cn}}He("border","",!0),He("border","-width"),He("border","-color"),He("border","-style"),He("padding",""),He("margin",""),mt("border","border-width","border-style","border-color"),re.border==="medium none"&&delete re.border,re["border-image"]==="none"&&delete re["border-image"]}return re},serialize:(Q,re)=>{let pe="";const Be=(He,ct)=>{const mt=ct[He];if(mt)for(let gt=0,Zt=mt.length;gt<Zt;gt++){const an=mt[gt],Zn=Q[an];Zn&&(pe+=(pe.length>0?" ":"")+an+": "+Zn+";")}},De=(He,ct)=>{if(!E||!ct)return!0;let mt=E["*"];return mt&&mt[He]?!1:(mt=E[ct],!(mt&&mt[He]))};return re&&y?(Be("*",y),Be(re,y)):Mo(Q,(He,ct)=>{He&&De(ct,re)&&(pe+=(pe.length>0?" ":"")+ct+": "+He+";")}),pe}};return q},Nh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Dp=e=>e instanceof Event||Fe(e.initEvent),Nv=e=>e.isDefaultPrevented===yt||e.isDefaultPrevented===Yt,W_=e=>ln(e.preventDefault)||Dp(e),a0=(e,n)=>{const o=n??{};for(const i in e)qo(Nh,i)||(o[i]=e[i]);return et(e.composedPath)&&(o.composedPath=()=>e.composedPath()),et(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),et(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},l0=(e,n,o,i)=>{const c=a0(n,i);return c.type=e,ln(c.target)&&(c.target=c.srcElement??o),W_(n)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=yt,Fe(n.preventDefault)&&n.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=yt,Fe(n.stopPropagation)&&n.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=yt,c.stopPropagation()},Nv(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?yt:Yt,c.isPropagationStopped=c.cancelBubble===!0?yt:Yt,c.isImmediatePropagationStopped=Yt)),c},j_="mce-data-",Z_=/^(?:mouse|contextmenu)|click/,Sw=(e,n,o,i)=>{e.addEventListener(n,o,i||!1)},Rv=(e,n,o,i)=>{e.removeEventListener(n,o,i||!1)},xw=e=>et(e)&&Z_.test(e.type),pf=(e,n)=>{const o=l0(e.type,e,document,n);if(xw(e)&&Ln(e.pageX)&&!Ln(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,p=i.body,y=o;y.pageX=e.clientX+(c&&c.scrollLeft||p&&p.scrollLeft||0)-(c&&c.clientLeft||p&&p.clientLeft||0),y.pageY=e.clientY+(c&&c.scrollTop||p&&p.scrollTop||0)-(c&&c.clientTop||p&&p.clientTop||0)}return o},q_=(e,n,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const p=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,y=()=>{Rv(e,"DOMContentLoaded",y),Rv(e,"load",y),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};p()?y():Sw(e,"DOMContentLoaded",y),o.domLoaded||Sw(e,"load",y)};class Wf{static Event=new Wf;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=j_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,i,c){const p=this;let y;const E=window,A=re=>{p.executeHandlers(pf(re||E.event),R)};if(!n||pn(n)||xa(n))return i;let R;n[p.expando]?R=n[p.expando]:(R=p.count++,n[p.expando]=R,p.events[R]={}),c=c||n;const q=o.split(" ");let Q=q.length;for(;Q--;){let re=q[Q],pe=A,Be=!1,De=!1;if(re==="DOMContentLoaded"&&(re="ready"),p.domLoaded&&re==="ready"&&n.readyState==="complete"){i.call(c,pf({type:re}));continue}!p.hasFocusIn&&(re==="focusin"||re==="focusout")&&(Be=!0,De=re==="focusin"?"focus":"blur",pe=He=>{const ct=pf(He||E.event);ct.type=ct.type==="focus"?"focusin":"focusout",p.executeHandlers(ct,R)}),y=p.events[R][re],y?re==="ready"&&p.domLoaded?i(pf({type:re})):y.push({func:i,scope:c}):(p.events[R][re]=y=[{func:i,scope:c}],y.fakeName=De,y.capture=Be,y.nativeHandler=pe,re==="ready"?q_(n,pe,p):Sw(n,De||re,pe,Be))}return n=y=null,i}unbind(n,o,i){if(!n||pn(n)||xa(n))return this;const c=n[this.expando];if(c){let p=this.events[c];if(o){const y=o.split(" ");let E=y.length;for(;E--;){const A=y[E],R=p[A];if(R){if(i){let q=R.length;for(;q--;)if(R[q].func===i){const Q=R.nativeHandler,re=R.fakeName,pe=R.capture,Be=R.slice(0,q).concat(R.slice(q+1));Be.nativeHandler=Q,Be.fakeName=re,Be.capture=pe,p[A]=Be}}(!i||R.length===0)&&(delete p[A],Rv(n,R.fakeName||A,R.nativeHandler,R.capture))}}}else Mo(p,(y,E)=>{Rv(n,y.fakeName||E,y.nativeHandler,y.capture)}),p={};for(const y in p)if(qo(p,y))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,i){return this.dispatch(n,o,i)}dispatch(n,o,i){if(!n||pn(n)||xa(n))return this;const c=pf({type:o,target:n},i);do{const p=n[this.expando];p&&this.executeHandlers(c,p),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||pn(n)||xa(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let i=o.length;for(;i--;)n=o[i],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const i=this.events[o],c=i&&i[n.type];if(c)for(let p=0,y=c.length;p<y;p++){const E=c[p];if(E&&E.func.call(E.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}const c0=gn.each,Y_=gn.grep,G_="data-mce-style",gd=gn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),u0=(e,n,o)=>{ln(o)||o===""?Ga(e,n):xr(e,n,o)},K_=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),wg=(e,n)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const p=c.nodeType;n&&pn(c)&&(p===i||!c.data.length)||(o++,i=p)}return o},BO=(e,n)=>{const o=ui(n,"style"),i=e.serialize(e.parse(o),Qo(n));u0(n,G_,i)},$O=(e,n)=>En(e)?qo(gd,n)?e+"":e+"px":e,qS=(e,n,o)=>{const i=K_(n);ln(o)||o===""?hm(e,i):ra(e,i,$O(o,i))},HO=(e,n,o)=>{const i=n.keep_values,c={set:(y,E,A)=>{const R=Ve.fromDom(y);Fe(n.url_converter)&&et(E)&&(E=n.url_converter.call(n.url_converter_scope||o(),String(E),A,y));const q="data-mce-"+A;u0(R,q,E),u0(R,A,E)},get:(y,E)=>{const A=Ve.fromDom(y);return ui(A,"data-mce-"+E)||ui(A,E)}},p={style:{set:(y,E)=>{const A=Ve.fromDom(y);i&&u0(A,G_,E),Ga(A,"style"),xe(E)&&_r(A,e.parse(E))},get:y=>{const E=Ve.fromDom(y),A=ui(E,G_)||ui(E,"style");return e.serialize(e.parse(A),Qo(E))}}};return i&&(p.href=p.src=c),p},li=(e,n={})=>{const o={},i=window,c={};let p=0;const y=!0,E=!0,A=xs.forElement(Ve.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy,crossOrigin:_t=>{const Mt=n.crossOrigin;if(Fe(Mt))return Mt(_t,"stylesheet")}}),R=[],q=n.schema?n.schema:Uf({}),Q=Mv({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),re=n.ownEvents?new Wf:Wf.Event,pe=q.getBlockElements(),Be=_t=>xe(_t)?qo(pe,_t):yo(_t)&&(qo(pe,_t.nodeName)||be(q,_t)),De=_t=>_t&&e&&xe(_t)?e.getElementById(_t):_t,He=_t=>{const Mt=De(_t);return et(Mt)?Ve.fromDom(Mt):null},ct=(_t,Mt,oo="")=>{let Hn;const vs=He(_t);if(et(vs)&&Ji(vs)){const Jr=TV[Mt];Jr&&Jr.get?Hn=Jr.get(vs.dom,Mt):Hn=ui(vs,Mt)}return et(Hn)?Hn:oo},mt=_t=>{const Mt=De(_t);return ln(Mt)?[]:Mt.attributes},gt=(_t,Mt,oo)=>{Vo(_t,Hn=>{if(yo(Hn)){const vs=Ve.fromDom(Hn),Jr=oo===""?null:oo,ec=ui(vs,Mt),xb=TV[Mt];xb&&xb.set?xb.set(vs.dom,Jr,Mt):u0(vs,Mt,Jr),ec!==Jr&&n.onSetAttrib&&n.onSetAttrib({attrElm:vs.dom,attrName:Mt,attrValue:Jr})}})},Zt=(_t,Mt)=>_t.cloneNode(Mt),an=()=>n.root_element||e.body,Zn=_t=>{const Mt=G1(_t);return{x:Mt.x,y:Mt.y,w:Mt.width,h:Mt.height}},Sn=(_t,Mt)=>xo(e.body,De(_t),Mt),Gt=(_t,Mt,oo)=>{Vo(_t,Hn=>{const vs=Ve.fromDom(Hn);qS(vs,Mt,oo),n.update_styles&&BO(Q,vs)})},jt=(_t,Mt)=>{Vo(_t,oo=>{const Hn=Ve.fromDom(oo);Mo(Mt,(vs,Jr)=>{qS(Hn,Jr,vs)}),n.update_styles&&BO(Q,Hn)})},cn=(_t,Mt,oo)=>{const Hn=De(_t);if(!(ln(Hn)||!Fi(Hn)&&!yp(Hn)))return oo?ai(Ve.fromDom(Hn),K_(Mt)):(Mt=Mt.replace(/-(\D)/g,(vs,Jr)=>Jr.toUpperCase()),Mt==="float"&&(Mt="cssFloat"),Hn.style?Hn.style[Mt]:void 0)},uo=_t=>{const Mt=De(_t);if(!Mt)return{w:0,h:0};let oo=cn(Mt,"width"),Hn=cn(Mt,"height");return(!oo||oo.indexOf("px")===-1)&&(oo="0"),(!Hn||Hn.indexOf("px")===-1)&&(Hn="0"),{w:parseInt(oo,10)||Mt.offsetWidth||Mt.clientWidth,h:parseInt(Hn,10)||Mt.offsetHeight||Mt.clientHeight}},ts=_t=>{const Mt=De(_t),oo=Sn(Mt),Hn=uo(Mt);return{x:oo.x,y:oo.y,w:Hn.w,h:Hn.h}},Hs=(_t,Mt)=>{if(!_t)return!1;const oo=Et(_t)?_t:[_t];return Ws(oo,Hn=>Zs(Ve.fromDom(Hn),Mt))},mr=(_t,Mt,oo,Hn)=>{const vs=[];let Jr=De(_t);Hn=Hn===void 0;const ec=oo||(an().nodeName!=="BODY"?an().parentNode:null);if(xe(Mt))if(Mt==="*")Mt=yo;else{const xb=Mt;Mt=Jg=>Hs(Jg,xb)}for(;Jr&&!(Jr===ec||ln(Jr.nodeType)||Us(Jr)||Ah(Jr));){if(!Mt||Mt(Jr))if(Hn)vs.push(Jr);else return[Jr];Jr=Jr.parentNode}return Hn?vs:null},Ki=(_t,Mt,oo)=>{const Hn=mr(_t,Mt,oo,!1);return Hn&&Hn.length>0?Hn[0]:null},ca=(_t,Mt,oo)=>{let Hn=Mt;if(_t){xe(Mt)&&(Hn=vs=>Hs(vs,Mt));for(let vs=_t[oo];vs;vs=vs[oo])if(Fe(Hn)&&Hn(vs))return vs}return null},Ul=(_t,Mt)=>ca(_t,Mt,"nextSibling"),bc=(_t,Mt)=>ca(_t,Mt,"previousSibling"),nm=_t=>Fe(_t.querySelectorAll),to=(_t,Mt)=>{const oo=De(Mt)??n.root_element??e;return nm(oo)?zs(oo.querySelectorAll(_t)):[]},Vo=function(_t,Mt,oo){const Hn=oo??this;if(Et(_t)){const vs=[];return c0(_t,(Jr,ec)=>{const xb=De(Jr);xb&&vs.push(Mt.call(Hn,xb,ec))}),vs}else{const vs=De(_t);return vs?Mt.call(Hn,vs):!1}},fi=(_t,Mt)=>{Vo(_t,oo=>{Mo(Mt,(Hn,vs)=>{gt(oo,vs,Hn)})})},si=(_t,Mt)=>{Vo(_t,oo=>{const Hn=Ve.fromDom(oo);af(Hn,Mt)})},Lo=(_t,Mt,oo,Hn,vs)=>Vo(_t,Jr=>{const ec=xe(Mt)?e.createElement(Mt):Mt;return et(oo)&&fi(ec,oo),Hn&&(!xe(Hn)&&Hn.nodeType?ec.appendChild(Hn):xe(Hn)&&si(ec,Hn)),vs?ec:Jr.appendChild(ec)}),Dn=(_t,Mt,oo)=>Lo(e.createElement(_t),_t,Mt,oo,!0),Xn=Mh.decode,ss=Mh.encodeAllRaw,ks=(_t,Mt,oo="")=>{let Hn="<"+_t;for(const vs in Mt)or(Mt,vs)&&(Hn+=" "+vs+'="'+ss(Mt[vs])+'"');return fn(oo)&&qo(q.getVoidElements(),_t)?Hn+" />":Hn+">"+oo+"</"+_t+">"},ki=_t=>{const Mt=e.createElement("div"),oo=e.createDocumentFragment();oo.appendChild(Mt),_t&&(Mt.innerHTML=_t);let Hn;for(;Hn=Mt.firstChild;)oo.appendChild(Hn);return oo.removeChild(Mt),oo},ua=(_t,Mt)=>Vo(_t,oo=>{const Hn=Ve.fromDom(oo);return Mt&&vt(zi(Hn),vs=>{cr(vs)&&vs.dom.length===0?ii(vs):Va(Hn,vs)}),ii(Hn),Hn.dom}),om=_t=>Vo(_t,Mt=>{const oo=Mt.attributes;for(let Hn=oo.length-1;Hn>=0;Hn--)Mt.removeAttributeNode(oo.item(Hn))}),Ef=_t=>Q.parse(_t),qp=(_t,Mt)=>Q.serialize(_t,Mt),Yp=_t=>{if(DS!==li.DOM&&e===document){if(o[_t])return;o[_t]=!0}let Mt=e.getElementById("mceDefaultStyles");if(!Mt){Mt=e.createElement("style"),Mt.id="mceDefaultStyles",Mt.type="text/css";const oo=e.head;oo.firstChild?oo.insertBefore(Mt,oo.firstChild):oo.appendChild(Mt)}Mt.styleSheet?Mt.styleSheet.cssText+=_t:Mt.appendChild(e.createTextNode(_t))},kf=_t=>{_t||(_t=""),vt(_t.split(","),Mt=>{c[Mt]=!0,A.load(Mt).catch(Ze)})},nf=(_t,Mt,oo)=>{Vo(_t,Hn=>{if(yo(Hn)){const vs=Ve.fromDom(Hn),Jr=Mt.split(" ");vt(Jr,ec=>{et(oo)?(oo?ac:La)(vs,ec):fl(vs,ec)})}})},ip=(_t,Mt)=>{nf(_t,Mt,!0)},TS=(_t,Mt)=>{nf(_t,Mt,!1)},ES=(_t,Mt)=>{const oo=He(_t),Hn=Mt.split(" ");return et(oo)&&Ie(Hn,vs=>uf(oo,vs))},qA=_t=>{Vo(_t,Mt=>hm(Ve.fromDom(Mt),"display"))},cs=_t=>{Vo(_t,Mt=>ra(Ve.fromDom(Mt),"display","none"))},Mr=_t=>{const Mt=He(_t);return et(Mt)&&Ls(Vi(Mt,"display"),"none")},Ol=_t=>(_t||"mce_")+p++,ga=_t=>{const Mt=He(_t);return et(Mt)?yo(Mt.dom)?Mt.dom.outerHTML:ig(Mt):""},Ri=(_t,Mt)=>{Vo(_t,oo=>{yo(oo)&&(oo.outerHTML=Mt)})},vl=(_t,Mt)=>{const oo=De(Mt);return Vo(_t,Hn=>{const vs=oo?.parentNode,Jr=oo?.nextSibling;return vs&&(Jr?vs.insertBefore(Hn,Jr):vs.appendChild(Hn)),Hn})},Df=(_t,Mt,oo)=>Vo(Mt,Hn=>{const vs=Et(Mt)?_t.cloneNode(!0):_t;return oo&&c0(Y_(Hn.childNodes),Jr=>{vs.appendChild(Jr)}),Hn.parentNode?.replaceChild(vs,Hn),Hn}),Ad=(_t,Mt)=>{if(_t.nodeName!==Mt.toUpperCase()){const oo=Dn(Mt);return c0(mt(_t),Hn=>{gt(oo,Hn.nodeName,ct(_t,Hn.nodeName))}),Df(oo,_t,!0),oo}else return _t},sm=(_t,Mt)=>{let oo=_t;for(;oo;){let Hn=Mt;for(;Hn&&oo!==Hn;)Hn=Hn.parentNode;if(oo===Hn)break;oo=oo.parentNode}return!oo&&_t.ownerDocument?_t.ownerDocument.documentElement:oo},Sb=(_t,Mt,oo)=>Qt(Mt)?Au(q,_t,{...oo,isContent:vs=>{const Jr=vs.nodeName.toLowerCase();return!!Mt[Jr]}}):Au(q,_t,oo),YA=()=>e.createRange(),GA=(_t,Mt,oo)=>{let Hn=YA(),vs,Jr;if(_t&&Mt&&_t.parentNode&&Mt.parentNode){const ec=_t.parentNode;return Hn.setStart(ec,wg(_t)),Hn.setEnd(Mt.parentNode,wg(Mt)),vs=Hn.extractContents(),Hn=YA(),Hn.setStart(Mt.parentNode,wg(Mt)+1),Hn.setEnd(ec,wg(_t)+1),Jr=Hn.extractContents(),ec.insertBefore(El(DS,vs,q),_t),oo?ec.insertBefore(oo,_t):ec.insertBefore(Mt,_t),ec.insertBefore(El(DS,Jr,q),_t),ua(_t),oo||Mt}else return},b_=(_t,Mt,oo,Hn)=>{if(Et(_t)){let vs=_t.length;const Jr=[];for(;vs--;)Jr[vs]=b_(_t[vs],Mt,oo,Hn);return Jr}else return n.collect&&(_t===e||_t===i)&&R.push([_t,Mt,oo,Hn]),re.bind(_t,Mt,oo,Hn||DS)},Xg=(_t,Mt,oo)=>{if(Et(_t)){let Hn=_t.length;const vs=[];for(;Hn--;)vs[Hn]=Xg(_t[Hn],Mt,oo);return vs}else{if(R.length>0&&(_t===e||_t===i)){let Hn=R.length;for(;Hn--;){const[vs,Jr,ec]=R[Hn];_t===vs&&(!Mt||Mt===Jr)&&(!oo||oo===ec)&&re.unbind(vs,Jr,ec)}}return re.unbind(_t,Mt,oo)}},kS=(_t,Mt,oo)=>re.dispatch(_t,Mt,oo),DP=(_t,Mt,oo)=>re.dispatch(_t,Mt,oo),KA=_t=>{if(_t&&Fi(_t)){const Mt=_t.getAttribute("data-mce-contenteditable");return Mt&&Mt!=="inherit"?Mt:_t.contentEditable!=="inherit"?_t.contentEditable:null}else return null},DS={doc:e,settings:n,win:i,files:c,stdMode:y,boxModel:E,styleSheetLoader:A,boundEvents:R,styles:Q,schema:q,events:re,isBlock:Be,root:null,clone:Zt,getRoot:an,getViewPort:Zn,getRect:ts,getSize:uo,getParent:Ki,getParents:mr,get:De,getNext:Ul,getPrev:bc,select:to,is:Hs,add:Lo,create:Dn,createHTML:ks,createFragment:ki,remove:ua,setStyle:Gt,getStyle:cn,setStyles:jt,removeAllAttribs:om,setAttrib:gt,setAttribs:fi,getAttrib:ct,getPos:Sn,parseStyle:Ef,serializeStyle:qp,addStyle:Yp,loadCSS:kf,addClass:ip,removeClass:TS,hasClass:ES,toggleClass:nf,show:qA,hide:cs,isHidden:Mr,uniqueId:Ol,setHTML:si,getOuterHTML:ga,setOuterHTML:Ri,decode:Xn,encode:ss,insertAfter:vl,replace:Df,rename:Ad,findCommonAncestor:sm,run:Vo,getAttribs:mt,isEmpty:Sb,createRng:YA,nodeIndex:wg,split:GA,bind:b_,unbind:Xg,fire:DP,dispatch:kS,getContentEditable:KA,getContentEditableParent:_t=>{const Mt=an();let oo=null;for(let Hn=_t;Hn&&Hn!==Mt&&(oo=KA(Hn),oo===null);Hn=Hn.parentNode);return oo},isEditable:_t=>{if(et(_t)){const Mt=yo(_t)?_t:_t.parentElement;return et(Mt)&&Fi(Mt)&&Lc(Ve.fromDom(Mt))}else return!1},destroy:()=>{if(R.length>0){let _t=R.length;for(;_t--;){const[Mt,oo,Hn]=R[_t];re.unbind(Mt,oo,Hn)}}Mo(c,(_t,Mt)=>{A.unload(Mt),delete c[Mt]})},isChildOf:(_t,Mt)=>_t===Mt||Mt.contains(_t),dumpRng:_t=>"startContainer: "+_t.startContainer.nodeName+", startOffset: "+_t.startOffset+", endContainer: "+_t.endContainer.nodeName+", endOffset: "+_t.endOffset},TV=HO(Q,n,xt(DS));return DS};li.DOM=li(document),li.nodeIndex=wg;const X_=li.DOM,J_=0,gf=1,Lv=2,Ar=3;class kl{static ScriptLoader=new kl;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(n={}){this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}_setCrossOrigin(n){this.settings.crossOrigin=n}loadScript(n){return new Promise((o,i)=>{const c=X_,p=document;let y;const E=()=>{c.remove(q),y&&(y.onerror=y.onload=y=null)},A=()=>{E(),o()},R=()=>{E(),i("Failed to load script: "+n)},q=c.uniqueId();y=p.createElement("script"),y.id=q,y.type="text/javascript",y.src=gn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(y,"referrerpolicy",this.settings.referrerPolicy);const Q=this.settings.crossOrigin;if(Fe(Q)){const re=Q(n);re!==void 0&&c.setAttrib(y,"crossorigin",re)}y.onload=A,y.onerror=R,(p.head||p.body).appendChild(y)})}isDone(n){return this.states[n]===Lv}markDone(n){this.states[n]=Lv}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=J_),new Promise((c,p)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:p})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,i=(A,R)=>{Ks(o.scriptLoadedCallbacks,R).each(q=>{vt(q,Q=>Q[A](R))}),delete o.scriptLoadedCallbacks[R]},c=A=>{const R=At(A,q=>q.status==="rejected");return R.length>0?Promise.reject(_e(R,({reason:q})=>Et(q)?q:[q])):Promise.resolve()},p=A=>Promise.allSettled(In(A,R=>o.states[R]===Lv?(i("resolve",R),Promise.resolve()):o.states[R]===Ar?(i("reject",R),Promise.reject(R)):(o.states[R]=gf,o.loadScript(R).then(()=>{o.states[R]=Lv,i("resolve",R);const q=o.queue;return q.length>0?(o.queue=[],p(q).then(c)):Promise.resolve()},()=>(o.states[R]=Ar,i("reject",R),Promise.reject(R)))))),y=A=>(o.loading=!0,p(A).then(R=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return le.from(q).each(Ds),c(R)})),E=ha(n);return o.loading?new Promise((A,R)=>{o.queueLoadedCallbacks.push(()=>{y(E).then(A,R)})}):y(E)}getScriptAttributes(n){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const i=this.settings.crossOrigin;if(Fe(i)){const c=i(n);xe(c)&&(o.crossorigin=c)}return o}}const d0=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},_w=e=>dt(e)&&qo(e,"raw"),ia=e=>Et(e)&&e.length>1,Wb={},Tw=io("en"),Q_=()=>Ks(Wb,Tw.get()),jf={getData:()=>Wa(Wb,e=>({...e})),setCode:e=>{e&&Tw.set(e)},getCode:()=>Tw.get(),add:(e,n)=>{let o=Wb[e];o||(Wb[e]=o={});const i=In(Mn(n),c=>c.toLowerCase());Mo(n,(c,p)=>{const y=p.toLowerCase();y!==p&&d0(i,y)?(qo(n,y)||(o[y]=c),o[p]=c):o[y]=c})},translate:e=>{const n=Q_().getOr({}),o=E=>Fe(E)?Object.prototype.toString.call(E):i(E)?"":""+E,i=E=>E===""||E===null||E===void 0,c=E=>{const A=o(E);return qo(n,A)?o(n[A]):Ks(n,A.toLowerCase()).map(o).getOr(A)},p=E=>E.replace(/{context:\w+}$/,""),y=E=>E.replaceAll("...",vi);if(i(e))return"";if(_w(e))return y(o(e.raw));if(ia(e)){const E=e.slice(1),A=c(e[0]).replace(/\{([0-9]+)\}/g,(R,q)=>qo(E,q)?o(E[q]):R);return y(p(A))}return y(p(c(e)))},isRtl:()=>Q_().bind(e=>Ks(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>qo(Wb,e)},tu=()=>{const e=[],n={},o={},i=[],c=(De,He)=>{const ct=At(i,mt=>mt.name===De&&mt.state===He);vt(ct,mt=>mt.resolve())},p=De=>qo(n,De),y=De=>qo(o,De),E=De=>{if(o[De])return o[De].instance},A=(De,He)=>{const ct=jf.getCode(),mt=","+(He||"")+",";!ct||He&&mt.indexOf(","+ct+",")===-1||kl.ScriptLoader.add(n[De]+"/langs/"+ct+".js")},R=(De,He)=>{tu.languageLoad!==!1&&(p(De)?A(De,He):Be(De,"loaded").then(()=>A(De,He)))},q=(De,He)=>(e.push(He),o[De]={instance:He},c(De,"added"),He),Q=De=>{delete n[De],delete o[De]},re=(De,He)=>xe(He)?xe(De)?{prefix:"",resource:He,suffix:""}:{prefix:De.prefix,resource:He,suffix:De.suffix}:He,pe=(De,He)=>{if(n[De])return Promise.resolve();let ct=xe(He)?He:He.prefix+He.resource+He.suffix;ct.indexOf("/")!==0&&ct.indexOf("://")===-1&&(ct=tu.baseURL+"/"+ct),n[De]=ct.substring(0,ct.lastIndexOf("/"));const mt=()=>(c(De,"loaded"),Promise.resolve());return o[De]?mt():kl.ScriptLoader.add(ct).then(mt)},Be=(De,He="added")=>He==="added"&&y(De)||He==="loaded"&&p(De)?Promise.resolve():new Promise(ct=>{i.push({name:De,state:He,resolve:ct})});return{items:e,urls:n,lookup:o,get:E,requireLangPack:R,add:q,remove:Q,createUrl:re,load:pe,waitFor:Be}};tu.languageLoad=!0,tu.baseURL="",tu.PluginManager=tu(),tu.ThemeManager=tu(),tu.ModelManager=tu();const Zf=xt("mce-annotation"),Rh=xt("data-mce-annotation"),Lh=xt("data-mce-annotation-uid"),Cg=xt("data-mce-annotation-active"),Am=xt("data-mce-annotation-classes"),Ap=xt("data-mce-annotation-attrs"),YS=e=>n=>no(n,e),GS=(e,n)=>{const o=e.selection.getRng(),i=Ve.fromDom(o.startContainer),c=Ve.fromDom(e.getBody()),p=n.fold(()=>"."+Zf(),A=>`[${Rh()}="${A}"]`),y=wc(i,o.startOffset).getOr(i);return Ai(y,p,YS(c)).bind(A=>_u(A,`${Lh()}`).bind(R=>_u(A,`${Rh()}`).map(q=>{const Q=Ew(e,R);return{uid:R,name:q,elements:Q}})))},yI=e=>Ji(e)&&uf(e,Zf()),UO=(e,n)=>_i(e,"data-mce-bogus")||bi(e,'[data-mce-bogus="all"]',YS(n)),Ew=(e,n)=>{const o=Ve.fromDom(e.getBody()),i=Ht(o,`[${Lh()}="${n}"]`);return At(i,c=>!UO(c,o))},kw=(e,n)=>{const o=Ve.fromDom(e.getBody()),i=Ht(o,`[${Rh()}="${n}"]`),c={};return vt(i,p=>{if(!UO(p,o)){const y=ui(p,Lh()),E=Ks(c,y).getOr([]);c[y]=E.concat([p])}}),c},sT=(e,n)=>{const o=io({}),i=()=>({listeners:[],previous:Da()}),c=(Q,re)=>{p(Q,pe=>(re(pe),pe))},p=(Q,re)=>{const pe=o.get(),Be=Ks(pe,Q).getOrThunk(i),De=re(Be);pe[Q]=De,o.set(pe)},y=(Q,re,pe)=>{c(Q,Be=>{vt(Be.listeners,De=>De(!0,Q,{uid:re,nodes:In(pe,He=>He.dom)}))})},E=Q=>{c(Q,re=>{vt(re.listeners,pe=>pe(!1,Q))})},A=(Q,re)=>{vt(Ew(e,Q),pe=>{re?xr(pe,Cg(),"true"):Ga(pe,Cg())})},R=is(()=>{const Q=ro(n.getNames());vt(Q,re=>{p(re,pe=>{const Be=pe.previous.get();return GS(e,le.some(re)).fold(()=>{Be.each(De=>{E(re),pe.previous.clear(),A(De,!1)})},({uid:De,name:He,elements:ct})=>{Ls(Be,De)||(Be.each(mt=>A(mt,!1)),y(He,De,ct),pe.previous.set(De),A(De,!0))}),{previous:pe.previous,listeners:pe.listeners}})})},30);return e.on("remove",()=>{R.cancel()}),e.on("NodeChange",()=>{R.throttle()}),{addListener:(Q,re)=>{p(Q,pe=>({previous:pe.previous,listeners:pe.listeners.concat([re])}))}}},Dw=(e,n)=>{const o=Rh(),i=p=>le.from(p.attr(o)).bind(n.lookup),c=p=>{p.attr(Lh(),null),p.attr(Rh(),null),p.attr(Cg(),null);const y=le.from(p.attr(Ap())).map(q=>q.split(",")).getOr([]),E=le.from(p.attr(Am())).map(q=>q.split(",")).getOr([]);vt(y,q=>p.attr(q,null));const A=p.attr("class")?.split(" ")??[],R=Tt(A,[Zf()].concat(E));p.attr("class",R.length>0?R.join(" "):null),p.attr(Am(),null),p.attr(Ap(),null)};e.serializer.addTempAttr(Cg()),e.serializer.addAttributeFilter(o,p=>{for(const y of p)i(y).each(E=>{E.persistent===!1&&(y.name==="span"?y.unwrap():c(y))})})},Sg=()=>{const e={};return{register:(c,p)=>{e[c]={name:c,settings:p}},lookup:c=>Ks(e,c).map(p=>p.settings),getNames:()=>Mn(e)}},f0=(e,n,o=Yt)=>{const i=new Ti(e,n),c=p=>{let y;do y=i[p]();while(y&&!pn(y)&&!o(y));return le.from(y).filter(pn)};return{current:()=>le.from(i.current()).filter(pn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Ph=(e,n)=>{const o=n||(y=>e.isBlock(y)||ea(y)||Bi(y)),i=(y,E,A,R)=>{if(pn(y)){const q=R(y,E,y.data);if(q!==-1)return le.some({container:y,offset:q})}return A().bind(q=>i(q.container,q.offset,A,R))};return{backwards:(y,E,A,R)=>{const q=f0(y,R??e.getRoot(),o);return i(y,E,()=>q.prev().map(Q=>({container:Q,offset:Q.length})),A).getOrNull()},forwards:(y,E,A,R)=>{const q=f0(y,R??e.getRoot(),o);return i(y,E,()=>q.next().map(Q=>({container:Q,offset:0})),A).getOrNull()}}},Aw=["td","th"],WO=["thead","tbody","tfoot"],Ow=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Mw=["li","dd","dt"],rT=["ul","ol","dl"],jO=["pre","script","textarea","style"],jb=e=>{let n;return o=>(n=n||Cn(e,yt),qo(n,Qo(o)))},iT=e=>Qo(e)==="table",Om=e=>Ji(e)&&Qo(e)==="br",Zb=jb(Ow),Nw=jb(rT),Mm=jb(Mw),Nu=jb(WO),vd=jb(Aw),bd=jb(jO),Rw=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ve.fromDom(o)),o=o.lastChild;return n},KS=e=>{const n=Ht(e,"br"),o=At(Rw(e).slice(-1),Om);n.length===o.length&&vt(o,ii)},qb=()=>{const e=Ve.fromTag("br");return xr(e,"data-mce-bogus","1"),e},Nm=e=>{du(e),Sr(e,qb())},ZO=(e,n)=>{Ma(e).each(o=>{Su(o).each(i=>{n.isBlock(Qo(e))&&Om(o)&&n.isBlock(Qo(i))&&ii(o)})})},Hl=Rr,Lw=dr,Ju=Sa,aT=e=>e.insertContent(Hl,{preserve_zwsp:!0}),lT=yo,xg=pn,Op=e=>(xg(e)&&(e=e.parentNode),lT(e)&&e.hasAttribute("data-mce-caret")),jr=e=>xg(e)&&Lw(e.data),mu=e=>Op(e)||jr(e),h0=e=>e.firstChild!==e.lastChild||!ea(e.firstChild),Pw=(e,n)=>{const i=(e.ownerDocument??document).createTextNode(Hl),c=e.parentNode;if(n){const p=e.previousSibling;if(xg(p)){if(mu(p))return p;if(_g(p))return p.splitText(p.data.length-1)}c?.insertBefore(i,e)}else{const p=e.nextSibling;if(xg(p)){if(mu(p))return p;if(Rm(p))return p.splitText(1),p}e.nextSibling?c?.insertBefore(i,e.nextSibling):c?.appendChild(i)}return i},Iw=e=>{const n=e.container();return pn(n)?n.data.charAt(e.offset())===Hl||e.isAtStart()&&jr(n.previousSibling):!1},m0=e=>{const n=e.container();return pn(n)?n.data.charAt(e.offset()-1)===Hl||e.isAtEnd()&&jr(n.nextSibling):!1},cT=(e,n,o)=>{const c=(n.ownerDocument??document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(qb().dom);const p=n.parentNode;return o?p?.insertBefore(c,n):n.nextSibling?p?.insertBefore(c,n.nextSibling):p?.appendChild(c),c},Rm=e=>xg(e)&&e.data[0]===Hl,_g=e=>xg(e)&&e.data[e.data.length-1]===Hl,XS=e=>{const n=e.getElementsByTagName("br"),o=n[n.length-1];Cp(o)&&o.parentNode?.removeChild(o)},Wd=e=>e&&e.hasAttribute("data-mce-caret")?(XS(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Yb=e=>Op(e.startContainer),Dl=Math.round,Qu=e=>e?{left:Dl(e.left),top:Dl(e.top),bottom:Dl(e.bottom),right:Dl(e.right),width:Dl(e.width),height:Dl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Fw=(e,n)=>(e=Qu(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),uT=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,JS=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Tg=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:JS(n.top-e.bottom,e,n)},Pv=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:JS(n.bottom-e.top,e,n),QS=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,ex=e=>ir(e,(n,o)=>n.fold(()=>le.some(o),i=>{const c=Math.min(o.left,i.left),p=Math.min(o.top,i.top),y=Math.max(o.right,i.right),E=Math.max(o.bottom,i.bottom);return le.some({top:p,right:y,bottom:E,left:c,width:y-c,height:E-p})}),le.none()),p0=(e,n,o)=>{const i=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-i)*(n-i)+(o-c)*(o-c))},tx=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Eg=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Mp=(e,n)=>{if(yo(e)&&e.hasChildNodes()){const o=e.childNodes,i=jo(n,0,o.length-1);return o[i]}else return e},dT=(e,n)=>{if(!(n<0&&yo(e)&&e.hasChildNodes()))return Mp(e,n)},Fc=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),fT=e=>xe(e)&&e.charCodeAt(0)>=768&&Fc.test(e),kg=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},hT=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Bw=Bl,nx=Bi,g0=ea,ox=pn,mT=Tl(["script","style","textarea"]),pT=Tl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),v0=Tl(["table"]),zl=mu,aa=e=>zl(e)?!1:ox(e)?!mT(e.parentNode):pT(e)||g0(e)||v0(e)||Jl(e),Bc=e=>yo(e)&&e.getAttribute("unselectable")==="true",Jl=e=>!Bc(e)&&nx(e),fc=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Jl(o))return!1;if(Bw(o))return!0}return!0},Al=e=>Jl(e)?!ir(zs(e.getElementsByTagName("*")),(n,o)=>n||Bw(o),!1):!1,$w=e=>pT(e)||Al(e),Hw=(e,n)=>aa(e)&&fc(e,n),zw=yo,gT=aa,Vw=Ff("display","block table"),vT=Ff("float","left right"),Iv=hT(zw,gT,us(vT)),sx=us(Ff("white-space","pre pre-line pre-wrap")),Fv=pn,Uw=ea,rx=li.nodeIndex,Ww=dT,Ih=e=>e?e.createRange():li.DOM.createRng(),b0=e=>xe(e)&&/[\r\n\t ]/.test(e),ix=e=>!!e.setStart&&!!e.setEnd,Gb=e=>{const n=e.startContainer,o=e.startOffset;if(b0(e.toString())&&sx(n.parentNode)&&pn(n)){const i=n.data;if(b0(i[o-1])||b0(i[o+1]))return!0}return!1},y0=e=>{const n=e.ownerDocument,o=Ih(n),i=n.createTextNode(as),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const p=Qu(o.getBoundingClientRect());return c.removeChild(i),p},jw=e=>{const n=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===o&&pn(o)&&i===0&&c===1){const p=e.cloneRange();return p.setEndAfter(o),qf(p)}else return null},ax=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,qf=e=>{let n;const o=e.getClientRects();return o.length>0?n=Qu(o[0]):n=Qu(e.getBoundingClientRect()),!ix(e)&&Uw(e)&&ax(n)?y0(e):ax(n)&&ix(e)?jw(e)??n:n},Lm=(e,n)=>{const o=Fw(e,n);return o.width=1,o.right=o.left+1,o},Kb=e=>{const n=[],o=y=>{y.height!==0&&(n.length>0&&uT(y,n[n.length-1])||n.push(y))},i=(y,E)=>{const A=Ih(y.ownerDocument);if(E<y.data.length){if(fT(y.data[E]))return;if(fT(y.data[E-1])&&(A.setStart(y,E),A.setEnd(y,E+1),!Gb(A))){o(Lm(qf(A),!1));return}}E>0&&(A.setStart(y,E-1),A.setEnd(y,E),Gb(A)||o(Lm(qf(A),!1))),E<y.data.length&&(A.setStart(y,E),A.setEnd(y,E+1),Gb(A)||o(Lm(qf(A),!0)))},c=e.container(),p=e.offset();if(Fv(c))return i(c,p),n;if(zw(c))if(e.isAtEnd()){const y=Ww(c,p);Fv(y)&&i(y,y.data.length),Iv(y)&&!Uw(y)&&o(Lm(qf(y),!1))}else{const y=Ww(c,p);if(Fv(y)&&i(y,0),Iv(y)&&e.isAtEnd())return o(Lm(qf(y),!1)),n;const E=Ww(e.container(),e.offset()-1);Iv(E)&&!Uw(E)&&(Vw(E)||Vw(y)||!Iv(y))&&o(Lm(qf(E),!1)),Iv(y)&&o(Lm(qf(y),!0))}return n},It=(e,n,o)=>{const i=()=>(Fv(e),n===0),c=()=>Fv(e)?n>=e.data.length:n>=e.childNodes.length,p=()=>{const q=Ih(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},y=()=>(o||(o=Kb(It(e,n))),o),E=()=>y().length>0,A=q=>q&&e===q.container()&&n===q.offset(),R=q=>Ww(e,q?n-1:n);return{container:xt(e),offset:xt(n),toRange:p,getClientRects:y,isVisible:E,isAtStart:i,isAtEnd:c,isEqual:A,getNode:R}};It.fromRangeStart=e=>It(e.startContainer,e.startOffset),It.fromRangeEnd=e=>It(e.endContainer,e.endOffset),It.after=e=>It(e.parentNode,rx(e)+1),It.before=e=>It(e.parentNode,rx(e)),It.isAbove=(e,n)=>Xo(yn(n.getClientRects()),Uo(e.getClientRects()),Tg).getOr(!1),It.isBelow=(e,n)=>Xo(Uo(n.getClientRects()),yn(e.getClientRects()),Pv).getOr(!1),It.isAtStart=e=>e?e.isAtStart():!1,It.isAtEnd=e=>e?e.isAtEnd():!1,It.isTextPosition=e=>e?pn(e.container()):!1,It.isElementPosition=e=>!It.isTextPosition(e);const ed=(e,n)=>{pn(n)&&n.data.length===0&&e.remove(n)},Xb=(e,n,o)=>{n.insertNode(o),ed(e,o.previousSibling),ed(e,o.nextSibling)},w0=(e,n,o)=>{const i=le.from(o.firstChild),c=le.from(o.lastChild);n.insertNode(o),i.each(p=>ed(e,p.previousSibling)),c.each(p=>ed(e,p.nextSibling))},Zw=(e,n,o)=>{Ah(o)?w0(e,n,o):Xb(e,n,o)},Fh=pn,pu=Cp,C0=li.nodeIndex,bT=e=>{const n=e.parentNode;return pu(n)?bT(n):n},qw=e=>e?Aa(e.childNodes,(n,o)=>(pu(o)&&o.nodeName!=="BR"?n=n.concat(qw(o)):n.push(o),n),[]):[],yT=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Fh(o);)n+=o.data.length;return n},Bv=e=>n=>e===n,lx=e=>{let n,o;n=qw(bT(e)),o=Nl(n,Bv(e),e),n=n.slice(0,o+1);const i=Aa(n,(c,p,y)=>(Fh(p)&&Fh(n[y-1])&&c++,c),0);return n=ql(n,Tl([e.nodeName])),o=Nl(n,Bv(e),e),o-i},Pm=e=>(Fh(e)?"text()":e.nodeName.toLowerCase())+"["+lx(e)+"]",cx=(e,n,o)=>{const i=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},wT=(e,n)=>{let o=[],i=n.container(),c=n.offset(),p;if(Fh(i))p=yT(i,c);else{const E=i.childNodes;c>=E.length?(p="after",c=E.length-1):p="before",i=E[c]}o.push(Pm(i));let y=cx(e,i);return y=ql(y,us(Cp)),o=o.concat(wl(y,E=>Pm(E))),o.reverse().join("/")+","+p},gu=(e,n,o)=>{let i=qw(e);return i=ql(i,(c,p)=>!Fh(c)||!Fh(i[p-1])),i=ql(i,Tl([n])),i[o]},Bh=(e,n)=>{let o=e,i=0;for(;Fh(o);){const c=o.data.length;if(n>=i&&n<=i+c){e=o,n=n-i;break}if(!Fh(o.nextSibling)){e=o,n=c;break}i+=c,o=o.nextSibling}return Fh(e)&&n>e.data.length&&(n=e.data.length),It(e,n)},yd=(e,n)=>{if(!n)return null;const o=n.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",p=Aa(i,(y,E)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(E);return A?(A[1]==="text()"&&(A[1]="#text"),gu(y,A[1],parseInt(A[2],10))):null},e);if(!p)return null;if(!Fh(p)&&p.parentNode){let y;return c==="after"?y=C0(p)+1:y=C0(p),It(p.parentNode,y)}return Bh(p,parseInt(c,10))},Yw=Bi,Jb=(e,n,o)=>{let i=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&pn(c);c=c.previousSibling)i+=e(c.data).length;return i},CT=(e,n,o,i,c)=>{const p=c?i.startContainer:i.endContainer;let y=c?i.startOffset:i.endOffset;const E=[],A=e.getRoot();if(pn(p))E.push(o?Jb(n,p,y):y);else{let R=0;const q=p.childNodes;y>=q.length&&q.length&&(R=1,y=Math.max(0,q.length-1)),E.push(e.nodeIndex(q[y],o)+R)}for(let R=p;R&&R!==A;R=R.parentNode)E.push(e.nodeIndex(R,o));return E},qO=(e,n,o,i)=>{const c=n.dom,p=CT(c,e,o,i,!0),y=n.isForward(),E=Yb(i)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:p,forward:y,...E};{const A=CT(c,e,o,i,!1);return{start:p,end:A,forward:y,...E}}},ux=(e,n,o)=>{let i=0;return gn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},ST=(e,n)=>{let o=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;if(yo(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?i:i-1,c.length-1)],o&&(i=n?0:o.childNodes.length,n?e.setStart(o,i):e.setEnd(o,i))}},Ys=e=>(ST(e,!0),ST(e,!1),e),$o=(e,n)=>{if(yo(e)&&(e=Mp(e,n),Yw(e)))return e;if(mu(e)){pn(e)&&Op(e)&&(e=e.parentNode);let o=e.previousSibling;if(Yw(o)||(o=e.nextSibling,Yw(o)))return o}},S0=e=>$o(e.startContainer,e.startOffset)||$o(e.endContainer,e.endOffset),Gw=(e,n,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||Yw(i)){const y=i.nodeName;return{name:y,index:ux(o.dom,y,i)}}const p=S0(c);if(p){const y=p.tagName;return{name:y,index:ux(o.dom,y,p)}}return qO(e,o,n,c)},dx=e=>{const n=e.getRng();return{start:wT(e.dom.getRoot(),It.fromRangeStart(n)),end:wT(e.dom.getRoot(),It.fromRangeEnd(n)),forward:e.isForward()}},YO=e=>({rng:e.getRng(),forward:e.isForward()}),fx=(e,n,o)=>{const i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},la=(e,n)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),p=e.isCollapsed(),y=e.getNode(),E=y.nodeName,A=e.isForward();if(E==="IMG")return{name:E,index:ux(o,E,y)};const R=Ys(i.cloneRange());if(!p){R.collapse(!1);const Q=fx(o,c+"_end",n);Zw(o,R,Q)}i=Ys(i),i.collapse(!0);const q=fx(o,c+"_start",n);return Zw(o,i,q),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},Kw=(e,n,o=!1)=>n===2?Gw(Ju,o,e):n===3?dx(e):n?YO(e):la(e,!1),x0=qt(Gw,Eo,!0),$v=e=>e===1,Wt=e=>e===-1,Xw=e=>e.type==="inline-command"||e.type==="inline-format",xT=e=>e.type==="block-command"||e.type==="block-format",Jw=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,_T=e=>{const n=i=>Ge.error({message:i,pattern:e}),o=(i,c,p)=>{if(e.format!==void 0){let y;if(Et(e.format)){if(!Ie(e.format,xe))return n(i+" pattern has non-string items in the `format` array");y=e.format}else if(xe(e.format))y=[e.format];else return n(i+" pattern has non-string `format` parameter");return Ge.value(c(y))}else return e.cmd!==void 0?xe(e.cmd)?Ge.value(p(e.cmd,e.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!dt(e))return n("Raw pattern is not an object");if(!xe(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!xe(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=e.start,c=e.end;return c.length===0&&(c=i,i=""),o("Inline",p=>({type:"inline-format",start:i,end:c,format:p}),(p,y)=>({type:"inline-command",start:i,end:c,cmd:p,value:y}))}else{if(e.replacement!==void 0)return xe(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Ge.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=e.trigger??"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:i}),(c,p)=>({type:"block-command",start:e.start,cmd:c,value:p,trigger:i}))}}},Np=e=>At(e,xT),Hv=e=>At(e,Xw),zv=(e,n)=>({inlinePatterns:Hv(e),blockPatterns:Np(e),dynamicPatternsLookup:n}),hx=(e,n)=>({...e,blockPatterns:At(e.blockPatterns,o=>Jw(o,n))}),Vv=e=>{const n=oa(In(e,_T));return vt(n.errors,o=>console.error(o.message,o.pattern)),n.values},ta=e=>n=>{const o=e(n);return Vv(o)},$h=(e,n)=>e.dispatch("PreProcess",n),TT=(e,n)=>e.dispatch("PostProcess",n),Rp=e=>{e.dispatch("remove")},Yf=e=>{e.dispatch("detach")},GO=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},KO=(e,n,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:i,origin:c})},mx=(e,n,o,i,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:i,origin:c})},XO=e=>{e.dispatch("PreInit")},JO=e=>{e.dispatch("PostRender")},QO=e=>{e.dispatch("Init")},eM=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},px=(e,n,o)=>{e.dispatch(n,o)},On=(e,n,o,i)=>{e.dispatch("FormatApply",{format:n,node:o,vars:i})},ET=(e,n,o,i)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:i})},xc=(e,n)=>e.dispatch("BeforeSetContent",n),kT=(e,n)=>e.dispatch("SetContent",n),DT=(e,n)=>e.dispatch("BeforeGetContent",n),AT=(e,n)=>e.dispatch("GetContent",n),tM=(e,n)=>{e.dispatch("AutocompleterStart",n)},hs=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},gx=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},OT=e=>{e.dispatch("AutocompleterEnd")},wI=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),nM=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),MT=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),CI=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),oM=(e,n)=>e.dispatch("DisabledStateChange",{state:n}),NT=e=>e.dispatch("CloseActiveTooltips"),vx=Wc().deviceType,ps=vx.isTouch(),bx=li.DOM,Lp=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ir(n,(o,i)=>{const c=i.split("="),p=c[0],y=c.length>1?c[1]:p;return o[ke(p)]=ke(y),o},{})},jd=e=>Je(e,RegExp),so=e=>n=>n.options.get(e),vu=e=>xe(e)||dt(e),_0=(e,n="")=>o=>{const i=xe(o);if(i)if(o.indexOf("=")!==-1){const c=Lp(o);return{value:Ks(c,e.id).getOr(n),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},T0=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("crossorigin",{processor:"function",default:xt(void 0)}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),n("body_id",{processor:_0(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:_0(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const i=xe(o)&&Lt(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const i=fo(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>mn(o)?{valid:!0,value:o}:xe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const i=o===!1||xe(o)||wn(o,xe);return i?xe(o)?{value:In(o.split(","),ke),valid:i}:Et(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:nC(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const i=xe(o)||wn(o,xe);return i?{value:Et(o)?o:In(o.split(","),ke),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("extended_mathml_attributes",{processor:"string[]"}),n("extended_mathml_elements",{processor:"string[]"}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const i=mn(o)||xe(o);return i?o===!1||vx.isiPhone()||vx.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!ps}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("onboarding",{processor:"boolean",default:!0}),n("tiny_cloud_entry_url",{processor:"string"}),n("theme",{processor:o=>o===!1||xe(o)||Fe(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const i=o===!1||xe(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("disabled",{processor:o=>mn(o)?(e.initialized&&H0(e)!==o&&Promise.resolve().then(()=>{oM(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_html_in_comments",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const i=wn(o,xe);return i?{value:o,valid:i}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:vu}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:vu}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:vu}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:vu}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>xe(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>wn(o,dt)||o===!1?{value:Vv(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>Fe(o)?{value:ta(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>wn(o,jd)?{value:o,valid:!0}:jd(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const i=fo(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const i=fo(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),n("user_id",{processor:"string",default:"Anonymous"}),n("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:Fe(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:jf.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:bx.getAttrib(e.getElement(),"placeholder")})}),n("lists_indent_on_tab",{processor:"boolean",default:!0}),n("list_max_depth",{processor:o=>{const i=En(o);if(i){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:i}}else return{valid:!1,message:"Must be a number"}}})},Qw=so("iframe_attrs"),Qb=so("doctype"),E0=so("document_base_url"),Pp=so("body_id"),nu=so("body_class"),Im=so("content_security_policy"),sM=so("br_in_pre"),$c=so("forced_root_block"),e1=so("forced_root_block_attrs"),rM=so("newline_behavior"),Tr=so("br_newline_selector"),Hh=so("no_newline_selector"),Uv=so("keep_styles"),SI=so("end_container_on_empty_block"),Wv=so("automatic_uploads"),Or=so("images_reuse_filename"),xI=so("images_replace_blob_uris"),RT=so("icons"),_I=so("icons_url"),TI=so("images_upload_url"),k0=so("images_upload_base_path"),iM=so("images_upload_credentials"),EI=so("images_upload_handler"),eC=so("content_css_cors"),yx=so("referrer_policy"),D0=so("crossorigin"),LT=so("language"),aM=so("language_url"),A0=so("indent_use_margin"),wx=so("indentation"),Cx=so("content_css"),PT=so("content_style"),IT=so("font_css"),FT=so("directionality"),Sx=so("inline_boundaries_selector"),xx=so("object_resizing"),zr=so("resize_img_proportional"),BT=so("placeholder"),tC=so("event_root"),_x=so("service_message"),vf=so("theme"),$T=so("theme_url"),Tx=so("model"),lM=so("model_url"),Fm=so("inline_boundaries"),cM=so("formats"),O0=so("preview_styles"),M0=so("format_empty_lines"),uM=so("format_noneditable_selector"),Dg=so("custom_ui_selector"),nC=so("inline"),HT=so("hidden_input"),dM=so("submit_patch"),zT=so("add_form_submit_trigger"),kI=so("add_unload_trigger"),VT=so("custom_undo_redo_levels"),UT=so("disable_nodechange"),N0=so("readonly"),R0=so("editable_root"),L0=so("content_css_cors"),jv=so("plugins"),oC=so("external_plugins"),P0=so("block_unsupported_drop"),Ip=so("visual"),I0=so("visual_table_class"),Ex=so("visual_anchor_class"),sC=so("iframe_aria_text"),WT=so("setup"),jT=so("init_instance_callback"),ZT=so("urlconverter_callback"),fM=so("auto_focus"),rC=so("browser_spellcheck"),t1=so("protect"),Zv=so("paste_block_drop"),qv=so("paste_data_images"),qT=so("paste_preprocess"),YT=so("paste_postprocess"),GT=so("newdocument_content"),iC=so("paste_webkit_styles"),KT=so("paste_remove_styles_if_webkit"),hM=so("paste_merge_formats"),XT=so("smart_paste"),aC=so("paste_as_text"),kx=so("paste_tab_spaces"),lC=so("allow_html_data_urls"),Dx=so("text_patterns"),mM=so("text_patterns_lookup"),Ax=so("noneditable_class"),JT=so("editable_class"),QT=so("noneditable_regexp"),F0=so("preserve_cdata"),pM=so("highlight_on_focus"),Ox=so("xss_sanitization"),Mx=so("init_content_sync"),gM=e=>e.options.isSet("text_patterns_lookup"),vM=e=>gn.explode(e.options.get("font_size_style_values")),Yv=e=>gn.explode(e.options.get("font_size_classes")),eE=e=>e.options.get("encoding")==="xml",tE=e=>gn.explode(e.options.get("images_file_types")),bM=so("table_tab_navigation"),yM=so("details_initial_state"),wM=so("details_serialized_state"),cC=so("sandbox_iframes"),B0=e=>e.options.get("sandbox_iframes_exclusions"),Nx=so("convert_unsafe_embeds"),$0=so("license_key"),nE=so("api_key"),H0=so("disabled"),CM=so("user_id"),uC=so("fetch_users"),SM=so("lists_indent_on_tab"),oE=e=>le.from(e.options.get("list_max_depth")),DI=yo,xM=pn,Gv=e=>{const n=e.parentNode;n&&n.removeChild(e)},dC=e=>{const n=Ju(e);return{count:e.length-n.length,text:n}},fC=e=>{let n;for(;(n=e.data.lastIndexOf(Hl))!==-1;)e.deleteData(n,1)},sE=(e,n)=>(Bm(e),n),_M=(e,n)=>{const o=dC(e.data.substr(0,n.offset())),i=dC(e.data.substr(n.offset()));return(o.text+i.text).length>0?(fC(e),It(e,n.offset()-o.count)):n},hC=(e,n)=>{const o=n.container(),i=Vr(zs(o.childNodes),e).map(c=>c<n.offset()?It(o,n.offset()-1):n).getOr(n);return Bm(e),i},rE=(e,n)=>xM(e)&&n.container()===e?_M(e,n):sE(e,n),iE=(e,n)=>n.container()===e.parentNode?hC(e,n):sE(e,n),mC=(e,n)=>It.isTextPosition(n)?rE(e,n):iE(e,n),Bm=e=>{DI(e)&&mu(e)&&(h0(e)?e.removeAttribute("data-mce-caret"):Gv(e)),xM(e)&&(fC(e),e.data.length===0&&Gv(e))},aE=Bi,TM=Oi,EM=$f,kM="*[contentEditable=false],video,audio,embed,object",n1=(e,n,o)=>{const i=Fw(n.getBoundingClientRect(),o);let c,p;if(e.tagName==="BODY"){const E=e.ownerDocument.documentElement;c=e.scrollLeft||E.scrollLeft,p=e.scrollTop||E.scrollTop}else{const E=e.getBoundingClientRect();c=e.scrollLeft-E.left,p=e.scrollTop-E.top}i.left+=c,i.right+=c,i.top+=p,i.bottom+=p,i.width=1;let y=n.offsetWidth-n.clientWidth;return y>0&&(o&&(y*=-1),i.left+=y,i.right+=y),i},lE=e=>{const n=Ht(Ve.fromDom(e),kM);for(let o=0;o<n.length;o++){const i=n[o].dom;let c=i.previousSibling;if(_g(c)){const p=c.data;p.length===1?c.parentNode?.removeChild(c):c.deleteData(p.length-1,1)}c=i.nextSibling,Rm(c)&&(c.data.length===1?c.parentNode?.removeChild(c):c.deleteData(0,1))}},Rx=(e,n,o,i)=>{const c=Da();let p,y;const E=$c(e),A=e.dom,R=(De,He)=>{let ct;if(q(),EM(He))return null;if(o(He)){const mt=cT(E,He,De),gt=n1(n,He,De);A.setStyle(mt,"top",gt.top),A.setStyle(mt,"caret-color","transparent"),y=mt;const Zt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(Zt,{...gt}),A.add(n,Zt),c.set({caret:Zt,element:He,before:De}),De&&A.addClass(Zt,"mce-visual-caret-before"),Q(),ct=He.ownerDocument.createRange(),ct.setStart(mt,0),ct.setEnd(mt,0)}else return y=Pw(He,De),ct=He.ownerDocument.createRange(),zh(y.nextSibling)?(ct.setStart(y,0),ct.setEnd(y,0)):(ct.setStart(y,1),ct.setEnd(y,1)),ct;return ct},q=()=>{lE(n),y&&(Bm(y),y=null),c.on(De=>{A.remove(De.caret),c.clear()}),p&&(clearInterval(p),p=void 0)},Q=()=>{p=window.setInterval(()=>{c.on(De=>{i()?A.toggleClass(De.caret,"mce-visual-caret-hidden"):A.addClass(De.caret,"mce-visual-caret-hidden")})},500)},re=()=>{c.on(De=>{const He=n1(n,De.element,De.before);A.setStyles(De.caret,{...He})})},pe=()=>clearInterval(p),Be=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:R,hide:q,getCss:Be,reposition:re,destroy:pe}},pC=()=>Xs.browser.isFirefox(),zh=e=>aE(e)||TM(e),z0=e=>(zh(e)||Bf(e)&&pC())&&Kc(Ve.fromDom(e)).exists(Lc),$m=Bl,gC=Bi,cE=Oi,uE=Ff("display","block table table-cell table-row table-caption list-item"),DM=mu,dE=Op,AM=yo,OM=pn,MM=aa,o1=(e,n)=>{let o;for(;o=e(n);)if(!dE(o))return o;return null},V0=(e,n,o,i,c)=>{const p=new Ti(e,i),y=gC(e)||dE(e);let E;if(Wt(n)){if(y&&(E=o1(p.prev.bind(p),!0),o(E)))return E;for(;E=o1(p.prev.bind(p),c);)if(o(E))return E}if($v(n)){if(y&&(E=o1(p.next.bind(p),!0),o(E)))return E;for(;E=o1(p.next.bind(p),c);)if(o(E))return E}return null},fE=(e,n)=>{const o=c=>$m(c.dom),i=c=>c.dom===n;return qu(Ve.fromDom(e),o,i).map(c=>c.dom).getOr(n)},U0=e=>yo(e)&&ai(Ve.fromDom(e),"position")==="absolute",NM=(e,n)=>e.parentNode!==n,RM=(e,n)=>gC(e)&&U0(e)&&NM(e,n),Hm=(e,n)=>{for(;e&&e!==n;){if(uE(e)&&!RM(e,n))return e;e=e.parentNode}return null},Vh=(e,n,o)=>Hm(e.container(),o)===Hm(n.container(),o),No=(e,n)=>{if(!n)return le.none();const o=n.container(),i=n.offset();return AM(o)?le.from(o.childNodes[i+e]):le.none()},W0=(e,n)=>{const i=(n.ownerDocument??document).createRange();return e?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),i},hE=(e,n,o)=>Hm(n,e)===Hm(o,e),mE=(e,n,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let p=c[i];if(p&&DM(p)&&(p=p[i]),gC(p)||cE(p)){if(hE(n,p,c))return p;break}if(MM(p))break;c=c.parentNode}return null},Kv=qt(W0,!0),Fp=qt(W0,!1),j0=(e,n,o)=>{let i;const c=qt(mE,!0,n),p=qt(mE,!1,n),y=o.startContainer,E=o.startOffset;if(Op(y)){const A=OM(y)?y.parentNode:y,R=A.getAttribute("data-mce-caret");if(R==="before"&&(i=A.nextSibling,z0(i)))return Kv(i);if(R==="after"&&(i=A.previousSibling,z0(i)))return Fp(i)}if(!o.collapsed)return o;if(pn(y)){if(DM(y)){if(e===1){if(i=p(y),i)return Kv(i);if(i=c(y),i)return Fp(i)}if(e===-1){if(i=c(y),i)return Fp(i);if(i=p(y),i)return Kv(i)}return o}if(_g(y)&&E>=y.data.length-1)return e===1&&(i=p(y),i)?Kv(i):o;if(Rm(y)&&E<=1)return e===-1&&(i=c(y),i)?Fp(i):o;if(E===y.data.length)return i=p(y),i?Kv(i):o;if(E===0)return i=c(y),i?Fp(i):o}return o},s1=(e,n)=>No(e?0:-1,n).filter(gC),Uh=(e,n,o)=>{const i=j0(e,n,o);return e===-1?It.fromRangeStart(i):It.fromRangeEnd(i)},r1=e=>le.from(e.getNode()).map(Ve.fromDom),Lx=e=>le.from(e.getNode(!0)).map(Ve.fromDom),vC=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Z0=(e,n)=>{const o=Vh(e,n);return!o&&ea(e.getNode())?!0:o},pE=Bi,wd=pn,zm=yo,Xv=ea,Gf=aa,Vm=$w,q0=Hw,Y0=(e,n)=>{const o=[];let i=e;for(;i&&i!==n;)o.push(i),i=i.parentNode;return o},Um=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,Px=(e,n)=>{if($v(e)){if(Gf(n.previousSibling)&&!wd(n.previousSibling))return It.before(n);if(wd(n))return It(n,0)}if(Wt(e)){if(Gf(n.nextSibling)&&!wd(n.nextSibling))return It.after(n);if(wd(n))return It(n,n.data.length)}return Wt(e)?Xv(n)?It.before(n):It.after(n):It.before(n)},gE=(e,n)=>{const o=n.nextSibling;return o&&Gf(o)?wd(o)?It(o,0):It.before(o):G0(1,It.after(n),e)},G0=(e,n,o)=>{let i,c,p,y;if(!zm(o)||!n)return null;if(n.isEqual(It.after(o))&&o.lastChild){if(y=It.after(o.lastChild),Wt(e)&&Gf(o.lastChild)&&zm(o.lastChild))return Xv(o.lastChild)?It.before(o.lastChild):y}else y=n;const E=y.container();let A=y.offset();if(wd(E)){if(Wt(e)&&A>0)return It(E,--A);if($v(e)&&A<E.length)return It(E,++A);i=E}else{if(Wt(e)&&A>0&&(c=Um(E,A-1),Gf(c)))return!Vm(c)&&(p=V0(c,e,q0,c),p)?wd(p)?It(p,p.data.length):It.after(p):wd(c)?It(c,c.data.length):It.before(c);if($v(e)&&A<E.childNodes.length&&(c=Um(E,A),Gf(c)))return Xv(c)?gE(o,c):!Vm(c)&&(p=V0(c,e,q0,c),p)?wd(p)?It(p,0):It.before(p):wd(c)?It(c,0):It.after(c);i=c||y.getNode()}if(i&&($v(e)&&y.isAtEnd()||Wt(e)&&y.isAtStart())&&(i=V0(i,e,yt,o,!0),q0(i,o)))return Px(e,i);c=i&&V0(i,e,q0,o);const R=we(At(Y0(E,o),pE));return R&&(!c||!R.contains(c))?($v(e)?y=It.after(R):y=It.before(R),y):c?Px(e,c):null},Wh=e=>({next:n=>G0(1,n,e),prev:n=>G0(-1,n,e)}),vE=(e,n,o)=>{const i=e?It.before(o):It.after(o);return Cd(e,n,i)},LM=e=>ea(e)?It.before(e):It.after(e),PM=e=>It.isTextPosition(e)?e.offset()===0:aa(e.getNode()),bE=e=>{if(It.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return aa(e.getNode(!0))},Jv=(e,n)=>!It.isTextPosition(e)&&!It.isTextPosition(n)&&e.getNode()===n.getNode(!0),yE=e=>!It.isTextPosition(e)&&ea(e.getNode()),wE=(e,n,o)=>e?!Jv(n,o)&&!yE(n)&&bE(n)&&PM(o):!Jv(o,n)&&PM(n)&&bE(o),Cd=(e,n,o)=>{const i=Wh(n);return le.from(e?i.next(o):i.prev(o))},Ag=(e,n,o)=>Cd(e,n,o).bind(i=>Vh(o,i,n)&&wE(e,o,i)?Cd(e,n,i):le.some(i)),bC=(e,n,o,i)=>Ag(e,n,o).bind(c=>i(c)?bC(e,n,c,i):le.some(c)),i1=(e,n)=>{const o=e?n.firstChild:n.lastChild;return pn(o)?le.some(It(o,e?0:o.data.length)):o?aa(o)?le.some(e?It.before(o):LM(o)):vE(e,n,o):le.none()},td=qt(Cd,!0),_c=qt(Cd,!1),Tc=qt(i1,!0),Sd=qt(i1,!1),yC="_mce_caret",Kf=e=>yo(e)&&e.id===yC,Og=(e,n)=>{let o=n;for(;o&&o!==e;){if(Kf(o))return o;o=o.parentNode}return null},Cs=e=>xe(e.start),Ix=e=>qo(e,"rng"),Wm=e=>qo(e,"id"),CE=e=>qo(e,"name"),SE=e=>gn.isArray(e.start),wC=e=>!CE(e)&&mn(e.forward)?e.forward:!0,xE=(e,n)=>(yo(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),_E=(e,n)=>{const o=le.from(yd(e.getRoot(),n.start)),i=le.from(yd(e.getRoot(),n.end));return Xo(o,i,(c,p)=>{const y=e.createRng();return y.setStart(c.container(),c.offset()),y.setEnd(p.container(),p.offset()),{range:y,forward:wC(n)}})},TE=(e,n)=>{const i=(e.ownerDocument??document).createTextNode(Hl);e.appendChild(i),n.setStart(i,0),n.setEnd(i,0)},CC=e=>!e.hasChildNodes(),jh=(e,n)=>Sd(e).fold(Yt,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Qv=(e,n,o)=>CC(n)&&Og(e,n)?(TE(n,o),!0):!1,EE=(e,n,o,i)=>{const c=o[n?"start":"end"],p=e.getRoot();if(c){let y=p,E=c[0];for(let A=c.length-1;y&&A>=1;A--){const R=y.childNodes;if(Qv(p,y,i))return!0;if(c[A]>R.length-1)return Qv(p,y,i)?!0:jh(y,i);y=R[c[A]]}pn(y)&&(E=Math.min(c[0],y.data.length)),yo(y)&&(E=Math.min(c[0],y.childNodes.length)),n?i.setStart(y,E):i.setEnd(y,E)}return!0},a1=e=>pn(e)&&e.data.length>0,kE=(e,n,o)=>{const i=e.get(o.id+"_"+n),c=i?.parentNode,p=o.keep;if(i&&c){let y,E;if(n==="start"?p?i.hasChildNodes()?(y=i.firstChild,E=1):a1(i.nextSibling)?(y=i.nextSibling,E=0):a1(i.previousSibling)?(y=i.previousSibling,E=i.previousSibling.data.length):(y=c,E=e.nodeIndex(i)+1):(y=c,E=e.nodeIndex(i)):p?i.hasChildNodes()?(y=i.firstChild,E=1):a1(i.previousSibling)?(y=i.previousSibling,E=i.previousSibling.data.length):(y=c,E=e.nodeIndex(i)):(y=c,E=e.nodeIndex(i)),!p){const A=i.previousSibling,R=i.nextSibling;gn.each(gn.grep(i.childNodes),Q=>{pn(Q)&&(Q.data=Q.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(pn(R)&&pn(A)&&!Xs.browser.isOpera()){const Q=A.data.length;A.appendData(R.data),e.remove(R),y=A,E=Q}}return le.some(It(y,E))}else return le.none()},SC=(e,n)=>{const o=e.createRng();return EE(e,!0,n,o)&&EE(e,!1,n,o)?le.some({range:o,forward:wC(n)}):le.none()},Ec=(e,n)=>{const o=kE(e,"start",n),i=kE(e,"end",n);return Xo(o,i.or(o),(c,p)=>{const y=e.createRng();return y.setStart(xE(e,c.container()),c.offset()),y.setEnd(xE(e,p.container()),p.offset()),{range:y,forward:wC(n)}})},IM=(e,n)=>le.from(e.select(n.name)[n.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),Fx=(e,n)=>{const o=e.dom;if(n){if(SE(n))return SC(o,n);if(Cs(n))return _E(o,n);if(Wm(n))return Ec(o,n);if(CE(n))return IM(o,n);if(Ix(n))return le.some({range:n.rng,forward:wC(n)})}return le.none()},FM=(e,n,o)=>Kw(e,n,o),BM=(e,n)=>{Fx(e,n).each(({range:o,forward:i})=>{e.setRng(o,i)})},bf=e=>yo(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",xC=(e=>n=>e===n)(as),Bp=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Bx=e=>!Bp(e)&&!xC(e)&&!dr(e),l1=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},DE=e=>_e(e,n=>{const o=Eg(n);return o?[Ve.fromDom(o)]:[]}),$x=e=>l1(e).length>1,Hx=e=>At(DE(e),vd),AE=e=>Ht(e,"td[data-mce-selected],th[data-mce-selected]"),_C=(e,n)=>{const o=AE(n);return o.length>0?o:Hx(e)},eb=e=>_C(l1(e.selection.getSel()),Ve.fromDom(e.getBody())),Xf=(e,n)=>Ua(e,"table",n),OE=e=>{const n=e.startContainer,o=e.startOffset;return pn(n)?o===0?le.some(Ve.fromDom(n)):le.none():le.from(n.childNodes[o]).map(Ve.fromDom)},$M=e=>{const n=e.endContainer,o=e.endOffset;return pn(n)?o===n.data.length?le.some(Ve.fromDom(n)):le.none():le.from(n.childNodes[o-1]).map(Ve.fromDom)},zx=e=>qa(e).fold(xt([e]),n=>[e].concat(zx(n))),TC=e=>Ma(e).fold(xt([e]),n=>Qo(n)==="br"?Su(n).map(o=>[e].concat(TC(o))).getOr([]):[e].concat(TC(n))),Vx=(e,n)=>Xo(OE(n),$M(n),(o,i)=>{const c=Vn(zx(e),qt(no,o)),p=Vn(TC(e),qt(no,i));return c.isSome()&&p.isSome()}).getOr(!1),c1=(e,n,o,i)=>{const c=o,p=new Ti(o,c),y=bl(e.schema.getMoveCaretBeforeOnEnterElements(),(A,R)=>!fo(["td","th","table"],R.toLowerCase()));let E=o;do{if(pn(E)&&gn.trim(E.data).length!==0){i?n.setStart(E,0):n.setEnd(E,E.data.length);return}if(y[E.nodeName]){i?n.setStartBefore(E):E.nodeName==="BR"?n.setEndBefore(E):n.setEndAfter(E);return}}while(E=i?p.next():p.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},EC=e=>{const n=e.selection.getSel();return et(n)&&n.rangeCount>0},Ux=(e,n)=>{const o=eb(e);o.length>0?vt(o,i=>{const c=i.dom,p=e.dom.createRng();p.setStartBefore(c),p.setEndAfter(c),n(p,!0)}):n(e.selection.getRng(),!1)},ME=(e,n,o)=>{const i=la(e,n);o(i),e.moveToBookmark(i)},K0=(e,n)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&n(e.startContainer.childNodes[e.startOffset]),HM=e=>K0(e,Fi),zM=e=>K0(e,pn),NE=e=>K0(e,md),tb=e=>En(e?.nodeType),Wx=e=>yo(e)&&!bf(e)&&!Kf(e)&&!Cp(e),VM=(e,n)=>{if(Wx(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},RE=(e,n,o)=>{const{selection:i,dom:c}=e,p=i.getNode(),y=Bi(p);ME(i,!0,()=>{n()}),y&&Bi(p)&&c.isChildOf(p,e.getBody())?e.selection.select(p):o(i.getStart())&&UM(c,i)},UM=(e,n)=>{const o=n.getRng(),{startContainer:i,startOffset:c}=o,p=n.getNode();if(!VM(e,p)&&yo(i)){const y=i.childNodes,E=e.getRoot();let A;if(c<y.length){const R=y[c];A=new Ti(R,e.getParent(R,e.isBlock)??E)}else{const R=y[y.length-1];A=new Ti(R,e.getParent(R,e.isBlock)??E),A.next(!0)}for(let R=A.current();R;R=A.next()){if(e.getContentEditable(R)==="false")return;if(pn(R)&&!jx(R)){o.setStart(R,0),n.setRng(o);return}}}},LE=(e,n,o)=>{if(e){const i=n?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(yo(e)||!jx(e))return e}},qi=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||be(e,n),nb=(e,n,o)=>e.schema.isValidChild(n,o),jx=(e,n=!1)=>{if(et(e)&&pn(e)){const o=n?e.data.replace(/ /g,"Â "):e.data;return Dh(o)}else return!1},h=e=>et(e)&&pn(e)&&e.length===0,b=(e,n)=>{const o="[data-mce-cef-wrappable]",i=uM(e),c=fn(i)?o:`${o},${i}`;return Zs(Ve.fromDom(n),c)},T=(e,n)=>{const o=e.dom;return Wx(n)&&o.getContentEditable(n)==="false"&&b(e,n)&&o.select('[contenteditable="true"]',n).length===0},N=(e,n)=>Fe(e)?e(n):(et(n)&&(e=e.replace(/%(\w+)/g,(o,i)=>n[i]||o)),e),j=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),ee=(e,n)=>{if(ln(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Ov(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},ue=(e,n,o)=>{const i=e.getStyle(n,o);return ee(i,o)},Te=(e,n)=>{let o;return e.getParent(n,i=>yo(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},$e=(e,n,o)=>e.getParents(n,o,e.getRoot()),tt=(e,n,o)=>{const i=e.formatter.get(n);return et(i)&&Ws(i,o)},St=(e,n)=>tt(e,n,i=>{const c=p=>Fe(p)||p.length>1&&p.charAt(0)==="%";return Ws(["styles","attributes"],p=>Ks(i,p).exists(y=>{const E=Et(y)?y:Xi(y);return Ws(E,c)}))}),dn=(e,n,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=p=>bl(p,(y,E)=>Ws(i,A=>A===E));return tt(e,n,p=>{const y=c(p);return tt(e,o,E=>{const A=c(E);return tc(y,A)})})},Wn=e=>or(e,"block"),Jn=e=>Wn(e)&&e.wrapper===!0,Fo=e=>Wn(e)&&e.wrapper!==!0,zt=e=>or(e,"selector"),Kt=e=>or(e,"inline"),Ko=e=>zt(e)&&Kt(e)&&Ls(Ks(e,"mixed"),!0),Ts=e=>zt(e)&&e.expand!==!1&&!Kt(e),po=e=>{const n=[];let o=e;for(;o;){if(pn(o)&&o.data!==Hl||o.childNodes.length>1)return[];yo(o)&&n.push(o),o=o.firstChild}return n},ni=e=>po(e).length>0,Kr=e=>Kf(e.dom)&&ni(e.dom),gs=bf,pl=$e,Zd=jx,$p=qi,Mg=e=>ea(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Ng=(e,n)=>{let o=n;for(;o;){if(yo(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},wi=(e,n,o,i)=>{const c=n.data;if(e){for(let p=o;p>0;p--)if(i(c.charAt(p-1)))return p}else for(let p=o;p<c.length;p++)if(i(c.charAt(p)))return p;return-1},Ru=(e,n,o)=>wi(e,n,o,i=>xC(i)||Bp(i)),Lu=(e,n,o)=>wi(e,n,o,Bx),yf=(e,n,o,i,c,p)=>{let y;const E=e.getParent(o,Q=>Sp(Q)||e.isBlock(Q)),A=et(E)?E:n,R=(Q,re,pe)=>{const Be=Ph(e),De=c?Be.backwards:Be.forwards;return le.from(De(Q,re,(He,ct)=>gs(He.parentNode)?-1:(y=He,pe(c,He,ct)),A))};return R(o,i,Ru).bind(Q=>p?R(Q.container,Q.offset+(c?-1:0),Lu):le.some(Q)).orThunk(()=>y?le.some({container:y,offset:c?0:y.length}):le.none())},nd=(e,n,o,i,c)=>{const p=i[c];pn(i)&&fn(i.data)&&p&&(i=p);const y=pl(e,i);for(let E=0;E<y.length;E++)for(let A=0;A<n.length;A++){const R=n[A];if(!(et(R.collapsed)&&R.collapsed!==o.collapsed)&&zt(R)&&e.is(y[E],R.selector))return y[E]}return i},Hp=(e,n,o,i)=>{let c=o;const p=e.getRoot(),y=n[0];if(Wn(y)&&(c=y.wrapper?null:e.getParent(o,y.block,p)),!c){const E=e.getParent(o,"LI,TD,TH,SUMMARY")??p;c=e.getParent(pn(o)?o.parentNode:o,A=>A!==p&&$p(e.schema,A),E)}if(c&&Wn(y)&&y.wrapper&&(c=pl(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[i]&&!e.isBlock(c[i])&&(c=c[i],!j(c,"br")););return c||o},ou=(e,n,o,i)=>{const c=o.parentNode;return et(o[i])?!1:c===n||ln(c)||e.isBlock(c)?!0:ou(e,n,c,i)},X0=(e,n,o,i,c,p)=>{let y=o;const E=c?"previousSibling":"nextSibling",A=e.getRoot();if(pn(o)&&!Zd(o)&&(c?i>0:i<o.data.length))return o;for(;y;){if(Sp(y))return o;if(!n[0].block_expand&&e.isBlock(y))return p?y:o;for(let R=y[E];R;R=R[E]){const q=pn(R)&&!ou(e,A,R,E);if(!gs(R)&&!Mg(R)&&!Zd(R,q))return y}if(y===A||y.parentNode===A){o=y;break}y=y.parentNode}return o},u1=e=>gs(e.parentNode)||gs(e),xd=(e,n,o,i={})=>{const{includeTrailingSpace:c=!1,expandToBlock:p=!0}=i,y=e.getParent(n.commonAncestorContainer,pe=>Sp(pe)),E=et(y)?y:e.getRoot();let{startContainer:A,startOffset:R,endContainer:q,endOffset:Q}=n;const re=o[0];return yo(A)&&A.hasChildNodes()&&(A=Mp(A,R),pn(A)&&(R=0)),yo(q)&&q.hasChildNodes()&&(q=Mp(q,n.collapsed?Q:Q-1),pn(q)&&(Q=q.data.length)),A=Ng(e,A),q=Ng(e,q),u1(A)&&(A=gs(A)?A:A.parentNode,n.collapsed?A=A.previousSibling||A:A=A.nextSibling||A,pn(A)&&(R=n.collapsed?A.length:0)),u1(q)&&(q=gs(q)?q:q.parentNode,n.collapsed?q=q.nextSibling||q:q=q.previousSibling||q,pn(q)&&(Q=n.collapsed?0:q.length)),n.collapsed&&(yf(e,E,A,R,!0,c).each(({container:De,offset:He})=>{A=De,R=He}),yf(e,E,q,Q,!1,c).each(({container:De,offset:He})=>{q=De,Q=He})),(Kt(re)||re.block_expand)&&((!Kt(re)||!pn(A)||R===0)&&(A=X0(e,o,A,R,!0,p)),(!Kt(re)||!pn(q)||Q===q.data.length)&&(q=X0(e,o,q,Q,!1,p))),Ts(re)&&(A=nd(e,o,n,A,"previousSibling"),q=nd(e,o,n,q,"nextSibling")),(Wn(re)||zt(re))&&(A=Hp(e,o,A,"previousSibling"),q=Hp(e,o,q,"nextSibling"),Wn(re)&&(e.isBlock(A)||(A=X0(e,o,A,R,!0,p),pn(A)&&(R=0)),e.isBlock(q)||(q=X0(e,o,q,Q,!1,p),pn(q)&&(Q=q.data.length)))),yo(A)&&A.parentNode&&(R=e.nodeIndex(A),A=A.parentNode),yo(q)&&q.parentNode&&(Q=e.nodeIndex(q)+1,q=q.parentNode),{startContainer:A,startOffset:R,endContainer:q,endOffset:Q}},hc=(e,n,o)=>{const i=n.startOffset,c=Mp(n.startContainer,i),p=n.endOffset,y=Mp(n.endContainer,p-1),E=De=>{const He=De[0];pn(He)&&He===c&&i>=He.data.length&&De.splice(0,1);const ct=De[De.length-1];return p===0&&De.length>0&&ct===y&&pn(ct)&&De.splice(De.length-1,1),De},A=(De,He,ct)=>{const mt=[];for(;De&&De!==ct;De=De[He])mt.push(De);return mt},R=(De,He)=>e.getParent(De,ct=>ct.parentNode===He,He),q=(De,He,ct)=>{const mt=ct?"nextSibling":"previousSibling";for(let gt=De,Zt=gt.parentNode;gt&&gt!==He;gt=Zt){Zt=gt.parentNode;const an=A(gt===De?gt:gt[mt],mt);an.length&&(ct||an.reverse(),o(E(an)))}};if(c===y)return o(E([c]));const Q=e.findCommonAncestor(c,y)??e.getRoot();if(e.isChildOf(c,y))return q(c,Q,!0);if(e.isChildOf(y,c))return q(y,Q);const re=R(c,Q)||c,pe=R(y,Q)||y;q(c,re,!0);const Be=A(re===c?re:re.nextSibling,"nextSibling",pe===y?pe.nextSibling:pe);Be.length&&o(E(Be)),q(y,pe)},WM=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],jM=e=>cr(e)&&ic(e)===Hl,Ao=(e,n,o,i)=>Kc(n).fold(()=>"skipping",c=>i==="br"||jM(n)?"valid":yI(n)?"existing":Kf(n.dom)?"caret":Ws(WM,p=>Zs(n,p))?"valid-block":!nb(e,o,i)||!nb(e,Qo(c),o)?"invalid-child":"valid"),Jf=(e,n)=>{const o=xd(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},PE=(e,n,o,i,c,p)=>{const{uid:y=n,...E}=o;ac(e,Zf()),xr(e,`${Lh()}`,y),xr(e,`${Rh()}`,i);const{attributes:A={},classes:R=[]}=c(y,E);if(ri(e,A),vm(e,R),p){R.length>0&&xr(e,`${Am()}`,R.join(","));const q=Mn(A);q.length>0&&xr(e,`${Ap()}`,q.join(","))}},kC=e=>{La(e,Zf()),Ga(e,`${Lh()}`),Ga(e,`${Rh()}`),Ga(e,`${Cg()}`);const n=_u(e,`${Ap()}`).map(i=>i.split(",")).getOr([]),o=_u(e,`${Am()}`).map(i=>i.split(",")).getOr([]);vt(n,i=>Ga(e,i)),_h(e,o),Ga(e,`${Am()}`),Ga(e,`${Ap()}`)},IE=(e,n,o,i,c)=>{const p=Ve.fromTag("span",e);return PE(p,n,o,i,c,!1),p},J0=(e,n,o,i,c,p)=>{const y=[],E=IE(e.getDoc(),o,p,i,c),A=Da(),R=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Be=Ra(E);return y.push(Be),A.set(Be),Be}),Q=Be=>{vt(Be,re)},re=Be=>{switch(Ao(e,Be,"span",Qo(Be))){case"invalid-child":{R();const He=zi(Be);Q(He),R();break}case"valid-block":{R(),PE(Be,o,p,i,c,!0);break}case"valid":{const He=q();uu(Be,He);break}}},pe=Be=>{const De=In(Be,Ve.fromDom);Q(De)};return hc(e.dom,n,Be=>{R(),pe(Be)}),y},YU=(e,n,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,p=c.getRng(),y=eb(e).length>0,E=er("mce-annotation");if(p.collapsed&&!y&&Jf(e,p),c.getRng().collapsed&&!y){const A=IE(e.getDoc(),E,i,n,o.decorate);af(A,as),c.getRng().insertNode(A.dom),c.select(A.dom)}else ME(c,!1,()=>{Ux(e,A=>{J0(e,A,E,n,o.decorate,i)})})})},ZM=e=>{const n=Sg();Dw(e,n);const o=sT(e,n),i=Qi("span"),c=p=>{vt(p,y=>{i(y)?Cc(y):kC(y)})};return{register:(p,y)=>{n.register(p,y)},annotate:(p,y)=>{n.lookup(p).each(E=>{YU(e,p,E,y)})},annotationChanged:(p,y)=>{o.addListener(p,y)},remove:p=>{GS(e,le.some(p)).each(({elements:y})=>{const E=e.selection.getBookmark();c(y),e.selection.moveToBookmark(E)})},removeAll:p=>{const y=e.selection.getBookmark();Mo(kw(e,p),(E,A)=>{c(E)}),e.selection.moveToBookmark(y)},getAll:p=>{const y=kw(e,p);return Wa(y,E=>In(E,A=>A.dom))}}},Q0=e=>({getBookmark:qt(FM,e),moveToBookmark:qt(BM,e)});Q0.isBookmarkNode=bf;const FE=(e,n,o)=>o.collapsed?!1:Ws(o.getClientRects(),i=>QS(i,e,n)),BE=(e,n)=>{const o=cr(n)?ic(n).length:zi(n).length+1;return e>o?o:e<0?0:e},qM=e=>If.range(e.start,BE(e.soffset,e.start),e.finish,BE(e.foffset,e.finish)),OI=(e,n)=>!Lb(n.dom)&&(Fr(e,n)||no(e,n)),MI=e=>n=>OI(e,n.start)&&OI(e,n.finish),GU=e=>e.inline||Xs.browser.isFirefox(),KU=e=>If.range(Ve.fromDom(e.startContainer),e.startOffset,Ve.fromDom(e.endContainer),e.endOffset),YM=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?le.none():le.from(n.getRangeAt(0))).map(KU)},NI=e=>{const n=Uu(e);return YM(n.dom).filter(MI(e))},XU=(e,n)=>le.from(n).filter(MI(e)).map(qM),RI=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),le.some(n)}catch{return le.none()}},$E=e=>{const n=GU(e)?NI(Ve.fromDom(e.getBody())):le.none();e.bookmark=n.isSome()?n:e.bookmark},Zx=e=>(e.bookmark?e.bookmark:le.none()).bind(o=>XU(Ve.fromDom(e.getBody()),o)).bind(RI),JU=e=>{Zx(e).each(n=>e.selection.setRng(n))},LI={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},QU=(e,n)=>(En(n)||(n=0),window.setTimeout(e,n)),e9=(e,n)=>(En(n)||(n=0),window.setInterval(e,n)),Qf={setEditorTimeout:(e,n,o)=>QU(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const i=e9(()=>{e.removed?window.clearInterval(i):n()},o);return i}},GM=e=>e.type==="nodechange"&&e.selectionChange,PI=(e,n)=>{const o=()=>{n.throttle()};li.DOM.bind(document,"mouseup",o),e.on("remove",()=>{li.DOM.unbind(document,"mouseup",o)})},II=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},t9=(e,n)=>{II(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{GM(o)||$E(e)})},n9=e=>{const n=Ft(()=>{$E(e)},0);e.on("init",()=>{e.inline&&PI(e,n),t9(e,n)}),e.on("remove",()=>{n.cancel()})};let DC;const AC=li.DOM,FI=e=>yo(e)&&LI.isEditorUIElement(e),HE=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},zE=(e,n)=>{const o=Dg(e);return AC.getParent(n,c=>FI(c)||(o?e.dom.is(c,o):!1))!==null},KM=e=>{try{const n=xl(Ve.fromDom(e.getElement()));return ju(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},Hoe=(e,n)=>{const o=n.editor;n9(o);const i=(c,p)=>{if(pM(c)&&c.inline!==!0){const y=Ve.fromDom(c.getContainer());p(y,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;HE(KM(o))&&i(o,ac),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Qf.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!HE(KM(o))||c!==o)&&i(o,La),!zE(o,KM(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),DC||(DC=c=>{const p=e.activeEditor;p&&dv(c).each(y=>{const E=y;E.ownerDocument===document&&E!==document.body&&!zE(p,E)&&e.focusedEditor===p&&(p.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},AC.bind(document,"focusin",DC))},zoe=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&DC&&(AC.unbind(document,"focusin",DC),DC=null)},Voe=e=>{e.on("AddEditor",qt(Hoe,e)),e.on("RemoveEditor",qt(zoe,e))},o9=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),Uoe=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,s9=e=>e.collapsed?le.from(Mp(e.startContainer,e.startOffset)).map(Ve.fromDom):le.none(),r9=(e,n)=>s9(n).bind(o=>Nu(o)?le.some(o):Fr(e,o)?le.none():le.some(e)),i9=(e,n)=>{r9(Ve.fromDom(e.getBody()),n).bind(o=>Tc(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},VE=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Ea=e=>dd(e)||sf(e).isSome(),XM=e=>et(e.iframeElement)&&dd(Ve.fromDom(e.iframeElement)),UE=e=>{const n=e.getBody();return n&&Ea(Ve.fromDom(n))},WE=e=>{const n=xl(Ve.fromDom(e.getElement()));return ju(n).filter(o=>!HE(o.dom)&&zE(e,o.dom)).isSome()},eh=e=>e.inline?UE(e):XM(e),OC=e=>eh(e)||WE(e),MC=e=>{const n=e.selection,o=e.getBody();let i=n.getRng();e.quirks.refreshContentEditable();const c=y=>{Zx(y).each(E=>{y.selection.setRng(E),i=E})};!eh(e)&&e.hasEditableRoot()&&c(e);const p=o9(e,n.getNode());if(p&&e.dom.isChildOf(p,o)){Uoe(e,p)||VE(o),VE(p),e.hasEditableRoot()||c(e),i9(e,i),jE(e);return}e.inline||(Xs.browser.isOpera()||VE(o),e.getWin().focus()),(Xs.browser.isFirefox()||e.inline)&&(VE(o),i9(e,i)),jE(e)},jE=e=>e.editorManager.setActive(e),a9=(e,n)=>{e.removed||(n?jE(e):MC(e))},Qn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Qn.metaKeyPressed(e),metaKeyPressed:e=>Xs.os.isMacOS()||Xs.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},JM="uc-video",BI=e=>e.nodeName.toLowerCase()===JM,ob="data-mce-selected",ZE=`table,img,figure.image,hr,video,span.mce-preview-object,details,${JM}`,sb=Math.abs,Rg=Math.round,qE={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},l9=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$I=(e,n)=>{const o=n.dom,i=n.getDoc(),c=document,p=n.getBody();let y,E,A,R,q,Q,re,pe,Be,De,He,ct,mt,gt,Zt;const an=Lo=>et(Lo)&&(e0(Lo)||o.is(Lo,"figure.image")),Zn=Lo=>Oi(Lo)||o.hasClass(Lo,"mce-preview-object"),Sn=(Lo,Dn)=>{if(l9(Lo)){const Xn=Lo.touches[0];return an(Lo.target)&&!FE(Xn.clientX,Xn.clientY,Dn)}else return an(Lo.target)&&!FE(Lo.clientX,Lo.clientY,Dn)},Gt=Lo=>{const Dn=Lo.target;Sn(Lo,n.selection.getRng())&&!Lo.isDefaultPrevented()&&n.selection.select(Dn)},jt=Lo=>o.hasClass(Lo,"mce-preview-object")&&et(Lo.firstElementChild)?[Lo,Lo.firstElementChild]:o.is(Lo,"figure.image")?[Lo.querySelector("img")]:[Lo],cn=Lo=>{const Dn=xx(n);return!Dn||n.mode.isReadOnly()||Lo.getAttribute("data-mce-resize")==="false"||Lo===n.getBody()?!1:o.hasClass(Lo,"mce-preview-object")&&et(Lo.firstElementChild)?Zs(Ve.fromDom(Lo.firstElementChild),Dn):Zs(Ve.fromDom(Lo),Dn)},uo=(Lo,Dn)=>{if(Zn(Dn))return Lo.create("img",{src:Xs.transparentSrc});if(Bf(Dn)){const ss=Po(R.name,"n")?yn:Uo,ks=Dn.cloneNode(!0);return ss(Lo.select("tr",ks)).each(ki=>{const ua=Lo.select("td,th",ki);Lo.setStyle(ki,"height",null),vt(ua,om=>Lo.setStyle(om,"height",null))}),ks}else return Dn.cloneNode(!0)},ts=(Lo,Dn,Xn)=>{if(et(Xn)){const ss=jt(Lo);vt(ss,ks=>{if(ks.style[Dn]||!n.schema.isValid(ks.nodeName.toLowerCase(),Dn))o.setStyle(ks,Dn,Xn);else if(BI(ks)){ks[Dn]=Xn;const ki=400;if(ks.width>ki&&!(Dn==="width"&&Xn<ki))ks[Dn]=Xn,o.setAttrib(ks,Dn,""+Xn);else{const ua=Dn==="height"?ki*De:ki;ks[Dn]=ua,o.setAttrib(ks,Dn,""+ua)}}else o.setAttrib(ks,Dn,""+Xn)})}},Hs=(Lo,Dn,Xn)=>{ts(Lo,"width",Dn),ts(Lo,"height",Xn)},mr=Lo=>{let Dn,Xn,ss,ks,ki;Dn=Lo.screenX-Q,Xn=Lo.screenY-re,ct=Dn*R[2]+pe,mt=Xn*R[3]+Be,ct=ct<5?5:ct,mt=mt<5?5:mt,(an(y)||Zn(y)||BI(y))&&zr(n)!==!1?ss=!Qn.modifierPressed(Lo):ss=Qn.modifierPressed(Lo),ss&&(sb(Dn)>sb(Xn)?(mt=Rg(ct*De),ct=Rg(mt/De)):(ct=Rg(mt/De),mt=Rg(ct*De))),Hs(E,ct,mt),ks=R.startPos.x+Dn,ki=R.startPos.y+Xn,ks=ks>0?ks:0,ki=ki>0?ki:0,o.setStyles(A,{left:ks,top:ki,display:"block"}),A.innerHTML=ct+" &times; "+mt,Dn=p.scrollWidth-gt,Xn=p.scrollHeight-Zt,Dn+Xn!==0&&o.setStyles(A,{left:ks-Dn,top:ki-Xn}),He||(KO(n,y,pe,Be,"corner-"+R.name),He=!0)},Ki=()=>{const Lo=He;He=!1,Lo&&(ts(y,"width",ct),ts(y,"height",mt)),o.unbind(i,"mousemove",mr),o.unbind(i,"mouseup",Ki),c!==i&&(o.unbind(c,"mousemove",mr),o.unbind(c,"mouseup",Ki)),o.remove(E),o.remove(A),o.remove(q),ca(y),Lo&&(mx(n,y,ct,mt,"corner-"+R.name),o.setAttrib(y,"style",o.getAttrib(y,"style"))),n.nodeChanged()},ca=Lo=>{Vo();const Dn=o.getPos(Lo,p),Xn=Dn.x,ss=Dn.y,ks=Lo.getBoundingClientRect(),ki=ks.width||ks.right-ks.left,ua=ks.height||ks.bottom-ks.top;y!==Lo&&(bc(),y=Lo,ct=mt=0);const om=n.dispatch("ObjectSelected",{target:Lo});cn(Lo)&&!om.isDefaultPrevented()?Mo(qE,(Ef,qp)=>{const Yp=nf=>{const ip=jt(y)[0];Q=nf.screenX,re=nf.screenY,pe=ip.clientWidth,Be=ip.clientHeight,De=Be/pe,R=Ef,R.name=qp,R.startPos={x:ki*Ef[0]+Xn,y:ua*Ef[1]+ss},gt=p.scrollWidth,Zt=p.scrollHeight,q=o.add(p,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),E=uo(o,y),o.addClass(E,"mce-clonedresizable"),o.setAttrib(E,"data-mce-bogus","all"),E.contentEditable="false",o.setStyles(E,{left:Xn,top:ss,margin:0}),Hs(E,ki,ua),E.removeAttribute(ob),p.appendChild(E),o.bind(i,"mousemove",mr),o.bind(i,"mouseup",Ki),c!==i&&(o.bind(c,"mousemove",mr),o.bind(c,"mouseup",Ki)),A=o.add(p,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},pe+" &times; "+Be)};let kf=o.get("mceResizeHandle"+qp);kf&&o.remove(kf),kf=o.add(p,"div",{id:"mceResizeHandle"+qp,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+qp+"-resize; margin:0; padding:0"}),o.bind(kf,"mousedown",nf=>{nf.stopImmediatePropagation(),nf.preventDefault(),Yp(nf)}),Ef.elm=kf,o.setStyles(kf,{left:ki*Ef[0]+Xn-kf.offsetWidth/2,top:ua*Ef[1]+ss-kf.offsetHeight/2})}):bc(!1)},Ul=Ft(ca,0),bc=(Lo=!0)=>{Ul.cancel(),Vo(),y&&Lo&&y.removeAttribute(ob),Mo(qE,(Dn,Xn)=>{const ss=o.get("mceResizeHandle"+Xn);ss&&(o.unbind(ss),o.remove(ss))})},nm=(Lo,Dn)=>o.isChildOf(Lo,Dn),to=Lo=>{if(He||n.removed||n.composing)return;const Dn=Lo.type==="mousedown"?Lo.target:e.getNode(),Xn=Ai(Ve.fromDom(Dn),ZE).map(ks=>ks.dom).filter(ks=>o.isEditable(ks.parentElement)||ks.nodeName==="IMG"&&o.isEditable(ks)).getOrUndefined(),ss=et(Xn)?o.getAttrib(Xn,ob,"1"):"1";if(vt(o.select(`img[${ob}],hr[${ob}]`),ks=>{ks.removeAttribute(ob)}),et(Xn)&&nm(Xn,p)&&OC(n)){fi();const ks=e.getStart(!0);if(nm(ks,Xn)&&nm(e.getEnd(!0),Xn)){o.setAttrib(Xn,ob,ss),Ul.throttle(Xn);return}}bc()},Vo=()=>{Mo(qE,Lo=>{Lo.elm&&(o.unbind(Lo.elm),delete Lo.elm)})},fi=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{fi(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",to),n.on("keyup compositionend",Lo=>{y&&y.nodeName==="TABLE"&&to(Lo)}),n.on("hide blur",bc),n.on("contextmenu longpress",Gt,!0)}),n.on("remove",Vo),{isResizable:cn,showResizeRect:ca,hideResizeRect:bc,updateResizeRect:to,destroy:()=>{Ul.cancel(),y=E=q=null}}},HI=(e,n,o)=>{const i=Uu(Ve.fromDom(o));return Cm(i.dom,e,n).map(c=>{const p=o.createRange();return p.setStart(c.start.dom,c.soffset),p.setEnd(c.finish.dom,c.foffset),p}).getOrUndefined()},QM=(e,n)=>et(e)&&et(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,c9=(e,n,o)=>{let i=e;for(;i&&i!==n;){if(o(i))return i;i=i.parentNode}return null},zI=(e,n,o)=>c9(e,n,o)!==null,VI=(e,n,o)=>zI(e,n,i=>i.nodeName===o),u9=(e,n)=>mu(e)&&!zI(e,n,Kf),UI=(e,n,o)=>{const i=n.parentNode;if(i){const c=new Ti(n,e.getParent(i,e.isBlock)||e.getRoot());let p;for(;p=c[o?"prev":"next"]();)if(ea(p))return!0}return!1},d9=(e,n)=>e.previousSibling?.nodeName===n,Woe=(e,n)=>{let o=n;for(;o&&o!==e;){if(Bi(o))return!0;o=o.parentNode}return!1},eN=(e,n,o,i,c)=>{const p=e.getRoot(),y=e.schema.getNonEmptyElements(),E=c.parentNode;let A,R;if(!E)return le.none();const q=e.getParent(E,e.isBlock)||p;if(i&&ea(c)&&n&&e.isEmpty(q))return le.some(It(E,e.nodeIndex(c)));const Q=new Ti(c,q);for(;R=Q[i?"prev":"next"]();){if(e.getContentEditableParent(R)==="false"||u9(R,p))return le.none();if(pn(R)&&R.data.length>0)return VI(R,p,"A")?le.none():le.some(It(R,i?R.data.length:0));if(e.isBlock(R)||y[R.nodeName.toLowerCase()])return le.none();A=R}return xa(A)?le.none():o&&A?le.some(It(A,0)):le.none()},Hc=(e,n,o,i)=>{const c=e.getRoot();let p,y=!1,E=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const R=yo(E)&&A===E.childNodes.length,q=e.schema.getNonEmptyElements();let Q=o;if(mu(E))return le.none();if(yo(E)&&A>E.childNodes.length-1&&(Q=!1),Us(E)&&(E=c,A=0),E===c){if(Q&&(p=E.childNodes[A>0?A-1:0],p&&(mu(p)||q[p.nodeName]||Bf(p))))return le.none();if(E.hasChildNodes()){if(A=Math.min(!Q&&A>0?A-1:A,E.childNodes.length-1),E=E.childNodes[A],A=pn(E)&&R?E.data.length:0,!n&&E===c.lastChild&&Bf(E)||Woe(c,E)||mu(E)||vg(E))return le.none();if(E.hasChildNodes()&&!Bf(E)){p=E;const re=new Ti(E,c);do{if(Bi(p)||mu(p)){y=!1;break}if(pn(p)&&p.data.length>0){A=Q?0:p.data.length,E=p,y=!0;break}if(q[p.nodeName.toLowerCase()]&&!t0(p)){A=e.nodeIndex(p),E=p.parentNode,Q||A++,y=!0;break}}while(p=Q?re.next():re.prev())}}}return n&&(pn(E)&&A===0&&eN(e,R,n,!0,E).each(re=>{E=re.container(),A=re.offset(),y=!0}),yo(E)&&(p=E.childNodes[A],p||(p=E.childNodes[A-1]),p&&ea(p)&&!d9(p,"A")&&!UI(e,p,!1)&&!UI(e,p,!0)&&eN(e,R,n,!0,p).each(re=>{E=re.container(),A=re.offset(),y=!0}))),Q&&!n&&pn(E)&&A===E.data.length&&eN(e,R,n,!1,E).each(re=>{E=re.container(),A=re.offset(),y=!0}),y&&E?le.some(It(E,A)):le.none()},ey=(e,n)=>{const o=n.collapsed,i=n.cloneRange(),c=It.fromRangeStart(n);return Hc(e,o,!0,i).each(p=>{(!o||!It.isAbove(c,p))&&i.setStart(p.container(),p.offset())}),o||Hc(e,o,!1,i).each(p=>{i.setEnd(p.container(),p.offset())}),o&&i.collapse(!0),QM(n,i)?le.none():le.some(i)},kc=(e,n)=>e.splitText(n),wf=e=>{let n=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(n===i&&pn(n)){if(o>0&&o<n.data.length)if(i=kc(n,o),n=i.previousSibling,c>o){c=c-o;const p=kc(i,c).previousSibling;n=i=p,c=p.data.length,o=0}else c=0}else if(pn(n)&&o>0&&o<n.data.length&&(n=kc(n,o),o=0),pn(i)&&c>0&&c<i.data.length){const p=kc(i,c).previousSibling;i=p,c=p.data.length}return{startContainer:n,startOffset:o,endContainer:i,endOffset:c}},Lg=e=>({walk:(p,y)=>hc(e,p,y),split:wf,expand:(p,y={type:"word"})=>{if(y.type==="word"){const E=xd(e,p,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),A=e.createRng();return A.setStart(E.startContainer,E.startOffset),A.setEnd(E.endContainer,E.endOffset),A}return p},normalize:p=>ey(e,p).fold(Yt,y=>(p.setStart(y.startContainer,y.startOffset),p.setEnd(y.endContainer,y.endOffset),!0))});Lg.compareRanges=QM,Lg.getCaretRangeFromPoint=HI,Lg.getSelectedNode=Eg,Lg.getNode=Mp;const tN=(e,n)=>e.view(n).fold(xt([]),i=>{const c=e.owner(i),p=tN(e,c);return[i].concat(p)}),f9=(e,n)=>{const o=n.owner(e);return tN(n,o)};var jI=Object.freeze({__proto__:null,view:e=>(e.dom===document?le.none():le.from(e.dom.defaultView?.frameElement)).map(Ve.fromDom),owner:e=>Gc(e)});const h9=e=>{const n=mp(),o=pm(n),i=f9(e,jI),c=vp(e),p=rr(i,(y,E)=>{const A=vp(E);return{left:y.left+A.left,top:y.top+A.top}},{left:0,top:0});return Eu(p.left+c.left+o.left,p.top+c.top+o.top)},nN=e=>Qo(e)==="textarea",m9=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),th=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},_d=(e,n)=>{const o=zi(e);if(o.length===0||nN(e))return{element:e,offset:n};if(n<o.length&&!nN(o[n]))return{element:o[n],offset:0};{const i=o[o.length-1];return nN(i)?{element:e,offset:n}:Qo(i)==="img"?{element:i,offset:1}:cr(i)?{element:i,offset:ic(i).length}:{element:i,offset:zi(i).length}}},p9=(e,n)=>{const o=mm(e),i=gp(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:n}},zp=(e,n)=>{const o=_d(e,n),i=Ve.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Hl+"</span>");return Va(o.element,i),p9(i,()=>ii(i))},oN=e=>p9(Ve.fromDom(e),Ze),ZI=(e,n,o,i)=>{KI(e,(c,p)=>YI(e,n,o,i),o)},qI=(e,n,o,i,c)=>{const p={elm:i.element.dom,alignToTop:c};if(m9(e,p))return;const y=pm(n).top;o(e,n,y,i,c),th(e,p)},YI=(e,n,o,i)=>{const c=Ve.fromDom(e.getBody()),p=Ve.fromDom(e.getDoc());ag(c);const y=zp(Ve.fromDom(o.startContainer),o.startOffset);qI(e,p,n,y,i),y.cleanup()},GI=(e,n,o,i)=>{const c=Ve.fromDom(e.getDoc());qI(e,c,o,oN(n),i)},KI=(e,n,o)=>{const i=o.startContainer,c=o.startOffset,p=o.endContainer,y=o.endOffset;n(Ve.fromDom(i),Ve.fromDom(p));const E=e.dom.createRng();E.setStart(i,c),E.setEnd(p,y),e.selection.setRng(o)},sN=(e,n,o,i,c)=>{const p=n.pos,y=30;if(i)cg(p.left,Math.max(0,p.top-y),c);else{const E=p.top-o+n.height+y;cg(-e.getBody().getBoundingClientRect().left,E,c)}},YE=(e,n,o,i,c,p)=>{const y=i+o,E=c.pos.top,A=c.bottom,R=A-E>=i;E<o?sN(e,c,i,p!==!1,n):E>y?sN(e,c,i,R?p!==!1:p===!0,n):A>y&&!R&&sN(e,c,i,p===!0,n)},XI=(e,n,o,i,c)=>{const p=Uu(n).dom.innerHeight;YE(e,n,o,p,i,c)},JI=(e,n,o,i,c)=>{const p=Uu(n).dom.innerHeight;YE(e,n,o,p,i,c);const y=h9(i.element),E=G1(window);y.top<E.y?ku(i.element,c!==!1):y.top>E.bottom&&ku(i.element,c===!0)},g9=(e,n,o)=>ZI(e,XI,n,o),v9=(e,n,o)=>GI(e,n,XI,o),QI=(e,n,o)=>ZI(e,JI,n,o),rN=(e,n,o)=>GI(e,n,JI,o),eF=(e,n,o)=>{(e.inline?v9:rN)(e,n,o)},ty=(e,n,o)=>{(e.inline?g9:QI)(e,n,o)},tF=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),b9=(e,n,o,i,c)=>{const p=o?n.startContainer:n.endContainer,y=o?n.startOffset:n.endOffset;return le.from(p).map(Ve.fromDom).map(E=>!i||!n.collapsed?wc(E,c(E,y)).getOr(E):E).bind(E=>Ji(E)?le.some(E):Pl(E).filter(Ji)).map(E=>E.dom).getOr(e)},y9=(e,n,o=!1)=>b9(e,n,!0,o,(i,c)=>Math.min(ud(i),c)),nF=(e,n,o=!1)=>b9(e,n,!1,o,(i,c)=>c>0?c-1:c),iN=(e,n)=>{const o=e;for(;e&&pn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},w9=(e,n)=>{if(!n)return e;let o=n.startContainer,i=n.endContainer;const c=n.startOffset,p=n.endOffset;let y=n.commonAncestorContainer;n.collapsed||(o===i&&p-c<2&&o.hasChildNodes()&&(y=o.childNodes[c]),pn(o)&&pn(i)&&(o.length===c?o=iN(o.nextSibling,!0):o=o.parentNode,p===0?i=iN(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(y=o)));const E=pn(y)?y.parentNode:y;return Fi(E)?E:e},C9=(e,n,o,i)=>{const c=[],p=e.getRoot(),y=e.getParent(o||y9(p,n,n.collapsed),e.isBlock),E=e.getParent(i||nF(p,n,n.collapsed),e.isBlock);if(y&&y!==p&&c.push(y),y&&E&&y!==E){let A;const R=new Ti(y,p);for(;(A=R.next())&&A!==E;)e.isBlock(A)&&c.push(A)}return E&&y!==E&&E!==p&&c.push(E),c},S9=(e,n,o)=>le.from(n).bind(i=>le.from(i.parentNode).map(c=>{const p=e.nodeIndex(i),y=e.createRng();return y.setStart(c,p),y.setEnd(c,p+1),o&&(c1(e,y,i,!0),c1(e,y,i,!1)),y})),oF=(e,n)=>In(n,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),Zoe={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},qx=(e,n,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==n){let p=e[c];if(p)return p;for(let y=e.parent;y&&y!==n;y=y.parent)if(p=y[c],p)return p}},sF=e=>{const n=e.value??"";if(!Dh(n))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(n))},rF=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Pu{static create(n,o){const i=new Pu(n,Zoe[n]||1);return o&&Mo(o,(c,p)=>{i.attr(p,c)}),i}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const i=this;if(!xe(n))return et(n)&&Mo(n,(p,y)=>{i.attr(y,p)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let p=c.length;for(;p--;)if(c[p].name===n)return c.splice(p,1),i}return i}if(n in c.map){let p=c.length;for(;p--;)if(c[p].name===n){c[p].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,i}return c.map[n]}}clone(){const n=this,o=new Pu(n.name,n.type),i=n.attributes;if(i){const c=[];c.map={};for(let p=0,y=i.length;p<y;p++){const E=i[p];E.name!=="id"&&(c[c.length]={name:E.name,value:E.value},c.map[E.name]=E.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const i=o.next;n.insert(o,n,!0),o=i}n.remove()}remove(){const n=this,o=n.parent,i=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const i=o.lastChild;return i?(i.next=n,n.prev=i,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,i){n.parent&&n.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,i=[];for(let c=o.firstChild;c;c=qx(c,o))c.name===n&&i.push(c);return i}children(){const n=this,o=[];for(let i=n.firstChild;i;i=i.next)o.push(i);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=qx(c,n))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},i){const c=this;let p=c.firstChild;if(rF(c))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||rF(p))return!1}if(p.type===8||p.type===3&&!sF(p)||p.type===3&&p.parent&&o[p.parent.name]&&Dh(p.value??"")||i&&i(p))return!1}while(p=qx(p,c));return!0}walk(n){return qx(this,null,n)}}const x9=gn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),_9=e=>xe(e.nodeValue)&&e.nodeValue.includes(Hl),T9=e=>`${e.length===0?"":`${In(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,qoe=(e,n)=>n.querySelectorAll(T9(e)),iF=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>_9(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),E9=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(_9(n)){const o=n.parentNode;return o&&qo(x9,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),k9=e=>iF(e).nextNode()!==null,ny=e=>E9(e).nextNode()!==null,D9=(e,n)=>n.querySelector(T9(e))!==null,aF=(e,n)=>{vt(qoe(e,n),o=>{const i=Ve.fromDom(o);ui(i,"data-mce-bogus")==="all"?ii(i):vt(e,c=>{_i(i,c)&&Ga(i,c)})})},aN=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},lF=U(aN,iF),cF=U(aN,E9),GE=(e,n)=>{const o=[{condition:qt(D9,n),action:qt(aF,n)},{condition:k9,action:lF},{condition:ny,action:cF}];let i=e,c=!1;return vt(o,({condition:p,action:y})=>{p(i)&&(c||(i=e.cloneNode(!0),c=!0),y(i))}),i},A9=e=>{const n=Ht(e,"[data-mce-bogus]");vt(n,o=>{ui(o,"data-mce-bogus")==="all"?ii(o):Om(o)?(Va(o,Ve.fromText(Rr)),ii(o)):Cc(o)})},uF=e=>{const n=Ht(e,"input");vt(n,o=>{Ga(o,"name")})},Yoe=(e,n)=>{const o=$c(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},O9=(e,n)=>{const o=e.getDoc(),i=xl(Ve.fromDom(e.getBody())),c=Ve.fromTag("div",o);xr(c,"data-mce-bogus","all"),_r(c,{position:"fixed",left:"-9999999px",top:"0"}),af(c,n.innerHTML),A9(c),uF(c);const p=rg(i);Sr(p,c);const y=Ju(c.dom.innerText);return ii(c),y},M9=(e,n,o)=>{let i;return n.format==="raw"?i=gn.trim(Ju(GE(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?i=O9(e,o):n.format==="tree"?i=e.serializer.serialize(o,n):i=Yoe(e,e.serializer.serialize(o,n)),n.format!=="text"&&!bd(Ve.fromDom(o))&&xe(i)?gn.trim(i):i},lN=(e,n)=>le.from(e.getBody()).fold(xt(n.format==="tree"?new Pu("body",11):""),o=>M9(e,n,o)),cN=gn.makeMap,N9=e=>{const n=[];e=e||{};const o=e.indent,i=cN(e.indent_before||""),c=cN(e.indent_after||""),p=Mh.getEncodeFunc(e.entity_encoding||"raw",e.entities),y=e.element_format!=="xhtml";return{start:(E,A,R)=>{if(o&&i[E]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",E),A)for(let q=0,Q=A.length;q<Q;q++){const re=A[q];n.push(" ",re.name,'="',p(re.value,!0),'"')}if(!R||y?n[n.length]=">":n[n.length]=" />",R&&o&&c[E]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:E=>{let A;n.push("</",E,">"),o&&c[E]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(E,A)=>{E.length>0&&(n[n.length]=A?E:p(E))},cdata:E=>{n.push("<![CDATA[",E,"]]>")},comment:E=>{n.push("<!--",E,"-->")},pi:(E,A)=>{A?n.push("<?",E," ",p(A),"?>"):n.push("<?",E,"?>"),o&&n.push(`
`)},doctype:E=>{n.push("<!DOCTYPE",E,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},oy=(e={},n=Uf())=>{const o=N9(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const p=e.validate,y={3:A=>{o.text(A.value??"",A.raw)},8:A=>{o.comment(A.value??"")},7:A=>{o.pi(A.name,A.value)},10:A=>{o.doctype(A.value??"")},4:A=>{o.cdata(A.value??"")},11:A=>{let R=A;if(R=R.firstChild)do E(R);while(R=R.next)}};o.reset();const E=A=>{const R=y[A.type];if(R)R(A);else{const q=A.name,Q=q in n.getVoidElements();let re=A.attributes;if(p&&re&&re.length>1){const pe=[];pe.map={};const Be=n.getElementRule(A.name);if(Be){for(let De=0,He=Be.attributesOrder.length;De<He;De++){const ct=Be.attributesOrder[De];if(ct in re.map){const mt=re.map[ct];pe.map[ct]=mt,pe.push({name:ct,value:mt})}}for(let De=0,He=re.length;De<He;De++){const ct=re[De].name;if(!(ct in pe.map)){const mt=re.map[ct];pe.map[ct]=mt,pe.push({name:ct,value:mt})}}re=pe}}if(o.start(q,re,Q),eu(q))xe(A.value)&&o.text(A.value,!0),o.end(q);else if(!Q){let pe=A.firstChild;if(pe){(q==="pre"||q==="textarea")&&pe.type===3&&pe.value?.[0]===`
`&&o.text(`
`,!0);do E(pe);while(pe=pe.next)}o.end(q)}}};return c.type===1&&!e.inner?E(c):c.type===3?y[3](c):y[11](c),o.getContent()}}},R9=new Set;vt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{R9.add(n)});const dF=new Set;vt(["background-color"],n=>{dF.add(n)});const L9=["font","text-decoration","text-emphasis"],P9=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),sy=(e,n)=>Mn(P9(e,n)),I9=e=>R9.has(e),fF=e=>dF.has(e),F9=(e,n)=>Ws(sy(e,n),o=>I9(o)),B9=(e,n)=>F9(e,n)&&Ws(sy(e,n),o=>fF(o)),hF=e=>At(e,n=>Ws(L9,o=>Po(n,o))),$9=(e,n,o)=>{const i=sy(e,n),c=sy(e,o),p=y=>{const E=e.getStyle(n,y)??"",A=e.getStyle(o,y)??"";return Lt(E)&&Lt(A)&&E!==A};return Ws(i,y=>{const E=A=>Ws(A,R=>R===y);if(!E(c)&&E(L9)){const A=hF(c);return Ws(A,p)}else return p(y)})},mF=(e,n,o)=>le.from(o.container()).filter(pn).exists(i=>{const c=e?0:-1;return n(i.data.charAt(o.offset()+c))}),uN=qt(mF,!0,Bp),dN=qt(mF,!1,Bp),H9=e=>{const n=e.container();return pn(n)&&(n.data.length===0||Lw(n.data)&&Q0.isBookmarkNode(n.parentNode))},d1=(e,n)=>o=>No(e?0:-1,o).filter(n).isSome(),pF=e=>e0(e)&&ai(Ve.fromDom(e),"display")==="block",gF=e=>Bi(e)&&!X1(e),z9=d1(!0,pF),V9=d1(!1,pF),Yx=d1(!0,Oi),Gx=d1(!1,Oi),vF=d1(!0,Bf),fN=d1(!1,Bf),jn=d1(!0,gF),Td=d1(!1,gF),Goe=e=>e.slice(0,-1),U9=(e,n,o)=>Fr(n,e)?Goe(Il(e,i=>o(i)||no(i,n))):[],KE=(e,n)=>U9(e,n,Yt),Pg=(e,n)=>[e].concat(KE(e,n)),XE=(e,n,o)=>bC(e,n,o,H9),hN=e=>n=>e.isBlock(Qo(n)),bF=(e,n,o)=>Vn(Pg(Ve.fromDom(n.container()),e),hN(o)),mN=(e,n,o,i)=>XE(e,n.dom,o).forall(c=>bF(n,o,i).fold(()=>!Vh(c,o,n.dom),p=>!Vh(c,o,n.dom)&&Fr(p,Ve.fromDom(c.container())))),yF=(e,n,o,i)=>bF(n,o,i).fold(()=>XE(e,n.dom,o).forall(c=>!Vh(c,o,n.dom)),c=>XE(e,c.dom,o).isNone()),pN=qt(yF,!1),wF=qt(yF,!0),W9=qt(mN,!1),j9=qt(mN,!0),JE=e=>r1(e).exists(Om),QE=(e,n,o,i)=>{const c=At(Pg(Ve.fromDom(o.container()),n),y=>i.isBlock(Qo(y))),p=yn(c).getOr(n);return Cd(e,p.dom,o).filter(JE)},gN=(e,n,o)=>r1(n).exists(Om)||QE(!0,e,n,o).isSome(),ek=(e,n,o)=>Lx(n).exists(Om)||QE(!1,e,n,o).isSome(),CF=qt(QE,!1),Z9=qt(QE,!0),vN=e=>It.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Kx=(e,n,o)=>{const i=At(Pg(Ve.fromDom(n.container()),e),c=>o.isBlock(Qo(c)));return yn(i).getOr(e)},SF=(e,n,o)=>vN(n)?dN(n):dN(n)||_c(Kx(e,n,o).dom,n).exists(dN),xF=(e,n,o)=>vN(n)?uN(n):uN(n)||td(Kx(e,n,o).dom,n).exists(uN),q9=e=>fo(["pre","pre-wrap"],e),bN=e=>r1(e).bind(n=>Hr(n,Ji)).exists(n=>q9(ai(n,"white-space"))),Y9=(e,n)=>_c(e.dom,n).isNone(),G9=(e,n)=>td(e.dom,n).isNone(),K9=(e,n,o)=>Y9(e,n)||G9(e,n)||pN(e,n,o)||wF(e,n,o)||ek(e,n,o)||gN(e,n,o),X9=e=>et(e)&&Bi(e)&&uE(e),_F=(e,n)=>o=>X9(new Ti(o,e)[n]()),J9=(e,n)=>{const o=td(e.dom,n).getOr(n),i=_F(e.dom,"next");return n.isAtEnd()&&(i(n.container())||i(o.container()))},Q9=(e,n)=>{const o=_c(e.dom,n).getOr(n),i=_F(e.dom,"prev");return n.isAtStart()&&(i(n.container())||i(o.container()))},TF=(e,n,o)=>bN(n)?!1:K9(e,n,o)||SF(e,n,o)||xF(e,n,o),Xx=(e,n,o)=>bN(n)?!1:pN(e,n,o)||W9(e,n,o)||ek(e,n,o)||SF(e,n,o)||Q9(e,n),eW=e=>{const n=e.container(),o=e.offset();return pn(n)&&o<n.data.length?It(n,o+1):e},NC=(e,n,o)=>bN(n)?!1:wF(e,n,o)||j9(e,n,o)||gN(e,n,o)||xF(e,n,o)||J9(e,n),yN=(e,n,o)=>Xx(e,n,o)||NC(e,eW(n),o),EF=(e,n)=>xC(e.charAt(n)),Jx=(e,n)=>Bp(e.charAt(n)),ry=e=>{const n=e.container();return pn(n)&&Si(n.data,as)},tk=e=>{const n=e.split("");return In(n,(o,i)=>xC(o)&&i>0&&i<n.length-1&&Bx(n[i-1])&&Bx(n[i+1])?" ":o).join("")},kF=(e,n,o,i)=>{const c=n.data,p=It(n,0);return!o&&EF(c,0)&&!yN(e,p,i)?(n.data=" "+c.slice(1),!0):o&&Jx(c,0)&&Xx(e,p,i)?(n.data=as+c.slice(1),!0):!1},tW=e=>{const n=e.data,o=tk(n);return o!==n?(e.data=o,!0):!1},DF=(e,n,o,i)=>{const c=n.data,p=It(n,c.length-1);return!o&&EF(c,c.length-1)&&!yN(e,p,i)?(n.data=c.slice(0,-1)+" ",!0):o&&Jx(c,c.length-1)&&NC(e,p,i)?(n.data=c.slice(0,-1)+as,!0):!1},nW=(e,n,o)=>{const i=n.container();if(!pn(i))return le.none();if(ry(n)){const c=kF(e,i,!1,o)||tW(i)||DF(e,i,!1,o);return fa(c,n)}else if(yN(e,n,o)){const c=kF(e,i,!0,o)||DF(e,i,!0,o);return fa(c,n)}else return le.none()},AF=e=>{const n=Ve.fromDom(e.getBody());e.selection.isCollapsed()&&nW(n,It.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},OF=(e,n,o,i)=>{if(o===0)return;const c=Ve.fromDom(e),p=qu(c,R=>i.isBlock(Qo(R))).getOr(c),y=e.data.slice(n,n+o),E=n+o>=e.data.length&&NC(p,It(e,e.data.length),i),A=n===0&&Xx(p,It(e,0),i);e.replaceData(n,o,K1(y,4,A,E))},nk=(e,n,o)=>{const i=e.data.slice(n),c=i.length-ut(i).length;OF(e,n,c,o)},ok=(e,n,o)=>{const i=e.data.slice(0,n),c=i.length-Nt(i).length;OF(e,n-c,c,o)},wN=(e,n,o,i,c=!0)=>{const p=Nt(e.data).length,y=c?e:n,E=c?n:e;return c?y.appendData(E.data):y.insertData(0,E.data),ii(Ve.fromDom(E)),i&&nk(y,p,o),y},MF=(e,n)=>{const o=e.container(),i=e.offset();return!It.isTextPosition(e)&&o===n.parentNode&&i>It.before(n).offset()},oW=(e,n)=>MF(n,e)?It(n.container(),n.offset()-1):n,sW=e=>pn(e)?It(e,0):It.before(e),rW=e=>pn(e)?It(e,e.data.length):It.after(e),CN=e=>aa(e.previousSibling)?le.some(rW(e.previousSibling)):e.previousSibling?Sd(e.previousSibling):le.none(),sk=e=>aa(e.nextSibling)?le.some(sW(e.nextSibling)):e.nextSibling?Tc(e.nextSibling):le.none(),NF=(e,n)=>le.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>_c(e,It.before(o))).orThunk(()=>td(e,It.after(n))),iW=(e,n)=>td(e,It.after(n)).orThunk(()=>_c(e,It.before(n))),aW=(e,n)=>CN(n).orThunk(()=>sk(n)).orThunk(()=>NF(e,n)),rk=(e,n)=>sk(n).orThunk(()=>CN(n)).orThunk(()=>iW(e,n)),lW=(e,n,o)=>e?rk(n,o):aW(n,o),RF=(e,n,o)=>lW(e,n,o).map(qt(oW,o)),ik=(e,n,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),n)})},LF=e=>n=>n.dom===e,cW=(e,n)=>n&&qo(e.schema.getBlockElements(),Qo(n)),uW=(e,n,o)=>{if(Pc(e,n)){const i=Ve.fromHtml('<br data-mce-bogus="1">');return o?vt(zi(n),c=>{Kr(c)||ii(c)}):du(n),Sr(n,i),le.some(It.before(i.dom))}else return le.none()},ak=(e,n,o,i)=>{const c=Su(e).filter(cr),p=rc(e).filter(cr);return ii(e),gi(c,p,n,(y,E,A)=>{const R=y.dom,q=E.dom,Q=R.data.length;return wN(R,q,o,i),A.container()===q?It(R,Q):A}).orThunk(()=>(i&&(c.each(y=>ok(y.dom,y.dom.length,o)),p.each(y=>nk(y.dom,0,o))),n))},PF=(e,n)=>qo(e.schema.getTextInlineElements(),Qo(n)),rb=(e,n,o,i=!0,c=!1)=>{const p=RF(n,e.getBody(),o.dom),y=qu(o,qt(cW,e),LF(e.getBody())),E=ak(o,p,e.schema,PF(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):y.bind(A=>uW(e.schema,A,c)).fold(()=>{i&&ik(e,n,E)},A=>{i&&ik(e,n,le.some(A))})},IF=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,FF=e=>IF.test(e),f1=(e,n)=>Zs(Ve.fromDom(n),Sx(e))&&!be(e.schema,n)&&e.dom.isEditable(n),SN=e=>li.DOM.getStyle(e,"direction",!0)==="rtl"||FF(e.textContent??""),BF=(e,n,o)=>At(li.DOM.getParents(o.container(),"*",n),e),ib=(e,n,o)=>{const i=BF(e,n,o);return le.from(i[i.length-1])},$F=(e,n,o)=>{const i=Hm(n,e),c=Hm(o,e);return et(i)&&i===c},HF=e=>Iw(e)||m0(e),Zh=(e,n)=>{const o=n.container(),i=n.offset();return e?jr(o)?pn(o.nextSibling)?It(o.nextSibling,0):It.after(o):Iw(n)?It(o,i+1):n:jr(o)?pn(o.previousSibling)?It(o.previousSibling,o.previousSibling.data.length):It.before(o):m0(n)?It(o,i-1):n},zF=qt(Zh,!0),VF=qt(Zh,!1),UF=(e,n)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},dW=e=>{e.execCommand("delete")},lk=e=>UF(e,"Delete"),WF=e=>UF(e,"ForwardDelete"),fW=e=>n=>Ls(Pl(n),e,no),hW=e=>Zb(e)||Mm(e),ck=(e,n)=>Fr(e,n)?Hr(n,hW,fW(e)):le.none(),uk=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},mW=(e,n,o)=>Xo(Tc(o),Sd(o),(i,c)=>{const p=Zh(!0,i),y=Zh(!1,c),E=Zh(!1,n);return e?td(o,E).exists(A=>A.isEqual(y)&&n.isEqual(p)):_c(o,E).exists(A=>A.isEqual(p)&&n.isEqual(y))}).getOr(!0),pW=e=>(ma(e)?Su(e):Ma(e)).bind(pW).orThunk(()=>le.some(e)),jF=(e,n,o,i=!0)=>{n.deleteContents();const c=pW(o).getOr(o),p=Ve.fromDom(e.dom.getParent(c.dom,e.dom.isBlock)??o.dom);if(p.dom===e.getBody()?uk(e,i):Pc(e.schema,p,{checkRootAsContent:!1})&&(Nm(p),i&&e.selection.setCursorLocation(p.dom,0)),!no(o,p)){const y=Ls(Pl(p),o)?[]:kr(p);vt(y.concat(zi(o)),E=>{!no(E,p)&&!Fr(E,p)&&Pc(e.schema,E)&&ii(E)})}},Koe=e=>n=>no(e,n),xN=e=>Ht(e,"td,th"),bu=(e,n)=>Xf(Ve.fromDom(e),n),gW=e=>Xo(e.startTable,e.endTable,(n,o)=>{const i=ms(n,p=>no(p,o)),c=ms(o,p=>no(p,n));return!i&&!c?e:{...e,startTable:i?le.none():e.startTable,endTable:c?le.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Xoe=e=>gW(e),vW=(e,n)=>{const o=bu(e.startContainer,n),i=bu(e.endContainer,n),c=o.isSome(),p=i.isSome(),y=Xo(o,i,no).getOr(!1);return Xoe({startTable:o,endTable:i,isStartInTable:c,isEndInTable:p,isSameTable:y,isMultiTable:!y&&c&&p})},_N=(e,n)=>({start:e,end:n}),Cf=(e,n,o)=>({rng:e,table:n,cells:o}),dk=Zl.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),fk=(e,n)=>Ai(Ve.fromDom(e),"td,th",n),bW=e=>!no(e.start,e.end),ZF=(e,n)=>Xf(e.start,n).bind(o=>Xf(e.end,n).bind(i=>fa(no(o,i),o))),yW=(e,n)=>!bW(e)&&ZF(e,n).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),Joe=(e,n)=>{const o=fk(e.startContainer,n),i=fk(e.endContainer,n);return Xo(o,i,_N)},wW=e=>n=>Xf(n,e).bind(o=>Uo(xN(o)).map(i=>_N(n,i))),Sf=e=>n=>Xf(n,e).bind(o=>yn(xN(o)).map(i=>_N(i,n))),hk=e=>n=>ZF(n,e).map(o=>Cf(n,o,xN(o))),TN=(e,n,o,i)=>{if(o.collapsed||!e.forall(bW))return le.none();if(n.isSameTable){const c=e.bind(hk(i));return le.some({start:c,end:c})}else{const c=fk(o.startContainer,i),p=fk(o.endContainer,i),y=c.bind(wW(i)).bind(hk(i)),E=p.bind(Sf(i)).bind(hk(i));return le.some({start:y,end:E})}},qF=(e,n)=>Vt(e,o=>no(o,n)),EN=e=>Xo(qF(e.cells,e.rng.start),qF(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),YF=(e,n,o)=>e.exists(i=>yW(i,o)&&Vx(i.start,n)),kN=(e,n)=>{const{startTable:o,endTable:i}=n,c=e.cloneRange();return o.each(p=>c.setStartAfter(p.dom)),i.each(p=>c.setEndBefore(p.dom)),c},CW=(e,n,o,i)=>TN(e,n,o,i).bind(({start:c,end:p})=>c.or(p)).bind(c=>{const{isSameTable:p}=n,y=EN(c).getOr([]);if(p&&c.cells.length===y.length)return le.some(dk.fullTable(c.table));if(y.length>0){if(p)return le.some(dk.partialTable(y,le.none()));{const E=kN(o,n);return le.some(dk.partialTable(y,le.some({...n,rng:E})))}}else return le.none()}),SW=(e,n,o,i)=>TN(e,n,o,i).bind(({start:c,end:p})=>{const y=c.bind(EN).getOr([]),E=p.bind(EN).getOr([]);if(y.length>0&&E.length>0){const A=kN(o,n);return le.some(dk.multiTable(y,E,A))}else return le.none()}),xW=(e,n)=>{const o=Koe(e),i=Joe(n,o),c=vW(n,o);return YF(i,n,o)?i.map(p=>dk.singleCellTable(n,p.start)):c.isMultiTable?SW(i,c,n,o):CW(i,c,n,o)},GF=e=>vt(e,n=>{Ga(n,"contenteditable"),Nm(n)}),KF=(e,n)=>le.from(e.dom.getParent(n,e.dom.isBlock)).map(Ve.fromDom),_W=(e,n,o)=>{o.each(i=>{n?ii(i):(Nm(i),e.selection.setCursorLocation(i.dom,0))})},mk=(e,n,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),DN(e,c,n,!1).each(p=>p())},XF=e=>{const n=eb(e),o=Ve.fromDom(e.selection.getNode());$f(o.dom)&&Pc(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Ws(n,i=>no(i,o))&&xr(o,"data-mce-selected","1")},TW=(e,n,o)=>le.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:p,isStartInTable:y})=>{const E=KF(e,y?p.endContainer:p.startContainer);p.deleteContents(),_W(e,y,E.filter(qt(Pc,e.schema)));const A=y?n[0]:n[n.length-1];return mk(e,A,i,y),Pc(e.schema,A)?le.none():le.some(y?n.slice(1):n.slice(0,-1))}).getOr(n);GF(c),XF(e)}),EW=(e,n,o,i)=>le.some(()=>{const c=e.selection.getRng(),p=n[0],y=o[o.length-1];mk(e,p,c,!0),mk(e,y,c,!1);const E=Pc(e.schema,p)?n:n.slice(1),A=Pc(e.schema,y)?o:o.slice(0,-1);GF(E.concat(A)),i.deleteContents(),XF(e)}),DN=(e,n,o,i=!0)=>le.some(()=>{jF(e,n,o,i)}),Qoe=(e,n)=>le.some(()=>rb(e,!1,n)),kW=(e,n,o)=>xW(n,o).bind(i=>i.fold(qt(DN,e),qt(Qoe,e),qt(TW,e),qt(EW,e))),Br=(e,n)=>LC(e,n),Qx=(e,n,o,i)=>RC(n,i).fold(()=>kW(e,n,o),c=>Br(e,c)),ab=(e,n,o)=>{const i=Ve.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?TW(e,o,le.none()):Qx(e,i,c,n)},h1=(e,n)=>Vn(Pg(n,e),vd),RC=(e,n)=>Vn(Pg(n,e),Qi("caption")),AN=(e,n,o,i,c)=>Ag(o,e.getBody(),c).bind(p=>h1(n,Ve.fromDom(p.getNode())).bind(y=>no(y,i)?le.none():le.some(Ze))),LC=(e,n)=>le.some(()=>{Nm(n),e.selection.setCursorLocation(n.dom,0)}),JF=(e,n,o,i)=>Tc(e.dom).bind(c=>Sd(e.dom).map(p=>n?o.isEqual(c)&&i.isEqual(p):o.isEqual(p)&&i.isEqual(c))).getOr(!0),DW=(e,n)=>LC(e,n),QF=(e,n,o)=>RC(e,Ve.fromDom(o.getNode())).fold(()=>le.some(Ze),i=>fa(!no(i,n),Ze)),eB=(e,n,o,i,c)=>Ag(o,e.getBody(),c).fold(()=>le.some(Ze),p=>JF(i,o,c,p)?DW(e,i):QF(n,i,p)),AW=(e,n,o,i)=>{const c=It.fromRangeStart(e.selection.getRng());return h1(o,i).bind(p=>Pc(e.schema,p,{checkRootAsContent:!1})?LC(e,p):AN(e,o,n,p,c))},OW=(e,n,o,i)=>{const c=It.fromRangeStart(e.selection.getRng());return Pc(e.schema,i)?LC(e,i):eB(e,o,n,i,c)},tB=(e,n)=>e?vF(n):fN(n),MW=(e,n)=>{const o=It.fromRangeStart(e.selection.getRng());return tB(n,o)||Cd(n,e.getBody(),o).exists(i=>tB(n,i))},NW=(e,n,o)=>{const i=Ve.fromDom(e.getBody());return RC(i,o).fold(()=>AW(e,n,i,o).orThunk(()=>fa(MW(e,n),Ze)),c=>OW(e,n,i,c))},ON=(e,n)=>{const o=Ve.fromDom(e.selection.getStart(!0)),i=eb(e);return e.selection.isCollapsed()&&i.length===0?NW(e,n,o):ab(e,o,i)},m1=(e,n)=>{let o=n;for(;o&&o!==e;){if(Bl(o)||Bi(o))return o;o=o.parentNode}return null},nB=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],ese=gn.each,oB=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(p,y)=>{if(p.nodeName!==y.nodeName||p.nodeType!==y.nodeType)return!1;const E=R=>{const q={};return ese(n.getAttribs(R),Q=>{const re=Q.nodeName.toLowerCase();re!=="style"&&!c(re)&&(q[re]=n.getAttrib(R,re))}),q},A=(R,q)=>{for(const Q in R)if(qo(R,Q)){const re=q[Q];if(Ln(re)||R[Q]!==re)return!1;delete q[Q]}for(const Q in q)if(qo(q,Q))return!1;return!0};return yo(p)&&yo(y)&&(!A(E(p),E(y))||!A(n.parseStyle(n.getAttrib(p,"style")),n.parseStyle(n.getAttrib(y,"style"))))?!1:!bf(p)&&!bf(y)},c=p=>Ws(nB,y=>Po(p,y))||o.has(p);return{compare:i,isAttributeInternal:c}},RW=(e,n)=>{if(pn(e))return{container:e,offset:n};const o=Lg.getNode(e,n);return pn(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&pn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&pn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},LW=e=>{const n=e.cloneRange(),o=RW(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=RW(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},pk=li.DOM,tse=()=>pk.create("span",{"data-mce-type":"bookmark"}),sB=(e,n,o)=>{if(yo(e)){const i=o();return e.hasChildNodes()?n===e.childNodes.length?e.appendChild(i):e.insertBefore(i,e.childNodes[n]):e.appendChild(i),{container:i,offset:0}}else return{container:e,offset:n}},rB=(e,n)=>{const o=i=>{let c=i.parentNode?.firstChild,p=0;for(;c;){if(c===i)return p;(!yo(c)||c.getAttribute("data-mce-type")!=="bookmark")&&p++,c=c.nextSibling}return-1};if(yo(e)&&et(e.parentNode)){const i=e;n=o(e),e=e.parentNode,pk.remove(i),!e.hasChildNodes()&&pk.isBlock(e)&&e.appendChild(pk.create("br"))}return{container:e,offset:n}},PW=(e,n,o,i)=>{const c=pk.createRng();return c.setStart(e,n),c.setEnd(o,i),LW(c)},lb=(e,n=tse)=>{const{container:o,offset:i}=sB(e.startContainer,e.startOffset,n);if(e.collapsed)return{startContainer:o,startOffset:i};{const{container:c,offset:p}=sB(e.endContainer,e.endOffset,n);return{startContainer:o,startOffset:i,endContainer:c,endOffset:p}}},mc=e=>{const{container:n,offset:o}=rB(e.startContainer,e.startOffset);if(!Ln(e.endContainer)&&!Ln(e.endOffset)){const{container:i,offset:c}=rB(e.endContainer,e.endOffset);return PW(n,o,i,c)}else return PW(n,o,n,o)},IW=(e,n,o,i)=>{if(gn.each(o.styles,(c,p)=>{e.setStyle(n,p,N(c,i))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},PC=(e,n,o,i,c)=>{const p=e.dom;Fe(o.onformat)&&o.onformat(n,o,i,c),IW(p,n,o,i),gn.each(o.attributes,(y,E)=>{p.setAttrib(n,E,N(y,i))}),gn.each(o.classes,y=>{const E=N(y,i);p.hasClass(n,E)||p.addClass(n,E)})},iB=e=>!Et(e.attributes)&&!Et(e.styles),aB=j,lB=(e,n,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const p=i[c];if(zt(p)&&p.inherit===!1&&e.dom.is(n,p.selector))return!0}return!1},MN=(e,n,o,i,c)=>{const p=e.dom.getRoot();if(n===p)return!1;const y=e.dom.getParent(n,E=>lB(e,E,o)?!0:E.parentNode===p||!!jm(e,E,o,i,!0));return!!jm(e,y,o,i,c)},gk=(e,n,o)=>Kt(o)&&aB(n,o.inline)||Wn(o)&&aB(n,o.block)?!0:zt(o)?yo(n)&&e.is(n,o.selector):!1,vk=(e,n,o,i,c,p)=>{const y=o[i],E=i==="attributes";if(Fe(o.onmatch))return o.onmatch(n,o,i);if(y){if(Fa(y)){for(let A=0;A<y.length;A++)if(E?e.getAttrib(n,y[A]):ue(e,n,y[A]))return!0}else for(const A in y)if(qo(y,A)){const R=E?e.getAttrib(n,A):ue(e,n,A),q=N(y[A],p),Q=ln(R)||fn(R);if(Q&&ln(q))continue;if(c&&Q&&!o.exact||(!c||o.exact)&&!aB(R,ee(q,A)))return!1}}return!0},jm=(e,n,o,i,c)=>{const p=e.formatter.get(o),y=e.dom;if(p&&yo(n))for(let E=0;E<p.length;E++){const A=p[E];if(gk(e.dom,n,A)&&vk(y,n,A,"attributes",c,i)&&vk(y,n,A,"styles",c,i)){const R=A.classes;if(R){for(let q=0;q<R.length;q++)if(!e.dom.hasClass(n,N(R[q],i)))return}return A}}},NN=(e,n,o,i,c)=>{if(i)return MN(e,i,n,o,c);if(i=e.selection.getNode(),MN(e,i,n,o,c))return!0;const p=e.selection.getStart();return!!(p!==i&&MN(e,p,n,o,c))},FW=(e,n,o)=>{const i=[],c={},p=e.selection.getStart();return e.dom.getParent(p,y=>{for(let E=0;E<n.length;E++){const A=n[E];!c[A]&&jm(e,y,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},Yi=(e,n)=>{const o=c=>no(c,Ve.fromDom(e.getBody())),i=(c,p)=>jm(e,c.dom,p)?le.some(p):le.none();return le.from(e.selection.getStart(!0)).bind(c=>Fl(Ve.fromDom(c),p=>Co(n,y=>i(p,y)),o)).getOrNull()},BW=(e,n)=>{const o=e.formatter.get(n),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),p=$e(i,c);for(let y=o.length-1;y>=0;y--){const E=o[y];if(!zt(E))return!0;for(let A=p.length-1;A>=0;A--)if(i.is(p[A],E.selector))return!0}}return!1},$W=(e,n,o)=>ir(o,(i,c)=>{const p=St(e,c);return e.formatter.matchNode(n,c,{},p)?i.concat([c]):i},[]),cb=Hl,cB=(e,n)=>e.importNode(n,!0),uB=e=>{if(e){const n=new Ti(e,e);for(let o=n.current();o;o=n.next())if(pn(o))return o}return null},RN=e=>{const n=Ve.fromTag("span");return ri(n,{id:yC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Sr(n,Ve.fromText(cb)),n},HW=e=>{const n=uB(e);return n&&n.data.charAt(0)===cb&&n.deleteData(0,1),n},bk=(e,n,o)=>{const i=e.dom,c=e.selection;if(ni(n))rb(e,!1,Ve.fromDom(n),o,!0);else{const p=c.getRng(),y=i.getParent(n,i.isBlock),E=p.startContainer,A=p.startOffset,R=p.endContainer,q=p.endOffset,Q=HW(n);i.remove(n,!0),E===Q&&A>0&&p.setStart(Q,A-1),R===Q&&q>0&&p.setEnd(Q,q-1),y&&i.isEmpty(y)&&Nm(Ve.fromDom(y)),c.setRng(p)}},LN=(e,n,o)=>{const i=e.dom,c=e.selection;if(n)bk(e,n,o);else if(n=Og(e.getBody(),c.getStart()),!n)for(;n=i.get(yC);)bk(e,n,o)},nse=(e,n,o)=>{const i=e.dom,c=i.getParent(o,qt(qi,e.schema));c&&i.isEmpty(c)?o.parentNode?.replaceChild(n,o):(KS(Ve.fromDom(o)),i.isEmpty(o)?o.parentNode?.replaceChild(n,o):i.insertAfter(n,o))},zW=(e,n)=>(e.appendChild(n),n),dB=(e,n)=>{const o=rr(e,(c,p)=>zW(c,p.cloneNode(!1)),n),i=o.ownerDocument??document;return zW(o,i.createTextNode(cb))},VW=(e,n,o,i,c,p)=>{const y=e.formatter,E=e.dom,A=At(Mn(y.get()),Q=>Q!==i&&!Si(Q,"removeformat")),R=$W(e,o,A);if(At(R,Q=>!dn(e,Q,i)).length>0){const Q=o.cloneNode(!1);return E.add(n,Q),y.remove(i,c,Q,p),E.remove(Q),le.some(Q)}else return le.none()},fB=e=>ug(e,ic(e).replace(new RegExp(`${as}$`)," ")),hB=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Su(Ve.fromDom(n)).each(i=>{cr(i)?fB(i):xh(i,c=>cr(c)).each(c=>{cr(c)&&fB(c)})})};e.once("input",i=>{i.data&&!Bp(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},mB=(e,n,o)=>{let i;const c=e.selection,p=e.formatter.get(n);if(!p)return;const y=c.getRng();let E=y.startOffset;const R=y.startContainer.nodeValue;i=Og(e.getBody(),c.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&E>0&&E<R.length&&q.test(R.charAt(E))&&q.test(R.charAt(E-1))){const Q=c.getBookmark();y.collapse(!0);let re=xd(e.dom,y,p);re=wf(re),e.formatter.apply(n,o,re),c.moveToBookmark(Q)}else{let Q=i?uB(i):null;(!i||Q?.data!==cb)&&(i=cB(e.getDoc(),RN(!0).dom),Q=i.firstChild,y.insertNode(i),E=1,hB(e,i)),e.formatter.apply(n,o,i),c.setCursorLocation(Q,E)}},UW=(e,n,o,i)=>{const c=e.dom,p=e.selection;let y=!1;const E=e.formatter.get(n);if(!E)return;const A=p.getRng(),R=A.startContainer,q=A.startOffset;let Q=R;pn(R)&&(q!==R.data.length&&(y=!0),Q=Q.parentNode);const re=[];let pe;for(;Q;){if(jm(e,Q,n,o,i)){pe=Q;break}Q.nextSibling&&(y=!0),re.push(Q),Q=Q.parentNode}if(pe)if(y){const Be=p.getBookmark();A.collapse(!0);let De=xd(c,A,E,{includeTrailingSpace:!0});De=wf(De),e.formatter.remove(n,o,De,i),p.moveToBookmark(Be)}else{const Be=Og(e.getBody(),pe),De=et(Be)?c.getParents(pe.parentNode,yt,Be):[],He=RN(!1).dom;nse(e,He,Be??pe);const ct=VW(e,He,pe,n,o,i),mt=dB([...re,...ct.toArray(),...De],He);Be&&bk(e,Be,et(Be)),p.setCursorLocation(mt,1),hB(e,He),c.isEmpty(pe)&&c.remove(pe)}},ur=(e,n,o)=>{const i=e.selection,c=e.getBody();LN(e,null,o),(n===8||n===46)&&i.isCollapsed()&&i.getStart().innerHTML===cb&&LN(e,Og(c,i.getStart()),!0),(n===37||n===39)&&LN(e,Og(c,i.getStart()),!0)},pB=e=>pn(e)&&ie(e.data,as),e2=e=>{e.on("mouseup keydown",n=>{ur(e,n.keyCode,pB(e.selection.getRng().endContainer))})},IC=e=>{const n=RN(!1),o=dB(e,n.dom);return{caretContainer:n,caretPosition:It(o,0)}},FC=(e,n)=>{const{caretContainer:o,caretPosition:i}=IC(n);return Va(Ve.fromDom(e),o),ii(Ve.fromDom(e)),i},t2=(e,n)=>{const{caretContainer:o,caretPosition:i}=IC(n);return e.insertNode(o.dom),i},PN=(e,n)=>{if(Kf(n.dom))return!1;const o=e.schema.getTextInlineElements();return qo(o,Qo(n))&&!Kf(n.dom)&&!Cp(n.dom)},WW=["fontWeight","fontStyle","color","fontSize","fontFamily"],ose=e=>dt(e.styles)&&Ws(Mn(e.styles),n=>fo(WW,n)),sse=e=>Vn(e,n=>Kt(n)&&n.inline==="span"&&ose(n)),jW=(e,n)=>{const o=e.get(n);return Et(o)?sse(o):le.none()},gB=(e,n)=>_c(n,It.fromRangeStart(e)).isNone(),ZW=(e,n)=>td(n,It.fromRangeEnd(e)).exists(o=>!ea(o.getNode())||td(n,o).isSome())===!1,vB=e=>n=>n0(n)&&e.isEditable(n),qW=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return gB(o,n[0])&&ZW(o,n[0])?n:[];{const i=yn(n).filter(y=>gB(o,y)).toArray(),c=Uo(n).filter(y=>ZW(o,y)).toArray(),p=n.slice(1,-1);return i.concat(p).concat(c)}},rse=e=>At(qW(e),vB(e.dom)),bB=e=>At(e.getSelectedBlocks(),vB(e.dom)),Gi=gn.each,yB=e=>yo(e)&&!bf(e)&&!Kf(e)&&!Cp(e),YW=(e,n)=>{for(let o=e;o;o=o[n]){if(pn(o)&&Lt(o.data))return e;if(yo(o)&&!bf(o))return o}return e},wB=(e,n,o)=>{const i=oB(e),c=Fi(n)&&e.dom.isEditable(n),p=Fi(o)&&e.dom.isEditable(o);if(c&&p){const y=YW(n,"previousSibling"),E=YW(o,"nextSibling");if(i.compare(y,E)){for(let A=y.nextSibling;A&&A!==E;){const R=A;A=A.nextSibling,y.appendChild(R)}return e.dom.remove(E),gn.each(gn.grep(E.childNodes),A=>{y.appendChild(A)}),y}}return o},BC=(e,n,o,i)=>{if(i&&n.merge_siblings!==!1){const c=wB(e,LE(i),i)??i;wB(e,c,LE(c,!0))}},GW=(e,n,o)=>{if(n.clear_child_styles){const i=n.links?"*:not(a)":"*";Gi(e.select(i,o),c=>{yB(c)&&e.isEditable(c)&&Gi(n.styles,(p,y)=>{e.setStyle(c,y,"")})})}},IN=(e,n,o)=>{Gi(e.childNodes,i=>{yB(i)&&(n(i)&&o(i),i.hasChildNodes()&&IN(i,n,o))})},ub=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Zr=(e,n)=>o=>!!(o&&ue(e,o,n)),pc=(e,n,o)=>i=>{e.setStyle(i,n,o),i.getAttribute("style")===""&&i.removeAttribute("style"),ub(e,i)},qd=Zl.generate([{keep:[]},{rename:["name"]},{removed:[]}]),KW=/^(src|href|style)$/,FN=gn.each,yk=j,XW=e=>/^(TR|TH|TD)$/.test(e.nodeName),BN=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),$C=(e,n,o)=>{let i=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(yo(i)){const p=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>p?p:c]}return pn(i)&&o&&c>=i.data.length&&(i=new Ti(i,e.getBody()).next()||i),pn(i)&&!o&&c===0&&(i=new Ti(i,e.getBody()).prev()||i),i},$N=(e,n)=>{const o=n?"firstChild":"lastChild",i=e[o];return XW(e)&&i?e.nodeName==="TR"&&i[o]||i:e},wk=(e,n,o,i)=>{const c=e.create(o,i);return n.parentNode?.insertBefore(c,n),c.appendChild(n),c},CB=(e,n,o,i,c)=>{const p=Ve.fromDom(n),y=Ve.fromDom(e.create(i,c)),E=o?sl(p):Sl(p);return Na(y,E),o?(Va(p,y),Id(y,p)):(xu(p,y),Sr(y,p)),y.dom},JW=(e,n)=>n.links&&e.nodeName==="A",SB=(e,n,o)=>{const i=n.parentNode;let c;const p=e.dom,y=$c(e);Wn(o)&&i===p.getRoot()&&(!o.list_block||!yk(n,o.list_block))&&vt(zs(n.childNodes),E=>{nb(e,y,E.nodeName.toLowerCase())?c?c.appendChild(E):(c=wk(p,E,y),p.setAttribs(c,e1(e))):c=null}),!(Ko(o)&&!yk(o.inline,n))&&p.remove(n,!0)},HN=(e,n,o)=>En(e)?{name:n,value:null}:{name:e,value:N(n,o)},xB=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},_B=(e,n,o,i,c)=>{let p=!1;FN(o.styles,(y,E)=>{const{name:A,value:R}=HN(E,y,i),q=ee(R,A);(o.remove_similar||P(R)||!yo(c)||yk(ue(e,c,A),q))&&e.setStyle(n,A,""),p=!0}),p&&xB(e,n)},QW=(e,n,o)=>{n==="removeformat"?vt(bB(e.selection),i=>{vt(WW,c=>e.dom.setStyle(i,c,"")),xB(e.dom,i)}):jW(e.formatter,n).each(i=>{vt(bB(e.selection),c=>_B(e.dom,c,i,o,null))})},zN=(e,n,o,i,c)=>{const p=e.dom,y=oB(e),E=e.schema;if(Kt(n)&&ce(E,n.inline)&&be(E,i)&&i.parentElement===e.getBody())return SB(e,i,n),qd.removed();if(!n.ceFalseOverride&&i&&p.getContentEditableParent(i)==="false"||i&&!gk(p,i,n)&&!JW(i,n))return qd.keep();const A=i,R=n.preserve_attributes;if(Kt(n)&&n.remove==="all"&&Et(R)){const q=At(p.getAttribs(A),Q=>fo(R,Q.name.toLowerCase()));if(p.removeAllAttribs(A),vt(q,Q=>p.setAttrib(A,Q.name,Q.value)),q.length>0)return qd.rename("span")}if(n.remove!=="all"){_B(p,A,n,o,c),FN(n.attributes,(Q,re)=>{const{name:pe,value:Be}=HN(re,Q,o);if(n.remove_similar||P(Be)||!yo(c)||yk(p.getAttrib(c,pe),Be)){if(pe==="class"){const De=p.getAttrib(A,pe);if(De){let He="";if(vt(De.split(/\s+/),ct=>{/mce\-\w+/.test(ct)&&(He+=(He?" ":"")+ct)}),He){p.setAttrib(A,pe,He);return}}}if(KW.test(pe)&&A.removeAttribute("data-mce-"+pe),pe==="style"&&Tl(["li"])(A)&&p.getStyle(A,"list-style-type")==="none"){A.removeAttribute(pe),p.setStyle(A,"list-style-type","none");return}pe==="class"&&A.removeAttribute("className"),A.removeAttribute(pe)}}),FN(n.classes,Q=>{Q=N(Q,o),(!yo(c)||p.hasClass(c,Q))&&p.removeClass(A,Q)});const q=p.getAttribs(A);for(let Q=0;Q<q.length;Q++){const re=q[Q].nodeName;if(!y.isAttributeInternal(re))return qd.keep()}}return n.remove!=="none"?(SB(e,A,n),qd.removed()):qd.keep()},VN=(e,n,o,i,c)=>{let p;return n.parentNode&&vt($e(e.dom,n.parentNode).reverse(),y=>{if(!p&&yo(y)&&y.id!=="_start"&&y.id!=="_end"){const E=jm(e,y,o,i,c);E&&E.split!==!1&&(p=y)}}),p},TB=(e,n,o,i)=>zN(e,n,o,i,i).fold(xt(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),xt(null)),UN=(e,n,o,i,c,p,y,E)=>{let A,R;const q=e.dom;if(o){const Q=o.parentNode;for(let re=i.parentNode;re&&re!==Q;re=re.parentNode){let pe=q.clone(re,!1);for(let Be=0;Be<n.length&&(pe=TB(e,n[Be],E,pe),pe!==null);Be++);pe&&(A&&pe.appendChild(A),R||(R=pe),A=pe)}(!y.mixed||!q.isBlock(o))&&(i=q.split(o,i)??i),A&&R&&(c.parentNode?.insertBefore(A,c),R.appendChild(c),Kt(y)&&BC(e,y,E,A))}return i},ise=(e,n,o,i,c)=>{const p=e.formatter.get(n),y=p[0],E=e.dom,A=e.selection,R=De=>{const He=VN(e,De,n,o,c);return UN(e,p,He,De,De,!0,y,o)},q=De=>bf(De)&&yo(De)&&(De.id==="_start"||De.id==="_end"),Q=De=>Ws(p,He=>Ck(e,He,o,De,De)),re=De=>{const He=zs(De.childNodes),mt=Q(De)||Ws(p,an=>gk(E,De,an)),gt=De.parentNode;if(!mt&&et(gt)&&Ts(y)&&Q(gt),y.deep&&He.length)for(let an=0;an<He.length;an++)re(He[an]);vt(["underline","line-through","overline"],an=>{yo(De)&&e.dom.getStyle(De,"text-decoration")===an&&De.parentNode&&Te(E,De.parentNode)===an&&Ck(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:an}},void 0,De)})},pe=De=>{const He=E.get(De?"_start":"_end");if(He){let ct=He[De?"firstChild":"lastChild"];return q(ct)&&(ct=ct[De?"firstChild":"lastChild"]),pn(ct)&&ct.data.length===0&&(ct=De?He.previousSibling||He.nextSibling:He.nextSibling||He.previousSibling),E.remove(He,!0),ct}else return null},Be=De=>{let He,ct,mt=xd(E,De,p,{includeTrailingSpace:De.collapsed});if(y.split){if(mt=wf(mt),He=$C(e,mt,!0),ct=$C(e,mt),He!==ct){if(He=$N(He,!0),ct=$N(ct,!1),BN(E,He,ct)){const Zt=le.from(He.firstChild).getOr(He);R(CB(E,Zt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),pe(!0);return}if(BN(E,ct,He)){const Zt=le.from(ct.lastChild).getOr(ct);R(CB(E,Zt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),pe(!1);return}He=wk(E,He,"span",{id:"_start","data-mce-type":"bookmark"}),ct=wk(E,ct,"span",{id:"_end","data-mce-type":"bookmark"});const gt=E.createRng();gt.setStartAfter(He),gt.setEndBefore(ct),hc(E,gt,Zt=>{vt(Zt,an=>{!bf(an)&&!bf(an.parentNode)&&R(an)})}),R(He),R(ct),He=pe(!0),ct=pe()}else He=ct=R(He);mt.startContainer=He.parentNode?He.parentNode:He,mt.startOffset=E.nodeIndex(He),mt.endContainer=ct.parentNode?ct.parentNode:ct,mt.endOffset=E.nodeIndex(ct)+1}hc(E,mt,gt=>{vt(gt,re)})};if(i){if(tb(i)){const De=E.createRng();De.setStartBefore(i),De.setEndAfter(i),Be(De)}else Be(i);ET(e,n,i,o);return}!A.isCollapsed()||!Kt(y)||eb(e).length?(RE(e,()=>Ux(e,Be),De=>Kt(y)&&NN(e,n,o,De)),e.nodeChanged()):UW(e,n,o,c),QW(e,n,o),ET(e,n,i,o)},su=(e,n,o,i,c)=>{(i||e.selection.isEditable())&&ise(e,n,o,i,c)},ej=(e,n,o,i)=>zN(e,n,o,i).fold(()=>le.some(i),c=>le.some(e.dom.rename(i,c)),le.none),Ck=(e,n,o,i,c)=>zN(e,n,o,i,c).fold(Yt,p=>(e.dom.rename(i,p),!0),yt),EB=["fontsize","subscript","superscript"],tj=["strikethrough",...EB],nj=(e,n,o)=>et(e.matchNode(n.dom,o,{},o==="fontsize")),WN=(e,n)=>Ws(EB,o=>nj(e,n,o)),kB=e=>fo(tj,e),n2=(e,n,o,i,c)=>{const p=Il(n,e).filter(Ji);return J(p,o).map(y=>{const E=p[y],A=i(E),R=[...c(Ra(E)).toArray(),..._e(p.slice(0,y),q=>o(q)?c(q).toArray():[Ra(q)])];return{container:E,innerWrapper:A,outerWrappers:R}})},oj=(e,n,o,i)=>{vt(zi(e),c=>{Ji(c)&&o(c)&&i(c).isNone()&&Cc(c)}),vt(zi(e),c=>Sr(n,c)),Id(e,n)},DB=(e,n)=>{if(n.length>0){const o=n[n.length-1];Va(e,o);const i=ir(n.slice(0,n.length-1),(c,p)=>(Sr(c,p),p),o);Sr(i,e)}},sj=(e,n,o,i,c)=>{const p=y=>no(Ve.fromDom(e.getRoot()),y)||e.isBlock(y.dom);vt(n,y=>{n2(p,y,o,i,c).each(({container:E,innerWrapper:A,outerWrappers:R})=>{e.split(E.dom,y.dom),oj(y,A,o,c),DB(y,R)})})},p1=(e,n,o)=>{const i=E=>et(jm(e,E.dom,n)),c=E=>{const A=Ve.fromTag(Qo(E)),R=jm(e,E.dom,n,{});return et(R)&&iB(R)&&PC(e,A.dom,R),A},p=E=>{const A=jm(e,E.dom,n,{});return et(A)?ej(e,A,{},E.dom).map(Ve.fromDom):le.some(E)},y=lb(e.selection.getRng());sj(e.dom,o,i,c,p),e.selection.setRng(mc(y))},AB=(e,n)=>_e(n,o=>{const i=Pe(o,c=>WN(e,c));return WN(e,o)?[o,...i]:i}),OB=(e,n,o)=>{if(kB(n)){const i=AB(e.formatter,o);p1(e,"strikethrough",i)}},MB=(e,n)=>{const o=At(n,i=>WN(e.formatter,i));p1(e,"strikethrough",o)},jN=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),NB=e=>e.name==="summary",rj=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},ZN=(e,n,o,i)=>{const c=o.name;for(let p=0,y=e.length;p<y;p++){const E=e[p];if(E.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:E,nodes:[o]}}}if(o.attributes)for(let p=0,y=n.length;p<y;p++){const E=n[p],A=E.name;if(A in o.attributes.map){const R=i.attributes[A];R?R.nodes.push(o):i.attributes[A]={filter:E,nodes:[o]}}}},ij=(e,n,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&rj(o,c=>{ZN(e,n,c,i)}),i},RB=(e,n)=>{const o=(i,c)=>{Mo(i,p=>{const y=zs(p.nodes);vt(p.filter.callbacks,E=>{for(let A=y.length-1;A>=0;A--){const R=y[A];(!(c?R.attr(p.filter.name)!==void 0:R.name===p.filter.name)||ln(R.parent))&&y.splice(A,1)}y.length>0&&E(y,p.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},LB=(e,n,o,i={})=>{const c=ij(e,n,o);RB(c,i)},qN=(e,n,o,i)=>{if((e.pad_empty_with_br||n.insert)&&o(i)){const p=new Pu("br",1);n.insert&&p.attr("data-mce-bogus","1"),i.empty().append(p)}else i.empty().append(new Pu("#text",3)).value=as},aj=e=>lj(e,"#text")&&e?.firstChild?.value===as,lj=(e,n)=>{const o=e?.firstChild;return et(o)&&o===e.lastChild&&o.name===n},cj=(e,n)=>e.getElementRule(n.name)?.paddEmpty===!0,o2=(e,n,o,i)=>i.isEmpty(n,o,c=>cj(e,c)),ase=(e,n)=>et(e)&&(n(e)||e.name==="br"),uj=e=>{let n;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(n=o)}return le.from(n)},YN=e=>{const n=[];for(let o=e.firstChild;et(o);o=o.walk())n.push(o);return n},s2=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!n.isValidChild(o.name,c.name)&&s2(c,n,o);e.unwrap()}},PB=(e,n,o,i=Ze)=>{const c=n.getTextBlockElements(),p=n.getNonEmptyElements(),y=n.getWhitespaceElements(),E=gn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,R=q=>q!==o&&!E[q.name];for(let q=0;q<e.length;q++){const Q=e[q];let re,pe,Be;if(!Q.parent||A.has(Q))continue;if(c[Q.name]&&Q.parent.name==="li"){let He=Q.next;for(;He&&c[He.name];){He.name="li",A.add(He),Q.parent.insert(He,Q.parent);He=He.next}Q.unwrap();continue}const De=[Q];for(re=Q.parent;re&&!n.isValidChild(re.name,Q.name)&&R(re);re=re.parent)De.push(re);if(re&&De.length>1)if(GN(n,Q,re))s2(Q,n);else{De.reverse(),pe=De[0].clone(),i(pe);let He=pe;for(let ct=0;ct<De.length-1;ct++){n.isValidChild(He.name,De[ct].name)&&ct>0?(Be=De[ct].clone(),i(Be),He.append(Be)):Be=He;for(let mt=De[ct].firstChild;mt&&mt!==De[ct+1];){const gt=mt.next;Be.append(mt),mt=gt}He=Be}o2(n,p,y,pe)?re.insert(Q,De[0],!0):(re.insert(pe,De[0],!0),re.insert(Q,pe)),re=De[0],(o2(n,p,y,re)||lj(re,"br"))&&re.empty().remove()}else if(Q.parent){if(Q.name==="li"){let He=Q.prev;if(He&&(He.name==="ul"||He.name==="ol")){He.append(Q);continue}if(He=Q.next,He&&(He.name==="ul"||He.name==="ol")&&He.firstChild){He.insert(Q,He.firstChild,!0);continue}const ct=new Pu("ul",1);i(ct),Q.wrap(ct);continue}if(n.isValidChild(Q.parent.name,"div")&&n.isValidChild("div",Q.name)){const He=new Pu("div",1);i(He),Q.wrap(He)}else s2(Q,n)}}},lse=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},GN=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&lse(o,"a")?!0:NB(o)&&jN(n)?!(o?.firstChild===n&&o?.lastChild===n):!1:!1,dj=(e,n,o,i)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,i),c},fj=e=>{const n=It.fromRangeStart(e),o=It.fromRangeEnd(e),i=e.commonAncestorContainer;return Cd(!1,i,o).map(c=>!Vh(n,o,i)&&Vh(n,c,i)?dj(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},Sk=e=>e.collapsed?e:fj(e),IB=gn.explode,FB=()=>{const e={};return{addFilter:(c,p)=>{vt(IB(c),y=>{qo(e,y)||(e[y]={name:y,callbacks:[]}),e[y].callbacks.push(p)})},getFilters:()=>Xi(e),removeFilter:(c,p)=>{vt(IB(c),y=>{if(qo(e,y))if(et(p)){const E=e[y],A=At(E.callbacks,R=>R!==p);A.length>0?E.callbacks=A:delete e[y]}else delete e[y]})}}},hj=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),BB=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),mj=(e,n)=>{vt(n,o=>{e.attr(o,null)})},pj=(e,n,o)=>{e.addNodeFilter("font",i=>{vt(i,c=>{const p=n.parse(c.attr("style")),y=c.attr("color"),E=c.attr("face"),A=c.attr("size");y&&(p.color=y),E&&(p["font-family"]=E),A&&Yn(A).each(R=>{p["font-size"]=o[R-1]}),c.name="span",c.attr("style",n.serialize(p)),mj(c,["color","face","size"])})})},db=(e,n,o)=>{e.addNodeFilter("strike",i=>{const c=n.type!=="html4";vt(i,p=>{if(c)p.name="s";else{const y=o.parse(p.attr("style"));y["text-decoration"]="line-through",p.name="span",p.attr("style",o.serialize(y))}})})},gj=(e,n,o)=>{const i=Mv();n.convert_fonts_to_spans&&pj(e,i,gn.explode(n.font_size_legacy_values??"")),db(e,o,i)},$B=(e,n,o)=>{n.inline_styles&&gj(e,n,o)},vj=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),bj=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},HB=e=>{try{return decodeURIComponent(e)}catch{return e}},xk=e=>{const[n,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const p=c[2]===";base64",y=HB(i),E=p?bj(y):y;return le.some({type:c[1],data:E,base64Encoded:p})}else return le.none()},KN=(e,n,o=!0)=>{let i=n;if(o)try{i=atob(n)}catch{return le.none()}const c=new Uint8Array(i.length);for(let p=0;p<c.length;p++)c[p]=i.charCodeAt(p);return le.some(new Blob([c],{type:e}))},zB=e=>new Promise((n,o)=>{xk(e).bind(({type:i,data:c,base64Encoded:p})=>KN(i,c,p)).fold(()=>o("Invalid data URI"),n)}),yj=e=>Po(e,"blob:")?vj(e):Po(e,"data:")?zB(e):Promise.reject("Unknown URI format"),VB=e=>new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=()=>{o(i.error?.message)},i.readAsDataURL(e)});let wj=0;const Cj=e=>"blobid"+wj++,UB=(e,n,o)=>xk(e).bind(({data:i,type:c,base64Encoded:p})=>{if(n&&!p)return le.none();{const y=p?i:btoa(i);return o(y,c)}}),g1=(e,n,o)=>{const i=e.create(Cj(),n,o);return e.add(i),i},XN=(e,n,o=!1)=>UB(n,o,(i,c)=>le.from(e.getByData(i,c)).orThunk(()=>KN(c,i).map(p=>g1(e,p,i)))),Sj=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Po(n,"blob:")){const i=e.getByUri(n);return et(i)?Promise.resolve(i):yj(n).then(c=>VB(c).then(p=>UB(p,!1,y=>le.some(g1(e,c,y))).getOrThunk(o)))}else return Po(n,"data:")?XN(e,n).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},xj=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,JN=e=>le.from(e.match(xj)).bind(n=>Gn(n,1)).map(n=>Po(n,"www.")?n.substring(4):n),WB=(e,n)=>{le.from(e.attr("src")).bind(JN).forall(o=>!fo(n,o))&&e.attr("sandbox","")},r2=(e,n)=>Po(e,`${n}/`),jB=e=>Ln(e)?"iframe":r2(e,"image")?"img":r2(e,"video")?"video":r2(e,"audio")?"audio":"iframe",_j=({type:e,src:n,width:o,height:i}={},c,p)=>{const y=jB(e),E=new Pu(y,1);return E.attr(y==="audio"?{src:n}:{src:n,width:o,height:i}),(y==="audio"||y==="video")&&E.attr("controls",""),y==="iframe"&&c&&WB(E,p),E},Tj=e=>et(e.attr("data-mce-bogus")),_k=e=>e.attr("src")===Xs.transparentSrc||et(e.attr("data-mce-placeholder")),Ej=(e,n)=>{const{blob_cache:o}=n;if(o){const i=c=>{const p=c.attr("src");_k(c)||Tj(c)||ln(p)||XN(o,p,!0).each(y=>{c.attr("src",y.blobUri())})};e.addAttributeFilter("src",c=>vt(c,i))}},ZB=(e,n)=>{const o=e.schema;e.addAttributeFilter("href",y=>{let E=y.length;const A=q=>q.split(" ").filter(re=>re.length>0).concat(["noopener"]).sort().join(" "),R=q=>{const Q=q?gn.trim(q):"";return/\b(noopener)\b/g.test(Q)?Q:A(Q)};if(!n.allow_unsafe_link_target)for(;E--;){const q=y[E];q.name==="a"&&q.attr("target")==="_blank"&&q.attr("rel",R(q.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",y=>{let E=y.length,A,R,q,Q;for(;E--;)if(Q=y[E],Q.name==="a"&&Q.firstChild&&!Q.attr("href"))for(q=Q.parent,A=Q.lastChild;A&&q;)R=A.prev,q.insert(A,Q),A=R}),n.fix_list_elements&&e.addNodeFilter("ul,ol",y=>{let E=y.length,A,R;for(;E--;)if(A=y[E],R=A.parent,R&&(R.name==="ul"||R.name==="ol"))if(A.prev&&A.prev.name==="li")A.prev.append(A);else{const q=new Pu("li",1);q.attr("style","list-style-type: none"),A.wrap(q)}});const i=o.getValidClasses();n.validate&&i&&e.addAttributeFilter("class",y=>{let E=y.length;for(;E--;){const A=y[E],R=A.attr("class")??"",q=gn.explode(R," ");let Q="";for(let re=0;re<q.length;re++){const pe=q[re];let Be=!1,De=i["*"];De&&De[pe]&&(Be=!0),De=i[A.name],!Be&&De&&De[pe]&&(Be=!0),Be&&(Q&&(Q+=" "),Q+=pe)}Q.length||(Q=null),A.attr("class",Q)}}),Ej(e,n);const c=n.sandbox_iframes??!1,p=Ci(n.sandbox_iframes_exclusions??[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",y=>vt(y,E=>{E.replace(_j({type:E.attr("type"),src:E.name==="object"?E.attr("data"):E.attr("src"),width:E.attr("width"),height:E.attr("height")},c,p))})),c&&e.addNodeFilter("iframe",y=>vt(y,E=>WB(E,p)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:qB,setPrototypeOf:QN,isFrozen:YB,getPrototypeOf:GB,getOwnPropertyDescriptor:kj}=Object;let{freeze:Yd,seal:Zm,create:KB}=Object,{apply:e4,construct:Ed}=typeof Reflect<"u"&&Reflect;Yd||(Yd=function(n){return n}),Zm||(Zm=function(n){return n}),e4||(e4=function(n,o,i){return n.apply(o,i)}),Ed||(Ed=function(n,o){return new n(...o)});const i2=od(Array.prototype.forEach),Dj=od(Array.prototype.lastIndexOf),t4=od(Array.prototype.pop),a2=od(Array.prototype.push),Aj=od(Array.prototype.splice),Tk=od(String.prototype.toLowerCase),v1=od(String.prototype.toString),iy=od(String.prototype.match),Ek=od(String.prototype.replace),Oj=od(String.prototype.indexOf),Mj=od(String.prototype.trim),ru=od(Object.prototype.hasOwnProperty),xf=od(RegExp.prototype.test),l2=Nj(TypeError);function od(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return e4(e,n,i)}}function Nj(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Ed(e,o)}}function $i(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tk;QN&&QN(e,null);let i=n.length;for(;i--;){let c=n[i];if(typeof c=="string"){const p=o(c);p!==c&&(YB(n)||(n[i]=p),c=p)}e[c]=!0}return e}function n4(e){for(let n=0;n<e.length;n++)ru(e,n)||(e[n]=null);return e}function Ig(e){const n=KB(null);for(const[o,i]of qB(e))ru(e,o)&&(Array.isArray(i)?n[o]=n4(i):i&&typeof i=="object"&&i.constructor===Object?n[o]=Ig(i):n[o]=i);return n}function c2(e,n){for(;e!==null;){const i=kj(e,n);if(i){if(i.get)return od(i.get);if(typeof i.value=="function")return od(i.value)}e=GB(e)}function o(){return null}return o}const Rj=Yd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fg=Yd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),o4=Yd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lj=Yd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),s4=Yd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tr=Yd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XB=Yd(["#text"]),JB=Yd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),kk=Yd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QB=Yd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dk=Yd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gl=Zm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pj=Zm(/<%[\w\W]*|[\w\W]*%>/gm),Ij=Zm(/\$\{[\w\W]*/gm),Fj=Zm(/^data-[\-\w.\u00B7-\uFFFF]+$/),Bj=Zm(/^aria-[\-\w]+$/),ka=Zm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),e$=Zm(/^(?:\w+script|data):/i),t$=Zm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),n$=Zm(/^html$/i),o$=Zm(/^[a-z][.\w]*(-[.\w]+)+$/i);var s$=Object.freeze({__proto__:null,ARIA_ATTR:Bj,ATTR_WHITESPACE:t$,CUSTOM_ELEMENT:o$,DATA_ATTR:Fj,DOCTYPE_NAME:n$,ERB_EXPR:Pj,IS_ALLOWED_URI:ka,IS_SCRIPT_OR_DATA:e$,MUSTACHE_EXPR:gl,TMPLIT_EXPR:Ij});const qh={element:1,text:3,progressingInstruction:7,comment:8,document:9},r4=function(){return typeof window>"u"?null:window},$j=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const p="dompurify"+(i?"#"+i:"");try{return n.createPolicy(p,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}},r$=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ak(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r4();const n=yr=>Ak(yr);if(n.version="3.2.6",n.removed=[],!e||!e.document||e.document.nodeType!==qh.document||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const i=o,c=i.currentScript,{DocumentFragment:p,HTMLTemplateElement:y,Node:E,Element:A,NodeFilter:R,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Q,DOMParser:re,trustedTypes:pe}=e,Be=A.prototype,De=c2(Be,"cloneNode"),He=c2(Be,"remove"),ct=c2(Be,"nextSibling"),mt=c2(Be,"childNodes"),gt=c2(Be,"parentNode");if(typeof y=="function"){const yr=o.createElement("template");yr.content&&yr.content.ownerDocument&&(o=yr.content.ownerDocument)}let Zt,an="";const{implementation:Zn,createNodeIterator:Sn,createDocumentFragment:Gt,getElementsByTagName:jt}=o,{importNode:cn}=i;let uo=r$();n.isSupported=typeof qB=="function"&&typeof gt=="function"&&Zn&&Zn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ts,ERB_EXPR:Hs,TMPLIT_EXPR:mr,DATA_ATTR:Ki,ARIA_ATTR:ca,IS_SCRIPT_OR_DATA:Ul,ATTR_WHITESPACE:bc,CUSTOM_ELEMENT:nm}=s$;let{IS_ALLOWED_URI:to}=s$,Vo=null;const fi=$i({},[...Rj,...Fg,...o4,...s4,...XB]);let si=null;const Lo=$i({},[...JB,...kk,...QB,...Dk]);let Dn=Object.seal(KB(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xn=null,ss=null,ks=!0,ki=!0,ua=!1,om=!0,Ef=!1,qp=!0,Yp=!1,kf=!1,nf=!1,ip=!1,TS=!1,ES=!1,qA=!0,cs=!1;const Mr="user-content-";let Ol=!0,ga=!1,Ri={},vl=null;const Df=$i({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ad=null;const sm=$i({},["audio","video","img","source","image","track"]);let Sb=null;const YA=$i({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),GA="http://www.w3.org/1998/Math/MathML",b_="http://www.w3.org/2000/svg",Xg="http://www.w3.org/1999/xhtml";let kS=Xg,DP=!1,KA=null;const Ose=$i({},[GA,b_,Xg],v1);let AP=$i({},["mi","mo","mn","ms","mtext"]),OP=$i({},["annotation-xml"]);const Mse=$i({},["title","style","font","a","script"]);let XA=null;const DS=["application/xhtml+xml","text/html"],TV="text/html";let _t=null,Mt=null;const oo=o.createElement("form"),Hn=function(Pt){return Pt instanceof RegExp||Pt instanceof Function},vs=function(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mt&&Mt===Pt)){if((!Pt||typeof Pt!="object")&&(Pt={}),Pt=Ig(Pt),XA=DS.indexOf(Pt.PARSER_MEDIA_TYPE)===-1?TV:Pt.PARSER_MEDIA_TYPE,_t=XA==="application/xhtml+xml"?v1:Tk,Vo=ru(Pt,"ALLOWED_TAGS")?$i({},Pt.ALLOWED_TAGS,_t):fi,si=ru(Pt,"ALLOWED_ATTR")?$i({},Pt.ALLOWED_ATTR,_t):Lo,KA=ru(Pt,"ALLOWED_NAMESPACES")?$i({},Pt.ALLOWED_NAMESPACES,v1):Ose,Sb=ru(Pt,"ADD_URI_SAFE_ATTR")?$i(Ig(YA),Pt.ADD_URI_SAFE_ATTR,_t):YA,Ad=ru(Pt,"ADD_DATA_URI_TAGS")?$i(Ig(sm),Pt.ADD_DATA_URI_TAGS,_t):sm,vl=ru(Pt,"FORBID_CONTENTS")?$i({},Pt.FORBID_CONTENTS,_t):Df,Xn=ru(Pt,"FORBID_TAGS")?$i({},Pt.FORBID_TAGS,_t):Ig({}),ss=ru(Pt,"FORBID_ATTR")?$i({},Pt.FORBID_ATTR,_t):Ig({}),Ri=ru(Pt,"USE_PROFILES")?Pt.USE_PROFILES:!1,ks=Pt.ALLOW_ARIA_ATTR!==!1,ki=Pt.ALLOW_DATA_ATTR!==!1,ua=Pt.ALLOW_UNKNOWN_PROTOCOLS||!1,om=Pt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ef=Pt.SAFE_FOR_TEMPLATES||!1,qp=Pt.SAFE_FOR_XML!==!1,Yp=Pt.WHOLE_DOCUMENT||!1,ip=Pt.RETURN_DOM||!1,TS=Pt.RETURN_DOM_FRAGMENT||!1,ES=Pt.RETURN_TRUSTED_TYPE||!1,nf=Pt.FORCE_BODY||!1,qA=Pt.SANITIZE_DOM!==!1,cs=Pt.SANITIZE_NAMED_PROPS||!1,Ol=Pt.KEEP_CONTENT!==!1,ga=Pt.IN_PLACE||!1,to=Pt.ALLOWED_URI_REGEXP||ka,kS=Pt.NAMESPACE||Xg,AP=Pt.MATHML_TEXT_INTEGRATION_POINTS||AP,OP=Pt.HTML_INTEGRATION_POINTS||OP,Dn=Pt.CUSTOM_ELEMENT_HANDLING||{},Pt.CUSTOM_ELEMENT_HANDLING&&Hn(Pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dn.tagNameCheck=Pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Pt.CUSTOM_ELEMENT_HANDLING&&Hn(Pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dn.attributeNameCheck=Pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Pt.CUSTOM_ELEMENT_HANDLING&&typeof Pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dn.allowCustomizedBuiltInElements=Pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ef&&(ki=!1),TS&&(ip=!0),Ri&&(Vo=$i({},XB),si=[],Ri.html===!0&&($i(Vo,Rj),$i(si,JB)),Ri.svg===!0&&($i(Vo,Fg),$i(si,kk),$i(si,Dk)),Ri.svgFilters===!0&&($i(Vo,o4),$i(si,kk),$i(si,Dk)),Ri.mathMl===!0&&($i(Vo,s4),$i(si,QB),$i(si,Dk))),Pt.ADD_TAGS&&(Vo===fi&&(Vo=Ig(Vo)),$i(Vo,Pt.ADD_TAGS,_t)),Pt.ADD_ATTR&&(si===Lo&&(si=Ig(si)),$i(si,Pt.ADD_ATTR,_t)),Pt.ADD_URI_SAFE_ATTR&&$i(Sb,Pt.ADD_URI_SAFE_ATTR,_t),Pt.FORBID_CONTENTS&&(vl===Df&&(vl=Ig(vl)),$i(vl,Pt.FORBID_CONTENTS,_t)),Ol&&(Vo["#text"]=!0),Yp&&$i(Vo,["html","head","body"]),Vo.table&&($i(Vo,["tbody"]),delete Xn.tbody),Pt.TRUSTED_TYPES_POLICY){if(typeof Pt.TRUSTED_TYPES_POLICY.createHTML!="function")throw l2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Pt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw l2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Zt=Pt.TRUSTED_TYPES_POLICY,an=Zt.createHTML("")}else Zt===void 0&&(Zt=$j(pe,c)),Zt!==null&&typeof an=="string"&&(an=Zt.createHTML(""));Yd&&Yd(Pt),Mt=Pt}},Jr=$i({},[...Fg,...o4,...Lj]),ec=$i({},[...s4,...tr]),xb=function(Pt){let Wo=gt(Pt);(!Wo||!Wo.tagName)&&(Wo={namespaceURI:kS,tagName:"template"});const nr=Tk(Pt.tagName),zc=Tk(Wo.tagName);return KA[Pt.namespaceURI]?Pt.namespaceURI===b_?Wo.namespaceURI===Xg?nr==="svg":Wo.namespaceURI===GA?nr==="svg"&&(zc==="annotation-xml"||AP[zc]):!!Jr[nr]:Pt.namespaceURI===GA?Wo.namespaceURI===Xg?nr==="math":Wo.namespaceURI===b_?nr==="math"&&OP[zc]:!!ec[nr]:Pt.namespaceURI===Xg?Wo.namespaceURI===b_&&!OP[zc]||Wo.namespaceURI===GA&&!AP[zc]?!1:!ec[nr]&&(Mse[nr]||!Jr[nr]):!!(XA==="application/xhtml+xml"&&KA[Pt.namespaceURI]):!1},Jg=function(Pt){a2(n.removed,{element:Pt});try{gt(Pt).removeChild(Pt)}catch{He(Pt)}},JA=function(Pt,Wo){try{a2(n.removed,{attribute:Wo.getAttributeNode(Pt),from:Wo})}catch{a2(n.removed,{attribute:null,from:Wo})}if(Wo.removeAttribute(Pt),Pt==="is")if(ip||TS)try{Jg(Wo)}catch{}else try{Wo.setAttribute(Pt,"")}catch{}},Nse=function(Pt){let Wo=null,nr=null;if(nf)Pt="<remove></remove>"+Pt;else{const Od=iy(Pt,/^[\r\n\t ]+/);nr=Od&&Od[0]}XA==="application/xhtml+xml"&&kS===Xg&&(Pt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Pt+"</body></html>");const zc=Zt?Zt.createHTML(Pt):Pt;if(kS===Xg)try{Wo=new re().parseFromString(zc,XA)}catch{}if(!Wo||!Wo.documentElement){Wo=Zn.createDocument(kS,"template",null);try{Wo.documentElement.innerHTML=DP?an:zc}catch{}}const ch=Wo.body||Wo.documentElement;return Pt&&nr&&ch.insertBefore(o.createTextNode(nr),ch.childNodes[0]||null),kS===Xg?jt.call(Wo,Yp?"html":"body")[0]:Yp?Wo.documentElement:ch},Rse=function(Pt){return Sn.call(Pt.ownerDocument||Pt,Pt,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT|R.SHOW_PROCESSING_INSTRUCTION|R.SHOW_CDATA_SECTION,null)},yte=function(Pt){return Pt instanceof Q&&(typeof Pt.nodeName!="string"||typeof Pt.textContent!="string"||typeof Pt.removeChild!="function"||!(Pt.attributes instanceof q)||typeof Pt.removeAttribute!="function"||typeof Pt.setAttribute!="function"||typeof Pt.namespaceURI!="string"||typeof Pt.insertBefore!="function"||typeof Pt.hasChildNodes!="function")},Lse=function(Pt){return typeof E=="function"&&Pt instanceof E};function qy(yr,Pt,Wo){i2(yr,nr=>{nr.call(n,Pt,Wo,Mt)})}const Pse=function(Pt){let Wo=null;if(qy(uo.beforeSanitizeElements,Pt,null),yte(Pt))return Jg(Pt),!0;const nr=_t(Pt.nodeName);if(qy(uo.uponSanitizeElement,Pt,{tagName:nr,allowedTags:Vo}),qp&&Pt.hasChildNodes()&&!Lse(Pt.firstElementChild)&&xf(/<[/\w!]/g,Pt.innerHTML)&&xf(/<[/\w!]/g,Pt.textContent)||Pt.nodeType===qh.progressingInstruction||qp&&Pt.nodeType===qh.comment&&xf(/<[/\w]/g,Pt.data))return Jg(Pt),!0;if(!Vo[nr]||Xn[nr]){if(!Xn[nr]&&Fse(nr)&&(Dn.tagNameCheck instanceof RegExp&&xf(Dn.tagNameCheck,nr)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(nr)))return!1;if(Ol&&!vl[nr]){const zc=gt(Pt)||Pt.parentNode,ch=mt(Pt)||Pt.childNodes;if(ch&&zc){const Od=ch.length;for(let ap=Od-1;ap>=0;--ap){const Yy=De(ch[ap],!0);Yy.__removalCount=(Pt.__removalCount||0)+1,zc.insertBefore(Yy,ct(Pt))}}}return Jg(Pt),!0}return Pt instanceof A&&!xb(Pt)||(nr==="noscript"||nr==="noembed"||nr==="noframes")&&xf(/<\/no(script|embed|frames)/i,Pt.innerHTML)?(Jg(Pt),!0):(Ef&&Pt.nodeType===qh.text&&(Wo=Pt.textContent,i2([ts,Hs,mr],zc=>{Wo=Ek(Wo,zc," ")}),Pt.textContent!==Wo&&(a2(n.removed,{element:Pt.cloneNode()}),Pt.textContent=Wo)),qy(uo.afterSanitizeElements,Pt,null),!1)},Ise=function(Pt,Wo,nr){if(qA&&(Wo==="id"||Wo==="name")&&(nr in o||nr in oo))return!1;if(!(ki&&!ss[Wo]&&xf(Ki,Wo))){if(!(ks&&xf(ca,Wo))){if(!si[Wo]||ss[Wo]){if(!(Fse(Pt)&&(Dn.tagNameCheck instanceof RegExp&&xf(Dn.tagNameCheck,Pt)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Pt))&&(Dn.attributeNameCheck instanceof RegExp&&xf(Dn.attributeNameCheck,Wo)||Dn.attributeNameCheck instanceof Function&&Dn.attributeNameCheck(Wo))||Wo==="is"&&Dn.allowCustomizedBuiltInElements&&(Dn.tagNameCheck instanceof RegExp&&xf(Dn.tagNameCheck,nr)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(nr))))return!1}else if(!Sb[Wo]){if(!xf(to,Ek(nr,bc,""))){if(!((Wo==="src"||Wo==="xlink:href"||Wo==="href")&&Pt!=="script"&&Oj(nr,"data:")===0&&Ad[Pt])){if(!(ua&&!xf(Ul,Ek(nr,bc,"")))){if(nr)return!1}}}}}}return!0},Fse=function(Pt){return Pt!=="annotation-xml"&&iy(Pt,nm)},Bse=function(Pt){qy(uo.beforeSanitizeAttributes,Pt,null);const{attributes:Wo}=Pt;if(!Wo||yte(Pt))return;const nr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:si,forceKeepAttr:void 0};let zc=Wo.length;for(;zc--;){const ch=Wo[zc],{name:Od,namespaceURI:ap,value:Yy}=ch,MP=_t(Od),wte=Yy;let uh=Od==="value"?wte:Mj(wte);if(nr.attrName=MP,nr.attrValue=uh,nr.keepAttr=!0,nr.forceKeepAttr=void 0,qy(uo.uponSanitizeAttribute,Pt,nr),uh=nr.attrValue,cs&&(MP==="id"||MP==="name")&&(JA(Od,Pt),uh=Mr+uh),qp&&xf(/((--!?|])>)|<\/(style|title)/i,uh)){JA(Od,Pt);continue}if(nr.forceKeepAttr)continue;if(!nr.keepAttr){JA(Od,Pt);continue}if(!om&&xf(/\/>/i,uh)){JA(Od,Pt);continue}Ef&&i2([ts,Hs,mr],Hse=>{uh=Ek(uh,Hse," ")});const $se=_t(Pt.nodeName);if(!Ise($se,MP,uh)){JA(Od,Pt);continue}if(Zt&&typeof pe=="object"&&typeof pe.getAttributeType=="function"&&!ap)switch(pe.getAttributeType($se,MP)){case"TrustedHTML":{uh=Zt.createHTML(uh);break}case"TrustedScriptURL":{uh=Zt.createScriptURL(uh);break}}if(uh!==wte)try{ap?Pt.setAttributeNS(ap,Od,uh):Pt.setAttribute(Od,uh),yte(Pt)?Jg(Pt):t4(n.removed)}catch{JA(Od,Pt)}}qy(uo.afterSanitizeAttributes,Pt,null)},Uce=function yr(Pt){let Wo=null;const nr=Rse(Pt);for(qy(uo.beforeSanitizeShadowDOM,Pt,null);Wo=nr.nextNode();)qy(uo.uponSanitizeShadowNode,Wo,null),Pse(Wo),Bse(Wo),Wo.content instanceof p&&yr(Wo.content);qy(uo.afterSanitizeShadowDOM,Pt,null)};return n.sanitize=function(yr){let Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wo=null,nr=null,zc=null,ch=null;if(DP=!yr,DP&&(yr="<!-->"),typeof yr!="string"&&!Lse(yr))if(typeof yr.toString=="function"){if(yr=yr.toString(),typeof yr!="string")throw l2("dirty is not a string, aborting")}else throw l2("toString is not a function");if(!n.isSupported)return yr;if(kf||vs(Pt),n.removed=[],typeof yr=="string"&&(ga=!1),ga){if(yr.nodeName){const Yy=_t(yr.nodeName);if(!Vo[Yy]||Xn[Yy])throw l2("root node is forbidden and cannot be sanitized in-place")}}else if(yr instanceof E)Wo=Nse("<!---->"),nr=Wo.ownerDocument.importNode(yr,!0),nr.nodeType===qh.element&&nr.nodeName==="BODY"||nr.nodeName==="HTML"?Wo=nr:Wo.appendChild(nr);else{if(!ip&&!Ef&&!Yp&&yr.indexOf("<")===-1)return Zt&&ES?Zt.createHTML(yr):yr;if(Wo=Nse(yr),!Wo)return ip?null:ES?an:""}Wo&&nf&&Jg(Wo.firstChild);const Od=Rse(ga?yr:Wo);for(;zc=Od.nextNode();)Pse(zc),Bse(zc),zc.content instanceof p&&Uce(zc.content);if(ga)return yr;if(ip){if(TS)for(ch=Gt.call(Wo.ownerDocument);Wo.firstChild;)ch.appendChild(Wo.firstChild);else ch=Wo;return(si.shadowroot||si.shadowrootmode)&&(ch=cn.call(i,ch,!0)),ch}let ap=Yp?Wo.outerHTML:Wo.innerHTML;return Yp&&Vo["!doctype"]&&Wo.ownerDocument&&Wo.ownerDocument.doctype&&Wo.ownerDocument.doctype.name&&xf(n$,Wo.ownerDocument.doctype.name)&&(ap="<!DOCTYPE "+Wo.ownerDocument.doctype.name+`>
`+ap),Ef&&i2([ts,Hs,mr],Yy=>{ap=Ek(ap,Yy," ")}),Zt&&ES?Zt.createHTML(ap):ap},n.setConfig=function(){let yr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vs(yr),kf=!0},n.clearConfig=function(){Mt=null,kf=!1},n.isValidAttribute=function(yr,Pt,Wo){Mt||vs({});const nr=_t(yr),zc=_t(Pt);return Ise(nr,zc,Wo)},n.addHook=function(yr,Pt){typeof Pt=="function"&&a2(uo[yr],Pt)},n.removeHook=function(yr,Pt){if(Pt!==void 0){const Wo=Dj(uo[yr],Pt);return Wo===-1?void 0:Aj(uo[yr],Wo,1)[0]}return t4(uo[yr])},n.removeHooks=function(yr){uo[yr]=[]},n.removeAllHooks=function(){uo=r$()},n}var i4=Ak();const i$=gn.each,gc=gn.trim,Hj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],b1={ftp:21,http:80,https:443,mailto:25},zj=["img","video"],Vj=(e,n)=>et(e)?!e:et(n)?!fo(zj,n):!0,Uj=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},a$=(e,n,o)=>{const i=Uj(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?Vj(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class qm{static parseDataUri(n){let o;const i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(n,o,i={}){if(i.allow_script_urls)return!0;{const c=Mh.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!a$(i,c,o)}}static getDocumentBaseUrl(n){let o;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?o=n.href??"":o=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(n,o={}){n=gc(n),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const p=n.indexOf("//")===0;if(n.indexOf("/")===0&&!p&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const E=i?i.path:new qm(document.location.href).directory;if(i?.protocol==="")n="//mce_host"+c.toAbsPath(E,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(E,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);y&&i$(Hj,(E,A)=>{let R=y[A];R&&(R=R.replace(/\(mce_at\)/g,"@@")),c[E]=R}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),p&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new qm(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let p=this.toRelPath(this.path,o.path);return o.query&&(p+="?"+o.query),o.anchor&&(p+="#"+o.anchor),p}toAbsolute(n,o){const i=new qm(n,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?b1[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let i=0,c="",p,y;const E=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(E.length>=A.length){for(p=0,y=E.length;p<y;p++)if(p>=A.length||E[p]!==A[p]){i=p+1;break}}if(E.length<A.length){for(p=0,y=A.length;p<y;p++)if(p>=E.length||E[p]!==A[p]){i=p+1;break}}if(i===1)return o;for(p=0,y=E.length-(i-1);p<y;p++)c+="../";for(p=i-1,y=A.length;p<y;p++)p!==i-1?c+="/"+A[p]:c+=A[p];return c}toAbsPath(n,o){let i=0;const c=/\/$/.test(o)?"/":"",p=n.split("/"),y=o.split("/"),E=[];i$(p,Q=>{Q&&E.push(Q)});const A=[];for(let Q=y.length-1;Q>=0;Q--)if(!(y[Q].length===0||y[Q]===".")){if(y[Q]===".."){i++;continue}if(i>0){i--;continue}A.push(y[Q])}const R=E.length-i;let q;return R<=0?q=ot(A).join("/"):q=E.slice(0,R).join("/")+"/"+ot(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),c&&q.lastIndexOf("/")!==q.length-1&&(q+=c),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const Wj=gn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),a4="data-mce-type";let l$=0;const c$=(e,n,o,i,c)=>{const p=n.validate,y=o.getSpecialElements();e.nodeType===vn&&(!n.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),n.sanitize&&n.allow_html_in_comments&&xe(e.nodeValue)&&(e.nodeValue=hj(e.nodeValue)));const E=c?.tagName??e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){et(c)&&(c.allowedTags[E]=!0);return}if(e.nodeType!==ys||E==="body")return;const A=Ve.fromDom(e),R=_i(A,a4),q=ui(A,"data-mce-bogus");if(!R&&xe(q)){q==="all"?ii(A):Cc(A);return}const Q=o.getElementRule(E);if(p&&!Q){qo(y,E)?ii(A):Cc(A);return}else et(c)&&(c.allowedTags[E]=!0);if(p&&Q&&!R){if(vt(Q.attributesForced??[],re=>{xr(A,re.name,re.value==="{$uid}"?`mce_${l$++}`:re.value)}),vt(Q.attributesDefault??[],re=>{_i(A,re.name)||xr(A,re.name,re.value==="{$uid}"?`mce_${l$++}`:re.value)}),Q.attributesRequired&&!Ws(Q.attributesRequired,re=>_i(A,re))){Cc(A);return}if(Q.removeEmptyAttrs&&fm(A)){Cc(A);return}Q.outputName&&Q.outputName!==E&&Fd(A,Q.outputName)}},Ok=(e,n,o,i,c)=>{const p=e.tagName.toLowerCase(),{attrName:y,attrValue:E}=c;c.keepAttr=u$(n,o,i,p,y,E),c.keepAttr?(c.allowedAttributes[y]=!0,jj(y,o,e.nodeName)&&(c.attrValue=y),n.allow_svg_data_urls&&Po(E,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):d$(e,y)&&(c.forceKeepAttr=!0)},u$=(e,n,o,i,c,p)=>o!=="html"&&!eu(i)?!0:!(c in Wj&&a$(e,p,i))&&(!e.validate||n.isValid(i,c)||Po(c,"data-")||Po(c,"aria-")),d$=(e,n)=>e.hasAttribute(a4)&&(n==="id"||n==="class"||n==="style"),jj=(e,n,o)=>e in n.getBoolAttrs()&&!qo(n.getCustomElements(),o.toLowerCase()),u2=(e,n,o,i)=>{const{attributes:c}=e;for(let p=c.length-1;p>=0;p--){const y=c[p],E=y.name,A=y.value;!u$(n,o,i,e.tagName.toLowerCase(),E,A)&&!d$(e,E)?e.removeAttribute(E):jj(E,o,e.nodeName)&&e.setAttribute(E,E)}},Zj=(e,n,o)=>{const i=i4();return i.addHook("uponSanitizeElement",(c,p)=>{c$(c,e,n,o.track(c),p)}),i.addHook("uponSanitizeAttribute",(c,p)=>{Ok(c,e,n,o.current(),p)}),i},l4=(e,n)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=n,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},qj=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(i=>`xlink:${i}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};i4().sanitize(e,o)},Yj=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},i=i4(),c=n.allow_mathml_annotation_encodings,p=Et(c)&&c.length>0,y=A=>{const R=A.getAttribute("encoding");return p&&xe(R)&&fo(c,R)},E=(A,R)=>p&&R==="semantics"?le.some(!0):R==="annotation"?le.some(yo(A)&&y(A)):Et(n.extended_mathml_elements)&&n.extended_mathml_elements.includes(R)?le.from(!0):le.none();i.addHook("uponSanitizeElement",(A,R)=>{const q=R.tagName??A.nodeName.toLowerCase();E(A,q).each(re=>{R.allowedTags[q]=re,!re&&n.sanitize&&yo(A)&&A.remove()})}),i.addHook("uponSanitizeAttribute",(A,R)=>{Et(n.extended_mathml_attributes)&&n.extended_mathml_attributes.includes(R.attrName)&&(R.forceKeepAttr=!0)}),i.sanitize(e,o)},Gj=e=>n=>{const o=gw(n);if(o==="svg")qj(n);else if(o==="math")Yj(n,e);else throw new Error("Not a namespace element")},Kj=(e,n)=>{const o=Hb();if(e.sanitize){const i=Zj(e,n,o);return{sanitizeHtmlElement:(p,y)=>{i.sanitize(p,l4(e,y)),i.removed=[],o.reset()},sanitizeNamespaceElement:Gj(e)}}else return{sanitizeHtmlElement:(p,y)=>{const E=document.createNodeIterator(p,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=E.nextNode();){const R=o.track(A);c$(A,e,n,R),yo(A)&&u2(A,e,n,R)}o.reset()},sanitizeNamespaceElement:Ze}},y1=["script","style","template","param","meta","title","link"],w1=gn.makeMap,d2=gn.extend,f2=(e,n,o,i,c)=>{const p=e.name,y=p in o&&p!=="title"&&p!=="textarea"&&p!=="noscript",E=n.childNodes;for(let A=0,R=E.length;A<R;A++){const q=E[A],Q=new Pu(q.nodeName.toLowerCase(),q.nodeType);if(yo(q)){const re=q.attributes;for(let pe=0,Be=re.length;pe<Be;pe++){const De=re[pe];Q.attr(De.name,De.value)}eu(Q.name)&&(i(q),Q.value=q.innerHTML)}else pn(q)?(Q.value=q.data,y&&(Q.raw=!0)):xa(q)?Q.value=c?BB(q.data):q.data:(Pb(q)||Q1(q))&&(Q.value=q.data);if(Ib(q)){const re=Pu.create("#text");re.value=q.innerHTML,re.raw=!0,Q.append(re)}else eu(Q.name)||f2(Q,q,o,i,c);e.append(Q)}},ay=(e,n,o)=>{const i=[];for(let c=e,p=c;c;p=c,c=c.walk()){const y=c;vt(n,E=>E(y)),ln(y.parent)&&y!==e?c=p:i.push(y)}for(let c=i.length-1;c>=0;c--){const p=i[c];vt(o,y=>y(p))}},ly=(e,n,o,i)=>{const c=o.validate,p=n.getNonEmptyElements(),y=n.getWhitespaceElements(),E=d2(w1(y1),n.getBlockElements()),A=V_(n),R=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,Q=/[ \t\r\n]+$/,re=mt=>{let gt=mt.parent;for(;et(gt);){if(gt.name in y)return!0;gt=gt.parent}return!1},pe=mt=>{let gt=mt;for(;et(gt);){if(gt.name in A)return o2(n,p,y,gt);gt=gt.parent}return!1},Be=mt=>mt.name in E||Ot(n,mt)||eu(mt.name)&&mt.parent===e,De=(mt,gt)=>{const Zt=gt?mt.prev:mt.next;return et(Zt)||ln(mt.parent)?!1:Be(mt.parent)&&(mt.parent!==e||i.isRootContent===!0)};return[mt=>{if(mt.type===3&&!re(mt)){let gt=mt.value??"";gt=gt.replace(R," "),(ase(mt.prev,Be)||De(mt,!0))&&(gt=gt.replace(q,"")),gt.length===0||gt===" "&&mt.prev&&mt.prev.type===vn&&mt.next&&mt.next.type===vn?mt.remove():mt.value=gt}},mt=>{if(mt.type===1){const gt=n.getElementRule(mt.name);if(c&&gt){const Zt=o2(n,p,y,mt);gt.paddInEmptyBlock&&Zt&&pe(mt)?qN(o,i,Be,mt):gt.removeEmpty&&Zt?Be(mt)?mt.remove():mt.unwrap():gt.paddEmpty&&(Zt||aj(mt))&&qN(o,i,Be,mt)}}else if(mt.type===3&&!re(mt)){let gt=mt.value??"";(mt.next&&Be(mt.next)||De(mt,!1))&&(gt=gt.replace(Q,"")),gt.length===0?mt.remove():mt.value=gt}}]},Mk=(e,n)=>{const o=n.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},h2=' xmlns="http://www.w3.org/1999/xhtml"',cy=(e={},n=Uf())=>{const o=FB(),i=FB(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},p=new DOMParser,y=Kj(c,n),E=(gt,Zt,an="html",Zn=!1)=>{const Sn=an==="xhtml",Gt=Sn?"application/xhtml+xml":"text/html",jt=qo(n.getSpecialElements(),Zt.toLowerCase()),cn=jt?`<${Zt}>${gt}</${Zt}>`:gt,uo=()=>/^[\s]*<head/i.test(gt)||/^[\s]*<html/i.test(gt)||/^[\s]*<!DOCTYPE/i.test(gt)?`<html${Sn?h2:""}>${cn}</html>`:Sn?`<html${h2}><head></head><body>${cn}</body></html>`:`<body>${cn}</body>`,ts=p.parseFromString(uo(),Gt),Hs=Zn?ts.documentElement:ts.body;return y.sanitizeHtmlElement(Hs,Gt),jt?Hs.firstChild:Hs},A=o.addFilter,R=o.getFilters,q=o.removeFilter,Q=i.addFilter,re=i.getFilters,pe=i.removeFilter,Be=(gt,Zt)=>{GN(n,gt)&&Zt.push(gt)},De=(gt,Zt)=>{const an=xe(Zt.attr(a4)),Zn=Zt.type===1&&!qo(gt,Zt.name)&&!Ot(n,Zt)&&!eu(Zt.name);return Zt.type===3||Zn&&!an},He=(gt,Zt)=>{const an=d2(w1(y1),n.getBlockElements()),Zn=/^[ \t\r\n]+/,Sn=/[ \t\r\n]+$/;let Gt=gt.firstChild,jt=null;const cn=uo=>{uo&&(Gt=uo.firstChild,Gt&&Gt.type===3&&(Gt.value=Gt.value?.replace(Zn,"")),Gt=uo.lastChild,Gt&&Gt.type===3&&(Gt.value=Gt.value?.replace(Sn,"")))};if(n.isValidChild(gt.name,Zt.toLowerCase())){for(;Gt;){const uo=Gt.next;De(an,Gt)?(jt||(jt=new Pu(Zt,1),jt.attr(c.forced_root_block_attrs),gt.insert(jt,Gt)),jt.append(Gt)):(cn(jt),jt=null),Gt=uo}cn(jt)}},mt={schema:n,addAttributeFilter:Q,getAttributeFilters:re,removeAttributeFilter:pe,addNodeFilter:A,getNodeFilters:R,removeNodeFilter:q,parse:(gt,Zt={})=>{const an=c.validate,Zn=(Zt.context??c.root_name)==="#document",Sn=Zt.context??(Zn?"html":c.root_name),Gt=E(gt,Sn,Zt.format,Zn);D(n,Gt);const jt=new Pu(Sn,11);f2(jt,Gt,n.getSpecialElements(),y.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),Gt.innerHTML="";const[cn,uo]=ly(jt,n,c,Zt),ts=[],Hs=an?Ul=>Be(Ul,ts):Ze,mr={nodes:{},attributes:{}},Ki=Ul=>ZN(R(),re(),Ul,mr);ay(jt,[cn,Ki],[uo,Hs]),ts.reverse(),an&&ts.length>0&&(Zt.context?Zt.invalid=!0:PB(ts,n,jt,Ki));const ca=Mk(c,Zt);return ca&&(jt.name==="body"||Zt.isRootContent)&&He(jt,ca),Zt.invalid||RB(mr,Zt),jt}};return ZB(mt,c),$B(mt,c,n),mt},HC=e=>e instanceof Pu,c4=e=>HC(e)?oy({validate:!1}).serialize(e):e,u4=(e,n,o)=>{const i=c4(e),c=n(i);if(c.isDefaultPrevented())return c;if(HC(e))if(c.content!==i){const p=cy({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:p}}else return{...c,content:e};else return c},d4=e=>({sanitize:Ox(e),sandbox_iframes:cC(e),sandbox_iframes_exclusions:B0(e)}),uy=(e,n)=>{if(n.no_events)return Ge.value(n);{const o=DT(e,n);return o.isDefaultPrevented()?Ge.error(AT(e,{content:"",...o}).content):Ge.value(o)}},f4=(e,n,o)=>o.no_events?n:u4(n,c=>AT(e,{...o,content:c}),d4(e)).content,Nk=(e,n)=>{if(n.no_events)return Ge.value(n);{const o=u4(n.content,i=>xc(e,{...n,content:i}),d4(e));return o.isDefaultPrevented()?(kT(e,o),Ge.error(void 0)):Ge.value(o)}},Rk=(e,n,o)=>{o.no_events||kT(e,{...o,content:n})},Lk="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),f$=["content_css_cors"],h$="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),h4=[{name:"export",replacedWith:"Export to PDF"}],m4=(e,n)=>{const o=At(n,i=>qo(e,i));return ro(o)},fb=e=>{const n=m4(e,Lk),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),ro(n)},C1=e=>m4(e,f$),Yh=(e,n)=>{const o=gn.makeMap(e.plugins," "),c=At(n,p=>qo(o,p));return ro(c)},Xj=e=>Yh(e,h$),Jj=e=>Yh(e,h4.map(n=>n.name)),Qj=(e,n)=>{const o=fb(e),i=Xj(n),c=i.length>0,p=o.length>0,y=n.theme==="mobile";if(c||p||y){const A=y?`

Themes:
- mobile`:"",R=c?`

Plugins:
- ${i.join(`
- `)}`:"",q=p?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+A+R+q)}},eZ=e=>Vn(h4,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),tZ=(e,n)=>{const o=C1(e),i=Jj(n),c=i.length>0,p=o.length>0;if(c||p){const E=c?`

Plugins:
- ${i.map(eZ).join(`
- `)}`:"",A=p?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+E+A)}},nZ=(e,n)=>{Qj(e,n),tZ(e,n)},oZ={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},m$=e=>{console.warn(oZ[e],new Error().stack)},p$=e=>e.dom.length===0?(ii(e),le.none()):le.some(e),sZ=(e,n)=>e.filter(o=>Q0.isBookmarkNode(o.dom)).bind(n?rc:Su),rZ=(e,n,o,i,c)=>{const p=e.dom,y=n.dom,E=i?p.length:y.length;i?(wN(p,y,c,!1,!i),o.setStart(y,E)):(wN(y,p,c,!1,!i),o.setEnd(y,E))},iZ=(e,n,o)=>{Pl(e).each(i=>{const c=e.dom;n&&Xx(i,It(c,0),o)?nk(c,0,o):!n&&NC(i,It(c,c.length),o)&&ok(c,c.length,o)})},Pk=(e,n,o,i,c)=>{e.bind(p=>((i?ok:nk)(p.dom,i?p.dom.length:0,c),n.filter(cr).map(E=>rZ(p,E,o,i,c)))).orThunk(()=>sZ(n,i).or(n).filter(cr).map(y=>iZ(y,i,c)))},p4=(e,n,o)=>{const i=le.from(n.firstChild).map(Ve.fromDom),c=le.from(n.lastChild).map(Ve.fromDom);e.deleteContents(),e.insertNode(n);const p=i.bind(Su).filter(cr).bind(p$),y=c.bind(rc).filter(cr).bind(p$);Pk(p,i,e,!0,o),Pk(y,c,e,!1,o),e.collapse(!1)},g$=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),aZ=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},p=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return oy({validate:!1},e.schema).serialize(p)}else return n.content},Ik=(e,n,o={})=>{const i=g$(o,n);Nk(e,i).each(c=>{const p=aZ(e,c),y=e.selection.getRng();p4(y,y.createContextualFragment(p),e.schema),e.selection.setRng(y),ty(e,y),Rk(e,p,c)})},v$=(e,n,o={})=>{m$("selectionSetContent"),Ik(e,n,o)},b$=e=>et(e.firstChild)&&e.firstChild===e.lastChild,g4=e=>e.name==="br"||e.value===as,y$=(e,n)=>e.getBlockElements()[n.name]&&b$(n)&&g4(n.firstChild),w$=(e,n)=>{const o=e.getNonEmptyElements();return et(n)&&(n.isEmpty(o)||y$(e,n))},v4=(e,n)=>{let o=n.firstChild,i=n.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),w$(e,i)&&(i=i?.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},lZ=e=>{const n=e.firstChild,o=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode?.removeChild(n),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},cZ=(e,n,o)=>{const i=n.serialize(o),c=e.createFragment(i);return lZ(c)},Bg=e=>At(e?.childNodes??[],n=>n.nodeName==="LI"),Ym=e=>e.data===as||ea(e),Fk=e=>et(e?.firstChild)&&e.firstChild===e.lastChild&&Ym(e.firstChild),C$=e=>!e.firstChild||Fk(e),Bk=e=>e.length>0&&C$(e[e.length-1])?e.slice(0,-1):e,$k=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},S$=(e,n)=>!!$k(e,n),x$=(e,n)=>{const o=n.cloneRange(),i=n.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},_$=(e,n)=>{const o=It.before(e),c=Wh(n).next(o);return c?c.toRange():null},b4=(e,n)=>{const o=It.after(e),c=Wh(n).prev(o);return c?c.toRange():null},T$=(e,n,o,i)=>{const c=x$(e,i),p=e.parentNode;return p&&(p.insertBefore(c[0],e),gn.each(n,y=>{p.insertBefore(y,e)}),p.insertBefore(c[1],e),p.removeChild(e)),b4(n[n.length-1],o)},Hk=(e,n,o)=>{const i=e.parentNode;return i&&gn.each(n,c=>{i.insertBefore(c,e)}),_$(e,o)},y4=(e,n,o,i)=>(i.insertAfter(n.reverse(),e),b4(n[0],o)),uZ=(e,n,o,i)=>{const c=cZ(n,e,i),p=$k(n,o.startContainer),y=Bk(Bg(c.firstChild)),E=1,A=2,R=n.getRoot(),q=Q=>{const re=It.fromRangeStart(o),pe=Wh(n.getRoot()),De=(Q===E?pe.prev(re):pe.next(re))?.getNode();return De?$k(n,De)!==p:!0};return p?q(E)?Hk(p,y,R):q(A)?y4(p,y,R,n):T$(p,y,R,o):null},dZ=["pre"],fZ=(e,n,o,i)=>{const c=n.firstChild,p=n.lastChild,y=p.attr("data-mce-type")==="bookmark"?p.prev:p,E=c===y,A=fo(dZ,c.name);if(E&&A){const R=c.attr("contenteditable")!=="false",q=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===c.name,Q=le.from(m1(i,o)).forall(Bl);return R&&q&&Q}else return!1},w4=$f,E$=(e,n,o)=>{if(et(o)){const i=e.getParent(n.endContainer,w4);return o===i&&Vx(Ve.fromDom(o),n)}else return!1},hZ=(e,n)=>{if(e.isBlock(n)&&e.isEditable(n)){const o=n.childNodes;return o.length===1&&ea(o[0])||o.length===0}else return!1},mZ=(e,n,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(n),o):hZ(e.dom,o)?e.dom.setHTML(o,n):Ik(e,n,{no_events:!0})},C4=(e,n,o)=>{le.from(e.getParent(n,"td,th")).map(Ve.fromDom).each(i=>ZO(i,o))},pZ=(e,n)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(n){const c=e.getBody(),p=oB(e),y="*[data-mce-fragment]",E=i.select(y);gn.each(E,A=>{const R=re=>et(o[re.nodeName.toLowerCase()]),q=re=>re.childNodes.length===1;if((re=>!(F9(i,re)||B9(i,re)))(A)&&R(A)&&q(A)){const re=sy(i,A),pe=(ct,mt)=>Ie(ct,gt=>fo(mt,gt)),Be=ct=>q(A)&&i.is(ct,y)&&R(ct)&&(ct.nodeName===A.nodeName&&pe(re,sy(i,ct))||Be(ct.children[0])),De=ct=>et(ct)&&ct!==c&&(p.compare(A,ct)||De(ct.parentElement)),He=ct=>et(ct)&&ct!==c&&i.is(ct,y)&&($9(i,A,ct)||He(ct.parentElement));(Be(A.children[0])||De(A.parentElement)&&!He(A.parentElement))&&i.remove(A,!0)}}),MB(e,rf(E))}},gZ=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},vZ=e=>{gn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},bZ=e=>!!e.getAttribute("data-mce-fragment"),yZ=(e,n)=>et(n)&&!e.schema.getVoidElements()[n.nodeName],wZ=(e,n)=>{let o;const i=e.dom,c=e.selection;if(!n)return;c.scrollIntoView(n);const p=m1(e.getBody(),n);if(p&&i.getContentEditable(p)==="false"){i.remove(n),c.select(p);return}let y=i.createRng();const E=n.previousSibling;if(pn(E)){y.setStart(E,E.nodeValue?.length??0);const q=n.nextSibling;pn(q)&&(E.appendData(q.data),q.parentNode?.removeChild(q))}else y.setStartBefore(n),y.setEndBefore(n);const A=q=>{let Q=It.fromRangeStart(q);return Q=Wh(e.getBody()).next(Q),Q?.toRange()},R=i.getParent(n,i.isBlock);if(i.remove(n),R&&i.isEmpty(R)){const q=w4(R);du(Ve.fromDom(R)),y.setStart(R,0),y.setEnd(R,0),!q&&!bZ(R)&&(o=A(y))?(y=o,i.remove(R)):i.add(R,i.create("br",q?{}:{"data-mce-bogus":"1"}))}c.setRng(y)},CZ=e=>{const n=e.dom,o=Sk(e.selection.getRng());e.selection.setRng(o);const i=n.getParent(o.startContainer,w4);E$(n,o,i)?DN(e,o,Ve.fromDom(i)):NE(o)||zM(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},zk=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return le.some(n);return le.none()},S4=(e,n,o)=>Ws(o.children(),jN)&&e.getParent(n,e.isBlock)?.nodeName==="SUMMARY",SZ=(e,n,o)=>{const i=e.selection,c=e.dom,p=e.parser,y=o.merge,E=oy({validate:!0},e.schema),A='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Ju(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,A);let R=i.getRng();const q=R.startContainer,Q=e.getBody();q===Q&&i.isCollapsed()&&c.isBlock(Q.firstChild)&&yZ(e,Q.firstChild)&&c.isEmpty(Q.firstChild)&&(R=c.createRng(),R.setStart(Q.firstChild,0),R.setEnd(Q.firstChild,0),i.setRng(R)),i.isCollapsed()||CZ(e);const re=i.getNode(),pe={context:re.nodeName.toLowerCase(),data:o.data,insert:!0},Be=p.parse(n,pe);if(o.paste===!0&&v4(e.schema,Be)&&S$(c,re))return R=uZ(E,c,i.getRng(),Be),R&&i.setRng(R),n;o.paste===!0&&fZ(c,Be,re,e.getBody())&&Be.firstChild?.unwrap(),gZ(Be);let De=Be.lastChild;if(De&&De.attr("id")==="mce_marker"){const He=De;for(De=De.prev;De&&De.name!=="table";De=De.walk(!0))if(De.type===3||!c.isBlock(De.name)){De.parent&&e.schema.isValidChild(De.parent.name,"span")&&De.parent.insert(He,De,De.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(re),!pe.invalid&&!S4(c,re,Be))n=E.serialize(Be),mZ(e,n,re);else{Ik(e,A);let He=i.getNode(),ct;const mt=e.getBody();for(Us(He)?He=ct=mt:ct=He;ct&&ct!==mt;)He=ct,ct=ct.parentNode;n=He===mt?mt.innerHTML:c.getOuterHTML(He);const gt=p.parse(n),Zt=zk(gt),an=Zt.bind(uj).getOr(gt);Zt.each(Gt=>Gt.replace(Be));const Zn=YN(Be);Be.unwrap();const Sn=At(Zn,Gt=>GN(e.schema,Gt));PB(Sn,e.schema,an),LB(p.getNodeFilters(),p.getAttributeFilters(),gt),n=E.serialize(gt),He===mt?c.setHTML(mt,n):c.setOuterHTML(He,n)}return pZ(e,y),wZ(e,c.get("mce_marker")),vZ(e.getBody()),C4(c,i.getStart(),e.schema),K(e.schema,e.getBody(),i.getStart()),n},xZ=e=>{eh(e)&&Tc(e.getBody()).each(n=>{const o=n.getNode(),i=Bf(o)?Tc(o).getOr(n):n;e.selection.setRng(i.toRange())})},x4=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&xZ(e)},_Z=(e,n,o,i)=>{if(o=Ju(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const p=$c(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),p.toLowerCase())?(o=c,o=e.dom.createHTML(p,e1(e),o)):o||(o=c),x4(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=oy({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=bd(Ve.fromDom(n))?o:gn.trim(o);return x4(e,c,i.no_selection),{content:c,html:c}}},k$=(e,n,o,i)=>{LB(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=oy({validate:!1},e.schema).serialize(o),p=Ju(bd(Ve.fromDom(n))?c:gn.trim(c));return x4(e,p,i.no_selection),{content:o,html:p}},TZ=(e,n,o)=>le.from(e.getBody()).map(i=>HC(n)?k$(e,i,n,o):_Z(e,i,n,o)).getOr({content:n,html:HC(o.content)?"":o.content}),m2={},Vk=Tl(["pre"]),EZ=(e,n)=>{m2[e]||(m2[e]=[]),m2[e].push(n)},kZ=(e,n)=>{qo(m2,e)&&vt(m2[e],o=>{o(n)})};EZ("pre",e=>{const n=e.selection.getRng(),o=c=>p=>{const y=p.previousSibling;return Vk(y)&&fo(c,y)},i=(c,p)=>{const y=Ve.fromDom(p),E=Gc(y).dom;ii(y),Na(Ve.fromDom(c),[Ve.fromTag("br",E),Ve.fromTag("br",E),...zi(y)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),p=At(At(c,Vk),o(c));vt(p,y=>{i(y.previousSibling,y)})}});const D$=gn.each,DZ=(e,n,o,i)=>{const c=p=>{if(Fi(p)&&yo(p.parentNode)&&e.isEditable(p)){const y=Te(e,p.parentNode);e.getStyle(p,"color")&&y?e.setStyle(p,"text-decoration",y):e.getStyle(p,"text-decoration")===y&&e.setStyle(p,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(gn.walk(i,c,"childNodes"),c(i))},AZ=(e,n,o,i)=>{if(n.styles&&n.styles.backgroundColor){const c=Zr(e,"fontSize");IN(i,p=>c(p)&&e.isEditable(p),pc(e,"backgroundColor",N(n.styles.backgroundColor,o)))}},OZ=(e,n,o,i)=>{if(Kt(n)&&(n.inline==="sub"||n.inline==="sup")){const c=Zr(e,"fontSize");IN(i,y=>c(y)&&e.isEditable(y),pc(e,"fontSize",""));const p=At(e.select(n.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(p,!0)}},MZ=(e,n,o,i)=>{D$(n,c=>{Kt(c)&&D$(e.dom.select(c.inline,i),p=>{yB(p)&&Ck(e,c,o,p,c.exact?p:null)}),GW(e.dom,c,i)})},Uk=(e,n,o,i,c)=>{const p=c.parentNode;jm(e,p,o,i)&&Ck(e,n,i,c)||n.merge_with_parents&&p&&e.dom.getParent(p,y=>jm(e,y,o,i)?(Ck(e,n,i,c),!0):!1)},Wk=gn.each,NZ=(e,n,o,i)=>{if(M0(e)&&Kt(n)&&o.parentNode){const c=V_(e.schema),p=bo(Ve.fromDom(o),y=>Kf(y.dom));return or(c,i)&&Au(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!p}else return!1},RZ=(e,n,o,i)=>{const c=e.formatter.get(n),p=c[0],y=!i&&e.selection.isCollapsed(),E=e.dom,A=e.selection,R=(pe,Be)=>{let De=!1;return Wk(pe,He=>zt(He)?E.getContentEditable(Be)==="false"&&!He.ceFalseOverride||et(He.collapsed)&&He.collapsed!==y?!0:E.is(Be,He.selector)&&!Kf(Be)?(PC(e,Be,He,o,Be),De=!0,!1):!0:!1),De},q=pe=>{if(xe(pe)){const Be=E.create(pe);return PC(e,Be,p,o,i),Be}else return null},Q=(pe,Be,De)=>{const He=[];let ct=!0;const mt=p.inline||p.block,gt=q(mt),Zt=Sn=>Jn(p)&&jm(e,Sn,n,o),an=(Sn,Gt,jt)=>{const cn=Fo(p)&&qi(e.schema,Sn)&&nb(e,Gt,mt);return jt&&cn},Zn=(Sn,Gt,jt,cn)=>{const uo=Sn.nodeName.toLowerCase(),ts=nb(e,mt,uo)&&nb(e,Gt,mt),Hs=!De&&pn(Sn)&&Lw(Sn.data),mr=Kf(Sn),Ki=!Kt(p)||!pe.isBlock(Sn);return(jt||cn)&&ts&&!Hs&&!mr&&Ki};hc(pe,Be,Sn=>{let Gt;const jt=cn=>{let uo=!1,ts=ct,Hs=!1;const mr=cn.parentNode,Ki=mr.nodeName.toLowerCase(),ca=pe.getContentEditable(cn);et(ca)&&(ts=ct,ct=ca==="true",uo=!0,Hs=T(e,cn));const Ul=ct&&!uo;if(ea(cn)&&!NZ(e,p,cn,Ki)){Gt=null,Wn(p)&&pe.remove(cn);return}if(Zt(cn)){Gt=null;return}if(an(cn,Ki,Ul)){const bc=pe.rename(cn,mt);PC(e,bc,p,o,cn),He.push(bc),Gt=null;return}if(zt(p)){let bc=R(c,cn);if(!bc&&et(mr)&&Ts(p)&&(bc=R(c,mr)),!Kt(p)||bc){Gt=null;return}}et(gt)&&Zn(cn,Ki,Ul,Hs)?(Gt||(Gt=pe.clone(gt,!1),mr.insertBefore(Gt,cn),He.push(Gt)),Hs&&uo&&(ct=ts),Gt.appendChild(cn)):(Gt=null,vt(zs(cn.childNodes),jt),uo&&(ct=ts),Gt=null)};vt(Sn,jt)}),p.links===!0&&vt(He,Sn=>{const Gt=jt=>{jt.nodeName==="A"&&PC(e,jt,p,o,i),vt(zs(jt.childNodes),Gt)};Gt(Sn)}),OB(e,n,rf(He)),vt(He,Sn=>{const Gt=uo=>{let ts=0;return vt(uo.childNodes,Hs=>{!h(Hs)&&!bf(Hs)&&ts++}),ts},jt=uo=>Vn(uo.childNodes,Wx).filter(Hs=>pe.getContentEditable(Hs)!=="false"&&gk(pe,Hs,p)).map(Hs=>{const mr=pe.clone(Hs,!1);return PC(e,mr,p,o,uo),pe.replace(mr,uo,!0),pe.remove(Hs,!0),mr}).getOr(uo),cn=Gt(Sn);if((He.length>1||!pe.isBlock(Sn))&&cn===0){pe.remove(Sn,!0);return}(Kt(p)||Wn(p)&&p.wrapper)&&(!p.exact&&cn===1&&(Sn=jt(Sn)),MZ(e,c,o,Sn),Uk(e,p,n,o,Sn),AZ(pe,p,o,Sn),DZ(pe,p,o,Sn),OZ(pe,p,o,Sn),BC(e,p,o,Sn))})},re=tb(i)?i:A.getNode();if(E.getContentEditable(re)==="false"&&!T(e,re)){i=re,R(c,i),On(e,n,i,o);return}if(p){if(i)if(tb(i)){if(!R(c,i)){const pe=E.createRng();pe.setStartBefore(i),pe.setEndAfter(i),Q(E,xd(E,pe,c),!0)}}else Q(E,i,!0);else!y||!Kt(p)||eb(e).length?(A.setRng(Sk(A.getRng())),RE(e,()=>{Ux(e,(pe,Be)=>{const De=Be?pe:xd(E,pe,c);Q(E,De,!1)})},yt),e.nodeChanged()):mB(e,n,o),jW(e.formatter,n).each(pe=>{vt(rse(e.selection),Be=>IW(E,Be,pe,o))});kZ(n,e)}On(e,n,i,o)},p2=(e,n,o,i)=>{(i||e.selection.isEditable())&&RZ(e,n,o,i)},A$=e=>qo(e,"vars"),LZ=(e,n)=>{e.set({}),n.on("NodeChange",o=>{R$(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const i=le.from(o.node).map(c=>tb(c)?c:c.startContainer).bind(c=>yo(c)?le.some(c):le.from(c.parentElement)).getOrThunk(()=>O$(n));R$(n,i,e.get())})},O$=e=>e.selection.getStart(),M$=(e,n,o,i,c)=>Gs(n,E=>{const A=e.formatter.matchNode(E,o,c??{},i);return!Ln(A)},E=>lB(e,E,o)?!0:i?!1:et(e.formatter.matchNode(E,o,c,!0))),N$=(e,n)=>{const o=n??O$(e);return At($e(e.dom,o),i=>yo(i)&&!Cp(i))},R$=(e,n,o)=>{const i=N$(e,n);Mo(o,(c,p)=>{const y=E=>{const A=M$(e,i,p,E.similar,A$(E)?E.vars:void 0),R=A.isSome();if(E.state.get()!==R){E.state.set(R);const q=A.getOr(n);A$(E)?E.callback(R,{node:q,format:p,parents:i}):vt(E.callbacks,Q=>Q(R,{node:q,format:p,parents:i}))}};vt([c.withSimilar,c.withoutSimilar],y),vt(c.withVars,y)})},PZ=(e,n,o,i,c,p)=>{const y=n.get();vt(o.split(","),E=>{const A=Ks(y,E).getOrThunk(()=>{const q={withSimilar:{state:io(!1),similar:!0,callbacks:[]},withoutSimilar:{state:io(!1),similar:!1,callbacks:[]},withVars:[]};return y[E]=q,q}),R=()=>{const q=N$(e);return M$(e,q,E,c,p).isSome()};if(Ln(p)){const q=c?A.withSimilar:A.withoutSimilar;q.callbacks.push(i),q.callbacks.length===1&&q.state.set(R())}else A.withVars.push({state:io(R()),similar:c,vars:p,callback:i})}),n.set(y)},IZ=(e,n,o)=>{const i=e.get();vt(n.split(","),c=>Ks(i,c).each(p=>{i[c]={withSimilar:{...p.withSimilar,callbacks:At(p.withSimilar.callbacks,y=>y!==o)},withoutSimilar:{...p.withoutSimilar,callbacks:At(p.withoutSimilar.callbacks,y=>y!==o)},withVars:At(p.withVars,y=>y.callback!==o)}})),e.set(i)},FZ=(e,n,o,i,c,p)=>(PZ(e,n,o,i,c,p),{unbind:()=>IZ(n,o,i)}),BZ=(e,n,o,i)=>{const c=e.formatter.get(n);c&&(NN(e,n,o,i)&&(!("toggle"in c[0])||c[0].toggle)?su(e,n,o,i):p2(e,n,o,i))},_4=(e,n,o)=>({element:e,width:n,rows:o}),$Z=(e,n)=>({element:e,cells:n}),Gm=(e,n)=>({x:e,y:n}),T4=(e,n)=>_u(e,n).bind(Yn).getOr(1),HZ=(e,n,o,i,c)=>{const p=T4(c,"rowspan"),y=T4(c,"colspan"),E=e.rows;for(let A=o;A<o+p;A++){E[A]||(E[A]=$Z(Zu(i),[]));for(let R=n;R<n+y;R++){const q=E[A].cells;q[R]=A===o&&R===n?c:Ra(c)}}},L$=(e,n,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[n]},zZ=(e,n,o)=>{for(;L$(e,n,o);)n++;return n},P$=e=>ir(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),VZ=(e,n)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let p=0;p<c.length;p++)if(no(c[p],n))return le.some(Gm(p,i))}return le.none()},yu=(e,n,o,i,c)=>{const p=[],y=e.rows;for(let E=o;E<=c;E++){const A=y[E].cells,R=n<i?A.slice(n,i+1):A.slice(i,n+1);p.push($Z(y[E].element,R))}return p},UZ=(e,n,o)=>{const i=n.x,c=n.y,p=o.x,y=o.y,E=c<y?yu(e,i,c,p,y):yu(e,i,y,p,c);return _4(e.element,P$(E),E)},E4=(e,n)=>{const o=Ra(e.element),i=Ve.fromTag("tbody");return Na(i,n),Sr(o,i),o},I$=e=>In(e.rows,n=>{const o=In(n.cells,c=>{const p=Zu(c);return Ga(p,"colspan"),Ga(p,"rowspan"),p}),i=Ra(n.element);return Na(i,o),i}),jk=e=>{const n=_4(Ra(e),0,[]);return vt(Ht(e,"tr"),(o,i)=>{vt(Ht(o,"td,th"),(c,p)=>{HZ(n,zZ(n,p,i),i,o,c)})}),_4(n.element,P$(n.rows),n.rows)},WZ=e=>E4(e,I$(e)),jZ=(e,n,o)=>VZ(e,n).bind(i=>VZ(e,o).map(c=>UZ(e,i,c))),ZZ=e=>Vn(e,n=>Qo(n)==="ul"||Qo(n)==="ol"),qZ=(e,n)=>Vn(e,o=>Qo(o)==="li"&&Vx(o,n)).fold(xt([]),o=>ZZ(e).map(i=>{const c=Ve.fromTag(Qo(i)),p=bl(Ch(i),(y,E)=>Po(E,"list-style"));return _r(c,p),[Ve.fromTag("li"),c]}).getOr([])),YZ=(e,n)=>{const o=ir(n,(i,c)=>(Sr(c,i),c),e);return n.length>0?cf([o]):o},F$=e=>Mm(e)?Pl(e).filter(Nw).fold(xt([]),n=>[e,n]):Nw(e)?[e]:[],GZ=(e,n,o)=>{const i=Ve.fromDom(n.commonAncestorContainer),c=Pg(i,e),p=At(c,A=>o.isWrapper(Qo(A))),y=qZ(c,n),E=p.concat(y.length?y:F$(i));return In(E,Ra)},k4=()=>cf([]),B$=(e,n,o)=>YZ(Ve.fromDom(n.cloneContents()),GZ(e,n,o)),KZ=(e,n)=>Ua(n,"table",qt(no,e)),XZ=(e,n)=>KZ(e,n[0]).bind(o=>{const i=n[0],c=n[n.length-1],p=jk(o);return jZ(p,i,c).map(y=>cf([WZ(y)]))}).getOrThunk(k4),JZ=(e,n,o)=>n.length>0&&n[0].collapsed?k4():B$(e,n[0],o),QZ=(e,n,o)=>{const i=_C(n,e);return i.length>0?XZ(e,i):JZ(e,n,o)},Zk=(e,n)=>n>=0&&n<e.length&&Bp(e.charAt(n)),g2=e=>Ju(e.innerText),$$=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),H$=e=>le.from(e.selection.getRng()).map(n=>{const o=le.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=$$(o),p=Ve.fromDom(n.cloneContents());A9(p),uF(p);const y=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),E=g2(y),A=Ju(y.textContent??"");if(e.dom.remove(y),Zk(A,0)||Zk(A,A.length-1)){const R=o.getOr(i),q=g2(R),Q=q.indexOf(E);if(Q===-1)return E;{const re=Zk(q,Q-1),pe=Zk(q,Q+E.length);return(re?" ":"")+E+(pe?" ":"")}}else return E}).getOr(""),eq=(e,n)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),p=oF(e,l1(c)),y=n.contextual?QZ(Ve.fromDom(e.getBody()),p,e.schema).dom:o.cloneContents();return y&&i.appendChild(y),e.selection.serializer.serialize(i,n)},z$=(e,n)=>{if(n.format==="text")return H$(e);{const o=eq(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},tq=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),nq=(e,n,o={})=>{const i=tq(o,n);return uy(e,i).fold(Eo,c=>{const p=z$(e,c);return f4(e,p,c)})},D4=0,qk=1,Yk=2,oq=(e,n)=>{const o=e.length+n.length+2,i=new Array(o),c=new Array(o),p=(q,Q,re)=>({start:q,end:Q,diag:re}),y=(q,Q,re,pe,Be)=>{const De=A(q,Q,re,pe);if(De===null||De.start===Q&&De.diag===Q-pe||De.end===q&&De.diag===q-re){let He=q,ct=re;for(;He<Q||ct<pe;)He<Q&&ct<pe&&e[He]===n[ct]?(Be.push([D4,e[He]]),++He,++ct):Q-q>pe-re?(Be.push([Yk,e[He]]),++He):(Be.push([qk,n[ct]]),++ct)}else{y(q,De.start,re,De.start-De.diag,Be);for(let He=De.start;He<De.end;++He)Be.push([D4,e[He]]);y(De.end,Q,De.end-De.diag,pe,Be)}},E=(q,Q,re,pe)=>{let Be=q;for(;Be-Q<pe&&Be<re&&e[Be]===n[Be-Q];)++Be;return p(q,Be,Q)},A=(q,Q,re,pe)=>{const Be=Q-q,De=pe-re;if(Be===0||De===0)return null;const He=Be-De,ct=De+Be,mt=(ct%2===0?ct:ct+1)/2;i[1+mt]=q,c[1+mt]=Q+1;let gt,Zt,an,Zn,Sn;for(gt=0;gt<=mt;++gt){for(Zt=-gt;Zt<=gt;Zt+=2){for(an=Zt+mt,Zt===-gt||Zt!==gt&&i[an-1]<i[an+1]?i[an]=i[an+1]:i[an]=i[an-1]+1,Zn=i[an],Sn=Zn-q+re-Zt;Zn<Q&&Sn<pe&&e[Zn]===n[Sn];)i[an]=++Zn,++Sn;if(He%2!==0&&He-gt<=Zt&&Zt<=He+gt&&c[an-He]<=i[an])return E(c[an-He],Zt+q-re,Q,pe)}for(Zt=He-gt;Zt<=He+gt;Zt+=2){for(an=Zt+mt-He,Zt===He-gt||Zt!==He+gt&&c[an+1]<=c[an-1]?c[an]=c[an+1]-1:c[an]=c[an-1],Zn=c[an]-1,Sn=Zn-q+re-Zt;Zn>=q&&Sn>=re&&e[Zn]===n[Sn];)c[an]=Zn--,Sn--;if(He%2===0&&-gt<=Zt&&Zt<=gt&&c[an]<=i[an+He])return E(c[an],Zt+q-re,Q,pe)}}return null},R=[];return y(0,e.length,0,n.length,R),R},Gk=e=>yo(e)?e.outerHTML:pn(e)?Mh.encodeRaw(e.data,!1):xa(e)?"<!--"+e.data+"-->":"",sq=e=>{let n;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)i.appendChild(n);return i},rq=(e,n,o)=>{const i=sq(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},iq=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},aq=(e,n)=>{let o=0;vt(e,i=>{i[0]===D4?o++:i[0]===qk?(rq(n,i[1],o),o++):i[0]===Yk&&iq(n,o)})},lq=(e,n)=>At(In(zs(e.childNodes),U(Ju,Gk)),o=>o.length>0),cq=(e,n)=>{const o=In(zs(n.childNodes),Gk);return aq(oq(o,e),n),n},V$=ds(()=>document.implementation.createHTMLDocument("undo")),uq=e=>e.querySelector("iframe")!==null,dq=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),fq=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Kk=e=>{const n=e.serializer.getTempAttrs(),o=GE(e.getBody(),n);return uq(o)?dq(lq(o)):fq(Ju(o.innerHTML))},A4=(e,n,o)=>{const i=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?cq(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:et(i)&&SE(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},O4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,U$=e=>{const n=Ve.fromTag("body",V$());return af(n,O4(e)),vt(Ht(n,"*[data-mce-bogus]"),Cc),rl(n)},zC=(e,n)=>O4(e)===O4(n),Xk=(e,n)=>U$(e)===U$(n),Jk=(e,n)=>!e||!n?!1:zC(e,n)?!0:Xk(e,n),Qk=e=>e.get()===0,eD=(e,n,o)=>{Qk(o)&&(e.typing=n)},W$=(e,n)=>{e.typing&&(eD(e,!1,n),e.add())},M4=e=>{e.typing&&(e.typing=!1,e.add())},hq=(e,n,o)=>{Qk(n)&&o.set(x0(e.selection))},mq=(e,n,o,i,c,p,y)=>{const E=Kk(e),A=gn.extend(p||{},E);if(!Qk(i)||e.removed)return null;const R=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:R,originalEvent:y}).isDefaultPrevented()||R&&Jk(R,A))return null;n.data[o.get()]&&c.get().each(re=>{n.data[o.get()].beforeBookmark=re});const q=VT(e);if(q&&n.data.length>q){for(let re=0;re<n.data.length-1;re++)n.data[re]=n.data[re+1];n.data.length--,o.set(n.data.length)}A.bookmark=x0(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const Q={level:A,lastLevel:R,originalEvent:y};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Q),e.dispatch("change",Q)):e.dispatch("AddUndo",Q),A},pq=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},gq=(e,n,o,i,c)=>{if(n.transact(i)){const p=n.data[o.get()].bookmark,y=n.data[o.get()-1];A4(e,y,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=p)}},vq=(e,n,o)=>{let i;return n.get()<o.length-1&&(n.set(n.get()+1),i=o[n.get()],A4(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},tD=(e,n,o,i)=>{let c;return n.typing&&(n.add(),n.typing=!1,eD(n,!1,o)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],A4(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},v2=e=>{e.clear(),e.add()},bq=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!Jk(Kk(e),n.data[0]),VC=(e,n)=>n.get()<e.data.length-1&&!e.typing,nh=(e,n,o)=>(W$(e,n),e.beforeChange(),e.ignore(o),e.add()),b2=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},Ni=(e,n)=>{const o=e.dom,i=et(n)?n:e.getBody();vt(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const p=I0(e),y=o.getAttrib(c,"border");(!y||y==="0")&&e.hasVisual?o.addClass(c,p):o.removeClass(c,p);break;case"A":if(!o.getAttrib(c,"href")){const E=o.getAttrib(c,"name")||c.id,A=Ex(e);E&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},UC=e=>({init:{bindEvents:Ze},undoManager:{beforeChange:(n,o)=>hq(e,n,o),add:(n,o,i,c,p,y)=>mq(e,n,o,i,c,p,y),undo:(n,o,i)=>tD(e,n,o,i),redo:(n,o)=>vq(e,n,o),clear:(n,o)=>pq(e,n,o),reset:n=>v2(n),hasUndo:(n,o)=>bq(e,n,o),hasRedo:(n,o)=>VC(n,o),transact:(n,o,i)=>nh(n,o,i),ignore:(n,o)=>b2(n,o),extra:(n,o,i,c)=>gq(e,n,o,i,c)},formatter:{match:(n,o,i,c)=>NN(e,n,o,i,c),matchAll:(n,o)=>FW(e,n,o),matchNode:(n,o,i,c)=>jm(e,n,o,i,c),canApply:n=>BW(e,n),closest:n=>Yi(e,n),apply:(n,o,i)=>p2(e,n,o,i),remove:(n,o,i,c)=>su(e,n,o,i,c),toggle:(n,o,i)=>BZ(e,n,o,i),formatChanged:(n,o,i,c,p)=>FZ(e,n,o,i,c,p)},editor:{getContent:n=>lN(e,n),setContent:(n,o)=>TZ(e,n,o),insertContent:(n,o)=>SZ(e,n,o),addVisual:n=>Ni(e,n)},selection:{getContent:(n,o)=>nq(e,n,o)},autocompleter:{addDecoration:Ze,removeDecoration:Ze},raw:{getModel:()=>le.none()}}),j$=e=>{const n=R=>dt(R)?R:{},{init:o,undoManager:i,formatter:c,editor:p,selection:y,autocompleter:E,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(R,q,Q)=>i.transact(Q),ignore:(R,q)=>i.ignore(q),extra:(R,q,Q,re)=>i.extra(Q,re)},formatter:{match:(R,q,Q,re)=>c.match(R,n(q),re),matchAll:c.matchAll,matchNode:c.matchNode,canApply:R=>c.canApply(R),closest:R=>c.closest(R),apply:(R,q,Q)=>c.apply(R,n(q)),remove:(R,q,Q,re)=>c.remove(R,n(q)),toggle:(R,q,Q)=>c.toggle(R,n(q)),formatChanged:(R,q,Q,re,pe)=>c.formatChanged(q,Q,re,pe)},editor:{getContent:R=>p.getContent(R),setContent:(R,q)=>({content:p.setContent(R,q),html:""}),insertContent:(R,q)=>(p.insertContent(R),""),addVisual:p.addVisual},selection:{getContent:(R,q)=>y.getContent(q)},autocompleter:{addDecoration:E.addDecoration,removeDecoration:E.removeDecoration},raw:{getModel:()=>le.some(A.getRawModel())}}},Z$=()=>{const e=xt(null),n=xt("");return{init:{bindEvents:Ze},undoManager:{beforeChange:Ze,add:e,undo:e,redo:e,clear:Ze,reset:Ze,hasUndo:Yt,hasRedo:Yt,transact:e,ignore:Ze,extra:Ze},formatter:{match:Yt,matchAll:xt([]),matchNode:xt(void 0),canApply:Yt,closest:n,apply:Ze,remove:Ze,toggle:Ze,formatChanged:xt({unbind:Ze})},editor:{getContent:n,setContent:xt({content:"",html:""}),insertContent:xt(""),addVisual:Ze},selection:{getContent:n},autocompleter:{addDecoration:Ze,removeDecoration:Ze},raw:{getModel:xt(le.none())}}},Gh=e=>qo(e.plugins,"rtc"),N4=e=>Ks(e.plugins,"rtc").bind(n=>le.from(n.setup)),R4=e=>{const n=e;return N4(e).fold(()=>(n.rtcInstance=UC(e),le.none()),o=>(n.rtcInstance=Z$(),le.some(()=>o().then(i=>(n.rtcInstance=j$(i),i.rtc.isRemote)))))},y2=e=>e.rtcInstance?e.rtcInstance:UC(e),Ql=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},nD=(e,n,o)=>{Ql(e).undoManager.beforeChange(n,o)},L4=(e,n,o,i,c,p,y)=>Ql(e).undoManager.add(n,o,i,c,p,y),q$=(e,n,o,i)=>Ql(e).undoManager.undo(n,o,i),Y$=(e,n,o)=>Ql(e).undoManager.redo(n,o),G$=(e,n,o)=>{Ql(e).undoManager.clear(n,o)},K$=(e,n)=>{Ql(e).undoManager.reset(n)},X$=(e,n,o)=>Ql(e).undoManager.hasUndo(n,o),dy=(e,n,o)=>Ql(e).undoManager.hasRedo(n,o),J$=(e,n,o,i)=>Ql(e).undoManager.transact(n,o,i),P4=(e,n,o)=>{Ql(e).undoManager.ignore(n,o)},yq=(e,n,o,i,c)=>{Ql(e).undoManager.extra(n,o,i,c)},wq=(e,n,o,i,c)=>Ql(e).formatter.match(n,o,i,c),Q$=(e,n,o)=>Ql(e).formatter.matchAll(n,o),e5=(e,n,o,i,c)=>Ql(e).formatter.matchNode(n,o,i,c),t5=(e,n)=>Ql(e).formatter.canApply(n),oD=(e,n)=>Ql(e).formatter.closest(n),n5=(e,n,o,i)=>{Ql(e).formatter.apply(n,o,i)},o5=(e,n,o,i,c)=>{Ql(e).formatter.remove(n,o,i,c)},s5=(e,n,o,i)=>{Ql(e).formatter.toggle(n,o,i)},r5=(e,n,o,i,c,p)=>Ql(e).formatter.formatChanged(n,o,i,c,p),i5=(e,n)=>y2(e).editor.getContent(n),a5=(e,n,o)=>y2(e).editor.setContent(n,o),l5=(e,n,o)=>y2(e).editor.insertContent(n,o),c5=(e,n,o)=>Ql(e).selection.getContent(n,o),u5=(e,n)=>Ql(e).editor.addVisual(n),I4=e=>Ql(e).init.bindEvents(),F4=(e,n={})=>{const o=n.format?n.format:"html";return c5(e,o,n)},B4=(e,n,o)=>{if(qo(e,n)){const i=At(e[n],c=>c!==o);i.length===0?delete e[n]:e[n]=i}};var d5=(e,n)=>{let o,i;const c=(E,A)=>Vn(A,R=>e.is(R,E)),p=E=>e.getParents(E,void 0,e.getRoot()),y=()=>{o={},i={},n.on("NodeChange",E=>{const A=E.element,R=p(A),q={};Mo(o,(Q,re)=>{c(re,R).each(pe=>{i[re]||(vt(Q,Be=>{Be(!0,{node:pe,selector:re,parents:R})}),i[re]=Q),q[re]=Q})}),Mo(i,(Q,re)=>{q[re]||(delete i[re],vt(Q,pe=>{pe(!1,{node:A,selector:re,parents:R})}))})})};return{selectorChangedWithUnbind:(E,A)=>(o||y(),o[E]||(o[E]=[]),o[E].push(A),c(E,p(n.selection.getStart())).each(()=>{i[E]=o[E]}),{unbind:()=>{B4(o,E,A),B4(i,E,A)}})}};const $4=e=>!!(e&&e.ownerDocument)&&Fr(Ve.fromDom(e.ownerDocument),Ve.fromDom(e)),f5=e=>e?$4(e.startContainer)&&$4(e.endContainer):!1,H4=(e,n,o,i)=>{let c,p;const{selectorChangedWithUnbind:y}=d5(e,i),E=(to,Vo)=>{const fi=e.createRng();et(to)&&et(Vo)?(fi.setStart(to,Vo),fi.setEnd(to,Vo),Zt(fi),ct(!1)):(c1(e,fi,i.getBody(),!0),Zt(fi))},A=to=>F4(i,to),R=(to,Vo)=>v$(i,to,Vo),q=to=>y9(i.getBody(),gt(),to),Q=to=>nF(i.getBody(),gt(),to),re=(to,Vo)=>bc.getBookmark(to,Vo),pe=to=>bc.moveToBookmark(to),Be=(to,Vo)=>(S9(e,to,Vo).each(Zt),to),De=()=>{const to=gt(),Vo=mt();return!to||to.item?!1:to.compareEndPoints?to.compareEndPoints("StartToEnd",to)===0:!Vo||to.collapsed},He=()=>{if(i.mode.isReadOnly())return!1;const to=gt(),Vo=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Vo.length>0?Ie(Vo,fi=>e.isEditable(fi.parentElement)):tF(e,to)},ct=to=>{const Vo=gt();Vo.collapse(!!to),Zt(Vo)},mt=()=>n.getSelection?n.getSelection():n.document.selection,gt=()=>{let to;const Vo=(si,Lo,Dn)=>{try{return Lo.compareBoundaryPoints(si,Dn)}catch{return-1}},fi=n.document;if(et(i.bookmark)&&!eh(i)){const si=Zx(i);if(si.isSome())return si.map(Lo=>oF(i,[Lo])[0]).getOr(fi.createRange())}try{const si=mt();si&&!Lb(si.anchorNode)&&(si.rangeCount>0?to=si.getRangeAt(0):to=fi.createRange(),to=oF(i,[to])[0])}catch{}if(to||(to=fi.createRange()),Us(to.startContainer)&&to.collapsed){const si=e.getRoot();to.setStart(si,0),to.setEnd(si,0)}return c&&p&&(Vo(to.START_TO_START,to,c)===0&&Vo(to.END_TO_END,to,c)===0?to=p:(c=null,p=null)),to},Zt=(to,Vo)=>{if(!f5(to))return;const fi=mt();if(to=i.dispatch("SetSelectionRange",{range:to,forward:Vo}).range,fi){p=to;try{fi.removeAllRanges(),fi.addRange(to)}catch{}Vo===!1&&fi.extend&&(fi.collapse(to.endContainer,to.endOffset),fi.extend(to.startContainer,to.startOffset)),c=fi.rangeCount>0?fi.getRangeAt(0):null}if(!to.collapsed&&to.startContainer===to.endContainer&&fi?.setBaseAndExtent&&to.endOffset-to.startOffset<2&&to.startContainer.hasChildNodes()){const Lo=to.startContainer.childNodes[to.startOffset];Lo&&Lo.nodeName==="IMG"&&(fi.setBaseAndExtent(to.startContainer,to.startOffset,to.endContainer,to.endOffset),(fi.anchorNode!==to.startContainer||fi.focusNode!==to.endContainer)&&fi.setBaseAndExtent(Lo,0,Lo,1))}i.dispatch("AfterSetSelectionRange",{range:to,forward:Vo})},an=to=>(Ik(i,e.getOuterHTML(to)),to),Zn=()=>w9(i.getBody(),gt()),Sn=(to,Vo)=>C9(e,gt(),to,Vo),Gt=()=>{const to=mt(),Vo=to?.anchorNode,fi=to?.focusNode;if(!to||!Vo||!fi||Lb(Vo)||Lb(fi))return!0;const si=e.createRng(),Lo=e.createRng();try{si.setStart(Vo,to.anchorOffset),si.collapse(!0),Lo.setStart(fi,to.focusOffset),Lo.collapse(!0)}catch{return!0}return si.compareBoundaryPoints(si.START_TO_START,Lo)<=0},Ul={dom:e,win:n,serializer:o,editor:i,expand:(to={type:"word"})=>Zt(Lg(e).expand(gt(),to)),collapse:ct,setCursorLocation:E,getContent:A,setContent:R,getBookmark:re,moveToBookmark:pe,select:Be,isCollapsed:De,isEditable:He,isForward:Gt,setNode:an,getNode:Zn,getSel:mt,setRng:Zt,getRng:gt,getStart:q,getEnd:Q,getSelectedBlocks:Sn,normalize:()=>{const to=gt(),Vo=mt();if(!$x(Vo)&&EC(i)){const fi=ey(e,to);return fi.each(si=>{Zt(si,Gt())}),fi.getOr(to)}return to},selectorChanged:(to,Vo)=>(y(to,Vo),Ul),selectorChangedWithUnbind:y,getScrollContainer:()=>{let to,Vo=e.getRoot();for(;Vo&&Vo.nodeName!=="BODY";){if(Vo.scrollHeight>Vo.clientHeight){to=Vo;break}Vo=Vo.parentNode}return to},scrollIntoView:(to,Vo)=>{et(to)?eF(i,to,Vo):ty(i,gt(),Vo)},placeCaretAt:(to,Vo)=>Zt(HI(to,Vo,i.getDoc())),getBoundingClientRect:()=>{const to=gt();return to.collapsed?It.fromRangeStart(to).getClientRects()[0]:to.getBoundingClientRect()},destroy:()=>{n=c=p=null,nm.destroy()}},bc=Q0(Ul),nm=$I(Ul,i);return Ul.bookmarkManager=bc,Ul.controlSelection=nm,Ul},h5=(e,n,o)=>{n.addNodeFilter("br",(i,c,p)=>{const y=gn.extend({},o.getBlockElements()),E=o.getNonEmptyElements(),A=o.getWhitespaceElements();y.body=1;const R=q=>q.name in y||Ot(o,q);for(let q=0,Q=i.length;q<Q;q++){let re=i[q],pe=re.parent;if(pe&&R(pe)&&re===pe.lastChild){let Be=re.prev;for(;Be;){const De=Be.name;if(De!=="span"||Be.attr("data-mce-type")!=="bookmark"){De==="br"&&(re=null);break}Be=Be.prev}if(re&&(re.remove(),o2(o,E,A,pe))){const De=o.getElementRule(pe.name);De&&(De.removeEmpty?pe.remove():De.paddEmpty&&qN(e,p,R,pe))}}else{let Be=re;for(;pe&&pe.firstChild===Be&&pe.lastChild===Be&&(Be=pe,!y[pe.name]);)pe=pe.parent;if(Be===pe){const De=new Pu("#text",3);De.value=as,re.replace(De)}}}})},m5=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let p=i.length;for(;p--;){const y=i[p];y.attr("tabindex",y.attr("data-mce-tabindex")),y.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const p="data-mce-"+c,y=n.url_converter,E=n.url_converter_scope;let A=i.length;for(;A--;){const R=i[A];let q=R.attr(p);q!==void 0?(R.attr(c,q.length>0?q:null),R.attr(p,null)):(q=R.attr(c),c==="style"?q=o.serializeStyle(o.parseStyle(q),R.name):y&&(q=y.call(E,q,c,R.name)),R.attr(c,q.length>0?q:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const p=i[c];let y=p.attr("class");y&&(y=y.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),p.attr("class",y.length>0?y:null))}}),e.addAttributeFilter("data-mce-type",(i,c,p)=>{let y=i.length;for(;y--;){const E=i[y];E.attr("data-mce-type")==="bookmark"&&!p.cleanup&&(le.from(E.firstChild).exists(R=>!Lw(R.value??""))?E.unwrap():E.remove())}}),e.addNodeFilter("script,style",(i,c)=>{const p=E=>E.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let y=i.length;for(;y--;){const E=i[y],A=E.firstChild,R=A?.value??"";if(c==="script"){const q=E.attr("type");q&&E.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A&&R.length>0&&(A.value=`// <![CDATA[
`+p(R)+`
// ]]>`)}else n.element_format==="xhtml"&&A&&R.length>0&&(A.value=`<!--
`+p(R)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const p=i[c],y=p.value;n.preserve_cdata&&y?.indexOf("[CDATA[")===0?(p.name="#cdata",p.type=4,p.value=o.decode(y.replace(/^\[CDATA\[|\]\]$/g,""))):y?.indexOf("mce:protected ")===0&&(p.name="#text",p.type=3,p.raw=!0,p.value=unescape(y).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let p=i.length;for(;p--;){const y=i[p];y.type===7?y.remove():y.type===1&&c==="input"&&!y.attr("type")&&y.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{vt(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let p=i.length;for(;p--;)i[p].attr(c,null)}),n.remove_trailing_brs&&h5(n,e,e.schema)},z4=e=>{const n=i=>i?.name==="br",o=e.lastChild;if(n(o)){const i=o.prev;n(i)&&(o.remove(),i.remove())}},sD=(e,n,o)=>{let i;const c=e.dom;let p=n.cloneNode(!0);const y=document.implementation;if(y.createHTMLDocument){const E=y.createHTMLDocument("");gn.each(p.nodeName==="BODY"?p.childNodes:[p],A=>{E.body.appendChild(E.importNode(A,!0))}),p.nodeName!=="BODY"?p=E.body.firstChild:p=E.body,i=c.doc,c.doc=E}return $h(e,{...o,node:p}),i&&(c.doc=i),p},p5=(e,n)=>et(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,Cq=(e,n,o)=>p5(e,o)?sD(e,n,o):n,g5=(e,n,o)=>{gn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let p=i.length;for(;p--;)i[p].attr(c,null)}),n.push(o))},rD=(e,n,o)=>!n.no_events&&e?TT(e,{...n,content:o}).content:o,V4=(e,n,o)=>{const i=Ju(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||bd(Ve.fromDom(n))?i:gn.trim(i)},w2=(e,n,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,i);return z4(c),c},U4=(e,n,o)=>oy(e,n).serialize(o),v5=(e,n,o,i,c)=>{const p=U4(n,o,i);return rD(e,c,p)},WC=(e,n)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:li.DOM,p=n&&n.schema?n.schema:Uf(i),y=cy(i,p);m5(y,i,c);const E=(A,R={})=>{const{indent:q,entity_encoding:Q,...re}=R,pe={format:"html",...re},Be=Cq(n,A,pe),De=V4(c,Be,pe),He=w2(y,De,pe);if(pe.format==="tree")return He;const ct={...i,...et(q)?{indent:q}:{},...et(Q)?{entity_encoding:Q}:{}};return v5(n,ct,p,He,pe)};return{schema:p,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:E,addRules:p.addValidElements,setRules:p.setValidElements,addTempAttr:qt(g5,y,o),getTempAttrs:xt(o),getNodeFilters:y.getNodeFilters,getAttributeFilters:y.getAttributeFilters,removeNodeFilter:y.removeNodeFilter,removeAttributeFilter:y.removeAttributeFilter}},iD=(e,n)=>{const o=WC(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},W4="html",jC=(e,n)=>({...e,format:n,get:!0,getInner:!0}),S1=(e,n={})=>{const o=n.format?n.format:W4,i=jC(n,o);return uy(e,i).fold(Eo,c=>{const p=i5(e,c);return f4(e,p,c)})},b5="html",Sq=(e,n)=>({format:b5,...e,set:!0,content:n}),j4=(e,n,o={})=>{const i=Sq(o,n);Nk(e,i).each(c=>{const p=a5(e,c.content,c);Rk(e,p.html,c)})},C2=li.DOM,y5=e=>{C2.setStyle(e.id,"display",e.orgDisplay)},S2=e=>le.from(e).each(n=>n.destroy()),xq=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const i=o.dom;n.selection=o.win=o.dom=i.doc=null}},x1=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),C2.unbind(n,"submit reset",e.formEventDelegate))},fy=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&et(c?.nextSibling)&&C2.remove(c.nextSibling),Rp(e),e.editorManager.remove(e),!e.inline&&i&&y5(e),Yf(e),C2.remove(e.getContainer()),S2(n),S2(o),e.destroy()}},w5=(e,n)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),S2(o),S2(i)),x1(e),xq(e),e.destroyed=!0}},aD=(()=>{const e={};return{add:(c,p)=>{e[c]=p},get:c=>e[c]?e[c]:{icons:{}},has:c=>qo(e,c)}})(),ZC=tu.ModelManager,C5=(e,n)=>n.dom[e],Gd=(e,n)=>parseInt(ai(n,e),10),Km=qt(C5,"clientWidth"),S5=qt(C5,"clientHeight"),Z4=qt(Gd,"margin-top"),q4=qt(Gd,"margin-left"),lD=e=>e.dom.getBoundingClientRect(),Tq=(e,n,o)=>{const i=Km(e),c=S5(e);return n>=0&&o>=0&&n<=i&&o<=c},x5=(e,n,o,i)=>{const c=lD(n),p=e?c.left+n.dom.clientLeft+q4(n):0,y=e?c.top+n.dom.clientTop+Z4(n):0,E=o-p,A=i-y;return{x:E,y:A}},x2=(e,n,o)=>{const i=Ve.fromDom(e.getBody()),c=e.inline?i:Za(i),p=x5(e.inline,c,n,o);return Tq(c,p.x,p.y)},Eq=e=>le.from(e).map(Ve.fromDom),cD=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Eq(n).map($r).getOr(!1)};var Y4=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const G4=e=>{const n=[],o=()=>{const re=e.theme;return re&&re.getNotificationManagerImpl?re.getNotificationManagerImpl():Y4()},i=()=>le.from(n[0]),c=(re,pe)=>re.type===pe.type&&re.text===pe.text&&!re.progressBar&&!re.timeout&&!pe.progressBar&&!pe.timeout,p=()=>{i().each(re=>{re.reposition()})},y=re=>{n.push(re)},E=re=>{Vt(n,pe=>pe===re).each(pe=>{n.splice(pe,1)})},A=(re,pe=!0)=>e.removed||!cD(e)?{}:(pe&&e.dispatch("BeforeOpenNotification",{notification:re}),Vn(n,Be=>c(o().getArgs(Be),re)).getOrThunk(()=>{e.editorManager.setActive(e);const Be=o().open(re,()=>{E(Be)},()=>OC(e));return y(Be),p(),e.dispatch("OpenNotification",{notification:{...Be}}),Be})),R=()=>{i().each(re=>{o().close(re),E(re),p()})},q=xt(n);return(re=>{re.on("SkinLoaded",()=>{const pe=_x(re);pe&&A({text:pe,type:"warning",timeout:0},!1),p()}),re.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(p)}),re.on("remove",()=>{vt(n.slice(),pe=>{o().close(pe)})}),re.on("keydown",pe=>{const Be=pe.key?.toLowerCase()==="f12"||pe.keyCode===123;pe.altKey&&Be&&(pe.preventDefault(),i().map(De=>Ve.fromDom(De.getEl())).each(De=>dm(De)))})})(e),{open:A,close:R,getNotifications:q}},$g=tu.PluginManager,hy=tu.ThemeManager;var kq=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const Xm=e=>{let n=[];const o=()=>{const He=e.theme;return He&&He.getWindowManagerImpl?He.getWindowManagerImpl():kq()},i=(He,ct)=>(...mt)=>ct?ct.apply(He,mt):void 0,c=He=>{e.dispatch("OpenWindow",{dialog:He})},p=He=>{e.dispatch("CloseWindow",{dialog:He})},y=(He,ct)=>{n.push({instanceApi:He,triggerElement:ct}),c(He)},E=He=>{p(He);const ct=Co(n,({instanceApi:mt,triggerElement:gt})=>mt===He?gt:le.none());n=At(n,({instanceApi:mt})=>mt!==He),n.length===0?e.focus():ct.filter($r).each(dm)},A=()=>le.from(n[n.length-1]),R=He=>{e.editorManager.setActive(e),$E(e);const ct=ju();e.ui.show();const mt=He();return y(mt,ct),mt},q=(He,ct)=>R(()=>o().open(He,ct,E)),Q=He=>R(()=>o().openUrl(He,E)),re=He=>{n.length!==0&&He.each(ct=>dm(ct))},pe=(He,ct,mt)=>{const gt=ju(),Zt=o();Zt.alert(He,i(mt||Zt,()=>{re(gt),ct?.()}))},Be=(He,ct,mt)=>{const gt=ju(),Zt=o();Zt.confirm(He,i(mt||Zt,an=>{re(gt),ct?.(an)}))},De=()=>{A().each(({instanceApi:He})=>{o().close(He),E(He)})};return e.on("remove",()=>{vt(n,({instanceApi:He})=>{o().close(He)})}),{open:q,openUrl:Q,alert:pe,confirm:Be,close:De}},Kd=(e,n)=>{e.notificationManager.open({type:"error",text:n})},_1=(e,n)=>{e._skinLoaded?Kd(e,n):e.on("SkinLoaded",()=>{Kd(e,n)})},_f=(e,n)=>{_1(e,jf.translate(["Failed to upload image: {0}",n]))},my=(e,n,o)=>{px(e,n,{message:o}),console.error(o)},di=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,Dq=(e,n,o)=>{my(e,"PluginLoadError",di("plugin",n,o))},hb=(e,n,o)=>{my(e,"IconsLoadError",di("icons",n,o))},_2=(e,n,o)=>{my(e,"LanguageLoadError",di("language",n,o))},_5=(e,n,o)=>{my(e,"ThemeLoadError",di("theme",n,o))},K4=(e,n,o)=>{my(e,"ModelLoadError",di("model",n,o))},X4=(e,n)=>{my(e,"LicenseKeyManagerLoadError",di("license key manager",n))},Aq=(e,n)=>{my(e,"ComponentLoadError",di("component",n))},J4=(e,n,o)=>{const i=jf.translate(["Failed to initialize plugin: {0}",n]);px(e,"PluginLoadError",{message:i}),uD(i,o),_1(e,i)},uD=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q4=new WeakMap,T5=e=>{if(Q4.has(e))return;Q4.set(e,!0);const n=()=>{e.on("SwitchMode",i=>{const{mode:c}=i;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",i=>{const{state:c}=i;c||i.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),n()},dD=(e,n)=>{const{type:o,message:i}=n;e.notificationManager.open({type:o,text:i})},E5=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},fD=e=>{E5(e.type)(e.message)},eR=(e,n)=>{const{console:o,editor:i}=n;et(i)&&(e._skinLoaded?dD(e,i):e.on("SkinLoaded",()=>{dD(e,i)})),et(o)&&fD(o)},tR="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",Oq="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",Mq=e=>{const n="The editor is disabled because a TinyMCE license key has not been provided.";eR(e,{console:{type:"error",message:[`${n}`,Oq,tR].join(" ")},editor:{type:"warning",message:`${n}`}})},k5=(e,n)=>{const o=`${n==="online"?"API":"license"} key`,i=`The editor is disabled because the TinyMCE ${o} could not be validated.`;eR(e,{console:{type:"error",message:[`${i}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,tR].join(" ")},editor:{type:"warning",message:`${i}`}})},D5=(e,n)=>{const o=`The "${n}" plugin requires a valid TinyMCE license key.`;eR(e,{console:{type:"error",message:[`${o}`,tR].join(" ")}})},A5="licensekeymanager",O5=e=>xe(nE(e))?"online":"offline",Nq=e=>{const n=$0(e)?.toLowerCase();return n==="gpl"?"gpl":ln(n)?"no_key":"non_gpl"},nR=e=>{const n=O5(e),o=Nq(e),i=new Set(jv(e)).has(A5);return o!=="gpl"||n==="online"||i?{type:"use_plugin",onlineStatus:n,licenseKeyType:o,forcePlugin:i}:{type:"use_gpl",onlineStatus:n,licenseKeyType:o,forcePlugin:i}},T2=e=>({validate:n=>{const{plugin:o}=n;return xe(o)&&D5(e,o),Promise.resolve(!1)}}),Rq=e=>({validate:n=>{const{plugin:o}=n,i=xe(o);return i&&D5(e,o),Promise.resolve(!i)}}),hD="manager",M5=A5,oR=(()=>{const e=tu();return{load:(c,p)=>{if(nR(c).type==="use_plugin"){const E=`plugins/${M5}/plugin${p}.js`;e.load(hD,E).catch(()=>{X4(c,E)})}},add:c=>{e.add(hD,c)},init:c=>{const p=A=>{Object.defineProperty(c,"licenseKeyManager",{value:A,writable:!1,configurable:!1,enumerable:!0})},y=nR(c),E=e.get(hD);if(et(E)){const A=E(c,e.urls[hD]);p(A)}else switch(y.type){case"use_gpl":{p(Rq(c));break}case"use_plugin":{T5(c),p(T2(c)),y.onlineStatus==="offline"&&y.licenseKeyType==="no_key"?Mq(c):k5(c,y.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),N5=e=>{le.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},iu=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},Pq=(e,n)=>{iu(e,"StyleWithCSS",n),iu(e,"enableInlineTableEditing",n),iu(e,"enableObjectResizing",n)},R5=e=>{e.selection.setRng(e.selection.getRng())},mD=(e,n,o)=>{uf(e,n)&&!o?La(e,n):o&&ac(e,n)},pD=e=>{const n=Ve.fromDom(e.getBody());mD(n,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),N5(e)},sR=e=>{const n=Ve.fromDom(e.getBody());mD(n,"mce-content-readonly",!1),e.hasEditableRoot()&&B(n,!0),Pq(e,!1),OC(e)&&e.focus(),R5(e),e.nodeChanged()},Hg=e=>H0(e),py="data-mce-contenteditable",Iq=e=>{vt(Ht(e,'*[contenteditable="true"]'),n=>{xr(n,py,"true"),B(n,!1)})},L5=e=>{vt(Ht(e,`*[${py}="true"]`),n=>{Ga(n,py),B(n,!0)})},rR=(e,n)=>{const o=Ve.fromDom(e.getBody());n?(pD(e),B(o,!1),Iq(o)):(L5(o),sR(e))},oh=e=>{e.serializer?P5(e):e.on("PreInit",()=>{P5(e)})},P5=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Hg(e)&&vt(n,o=>{o.attr(py,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(py,n=>{Hg(e)&&vt(n,o=>{o.attr("contenteditable",o.attr(py))})}),e.serializer.addTempAttr(py)},Fq=e=>e.type==="click",use=["copy"],iR=e=>fo(use,e.type),Bq=(e,n)=>Ai(n,"a",i=>no(i,Ve.fromDom(e.getBody()))).bind(i=>_u(i,"href")),dse=(e,n)=>{if(Fq(n)&&!Qn.metaKeyPressed(n)){const o=Ve.fromDom(n.target);Bq(e,o).each(i=>{if(n.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${wu(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else iR(n)&&e.dispatch(n.type,n)},$q=e=>{e.on("ShowCaret ObjectSelected",n=>{Hg(e)&&n.preventDefault()}),e.on("DisabledStateChange",n=>{n.isDefaultPrevented()||rR(e,n.state)})},aR=e=>{oh(e),$q(e)},Jm=e=>/^[a-z0-9\-]+$/i.test(e),E2=e=>"content/"+e+"/content.css",gD=e=>tinymce.Resource.has(E2(e)),lR=e=>vD(e,Cx(e)),Hq=e=>vD(e,IT(e)),vD=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return In(n,p=>gD(p)?p:Jm(p)&&!e.inline?`${o}/${p}/${c}`:e.documentBaseURI.toAbsolute(p))},zq=e=>{e.contentCSS=e.contentCSS.concat(lR(e),Hq(e))},I5=e=>e?zs(e.getElementsByTagName("img")):[],Vq=(e,n)=>{const o={};return{findAll:(c,p=yt)=>{const y=At(I5(c),A=>{const R=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!R||R===Xs.transparentSrc?!1:Po(R,"blob:")?!e.isUploaded(R)&&p(A):Po(R,"data:")?p(A):!1}),E=In(y,A=>{const R=A.src;if(qo(o,R))return o[R].then(q=>xe(q)?q:{image:A,blobInfo:q.blobInfo});{const q=Sj(n,R).then(Q=>(delete o[R],{image:A,blobInfo:Q})).catch(Q=>(delete o[R],Q));return o[R]=q,q}});return Promise.all(E)}}},F5=()=>{let o={};const i=(re,pe)=>({status:re,resultUri:pe}),c=re=>re in o;return{hasBlobUri:c,getResultUri:re=>{const pe=o[re];return pe?pe.resultUri:null},isPending:re=>c(re)?o[re].status===1:!1,isUploaded:re=>c(re)?o[re].status===2:!1,markPending:re=>{o[re]=i(1,null)},markUploaded:(re,pe)=>{o[re]=i(2,pe)},removeFailed:re=>{delete o[re]},destroy:()=>{o={}}}};let cR=0;const Uq=()=>{const e=()=>Math.round(Do()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},B5=e=>e+cR+++Uq(),Wq=()=>{let e=[];const n=Q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Q.toLowerCase()]||"dat",o=(Q,re,pe,Be,De)=>{if(xe(Q))return i({id:Q,name:Be,filename:De,blob:re,base64:pe});if(dt(Q))return i(Q);throw new Error("Unknown input type")},i=Q=>{if(!Q.blob||!Q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const re=Q.id||B5("blobid"),pe=Q.name||re,Be=Q.blob;return{id:xt(re),name:xt(pe),filename:xt(Q.filename||pe+"."+n(Be.type)),blob:xt(Be),base64:xt(Q.base64),blobUri:xt(Q.blobUri||URL.createObjectURL(Be)),uri:xt(Q.uri)}},c=Q=>{y(Q.id())||e.push(Q)},p=Q=>Vn(e,Q).getOrUndefined(),y=Q=>p(re=>re.id()===Q);return{create:o,add:c,get:y,getByUri:Q=>p(re=>re.blobUri()===Q),getByData:(Q,re)=>p(pe=>pe.base64()===Q&&pe.blob().type===re),findFirst:p,removeByUri:Q=>{e=At(e,re=>re.blobUri()===Q?(URL.revokeObjectURL(re.blobUri()),!1):!0)},destroy:()=>{vt(e,Q=>{URL.revokeObjectURL(Q.blobUri())}),e=[]}}},gy=(e,n)=>{const o={},i=(De,He)=>De?De.replace(/\/$/,"")+"/"+He.replace(/^\//,""):He,c=(De,He)=>new Promise((ct,mt)=>{const gt=new XMLHttpRequest;gt.open("POST",n.url),gt.withCredentials=n.credentials,gt.upload.onprogress=an=>{He(an.loaded/an.total*100)},gt.onerror=()=>{mt("Image upload failed due to a XHR Transport error. Code: "+gt.status)},gt.onload=()=>{if(gt.status<200||gt.status>=300){mt("HTTP Error: "+gt.status);return}const an=JSON.parse(gt.responseText);if(!an||!xe(an.location)){mt("Invalid JSON: "+gt.responseText);return}ct(i(n.basePath,an.location))};const Zt=new FormData;Zt.append("file",De.blob(),De.filename()),gt.send(Zt)}),p=Fe(n.handler)?n.handler:c,y=()=>new Promise(De=>{De([])}),E=(De,He)=>({url:He,blobInfo:De,status:!0}),A=(De,He)=>({url:"",blobInfo:De,status:!1,error:He}),R=(De,He)=>{gn.each(o[De],ct=>{ct(He)}),delete o[De]},q=(De,He,ct)=>(e.markPending(De.blobUri()),new Promise(mt=>{let gt,Zt;try{const an=()=>{gt&&(gt.close(),Zt=Ze)},Zn=Gt=>{an(),e.markUploaded(De.blobUri(),Gt),R(De.blobUri(),E(De,Gt)),mt(E(De,Gt))},Sn=Gt=>{an(),e.removeFailed(De.blobUri()),R(De.blobUri(),A(De,Gt)),mt(A(De,Gt))};Zt=Gt=>{Gt<0||Gt>100||le.from(gt).orThunk(()=>le.from(ct).map(Oo)).each(jt=>{gt=jt,jt.progressBar.value(Gt)})},He(De,Zt).then(Zn,Gt=>{Sn(xe(Gt)?{message:Gt}:Gt)})}catch(an){mt(A(De,an))}})),Q=De=>De===c,re=De=>{const He=De.blobUri();return new Promise(ct=>{o[He]=o[He]||[],o[He].push(ct)})},pe=(De,He)=>(De=gn.grep(De,ct=>!e.isUploaded(ct.blobUri())),Promise.all(gn.map(De,ct=>e.isPending(ct.blobUri())?re(ct):q(ct,p,He))));return{upload:(De,He)=>!n.url&&Q(p)?y():pe(De,He)}},uR=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),$5=(e,n)=>gy(n,{url:TI(e),basePath:k0(e),credentials:iM(e),handler:EI(e)}),H5=e=>{const n=F5(),o=$5(e,n);return{upload:(i,c=!0)=>o.upload(i,c?uR(e):void 0)}},jq=(e,n)=>e.dom.isEmpty(n.dom)&&et(e.schema.getTextBlockElements()[Qo(n)]),Zq=e=>n=>{jq(e,n)&&Sr(n,Ve.fromHtml('<br data-mce-bogus="1" />'))},qq=e=>{const n=Wq();let o,i;const c=F5(),p=[],y=gt=>Zt=>e.selection?gt(Zt):[],E=gt=>gt+(gt.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(gt,Zt,an)=>{let Zn=0;do Zn=gt.indexOf(Zt,Zn),Zn!==-1&&(gt=gt.substring(0,Zn)+an+gt.substr(Zn+Zt.length),Zn+=an.length-Zt.length+1);while(Zn!==-1);return gt},R=(gt,Zt,an)=>{const Zn=`src="${an}"${an===Xs.transparentSrc?' data-mce-placeholder="1"':""}`;return gt=A(gt,`src="${Zt}"`,Zn),gt=A(gt,'data-mce-src="'+Zt+'"','data-mce-src="'+an+'"'),gt},q=(gt,Zt)=>{vt(e.undoManager.data,an=>{an.type==="fragmented"?an.fragments=In(an.fragments,Zn=>R(Zn,gt,Zt)):an.content=R(an.content,gt,Zt)})},Q=(gt,Zt)=>{const an=e.convertURL(Zt,"src");q(gt.src,Zt),ri(Ve.fromDom(gt),{src:Or(e)?E(Zt):Zt,"data-mce-src":an})},re=()=>(o||(o=$5(e,c)),He().then(y(gt=>{const Zt=In(gt,an=>an.blobInfo);return o.upload(Zt,uR(e)).then(y(an=>{const Zn=[];let Sn=!1;const Gt=In(an,(jt,cn)=>{const{blobInfo:uo,image:ts}=gt[cn];let Hs=!1;return jt.status&&xI(e)?(jt.url&&!Si(ts.src,jt.url)&&(Sn=!0),n.removeByUri(ts.src),Gh(e)||Q(ts,jt.url)):jt.error&&(jt.error.remove&&(q(ts.src,Xs.transparentSrc),Zn.push(ts),Hs=!0),_f(e,jt.error.message)),{element:ts,status:jt.status,uploadUri:jt.url,blobInfo:uo,removed:Hs}});return Zn.length>0&&!Gh(e)?e.undoManager.transact(()=>{vt(rf(Zn),jt=>{const cn=Pl(jt);ii(jt),cn.each(Zq(e)),n.removeByUri(jt.dom.src)})}):Sn&&e.undoManager.dispatchChange(),Gt}))}))),pe=()=>Wv(e)?re():Promise.resolve([]),Be=gt=>Ie(p,Zt=>Zt(gt)),De=gt=>{p.push(gt)},He=()=>(i||(i=Vq(c,n)),i.findAll(e.getBody(),Be).then(y(gt=>{const Zt=At(gt,an=>xe(an)?(_1(e,an),!1):an.uriType!=="blob");return Gh(e)||vt(Zt,an=>{q(an.image.src,an.blobInfo.blobUri()),an.image.src=an.blobInfo.blobUri(),an.image.removeAttribute("data-mce-src")}),Zt}))),ct=()=>{n.destroy(),c.destroy(),i=o=null},mt=gt=>gt.replace(/src="(blob:[^"]+)"/g,(Zt,an)=>{const Zn=c.getResultUri(an);if(Zn)return'src="'+Zn+'"';let Sn=n.getByUri(an);return Sn||(Sn=ir(e.editorManager.get(),(Gt,jt)=>Gt||jt.editorUpload&&jt.editorUpload.blobCache.getByUri(an),void 0)),Sn?'src="data:'+Sn.blob().type+";base64,"+Sn.base64()+'"':Zt});return e.on("SetContent",()=>{Wv(e)?pe():He()}),e.on("RawSaveContent",gt=>{gt.content=mt(gt.content)}),e.on("GetContent",gt=>{gt.source_view||gt.format==="raw"||gt.format==="tree"||(gt.content=mt(gt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",gt=>{vt(gt,Zt=>{const an=Zt.attr("src");if(!an||n.getByUri(an))return;const Zn=c.getResultUri(an);Zn&&Zt.attr("src",Zn)})})}),{blobCache:n,addFilter:De,uploadImages:re,uploadImagesAuto:pe,scanForImages:He,destroy:ct}},Yq=e=>{const n=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},p={inline:"strike",remove:"all",preserve_attributes:["class","style"]},y={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[y,c,p]:[c,y,p]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,p,y)=>yo(c)&&c.hasAttribute("href"),onformat:(c,p,y)=>{gn.each(y,(E,A)=>{n.setAttrib(c,A,E)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>c?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return gn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},z5={remove_similar:!0,inherit:!1},vy={selector:"td,th",...z5},Gq={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...vy},tablecellverticalalign:{styles:{"vertical-align":"%value"},...vy},tablecellbordercolor:{styles:{borderColor:"%value"},...vy},tablecellclass:{classes:["%value"],...vy},tableclass:{selector:"table",classes:["%value"],...z5},tablecellborderstyle:{styles:{borderStyle:"%value"},...vy},tablecellborderwidth:{styles:{borderWidth:"%value"},...vy}},dR=xt(Gq),T1=e=>{const n={},o=y=>et(y)?n[y]:n,i=y=>qo(n,y),c=(y,E)=>{y&&(xe(y)?(Et(E)||(E=[E]),vt(E,A=>{Ln(A.deep)&&(A.deep=!zt(A)),Ln(A.split)&&(A.split=!zt(A)||Kt(A)),Ln(A.remove)&&zt(A)&&!Kt(A)&&(A.remove="none"),zt(A)&&Kt(A)&&(A.mixed=!0,A.block_expand=!0),xe(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[y]=E):Mo(y,(A,R)=>{c(R,A)}))},p=y=>(y&&n[y]&&delete n[y],n);return c(Yq(e)),c(dR()),c(cM(e)),{get:o,has:i,register:c,unregister:p}},bD=gn.each,Kh=li.DOM,by=e=>et(e)&&dt(e),fR=(e,n)=>{const o=n&&n.schema||Uf({}),i=(A,R)=>{R.classes.length>0&&Kh.addClass(A,R.classes.join(" ")),Kh.setAttribs(A,R.attrs)},c=A=>{const R=xe(A)?{name:A,classes:[],attrs:{}}:A,q=Kh.create(R.name);return i(q,R),q},p=(A,R)=>{const Q=o.getElementRule(A.nodeName.toLowerCase())?.parentsRequired;return Q&&Q.length?R&&fo(Q,R)?R:Q[0]:!1},y=(A,R,q)=>{let Q;const re=R[0],pe=by(re)?re.name:void 0,Be=p(A,pe);if(Be)pe===Be?(Q=re,R=R.slice(1)):Q=Be;else if(re)Q=re,R=R.slice(1);else if(!q)return A;const De=Q?c(Q):Kh.create("div");De.appendChild(A),q&&gn.each(q,ct=>{const mt=c(ct);De.insertBefore(mt,A)});const He=by(Q)?Q.siblings:void 0;return y(De,R,He)},E=Kh.create("div");if(e.length>0){const A=e[0],R=c(A),q=by(A)?A.siblings:void 0;E.appendChild(y(R,e.slice(1),q))}return E},V5=e=>{e=gn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,p,y,E)=>{switch(c){case"#":o.attrs.id=p;break;case".":o.classes.push(p);break;case":":gn.inArray("checked disabled enabled read-only required".split(" "),p)!==-1&&(o.attrs[p]=p);break}if(y==="["){const A=E.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},U5=e=>xe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),gn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=gn.map(n.split(/(?:~\+|~|\+)/),V5),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],yD=(e,n)=>{let o="",i=O0(e);if(i==="")return"";const c=re=>xe(re)?re.replace(/%(\w+)/g,""):"",p=(re,pe)=>Kh.getStyle(pe??e.getBody(),re,!0);if(xe(n)){const re=e.formatter.get(n);if(!re)return"";n=re[0]}if("preview"in n){const re=n.preview;if(re===!1)return"";i=re||i}let y=n.block||n.inline||"span",E;const A=U5(n.selector);A.length>0?(A[0].name||(A[0].name=y),y=n.selector,E=fR(A,e)):E=fR([y],e);const R=Kh.select(y,E)[0]||E.firstChild;bD(n.styles,(re,pe)=>{const Be=c(re);Be&&Kh.setStyle(R,pe,Be)}),bD(n.attributes,(re,pe)=>{const Be=c(re);Be&&Kh.setAttrib(R,pe,Be)}),bD(n.classes,re=>{const pe=c(re);Kh.hasClass(R,pe)||Kh.addClass(R,pe)}),e.dispatch("PreviewFormats"),Kh.setStyles(E,{position:"absolute",left:-65535}),e.getBody().appendChild(E);const q=p("fontSize"),Q=/px$/.test(q)?parseInt(q,10):0;return bD(i.split(" "),re=>{let pe=p(re,R);if(!(re==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(pe)&&(pe=p(re),Ov(pe).toLowerCase()==="#ffffff"))&&!(re==="color"&&Ov(pe).toLowerCase()==="#000000")){if(re==="font-size"&&/em|%$/.test(pe)){if(Q===0)return;pe=parseFloat(pe)/(/%$/.test(pe)?100:1)*Q+"px"}re==="border"&&pe&&(o+="padding:0 2px;"),o+=re+":"+pe+";"}}),e.dispatch("AfterPreviewFormats"),Kh.remove(E),o},W5=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},j5=e=>{const n=T1(e),o=io({});return W5(e),e2(e),Gh(e)||LZ(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(i,c,p)=>{n5(e,i,c,p)},remove:(i,c,p,y)=>{o5(e,i,c,p,y)},toggle:(i,c,p)=>{s5(e,i,c,p)},match:(i,c,p,y)=>wq(e,i,c,p,y),closest:i=>oD(e,i),matchAll:(i,c)=>Q$(e,i,c),matchNode:(i,c,p,y)=>e5(e,i,c,p,y),canApply:i=>t5(e,i),formatChanged:(i,c,p,y)=>r5(e,o,i,c,p,y),getCssText:qt(yD,e)}},hR=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Kq=(e,n,o)=>{const i=io(!1),c=A=>{eD(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const R=A.command;hR(R)||(W$(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const R=A.command;hR(R)||c(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const R=A.keyCode;if(A.isDefaultPrevented())return;const q=Xs.os.isMacOS()&&A.key==="Meta";(R>=33&&R<=36||R>=37&&R<=40||R===45||A.ctrlKey||q)&&(c(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),i.get()&&n.typing&&!Jk(Kk(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const R=A.keyCode;if(A.isDefaultPrevented())return;if(R>=33&&R<=36||R>=37&&R<=40||R===45){n.typing&&c(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if((R<16||R>20)&&R!==224&&R!==91&&!n.typing&&!q){n.beforeChange(),eD(n,!0,o),n.add({},A),i.set(!0);return}(Xs.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&n.beforeChange()}),e.on("mousedown",A=>{n.typing&&c(A)});const p=A=>A.inputType==="insertReplacementText",y=A=>A.inputType==="insertText"&&A.data===null,E=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(p(A)||y(A)||E(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},Xq=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},k2=e=>{const n=Da(),o=io(0),i=io(0),c={data:[],typing:!1,beforeChange:()=>{nD(e,o,n)},add:(p,y)=>L4(e,c,i,o,n,p,y),dispatchChange:()=>{e.setDirty(!0);const p=Kk(e);p.bookmark=x0(e.selection),e.dispatch("change",{level:p,lastLevel:Gn(c.data,i.get()).getOrUndefined()})},undo:()=>q$(e,c,o,i),redo:()=>Y$(e,i,c.data),clear:()=>{G$(e,c,i)},reset:()=>{K$(e,c)},hasUndo:()=>X$(e,c,i),hasRedo:()=>dy(e,c,i),transact:p=>J$(e,c,o,p),ignore:p=>{P4(e,o,p)},extra:(p,y)=>{yq(e,c,i,p,y)}};return Gh(e)||Kq(e,c,o),Xq(e),c},Z5=[9,27,Qn.HOME,Qn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Qn.DOWN,Qn.UP,Qn.LEFT,Qn.RIGHT].concat(Xs.browser.isFirefox()?[224]:[]),mR="data-mce-placeholder",D2=e=>e.type==="keydown"||e.type==="keyup",q5=e=>{const n=e.keyCode;return n===Qn.BACKSPACE||n===Qn.DELETE},Jq=e=>{if(D2(e)){const n=e.keyCode;return!q5(e)&&(Qn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||fo(Z5,n))}else return!1},Qq=e=>D2(e)&&!(q5(e)||e.type==="keyup"&&e.keyCode===229),Y5=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const i=n.firstElementChild;return i?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},pR=e=>{const n=e.dom,o=$c(e),i=BT(e)??"",c=(p,y)=>{if(Jq(p))return;const E=e.getBody(),A=Qq(p)?!1:Y5(n,E,o);(n.getAttrib(E,mR)!==""!==A||y)&&(n.setAttrib(E,mR,A?i:null),eM(e,A),e.on(A?"keydown":"keyup",c),e.off(A?"keyup":"keydown",c))};Lt(i)&&e.on("init",p=>{c(p,!0),e.on("change SetContent ExecCommand",c),e.on("paste",y=>Qf.setEditorTimeout(e,()=>c(y)))})},eY=e=>n=>et(n)&&n.nodeName.toLowerCase()===e,A2=e=>n=>et(n)&&e.test(n.nodeName),zg=e=>et(e)&&e.nodeType===3,G5=e=>et(e)&&e.nodeType===1,Xh=A2(/^(OL|UL|DL)$/),O2=A2(/^(OL|UL)$/),sh=A2(/^(LI|DT|DD)$/),tY=A2(/^(DT|DD)$/),mb=eY("br"),cl=e=>e.parentNode?.firstChild===e,M2=(e,n)=>et(n)&&n.nodeName in e.schema.getTextBlockElements(),qC=(e,n)=>et(e)&&e.nodeName in n,pb=(e,n)=>et(n)&&n.nodeName in e.schema.getVoidElements(),K5=(e,n)=>mb(n)?e.isBlock(n.nextSibling)&&!mb(n.previousSibling):!1,gb=(e,n,o)=>{const i=e.isEmpty(n);return o&&e.select("span[data-mce-type=bookmark]",n).length>0?!1:i},X5=(e,n)=>e.isChildOf(n,e.getRoot()),yy=li.DOM,nY=(e,n)=>{const o=n.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===n){const i=o.previousSibling;i&&i.nodeName==="LI"?(i.appendChild(n),gb(e,o)&&yy.remove(o)):yy.setStyle(o,"listStyleType","none")}if(Xh(o)){const i=o.previousSibling;i&&i.nodeName==="LI"&&i.appendChild(n)}},gR=(e,n)=>{const o=gn.grep(e.select("ol,ul",n));gn.each(o,i=>{nY(e,i)})},wy=(e,n)=>{if(zg(e))return{container:e,offset:n};const o=Lg.getNode(e,n);return zg(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&zg(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&zg(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},vR=e=>{const n=e.cloneRange(),o=wy(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=wy(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},E1=["OL","UL","DL"],J5=E1.join(","),Qm=(e,n)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,J5,N2(e,o))},oY=(e,n)=>et(e)&&n.length===1&&n[0]===e,Jh=e=>At(e.querySelectorAll(J5),Xh),Cy=e=>{const n=Qm(e),o=e.selection.getSelectedBlocks();return oY(n,o)?Jh(n):At(o,i=>Xh(i)&&n!==i)},sY=(e,n)=>{const o=gn.map(n,i=>{const c=e.dom.getParent(i,"li,dd,dt",N2(e,i));return c||i});return Ci(o)},Sy=e=>{const n=e.selection.getSelectedBlocks();return At(sY(e,n),sh)},bR=e=>At(Sy(e),tY),yR=(e,n)=>{const o=e.dom.getParents(n,"TD,TH");return o.length>0?o[0]:e.getBody()},YC=(e,n)=>!Xh(n)&&!sh(n)&&Ws(E1,o=>e.isValidChild(n.nodeName,o)),N2=(e,n)=>{const o=e.dom.getParents(n,e.dom.isBlock),i=p=>p.nodeName.toLowerCase()!==$c(e);return Vn(o,p=>i(p)&&YC(e.schema,p)).getOr(e.getBody())},ep=e=>Pl(e).exists(n=>sh(n.dom)&&qa(n).exists(o=>!Xh(o.dom))&&Ma(n).exists(o=>!Xh(o.dom))),R2=(e,n)=>{const o=e.dom.getParents(n,"ol,ul",N2(e,n));return Uo(o)},Q5=e=>{const n=R2(e,e.selection.getStart()),o=At(e.selection.getSelectedBlocks(),O2);return n.toArray().concat(o)},wR=e=>{const n=e.selection.getStart();return e.dom.getParents(n,"ol,ul",N2(e,n))},CR=e=>{const n=Q5(e),o=wR(e);return Vn(o,i=>ep(Ve.fromDom(i))).fold(()=>xy(e,n),i=>[i])},xy=(e,n)=>{const o=In(n,i=>R2(e,i).getOr(i));return Ci(o)},GC=e=>/\btox\-/.test(e.className),eH=(e,n)=>n!==null&&!e.dom.isEditable(n),rY=e=>{const n=Qm(e);return eH(e,n)||!e.selection.isEditable()},SR=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return eH(e,o)||!e.selection.isEditable()},_y=(e,n,o)=>e.dispatch("ListMutation",{action:n,element:o}),tH=(e,n,o={})=>{const i=e.dom,c=e.schema.getBlockElements(),p=i.createFragment(),y=$c(e),E=e1(e);let A,R,q=!1;for(R=i.create(y,{...E,...o.style?{style:o.style}:{}}),qC(n.firstChild,c)||p.appendChild(R);A=n.firstChild;){const Q=A.nodeName;!q&&(Q!=="SPAN"||A.getAttribute("data-mce-type")!=="bookmark")&&(q=!0),qC(A,c)?(p.appendChild(A),R=null):(R||(R=i.create(y,E),p.appendChild(R)),R.appendChild(A))}return!q&&R&&R.appendChild(i.create("br",{"data-mce-bogus":"1"})),p},L2=e=>Cl(e,"OL,UL"),KC=e=>Cl(e,"LI"),tp=e=>qa(e).exists(L2),iY=e=>Ma(e).exists(L2),aY=(e,n)=>oE(e).map(o=>o>=n).getOr(!0),Ty=e=>"listAttributes"in e,nH=e=>"isComment"in e,lY=e=>"isFragment"in e,oH=e=>e.depth>0,cY=e=>e.isSelected,uY=e=>{const n=zi(e),o=iY(e)?n.slice(0,-1):n;return In(o,Zu)},dY=(e,n,o)=>Pl(e).filter(Ji).map(i=>({depth:n,dirty:!1,isSelected:o,content:uY(e),itemAttributes:qs(e),listAttributes:qs(i),listType:Qo(i),isInPreviousLi:!1})),fY=(e,n)=>{Sr(e.item,n.list)},hY=e=>{for(let n=1;n<e.length;n++)fY(e[n-1],e[n])},mY=(e,n)=>{Xo(Uo(e),yn(n),fY)},pY=(e,n)=>{const o={list:Ve.fromTag(n,e),item:Ve.fromTag("li",e)};return Sr(o.list,o.item),o},gY=(e,n,o)=>{const i=[];for(let c=0;c<o;c++)i.push(pY(e,Ty(n)?n.listType:n.parentListType));return i},vY=(e,n)=>{for(let o=0;o<e.length-1;o++)ra(e[o].item,"list-style-type","none");Uo(e).each(o=>{Ty(n)&&(ri(o.list,n.listAttributes),ri(o.item,n.itemAttributes)),Na(o.item,n.content)})},bY=(e,n)=>{Qo(e.list)!==n.listType&&(e.list=Fd(e.list,n.listType)),ri(e.list,n.listAttributes)},k1=(e,n,o)=>{const i=Ve.fromTag("li",e);return ri(i,n),Na(i,o),i},yY=(e,n)=>{Sr(e.list,n),e.item=n},sH=(e,n,o)=>{const i=n.slice(0,o.depth);return Uo(i).each(c=>{if(Ty(o)){const p=k1(e,o.itemAttributes,o.content);yY(c,p),bY(c,o)}else if(lY(o))Na(c.item,o.content);else{const p=Ve.fromHtml(`<!--${o.content}-->`);Sr(c.list,p)}}),i},xR=(e,n,o)=>{const i=gY(e,o,o.depth-n.length);return hY(i),vY(i,o),mY(n,i),n.concat(i)},rH=(e,n)=>{let o=le.none();const i=ir(n,(c,p,y)=>nH(p)?y===0?(o=le.some(p),c):sH(e,c,p):p.depth>c.length?xR(e,c,p):sH(e,c,p),[]);return o.each(c=>{const p=Ve.fromHtml(`<!--${c.content}-->`);yn(i).each(y=>{Id(y.list,p)})}),yn(i).map(c=>c.list)},_R=(e,n,o)=>{switch(n){case"Indent":if(aY(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},wY=(e,n)=>{Ty(e)&&Ty(n)&&(e.listType=n.listType,e.listAttributes={...n.listAttributes})},CY=e=>{e.listAttributes=bl(e.listAttributes,(n,o)=>o!=="start")},SY=(e,n)=>{const o=e[n].depth,i=p=>p.depth===o&&!p.dirty,c=p=>p.depth<o;return Gs(ot(e.slice(0,n)),i,c).orThunk(()=>Gs(e.slice(n+1),i,c))},iH=e=>(vt(e,(n,o)=>{SY(e,o).fold(()=>{n.dirty&&Ty(n)&&CY(n)},i=>wY(n,i))}),e),aH=(e,n,o,i)=>{if(ma(i))return[{depth:e+1,content:i.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];n.each(y=>{no(y.start,i)&&o.set(!0)});const c=dY(i,e,o.get());n.each(y=>{no(y.end,i)&&o.set(!1)});const p=Ma(i).filter(L2).map(y=>wD(e,n,o,y)).getOr([]);return c.toArray().concat(p)},xY=(e,n,o,i)=>qa(i).filter(L2).fold(()=>aH(e,n,o,i),c=>{const p=ir(zi(i),(y,E,A)=>{if(A===0)return y;if(KC(E))return y.concat(aH(e,n,o,E));{const R={isFragment:!0,depth:e,content:[E],isSelected:!1,dirty:!1,parentListType:Qo(c)};return y.concat(R)}},[]);return wD(e,n,o,c).concat(p)}),wD=(e,n,o,i)=>_e(zi(i),c=>{const p=L2(c)?wD:xY,y=e+1;return p(y,n,o,c)}),_Y=(e,n)=>{const o=io(!1),i=0;return In(e,c=>({sourceList:c,entries:wD(i,n,o,c)}))},TY=(e,n)=>{const o=iH(n);return In(o,i=>{const c=nH(i)?cf([Ve.fromHtml(`<!--${i.content}-->`)]):cf(i.content),p=Ty(i)?i.itemAttributes:{};return Ve.fromDom(tH(e,c.dom,p))})},EY=(e,n)=>{const o=iH(n);return rH(e.contentDocument,o).toArray()},kY=(e,n)=>_e(Bs(n,oH),o=>yn(o).exists(oH)?EY(e,o):TY(e,o)),DY=(e,n,o)=>{vt(At(n,cY),i=>_R(e,o,i))},AY=e=>{const n=In(Sy(e),Ve.fromDom);return Xo(Vn(n,us(tp)),Vn(ot(n),us(tp)),(o,i)=>({start:o,end:i}))},OY=(e,n,o)=>{const i=_Y(n,AY(e));vt(i,c=>{DY(e,c.entries,o);const p=kY(e,c.entries);vt(p,y=>{_y(e,o==="Indent"?"IndentList":"OutdentList",y.dom)}),Mb(c.sourceList,p),ii(c.sourceList)})},MY=e=>oE(e).forall(n=>{const o=e.selection.getSelectedBlocks();return Ws(o,i=>Ai(Ve.fromDom(i),"li").forall(c=>rt(c,"ol,ul").length<=n))}),D1=li.DOM,NY=(e,n,o)=>{const i=R=>{const q=R.parentNode;q&&gn.each(c,Q=>{q.insertBefore(Q,o.parentNode)}),D1.remove(R)},c=D1.select('span[data-mce-type="bookmark"]',n),p=tH(e,o),y=D1.createRng();y.setStartAfter(o),y.setEndAfter(n);const E=y.extractContents();for(let R=E.firstChild;R;R=R.firstChild)if(R.nodeName==="LI"&&e.dom.isEmpty(R)){D1.remove(R);break}e.dom.isEmpty(E)||D1.insertAfter(E,n),D1.insertAfter(p,n);const A=o.parentElement;A&&gb(e.dom,A)&&i(A),D1.remove(o),gb(e.dom,n)&&D1.remove(n)},RY=Qi("dd"),lH=Qi("dt"),LY=(e,n)=>{RY(n)?Fd(n,"dt"):lH(n)&&Kc(n).each(o=>NY(e,o.dom,n.dom))},cH=e=>{lH(e)&&Fd(e,"dd")},PY=(e,n,o)=>{n==="Indent"?vt(o,cH):vt(o,i=>LY(e,i))},IY=(e,n)=>{const o=rf(CR(e)),i=rf(bR(e));let c=!1;if(o.length||i.length){const p=e.selection.getBookmark();OY(e,o,n),PY(e,n,i),e.selection.moveToBookmark(p),e.selection.setRng(vR(e.selection.getRng())),e.nodeChanged(),c=!0}return c},TR=(e,n)=>!rY(e)&&IY(e,n),uH=e=>TR(e,"Indent"),ER=e=>TR(e,"Outdent"),CD=e=>TR(e,"Flatten"),XC=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},FY=(e,n,o)=>{const i=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(n,"list-style-type",i)},kR=(e,n)=>{gn.each(n,(o,i)=>{e.setAttribute(i,o)})},BY=(e,n,o)=>{kR(n,o["list-attributes"]),gn.each(e.select("li",n),i=>{kR(i,o["list-item-attributes"])})},JC=(e,n,o)=>{FY(e,n,o),BY(e,n,o)},$Y=(e,n,o)=>{gn.each(o,i=>e.setStyle(n,i,""))},SD=(e,n)=>et(n)&&!qC(n,e.schema.getBlockElements()),DR=(e,n,o,i)=>{let c=n[o?"startContainer":"endContainer"];const p=n[o?"startOffset":"endOffset"];G5(c)&&(c=c.childNodes[Math.min(p,c.childNodes.length-1)]||c),!o&&mb(c.nextSibling)&&(c=c.nextSibling);const y=A=>{for(;!e.dom.isBlock(A)&&A.parentNode&&i!==A;)A=A.parentNode;return A},E=(A,R)=>{const q=new Ti(A,y(A)),Q=R?"next":"prev";let re;for(;re=q[Q]();)if(!(pb(e,re)||dr(re.textContent)||re.textContent?.length===0))return le.some(re);return le.none()};if(o&&zg(c))if(dr(c.textContent))c=E(c,!1).getOr(c);else for(c.parentNode!==null&&SD(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(SD(e,c.previousSibling)||zg(c.previousSibling));)c=c.previousSibling;if(!o&&zg(c))if(dr(c.textContent))c=E(c,!0).getOr(c);else for(c.parentNode!==null&&SD(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(SD(e,c.nextSibling)||zg(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==i;){const A=c.parentNode;if(M2(e,c)||/^(TD|TH)$/.test(A.nodeName))return c;c=A}return c},HY=(e,n,o)=>{const i=[],c=e.dom,p=DR(e,n,!0,o),y=DR(e,n,!1,o);let E;const A=[];for(let R=p;R&&(A.push(R),R!==y);R=R.nextSibling);return gn.each(A,R=>{if(M2(e,R)){i.push(R),E=null;return}if(c.isBlock(R)||mb(R)){mb(R)&&c.remove(R),E=null;return}const q=R.nextSibling;if(Q0.isBookmarkNode(R)&&(Xh(q)||M2(e,q)||!q&&R.parentNode===o)){E=null;return}E||(E=c.create("p"),R.parentNode?.insertBefore(E,R),i.push(E)),E.appendChild(R)}),i},zY=(e,n,o)=>{const i=e.getStyle(n,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,i===c},VY=(e,n)=>{const o=e.selection.getStart(!0),i=DR(e,n,!0,e.getBody());return Vs(Ve.fromDom(i),Ve.fromDom(n.commonAncestorContainer))?n.commonAncestorContainer:o},AR=(e,n,o)=>{const i=e.selection.getRng();let c="LI";const p=N2(e,VY(e,i)),y=e.dom;if(y.getContentEditable(e.selection.getNode())==="false")return;n=n.toUpperCase(),n==="DL"&&(c="DT");const E=lb(i),A=At(HY(e,i,p),e.dom.isEditable);gn.each(A,R=>{let q;const Q=R.previousSibling,re=R.parentNode;sh(re)||(Q&&Xh(Q)&&Q.nodeName===n&&zY(y,Q,o)?(q=Q,R=y.rename(R,c),Q.appendChild(R)):(q=y.create(n),re.insertBefore(q,R),q.appendChild(R),R=y.rename(R,c)),$Y(y,R,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),JC(y,q,o),xD(e.dom,q))}),e.selection.setRng(mc(E))},dH=(e,n)=>Xh(e)&&e.nodeName===n?.nodeName,fH=(e,n,o)=>{const i=e.getStyle(n,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return i===c},hH=(e,n)=>e.className===n.className,UY=(e,n,o)=>dH(n,o)&&fH(e,n,o)&&hH(n,o),xD=(e,n)=>{let o,i=n.nextSibling;if(UY(e,n,i)){const c=i;for(;o=c.firstChild;)n.appendChild(o);e.remove(c)}if(i=n.previousSibling,UY(e,n,i)){const c=i;for(;o=c.lastChild;)n.insertBefore(o,n.firstChild);e.remove(c)}},WY=(e,n,o,i)=>{if(n.nodeName!==o){const c=e.dom.rename(n,o);JC(e.dom,c,i),_y(e,XC(o),c)}else JC(e.dom,n,i),_y(e,XC(o),n)},mH=(e,n,o,i)=>{if(n.classList.forEach((c,p,y)=>{c.startsWith("tox-")&&(y.remove(c),y.length===0&&n.removeAttribute("class"))}),n.nodeName!==o){const c=e.dom.rename(n,o);JC(e.dom,c,i),_y(e,XC(o),c)}else JC(e.dom,n,i),_y(e,XC(o),n)},jY=(e,n,o,i,c)=>{const p=Xh(n);if(p&&n.nodeName===i&&!pH(c)&&!GC(n))CD(e);else{AR(e,i,c);const y=lb(e.selection.getRng()),E=p?[n,...o]:o,A=p&&GC(n)?mH:WY;gn.each(E,R=>{A(e,R,i,c)}),e.selection.setRng(mc(y))}},pH=e=>"list-style-type"in e,ZY=(e,n,o,i)=>{if(n!==e.getBody())if(n)if(n.nodeName===o&&!pH(i)&&!GC(n))CD(e);else{const c=lb(e.selection.getRng());GC(n)&&n.classList.forEach((y,E,A)=>{y.startsWith("tox-")&&(A.remove(y),A.length===0&&n.removeAttribute("class"))}),JC(e.dom,n,i);const p=e.dom.rename(n,o);xD(e.dom,p),e.selection.setRng(mc(c)),AR(e,o,i),_y(e,XC(o),p)}else AR(e,o,i),_y(e,XC(o),n)},OR=(e,n,o)=>{const i=Qm(e);if(SR(e,i))return;const c=Cy(e),p=dt(o)?o:{};c.length>0?jY(e,i,c,n,p):ZY(e,i,n,p)},gH=(e,n,o,i)=>{let c=n.startContainer;const p=n.startOffset;if(zg(c)&&(o?p<c.data.length:p>0))return c;const y=e.schema.getNonEmptyElements();G5(c)&&(c=Lg.getNode(c,p));const E=new Ti(c,i);o&&K5(e.dom,c)&&E.next();const A=o?E.next.bind(E):E.prev2.bind(E);for(;c=A();)if(c.nodeName==="LI"&&!c.hasChildNodes()||y[c.nodeName]||zg(c)&&c.data.length>0)return c;return null},vH=(e,n)=>{const o=n.childNodes;return o.length===1&&!Xh(o[0])&&e.isBlock(o[0])},MR=e=>le.from(e).map(Ve.fromDom).filter(Vu).exists(n=>Lc(n)&&!fo(["details"],Qo(n))),NR=(e,n)=>{vH(e,n)&&MR(n.firstChild)&&e.remove(n.firstChild,!0)},bH=(e,n,o)=>{let i;const c=vH(e,o)?o.firstChild:o;if(NR(e,n),!gb(e,n,!0))for(;i=n.firstChild;)c.appendChild(i)},_D=(e,n,o)=>{let i;const c=n.parentNode;if(!X5(e,n)||!X5(e,o))return;Xh(o.lastChild)&&(i=o.lastChild),c===o.lastChild&&mb(c.previousSibling)&&e.remove(c.previousSibling);const p=o.lastChild;p&&mb(p)&&n.hasChildNodes()&&e.remove(p),gb(e,o,!0)&&du(Ve.fromDom(o)),bH(e,n,o),i&&o.appendChild(i);const E=Fr(Ve.fromDom(o),Ve.fromDom(n))?e.getParents(n,Xh,o):[];e.remove(n),vt(E,A=>{gb(e,A)&&A!==e.getRoot()&&e.remove(A)})},qY=(e,n,o)=>{du(Ve.fromDom(o)),_D(e.dom,n,o),e.selection.setCursorLocation(o,0)},YY=(e,n,o,i)=>{const c=e.dom;if(c.isEmpty(i))qY(e,o,i);else{const p=lb(n);_D(c,o,i),e.selection.setRng(mc(p))}},GY=(e,n,o,i)=>{const c=lb(n);_D(e.dom,o,i);const p=mc(c);e.selection.setRng(p)},KY=(e,n)=>{const o=e.dom,i=e.selection,c=i.getStart(),p=yR(e,c),y=o.getParent(i.getStart(),"LI",p);if(y){const E=y.parentElement;if(E===e.getBody()&&gb(o,E))return!0;const A=vR(i.getRng()),R=o.getParent(gH(e,A,n,p),"LI",p),q=R&&(n?o.isChildOf(y,R):o.isChildOf(R,y));if(R&&R!==y&&!q)return e.undoManager.transact(()=>{n?YY(e,A,R,y):cl(y)?ER(e):GY(e,A,y,R)}),!0;if(q&&!n&&R!==y){const Q=A.commonAncestorContainer.parentElement;return!Q||o.isChildOf(R,Q)?!1:(e.undoManager.transact(()=>{const re=lb(A);bH(o,Q,R),Q.remove();const pe=mc(re);e.selection.setRng(pe)}),!0)}else if(!R&&!n&&A.startOffset===0&&A.endOffset===0)return e.undoManager.transact(()=>{CD(e)}),!0}return!1},XY=(e,n,o)=>{const i=e.getParent(n.parentNode,e.isBlock,o);e.remove(n),i&&e.isEmpty(i)&&e.remove(i)},JY=(e,n)=>{const o=e.dom,i=e.selection.getStart(),c=yR(e,i),p=o.getParent(i,o.isBlock,c);if(p&&o.isEmpty(p,void 0,{checkRootAsContent:!0})){const y=vR(e.selection.getRng()),E=gH(e,y,n,c),A=o.getParent(E,"LI",c);if(E&&A){const R=pe=>fo(["td","th","caption"],Qo(pe)),q=pe=>pe.dom===c,Q=Hr(Ve.fromDom(A),R,q),re=Hr(Ve.fromDom(y.startContainer),R,q);return mi(Q,re,no)?(e.undoManager.transact(()=>{const pe=A.parentNode;XY(o,p,c),xD(o,pe),e.selection.select(E,!0),e.selection.collapse(n)}),!0):!1}}return!1},QY=(e,n)=>KY(e,n)||JY(e,n),RR=e=>{const n=e.selection.getStart(),o=yR(e,n),i=e.dom.getParent(n,"LI,DT,DD",o);return et(i)||Sy(e).length>0},eG=e=>RR(e)?(e.undoManager.transact(()=>{let n=!0;const o=()=>n=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),n&&e.dispatch("input"),gR(e.dom,e.getBody())}),!0):!1,LR=(e,n)=>{const o=e.selection;return!SR(e,o.getNode())&&(o.isCollapsed()?QY(e,n):eG(e))},PR=(e,n)=>({block:e,position:n}),tG=(e,n)=>({from:e,to:n}),IR=(e,n)=>{const o=Ve.fromDom(e),i=Ve.fromDom(n.container());return ck(o,i).map(c=>PR(c,n))},nG=e=>!(Fr(e.to.block,e.from.block)||Fr(e.from.block,e.to.block)),oG=e=>!no(e.from.block,e.to.block),yH=(e,n)=>Hr(n,c=>vd(c)||Bl(c.dom),c=>no(c,e)).filter(Ji).getOr(e),wH=(e,n)=>{const o=Ve.fromDom(e);return no(yH(o,n.from.block),yH(o,n.to.block))},Ey=e=>Bi(e.from.block.dom)===!1&&Bi(e.to.block.dom)===!1,CH=e=>{const n=o=>Zb(o)||se(o.dom)||Mm(o);return n(e.from.block)&&n(e.to.block)},sG=(e,n,o,i)=>ea(i.position.getNode())&&!Pc(e,i.block)?i1(!1,i.block.dom).bind(c=>c.isEqual(i.position)?Cd(o,n,c).bind(p=>IR(n,p)):le.some(i)).getOr(i):i,rG=(e,n,o,i)=>{const c=IR(n,It.fromRangeStart(i)),p=c.bind(y=>Cd(o,n,y.position).bind(E=>IR(n,E).map(A=>sG(e,n,o,A))));return Xo(c,p,tG).filter(y=>oG(y)&&wH(n,y)&&Ey(y)&&CH(y)&&nG(y))},iG=(e,n,o,i)=>i.collapsed?rG(e,n,o,i):le.none(),aG=(e,n)=>{const o=zi(e);return Vt(o,i=>n.isBlock(Qo(i))).fold(xt(o),i=>o.slice(0,i))},ky=(e,n)=>{const o=aG(e,n);return vt(o,ii),o},SH=(e,n,o)=>{const i=Pg(o,n);return Vn(i.reverse(),c=>Pc(e,c)).each(ii)},FR=(e,n)=>At(Sl(n),o=>!Pc(e,o)).length===0,BR=(e,n,o,i,c)=>{if(Pc(i,o))return Nm(o),Tc(o.dom);FR(i,c)&&Pc(i,n)&&Va(c,Ve.fromTag("br"));const p=_c(o.dom,It.before(c.dom));return vt(ky(n,i),y=>{Va(c,y)}),SH(i,e,n),p},lG=(e,n)=>e.isInline(Qo(n)),xH=(e,n,o,i)=>{if(Pc(i,o)){if(Pc(i,n)){const y=rr((E=>{const A=(R,q)=>qa(R).fold(()=>q,Q=>lG(i,Q)?A(Q,q.concat(Ra(Q))):q);return A(E,[])})(o),(E,A)=>(uu(E,A),A),qb());du(n),Sr(n,y)}return ii(o),Tc(n.dom)}const c=Sd(o.dom);return vt(ky(n,i),p=>{Sr(o,p)}),SH(i,e,n),c},TD=(e,n)=>{const o=Pg(n,e);return le.from(o[o.length-1])},cG=(e,n)=>Fr(n,e)?TD(n,e):le.none(),_H=(e,n)=>{i1(e,n.dom).bind(o=>le.from(o.getNode())).map(Ve.fromDom).filter(Om).each(ii)},TH=(e,n,o,i)=>(_H(!0,n),_H(!1,o),cG(n,o).fold(qt(xH,e,n,o,i),qt(BR,e,n,o,i))),EH=(e,n,o,i,c)=>n?TH(e,i,o,c):TH(e,o,i,c),$R=(e,n)=>{const o=Ve.fromDom(e.getBody());return iG(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{EH(o,n,c.from.block,c.to.block,e.schema).each(p=>{e.selection.setRng(p.toRange())})})},HR=(e,n,o)=>{const i=n.getRng();return Xo(ck(e,Ve.fromDom(i.startContainer)),ck(e,Ve.fromDom(i.endContainer)),(c,p)=>no(c,p)?le.none():le.some(()=>{i.deleteContents(),EH(e,!0,c,p,o).each(y=>{n.setRng(y.toRange())})})).getOr(le.none())},kH=(e,n)=>{const o=Ve.fromDom(n),i=qt(no,e);return qu(o,vd,i).isSome()},uG=(e,n)=>kH(e,n.startContainer)||kH(e,n.endContainer),dG=(e,n)=>{const o=_c(e.dom,It.fromRangeStart(n)).isNone(),i=td(e.dom,It.fromRangeEnd(n)).isNone();return!uG(e,n)&&o&&i},fG=e=>le.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),hG=e=>{const n=Ve.fromDom(e.getBody()),o=e.selection.getRng();return dG(n,o)?fG(e):HR(n,e.selection,e.schema)},zR=(e,n)=>e.selection.isCollapsed()?le.none():hG(e),vb=(e,n,o,i,c)=>le.from(n._selectionOverrides.showCaret(e,o,i,c)),mG=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},P2=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?le.none():le.some(mG(n)),pG=(e,n,o)=>{const i=j0(1,e.getBody(),n),c=It.fromRangeStart(i),p=c.getNode();if(zh(p))return vb(1,e,p,!c.isAtEnd(),!1);const y=c.getNode(!0);if(zh(y))return vb(1,e,y,!1,!1);const E=m1(e.dom.getRoot(),c.getNode());return zh(E)?vb(1,e,E,!1,o):le.none()},VR=(e,n,o)=>n.collapsed?pG(e,n,o).getOr(n):n,gG=e=>jn(e)||Yx(e),vG=e=>Td(e)||Gx(e),bG=(e,n)=>{pn(n)&&n.data.length===0&&e.remove(n)},UR=(e,n,o,i,c,p)=>{vb(i,e,p.getNode(!c),c,!0).each(y=>{if(n.collapsed){const E=n.cloneRange();c?E.setEnd(y.startContainer,y.startOffset):E.setStart(y.endContainer,y.endOffset),E.deleteContents()}else n.deleteContents();e.selection.setRng(y)}),bG(e.dom,o)},yG=(e,n)=>{const o=e.selection.getRng();if(!pn(o.commonAncestorContainer))return le.none();const i=n?1:-1,c=Wh(e.getBody()),p=qt(vC,n?c.next:c.prev),y=n?gG:vG,E=Uh(i,e.getBody(),o),A=p(E),R=A&&Zh(n,A);if(!R||!Z0(E,R))return le.none();if(y(R))return le.some(()=>UR(e,o,E.getNode(),i,n,R));const q=p(R);return q&&y(q)&&Z0(R,q)?le.some(()=>UR(e,o,E.getNode(),i,n,q)):le.none()},WR=(e,n)=>yG(e,n),jR=(e,n)=>{const o=e.getBody();return n?Tc(o).filter(jn):Sd(o).filter(Td)},ZR=e=>{const n=e.selection.getRng();return!n.collapsed&&(jR(e,!0).exists(o=>o.isEqual(It.fromRangeStart(n)))||jR(e,!1).exists(o=>o.isEqual(It.fromRangeEnd(n))))},wG=e=>et(e)&&(vd(Ve.fromDom(e))||Mm(Ve.fromDom(e))),Xd=Zl.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),CG=(e,n)=>{const o=n.getNode(!e),i=e?"after":"before";return yo(o)&&o.getAttribute("data-mce-caret")===i},SG=(e,n,o,i,c)=>{const p=y=>c.isInline(y.nodeName.toLowerCase())&&!Vh(o,i,e);return s1(!n,o).fold(()=>s1(n,i).fold(Yt,p),p)},DH=(e,n,o,i,c)=>{const p=c.getNode(!o);return ck(Ve.fromDom(n),Ve.fromDom(i.getNode())).map(y=>Pc(e,y)?Xd.remove(y.dom):Xd.moveToElement(p)).orThunk(()=>le.some(Xd.moveToElement(p)))},AH=(e,n,o,i)=>Cd(n,e,o).bind(c=>wG(c.getNode())||SG(e,n,o,c,i)?le.none():n&&Bi(c.getNode())||!n&&Bi(c.getNode(!0))?DH(i,e,n,o,c):n&&Td(o)||!n&&jn(o)?le.some(Xd.moveToPosition(c)):le.none()),xG=(e,n)=>ln(n)?le.none():e&&Bi(n.nextSibling)?le.some(Xd.moveToElement(n.nextSibling)):!e&&Bi(n.previousSibling)?le.some(Xd.moveToElement(n.previousSibling)):le.none(),_G=(e,n,o)=>o.fold(i=>le.some(Xd.remove(i)),i=>le.some(Xd.moveToElement(i)),i=>Vh(n,i,e)?le.none():le.some(Xd.moveToPosition(i))),TG=(e,n,o,i)=>CG(n,o)?xG(n,o.getNode(!n)).orThunk(()=>AH(e,n,o,i)):AH(e,n,o,i).bind(c=>_G(e,o,c)),EG=(e,n,o,i)=>{const c=j0(n?1:-1,e,o),p=It.fromRangeStart(c),y=Ve.fromDom(e);return!n&&Td(p)?le.some(Xd.remove(p.getNode(!0))):n&&jn(p)?le.some(Xd.remove(p.getNode())):!n&&jn(p)&&ek(y,p,i)?CF(y,p,i).map(E=>Xd.remove(E.getNode())):n&&Td(p)&&gN(y,p,i)?Z9(y,p,i).map(E=>Xd.remove(E.getNode())):TG(e,n,p,i)},kG=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),rb(e,n,Ve.fromDom(o)),!0),DG=(e,n)=>o=>{const i=n?It.before(o):It.after(o);return e.selection.setRng(i.toRange()),!0},AG=e=>n=>(e.selection.setRng(n.toRange()),!0),OH=(e,n)=>le.from(m1(e.getBody(),n)),OG=(e,n)=>{const o=e.selection.getNode();return OH(e,o).filter(Bi).fold(()=>EG(e.getBody(),n,e.selection.getRng(),e.schema).map(i=>()=>i.fold(kG(e,n),DG(e,n),AG(e))),()=>le.some(Ze))},MG=e=>{vt(Ht(e,".mce-offscreen-selection"),ii)},NG=(e,n)=>{const o=e.selection.getNode();return Bi(o)&&!$f(o)?OH(e,o.parentNode).filter(Bi).fold(()=>le.some(()=>{MG(Ve.fromDom(e.getBody())),rb(e,n,Ve.fromDom(e.selection.getNode())),uk(e)}),()=>le.some(Ze)):ZR(e)?le.some(()=>{jF(e,e.selection.getRng(),Ve.fromDom(e.getBody()))}):le.none()},MH=e=>{const n=e.dom,o=e.selection,i=m1(e.getBody(),o.getNode());if(Bl(i)&&n.isBlock(i)&&n.isEmpty(i)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),o.setRng(It.before(c).toRange())}return!0},qR=(e,n)=>e.selection.isCollapsed()?OG(e,n):NG(e,n),YR=(e,n)=>{const o=e.dom,i=o.getParent(e.selection.getStart(),o.isBlock),c=o.getParent(e.selection.getEnd(),o.isBlock),p=e.getBody();if(i?.nodeName?.toLowerCase()==="div"&&i&&c&&i===p.firstChild&&c===p.lastChild&&!o.isEmpty(p)){const E=i.cloneNode(!1),A=()=>{if(n?WF(e):lk(e),p.firstChild!==i){const R=lb(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(q=>E.appendChild(q)),p.appendChild(E),e.selection.setRng(mc(R))}};return le.some(A)}return le.none()},RG=(e,n)=>{const o=It.fromRangeStart(e.selection.getRng());return Cd(n,e.getBody(),o).filter(i=>n?z9(i):V9(i)).bind(i=>No(n?0:-1,i)).map(i=>()=>e.selection.select(i))},GR=(e,n)=>e.selection.isCollapsed()?RG(e,n):le.none(),QC=pn,KR=e=>QC(e)&&e.data[0]===Hl,NH=e=>QC(e)&&e.data[e.data.length-1]===Hl,RH=e=>(e.ownerDocument??document).createTextNode(Hl),LH=e=>{if(QC(e.previousSibling))return NH(e.previousSibling)||e.previousSibling.appendData(Hl),e.previousSibling;if(QC(e))return KR(e)||e.insertData(0,Hl),e;{const n=RH(e);return e.parentNode?.insertBefore(n,e),n}},LG=e=>{if(QC(e.nextSibling))return KR(e.nextSibling)||e.nextSibling.insertData(0,Hl),e.nextSibling;if(QC(e))return NH(e)||e.appendData(Hl),e;{const n=RH(e);return e.nextSibling?e.parentNode?.insertBefore(n,e.nextSibling):e.parentNode?.appendChild(n),n}},ED=(e,n)=>e?LH(n):LG(n),PG=qt(ED,!0),IG=qt(ED,!1),kD=(e,n)=>pn(e.container())?ED(n,e.container()):ED(n,e.getNode()),XR=(e,n)=>{const o=n.get();return o&&e.container()===o&&jr(o)},PH=(e,n)=>n.fold(o=>{Bm(e.get());const i=PG(o);return e.set(i),le.some(It(i,i.length-1))},o=>Tc(o).map(i=>{if(XR(i,e)){const c=e.get();return It(c,1)}else{Bm(e.get());const c=kD(i,!0);return e.set(c),It(c,1)}}),o=>Sd(o).map(i=>{if(XR(i,e)){const c=e.get();return It(c,c.length-1)}else{Bm(e.get());const c=kD(i,!1);return e.set(c),It(c,c.length-1)}}),o=>{Bm(e.get());const i=IG(o);return e.set(i),le.some(It(i,1))}),eS=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,n);if(i.isSome())return i}return le.none()},Jd=Zl.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),FG=(e,n)=>{const o=Hm(n,e);return o||e},fse=(e,n,o)=>{const i=zF(o),c=FG(n,i.container());return ib(e,c,i).fold(()=>td(c,i).bind(qt(ib,e,c)).map(p=>Jd.before(p)),le.none)},hse=(e,n)=>Og(e,n)===null,np=(e,n,o)=>ib(e,n,o).filter(qt(hse,n)),I2=(e,n,o)=>{const i=VF(o);return np(e,n,i).bind(c=>_c(c,i).isNone()?le.some(Jd.start(c)):le.none())},Vp=(e,n,o)=>{const i=zF(o);return np(e,n,i).bind(c=>td(c,i).isNone()?le.some(Jd.end(c)):le.none())},Dy=(e,n,o)=>{const i=VF(o),c=FG(n,i.container());return ib(e,c,i).fold(()=>_c(c,i).bind(qt(ib,e,c)).map(p=>Jd.after(p)),le.none)},DD=e=>!SN(Ay(e)),Up=(e,n,o)=>eS([fse,I2,Vp,Dy],[e,n,o]).filter(DD),Ay=e=>e.fold(Eo,Eo,Eo,Eo),IH=e=>e.fold(xt("before"),xt("start"),xt("end"),xt("after")),F2=e=>e.fold(Jd.before,Jd.before,Jd.after,Jd.after),FH=e=>e.fold(Jd.start,Jd.start,Jd.end,Jd.end),BG=(e,n)=>IH(e)===IH(n)&&Ay(e)===Ay(n),B2=(e,n,o,i,c,p)=>Xo(ib(n,o,i),ib(n,o,c),(y,E)=>y!==E&&$F(o,y,E)?Jd.after(e?y:E):p).getOr(p),BH=(e,n)=>e.fold(yt,o=>!BG(o,n)),Vl=(e,n,o,i,c)=>{const p=Zh(e,c);return Cd(e,o,p).map(qt(Zh,e)).fold(()=>i.map(F2),A=>Up(n,o,A).map(qt(B2,e,n,o,p,A)).filter(qt(BH,i))).filter(DD)},$G=(e,n)=>e?n.fold(U(le.some,Jd.start),le.none,U(le.some,Jd.after),le.none):n.fold(le.none,U(le.some,Jd.before),le.none,U(le.some,Jd.end)),HG=(e,n,o,i)=>{const c=Zh(e,i),p=Up(n,o,c);return Up(n,o,c).bind(qt($G,e)).orThunk(()=>Vl(e,n,o,p,i))},tS=e=>Fe(e.selection.getSel().modify),A1=(e,n,o)=>{const i=e?1:-1;return n.setRng(It(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Oy=(e,n)=>{const o=n.selection.getRng(),i=e?It.fromRangeEnd(o):It.fromRangeStart(o);return tS(n)?e&&Iw(i)?A1(!0,n.selection,i):!e&&m0(i)?A1(!1,n.selection,i):!1:!1};var Vg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Vg||(Vg={}));const AD=(e,n)=>e===-1?ot(n):n,JR=(e,n,o)=>e===1?n.next(o):n.prev(o),QR=(e,n,o,i)=>ea(i.getNode(n===1))?Vg.Br:Vh(o,i)===!1?Vg.Block:Vg.Wrap,e3=(e,n,o,i)=>{const c=Wh(o);let p=i;const y=[];for(;p;){const E=JR(n,c,p);if(!E)break;if(ea(E.getNode(!1)))return n===1?{positions:AD(n,y).concat([E]),breakType:Vg.Br,breakAt:le.some(E)}:{positions:AD(n,y),breakType:Vg.Br,breakAt:le.some(E)};if(!E.isVisible()){p=E;continue}if(e(p,E)){const A=QR(o,n,p,E);return{positions:AD(n,y),breakType:A,breakAt:le.some(E)}}y.push(E),p=E}return{positions:AD(n,y),breakType:Vg.Eol,breakAt:le.none()}},t3=(e,n,o,i)=>n(o,i).breakAt.map(c=>{const p=n(o,c).positions;return e===-1?p.concat(c):[c].concat(p)}).getOr([]),n3=(e,n)=>ir(e,(o,i)=>o.fold(()=>le.some(i),c=>Xo(yn(c.getClientRects()),yn(i.getClientRects()),(p,y)=>{const E=Math.abs(n-p.left);return Math.abs(n-y.left)<=E?i:c}).or(o)),le.none()),OD=(e,n)=>yn(n.getClientRects()).bind(o=>n3(e,o.left)),My=qt(e3,It.isAbove,-1),$2=qt(e3,It.isBelow,1),$H=qt(t3,-1,My),HH=qt(t3,1,$2),o3=(e,n)=>My(e,n).breakAt.isNone(),s3=(e,n)=>$2(e,n).breakAt.isNone(),r3=e=>Tc(e).map(n=>[n].concat($2(e,n).positions)).getOr([]),zH=e=>Sd(e).map(n=>My(e,n).positions.concat(n)).getOr([]),VH=(e,n)=>OD($H(e,n),n),UH=(e,n)=>OD(HH(e,n),n),nS=Bi,i3=(e,n)=>Math.abs(e.left-n),WH=(e,n)=>Math.abs(e.right-n),jH=e=>or(e,"node"),ZH=(e,n)=>Aa(e,(o,i)=>{const c=Math.min(i3(o,n),WH(o,n)),p=Math.min(i3(i,n),WH(i,n));return p===c&&jH(i)&&nS(i.node)||p<c?i:o}),qH=e=>{const n=o=>In(o,i=>{const c=Qu(i);return c.node=e,c});if(yo(e))return n(e.getClientRects());if(pn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},YH=e=>_e(e,qH);var O1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(O1||(O1={}));const GH=(e,n,o,i)=>{let c=i;for(;c=V0(c,e,Hw,n);)if(o(c))return},a3=(e,n,o,i,c,p)=>{let y=0;const E=[],A=Q=>{let re=YH([Q]);e===O1.Up&&(re=re.reverse());for(let pe=0;pe<re.length;pe++){const Be=re[pe];if(!o(Be,R)){if(E.length>0&&n(Be,we(E))&&y++,Be.line=y,c(Be))return!0;E.push(Be)}}return!1},R=we(p.getClientRects());if(!R)return E;const q=p.getNode();return q&&(A(q),GH(e,i,A,q)),E},KH=(e,n)=>n.line>e,XH=(e,n)=>n.line===e,JH=qt(a3,O1.Up,Tg,Pv),zG=qt(a3,O1.Down,Pv,Tg),QH=e=>we(e.getClientRects()),VG=(e,n,o,i)=>{const c=Wh(n);let p,y,E,A;const R=[];let q=0;e===O1.Down?(p=c.next,y=Pv,E=Tg,A=It.after(i)):(p=c.prev,y=Tg,E=Pv,A=It.before(i));const Q=QH(A);do{if(!A.isVisible())continue;const re=QH(A);if(E(re,Q))continue;R.length>0&&y(re,we(R))&&q++;const pe=Qu(re);if(pe.position=A,pe.line=q,o(pe))return R;R.push(pe)}while(A=p(A));return R},MD=e=>n=>KH(e,n),Ny=e=>n=>XH(e,n),rh=(e,n)=>{e.selection.setRng(n),ty(e,e.selection.getRng())},H2=(e,n,o)=>le.some(VR(e,n,o)),l3=(e,n)=>{const o=e.getNode(n===-1);return et(o)&&U0(o)?le.some(o):le.none()},c3=(e,n)=>{const o=e.dom.createRng();return o.selectNode(n),o},z2=(e,n,o,i,c,p)=>{const y=n===1,E=Wh(e.getBody()),A=qt(vC,y?E.next:E.prev),R=y?i:c;if(!o.collapsed){const Be=Eg(o);if(p(Be))if(U0(Be)){const De=Uh(n,e.getBody(),o);return le.from(A(De)).map(He=>He.toRange())}else return vb(n,e,Be,n===-1,!1);else if(ZR(e)){const De=o.cloneRange();return De.collapse(n===-1),le.from(De)}}const q=Uh(n,e.getBody(),o);if(R(q))return P2(e,q.getNode(!y));let Q=A(q);const re=Yb(o);if(Q)Q=Zh(y,Q);else return re?le.some(o):le.none();if(R(Q))return l3(Q,n).fold(()=>vb(n,e,Q?.getNode(!y),y,!1),Be=>le.some(c3(e,Be)));const pe=A(Q);return pe&&R(pe)&&Z0(Q,pe)?l3(Q,n).fold(()=>vb(n,e,pe.getNode(!y),y,!1),Be=>le.some(c3(e,Be))):re?H2(e,Q.toRange(),!1):le.none()},e6=(e,n,o,i,c,p)=>{const y=Uh(n,e.getBody(),o),E=we(y.getClientRects()),A=n===O1.Down,R=e.getBody();if(!E)return le.none();if(ZR(e)){const He=A?It.fromRangeEnd(o):It.fromRangeStart(o);return(A?UH:VH)(R,He).orThunk(()=>le.from(He)).map(mt=>mt.toRange())}const Q=(A?zG:JH)(R,MD(1),y),re=At(Q,Ny(1)),pe=E.left,Be=ZH(re,pe);if(Be&&p(Be.node)){const He=Math.abs(pe-Be.left),ct=Math.abs(pe-Be.right);return vb(n,e,Be.node,He<ct,!1)}let De;if(i(y)?De=y.getNode():c(y)?De=y.getNode(!0):De=Eg(o),De){const He=VG(n,R,MD(1),De);let ct=ZH(At(He,Ny(1)),pe);if(ct||(ct=we(At(He,Ny(0))),ct))return H2(e,ct.position.toRange(),!1)}return re.length===0?u3(e,A).filter(A?c:i).map(He=>VR(e,He.toRange(),!1)):le.none()},u3=(e,n)=>{const o=e.selection.getRng(),i=n?It.fromRangeEnd(o):It.fromRangeStart(o),c=fE(i.container(),e.getBody());if(n){const p=$2(c,i);return Uo(p.positions)}else{const p=My(c,i);return yn(p.positions)}},M1=(e,n,o)=>u3(e,n).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),oS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},d3=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},sS=(e,n,o)=>PH(n,o).map(i=>(oS(e,i),o)),t6=(e,n,o)=>{const i=It.fromRangeStart(e);if(e.collapsed)return i;{const c=It.fromRangeEnd(e);return o?_c(n,c).getOr(c):td(n,i).getOr(i)}},f3=(e,n,o)=>{const i=e.getBody(),c=t6(e.selection.getRng(),i,o),p=qt(f1,e);return HG(o,p,i,c).bind(E=>sS(e,n,E))},n6=(e,n,o)=>{const i=In(Ht(Ve.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),y=>y.dom),c=At(i,e),p=At(o,e);vt(Tt(c,p),qt(d3,!1)),vt(Tt(p,c),qt(d3,!0))},o6=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=It.fromRangeStart(e.selection.getRng());It.isTextPosition(i)&&!HF(i)&&(oS(e,mC(o,i)),n.set(null))}},UG=(e,n,o,i)=>{if(n.selection.isCollapsed()){const c=At(i,e);vt(c,p=>{const y=It.fromRangeStart(n.selection.getRng());Up(e,n.getBody(),y).bind(E=>sS(n,o,E))})}},h3=(e,n,o)=>Fm(e)?f3(e,n,o).isSome():!1,s6=(e,n,o)=>Fm(n)?Oy(e,n):!1,WG=e=>{const n=io(null),o=qt(f1,e);return e.on("NodeChange",i=>{Fm(e)&&(n6(o,e.dom,i.parents),o6(e,n),UG(o,e,n,i.parents))}),n},jG=qt(s6,!0),ZG=qt(s6,!1),rS=(e,n,o)=>{if(Fm(e)){const i=u3(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?It.fromRangeEnd(c):It.fromRangeStart(c)});return Up(qt(f1,e),e.getBody(),i).exists(c=>{const p=F2(c);return PH(o,p).exists(y=>(oS(e,y),!0))})}else return!1},qG=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},r6=e=>Xo(Tc(e),Sd(e),(n,o)=>{const i=Zh(!0,n),c=Zh(!1,o);return td(e,i).forall(p=>p.isEqual(c))}).getOr(!0),i6=(e,n)=>o=>PH(n,o).map(i=>()=>oS(e,i)),a6=(e,n,o,i)=>{const c=e.getBody(),p=qt(f1,e);e.undoManager.ignore(()=>{e.selection.setRng(qG(o,i)),lk(e),Up(p,c,It.fromRangeStart(e.selection.getRng())).map(FH).bind(i6(e,n)).each(Ds)}),e.nodeChanged()},YG=(e,n)=>{const o=Hm(n,e);return o||e},GG=(e,n,o,i)=>{const c=YG(e.getBody(),i.container()),p=qt(f1,e),y=Up(p,c,i);return y.bind(A=>o?A.fold(xt(le.some(FH(A))),le.none,xt(le.some(F2(A))),le.none):A.fold(le.none,xt(le.some(F2(A))),le.none,xt(le.some(FH(A))))).map(i6(e,n)).getOrThunk(()=>{const A=Ag(o,c,i),R=A.bind(q=>Up(p,c,q));return Xo(y,R,()=>ib(p,c,i).bind(q=>r6(q)?le.some(()=>{rb(e,o,Ve.fromDom(q))}):le.none())).getOrThunk(()=>R.bind(()=>A.map(q=>()=>{o?a6(e,n,i,q):a6(e,n,q,i)})))})},m3=(e,n,o)=>{if(e.selection.isCollapsed()&&Fm(e)){const i=It.fromRangeStart(e.selection.getRng());return GG(e,n,o,i)}return le.none()},KG=e=>ud(e)>1,l6=(e,n)=>{const o=Ve.fromDom(e.getBody()),i=Ve.fromDom(e.selection.getStart()),c=Pg(i,o);return Vt(c,n).fold(xt(c),p=>c.slice(0,p))},XG=e=>ud(e)===1,JG=e=>l6(e,n=>e.schema.isBlock(Qo(n))||KG(n)),QG=e=>l6(e,n=>e.schema.isBlock(Qo(n))),c6=(e,n)=>{const o=qt(PN,e);return _e(n,i=>o(i)?[i.dom]:[])},ND=e=>{const n=QG(e);return c6(e,n)},eK=(e,n,o,i)=>{const c=c6(n,i);if(c.length===0)rb(n,e,o);else{const p=FC(o.dom,c);n.selection.setRng(p.toRange())}},RD=(e,n)=>{const o=At(JG(e),XG);return Uo(o).bind(i=>{const c=It.fromRangeStart(e.selection.getRng());return mW(n,c,i.dom)&&!Kr(i)?le.some(()=>eK(n,e,i,o)):le.none()})},sd=(e,n)=>{const o=n.parentElement;return ea(n)&&!P(o)&&e.dom.isEmpty(o)},tK=e=>Kr(Ve.fromDom(e)),V2=(e,n)=>{const o=e.selection.getStart(),i=sd(e,o)||tK(o)?FC(o,n):t2(e.selection.getRng(),n);e.selection.setRng(i.toRange())},N1=(e,n)=>{const o=Tt(n,ND(e));o.length>0&&V2(e,o)},p3=e=>pn(e.startContainer),Tf=e=>e.startOffset===0&&p3(e),Ry=(e,n)=>{const o=n.startContainer.parentElement;return!P(o)&&PN(e,Ve.fromDom(o))},u6=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!P(n)&&!P(o)&&n.isEqualNode(o)},nK=e=>{const n=e.endContainer;return e.endOffset===(pn(n)?n.length:n.childNodes.length)},d6=e=>u6(e)&&nK(e),oK=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f6=e=>d6(e)||oK(e),g3=e=>{const n=e.selection.getRng();return Tf(n)&&Ry(e,n)&&f6(n)},v3=e=>{if(g3(e)){const n=ND(e);return le.some(()=>{lk(e),N1(e,n)})}else return le.none()},b3=(e,n)=>e.selection.isCollapsed()?RD(e,n):v3(e),sK=(e,n)=>Fn(e,o=>Kf(o.dom),o=>n.isBlock(Qo(o))),h6=e=>sK(Ve.fromDom(e.selection.getStart()),e.schema),Wp=e=>{const n=e.selection.getRng();return n.collapsed&&(p3(n)||e.dom.isEmpty(n.startContainer))&&!h6(e)},Ly=e=>(Wp(e)&&V2(e,[]),!0),y3=(e,n,o)=>et(o)?le.some(()=>{e._selectionOverrides.hideFakeCaret(),rb(e,n,Ve.fromDom(o))}):le.none(),LD=(e,n)=>{const o=n?Yx:Gx,c=Uh(n?1:-1,e.getBody(),e.selection.getRng());return o(c)?y3(e,n,c.getNode(!n)):le.from(Zh(n,c)).filter(p=>o(p)&&Z0(c,p)).bind(p=>y3(e,n,p.getNode(!n)))},w3=(e,n)=>{const o=e.selection.getNode();return Oi(o)?y3(e,n,o):le.none()},PD=(e,n)=>e.selection.isCollapsed()?LD(e,n):w3(e,n),m6=e=>Hr(e,n=>Bl(n.dom)||Bi(n.dom)).exists(n=>Bl(n.dom)),ID=e=>Yn(e??"").getOr(0),p6=(e,n)=>{const o=e||iT(n)?"margin":"padding",i=ai(n,"direction")==="rtl"?"-right":"-left";return o+i},rK=(e,n,o,i,c,p)=>{const y=p6(o,Ve.fromDom(p)),E=ID(e.getStyle(p,y));if(n==="outdent"){const A=Math.max(0,E-i);e.setStyle(p,y,A?A+c:"")}else{const A=E+i+c;e.setStyle(p,y,A)}},iK=(e,n)=>Ie(n,o=>{const i=p6(A0(e),o),c=Vi(o,i).map(ID).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),g6=e=>{const n=v6(e);return!e.mode.isReadOnly()&&(n.length>1||iK(e,n))},aK=e=>!e.mode.isReadOnly()&&MY(e),C3=e=>Nw(e)||Mm(e),lK=e=>Pl(e).exists(C3),v6=e=>At(rf(e.selection.getSelectedBlocks()),n=>!C3(n)&&!lK(n)&&m6(n)),b6=(e,n)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,i=wx(e),c=/[a-z%]+$/i.exec(i)?.[0]??"px",p=ID(i),y=A0(e);vt(v6(e),E=>{rK(o,n,y,p,c,E.dom)}),n==="indent"?uH(e):ER(e)},y6=e=>b6(e,"indent"),FD=e=>b6(e,"outdent"),BD=e=>{if(e.selection.isCollapsed()&&g6(e)){const n=e.dom,o=e.selection.getRng(),i=It.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&pN(Ve.fromDom(c),i,e.schema))return le.some(()=>FD(e))}return le.none()},w6=(e,n)=>{const o=Sk(e.selection.getRng());return HM(o)?le.some(()=>rb(e,n,Ve.fromDom(e.selection.getNode()))):le.none()},U2=(e,n)=>e.selection.isCollapsed()?le.none():w6(e,n),S3=(e,n,o)=>Co([BD,qR,WR,(i,c)=>m3(i,n,c),$R,ON,GR,PD,zR,b3,YR,U2],i=>i(e,o)).filter(i=>e.selection.isEditable()),$D=(e,n)=>{S3(e,n,!1).fold(()=>{e.selection.isEditable()&&(lk(e),uk(e))},Ds),RR(e)&&gR(e.dom,e.getBody())},x3=(e,n)=>{S3(e,n,!0).fold(()=>{e.selection.isEditable()&&WF(e)},Ds),RR(e)&&gR(e.dom,e.getBody())},C6=(e,n)=>{e.addCommand("delete",()=>{$D(e,n)}),e.addCommand("forwardDelete",()=>{x3(e,n)})},_3=5,S6=400,x6=e=>e.touches===void 0||e.touches.length!==1?le.none():le.some(e.touches[0]),cK=(e,n)=>{const o=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return o>_3||i>_3},HD=e=>{const n=Da(),o=io(!1),i=is(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},S6);e.on("touchstart",c=>{x6(c).each(p=>{i.cancel();const y={x:p.clientX,y:p.clientY,target:c.target};i.throttle(c),o.set(!1),n.set(y)})},!0),e.on("touchmove",c=>{i.cancel(),x6(c).each(p=>{n.on(y=>{cK(p,y)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&n.get().filter(p=>p.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},T3=(e,n)=>qo(e,n.nodeName),W2=(e,n)=>pn(n)?!0:yo(n)?!T3(e.getBlockElements(),n)&&!bf(n)&&!be(e,n)&&!zd(n)&&!Ib(n):!1,uK=(e,n,o)=>Ws(KE(Ve.fromDom(o),Ve.fromDom(n)),i=>T3(e,i.dom)),dK=(e,n)=>{if(pn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||T3(e,n.nextSibling)||zd(n.nextSibling)}return!1},E3=e=>e.dom.create($c(e),e1(e)),fK=e=>{const n=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),p=o.getStart(),y=e.getBody();let E,A,R=null;const q=$c(e);if(!p||!yo(p))return;const Q=y.nodeName.toLowerCase();if(!i.isValidChild(Q,q.toLowerCase())||uK(c,y,p))return;if(y.firstChild===y.lastChild&&ea(y.firstChild)){E=E3(e),E.appendChild(qb().dom),y.replaceChild(E,y.firstChild),e.selection.setCursorLocation(E,0),e.nodeChanged();return}let re=y.firstChild;for(;re;)if(yo(re)&&z(i,re),W2(i,re)){if(dK(c,re)){A=re,re=re.nextSibling,n.remove(A);continue}if(!E){if(!R&&e.hasFocus()&&(R=lb(e.selection.getRng(),()=>document.createElement("span"))),!re.parentNode){re=null;break}E=E3(e),y.insertBefore(E,re)}A=re,re=re.nextSibling,E.appendChild(A)}else E=null,re=re.nextSibling;R&&(e.selection.setRng(mc(R)),e.nodeChanged())},k3=(e,n,o)=>{const i=Ve.fromDom(E3(e)),c=qb();Sr(i,c),o(n,i);const p=document.createRange();return p.setStartBefore(c.dom),p.setEndBefore(c.dom),p},_6=e=>{e.on("NodeChange",()=>fK(e))},T6=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,hK=(e,n,o)=>function(i){const c=arguments,p=c[c.length-2],y=p>0?n.charAt(p-1):"";if(y==='"')return i;if(y===">"){const E=n.lastIndexOf("<",p);if(E!==-1&&n.substring(E,p).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},mK=(e,n,o)=>{let i=n.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(n[i],hK(e,c,Ax(e)));o.content=c}},pK=(e,n)=>Ie(e,o=>{const i=n.match(o);return i!==null&&i[0].length===n.length}),gK=e=>{const n="contenteditable",o=" "+gn.trim(JT(e))+" ",i=" "+gn.trim(Ax(e))+" ",c=T6(o),p=T6(i),y=QT(e);y.length>0&&e.on("BeforeSetContent",E=>{mK(e,y,E)}),e.parser.addAttributeFilter("class",E=>{let A=E.length;for(;A--;){const R=E[A];c(R)?R.attr(n,"true"):p(R)&&R.attr(n,"false")}}),e.serializer.addAttributeFilter(n,E=>{let A=E.length;for(;A--;){const R=E[A];if(!c(R)&&!p(R))continue;const q=R.attr("data-mce-content");y.length>0&&q?pK(y,q)?(R.name="#text",R.type=3,R.raw=!0,R.value=q):R.remove():R.attr(n,null)}})},E6=e=>fd(Ve.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),vK=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Wd(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},bK=(e,n)=>{const o=E6(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),vK(e,o);return}h0(o)&&(vK(e,o),e.undoManager.add())}},yK=e=>{e.on("keyup compositionstart",qt(bK,e))},k6=Bi,wK=(e,n,o)=>z2(n,e,o,jn,Td,k6),CK=(e,n,o)=>e6(n,e,o,p=>jn(p)||vF(p),p=>Td(p)||fN(p),k6),SK=e=>{const n=e.dom.create($c(e));return n.innerHTML='<br data-mce-bogus="1">',n},D6=(e,n,o)=>{const i=Wh(e.getBody()),c=qt(vC,n===1?i.next:i.prev);if(o.collapsed){const p=e.dom.getParent(o.startContainer,"PRE");if(!p)return;if(!c(It.fromRangeStart(o))){const E=Ve.fromDom(SK(e));n===1?xu(Ve.fromDom(p),E):Va(Ve.fromDom(p),E),e.selection.select(E.dom,!0),e.selection.collapse()}}},A6=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return wK(o,e,i).orThunk(()=>(D6(e,o,i),le.none()))},xK=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return CK(o,e,i).orThunk(()=>(D6(e,o,i),le.none()))},_K=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return SN(o)?!n:n},O6=(e,n)=>A6(e,_K(e.selection,n)).exists(o=>(rh(e,o),!0)),M6=(e,n)=>xK(e,n).exists(o=>(rh(e,o),!0)),N6=(e,n)=>M1(e,n,n?Td:jn),zD=(e,n)=>jR(e,!n).map(o=>{const i=o.toRange(),c=e.selection.getRng();return n?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(rh(e,o),!0)),R6=(e,n)=>{const o=y=>no(y,n),i=y=>Bl(y.dom),c=Ve.fromDom(e.container());return Hr(c,i,o).filter(y=>!o(y))},TK=(e,n,o)=>(o?UH:VH)(e.getBody(),n).map(c=>c.toRange()),EK=(e,n)=>{const o=It.fromRangeStart(e.selection.getRng()),i=It.fromRangeEnd(e.selection.getRng()),c=Ve.fromDom(e.getBody());return ya(Xo(R6(o,c),R6(i,c),(y,E)=>no(y,E)?le.some(y):le.none())).fold(Yt,y=>n&&s3(y.dom,i)||!n&&o3(y.dom,o)?TK(e,n?i:o,n).exists(E=>(rh(e,E),!0)):!1)},L6=(e,n)=>EK(e,n),P6=e=>fo(["figcaption"],Qo(e)),kK=(e,n,o)=>{const i=qt(no,n);return Hr(Ve.fromDom(e.container()),c=>o.isBlock(Qo(c)),i).filter(P6)},DK=(e,n,o)=>n?s3(e.dom,o):o3(e.dom,o),AK=(e,n)=>{const o=Ve.fromDom(e.getBody()),i=It.fromRangeStart(e.selection.getRng());return kK(i,o,e.schema).exists(()=>{if(DK(o,n,i)){const p=k3(e,o,n?Sr:Id);return e.selection.setRng(p),!0}else return!1})},j2=(e,n)=>e.selection.isCollapsed()?AK(e,n):!1,OK=(e,n,o)=>{const i=e.selection.getRng(),c=It.fromRangeStart(i);return e.getBody().firstChild===n&&o3(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},MK=(e,n)=>{const o=e.selection.getRng(),i=It.fromRangeStart(o);return e.getBody().lastChild===n&&s3(n,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},I6=(e,n)=>n?le.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>MK(e,o)).getOr(!1):le.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>le.from(e.dom.getParent(o,"details")).map(i=>OK(e,i,o))).getOr(!1),VD=(e,n)=>I6(e,n),F6={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},NK=e=>In(e,n=>({...F6,...n})),mse=e=>In(e,n=>({...F6,...n})),B6=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,RK=(e,n)=>_e(NK(e),o=>B6(o,n)?[o]:[]),LK=(e,n)=>_e(mse(e),o=>B6(o,n)?[o]:[]),ls=(e,...n)=>()=>e.apply(null,n),Z2=(e,n)=>Vn(RK(e,n),o=>o.action()),$6=(e,n)=>Co(LK(e,n),o=>o.action()),H6=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return z2(e,o,i,Yx,Gx,Oi).exists(c=>(rh(e,c),!0))},D3=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return e6(e,o,i,Yx,Gx,Oi).exists(c=>(rh(e,c),!0))},bb=(e,n)=>M1(e,n,n?Gx:Yx),Qd=(e,n)=>A3(e,n,yt),A3=(e,n,o)=>_e(zi(e),i=>Zs(i,n)?o(i)?[i]:[]:A3(i,n,o)),q2=(e,n,o=Yt)=>{if(o(n))return le.none();if(fo(e,Qo(n)))return le.some(n);const i=c=>Zs(c,"table")||o(c);return Ua(n,e.join(","),i)},R1=(e,n)=>q2(["td","th"],e,n),Ug=e=>Qd(e,"th,td"),iS=(e,n)=>Ai(e,"table",n),UD=Zl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),aS={...UD,none:e=>UD.none(e)},WD=(e,n,o,i,c=yt)=>{const p=i===1;if(!p&&o<=0)return aS.first(e[0]);if(p&&o>=e.length-1)return aS.last(e[e.length-1]);{const y=o+i,E=e[y];return c(E)?aS.middle(n,E):WD(e,n,y,i,c)}},V6=(e,n)=>iS(e,n).bind(o=>{const i=Ug(o);return Vt(i,p=>no(e,p)).map(p=>({index:p,all:i}))}),PK=(e,n,o)=>V6(e,o).fold(()=>aS.none(e),c=>WD(c.all,e,c.index,1,n)),U6=(e,n,o)=>V6(e,o).fold(()=>aS.none(),c=>WD(c.all,e,c.index,-1,n));var W6=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],j6=()=>{const e=R=>Ve.fromDom(R.dom.cloneNode(!1)),n=R=>Gc(R).dom,o=R=>Ji(R)?Qo(R)==="body"?!0:fo(W6,Qo(R)):!1,i=R=>Ji(R)?fo(["br","img","hr","input"],Qo(R)):!1,c=R=>Ji(R)&&ui(R,"contenteditable")==="false",p=(R,q)=>R.dom.compareDocumentPosition(q.dom),y=(R,q)=>{const Q=qs(R);ri(q,Q)},E=R=>{const q=Qo(R);return fo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],q)},A=R=>Ji(R)?_u(R,"lang"):le.none();return{up:xt({selector:Ua,closest:Ai,predicate:qu,all:Il}),down:xt({selector:Ht,predicate:Pe}),styles:xt({get:ai,getRaw:Vi,set:ra,remove:hm}),attrs:xt({get:ui,set:xr,remove:Ga,copyTo:y}),insert:xt({before:Va,after:xu,afterAll:pp,append:Sr,appendAll:Na,prepend:Id,wrap:uu}),remove:xt({unwrap:Cc,remove:ii}),create:xt({nu:Ve.fromTag,clone:e,text:Ve.fromText}),query:xt({comparePosition:p,prevSibling:Su,nextSibling:rc}),property:xt({children:zi,name:Qo,parent:Pl,document:n,isText:cr,isComment:ma,isElement:Ji,isSpecial:E,getLanguage:A,getText:ic,setText:ug,isBoundary:o,isEmptyTag:i,isNonEditable:c}),eq:no,is:Cl}};const O3=(e,n)=>({element:e,offset:n}),IK=(e,n)=>{if(e.property().isText(n))return O3(n,e.property().getText(n).length);{const o=e.property().children(n);return o.length>0?IK(e,o[o.length-1]):O3(n,o.length)}},FK=(e,n,o)=>{const i=e.property().children(n);return i.length>0&&o<i.length?FK(e,i[o],0):i.length>0&&e.property().isElement(n)&&i.length===o?IK(e,i[i.length-1]):O3(n,o)},pse=FK,op=j6(),BK=(e,n)=>pse(op,e,n),Z6=er("image"),Py=e=>{const n=e;return le.from(n[Z6])},q6=(e,n)=>{const o=e;o[Z6]=n},M3=er("event"),jD=e=>{const n=e;return le.from(n[M3])},lS=e=>n=>{const o=n;o[M3]=e},Y6=(e,n)=>lS(n)(e),N3=lS(0),$K=lS(2),G6=lS(1),K6=(e=>n=>{const o=n;return le.from(o[M3]).exists(i=>i===e)})(0),R3=()=>Object.freeze({length:0,item:e=>null}),L3=er("mode"),zK=e=>{const n=e;return le.from(n[L3])},ZD=e=>n=>{const o=n;o[L3]=e},X6=(e,n)=>ZD(n)(e),J6=ZD(0),P3=ZD(2),VK=ZD(1),Q6=e=>n=>{const o=n;return le.from(o[L3]).exists(i=>i===e)},Iy=Q6(0),e8=Q6(1),yb=(e,n)=>({...n,get length(){return n.length},add:(o,i)=>{if(Iy(e))if(xe(o)){if(!Ln(i))return n.add(o,i)}else return n.add(o);return null},remove:o=>{Iy(e)&&n.remove(o)},clear:()=>{Iy(e)&&n.clear()}}),I3=["none","copy","link","move"],UK=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],F3=()=>{const e=new window.DataTransfer;let n="move",o="all";const i={get dropEffect(){return n},set dropEffect(c){fo(I3,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){K6(i)&&fo(UK,c)&&(o=c)},get items(){return yb(i,e.items)},get files(){return e8(i)?R3():e.files},get types(){return e.types},setDragImage:(c,p,y)=>{Iy(i)&&(q6(i,{image:c,x:p,y}),e.setDragImage(c,p,y))},getData:c=>e8(i)?"":e.getData(c),setData:(c,p)=>{Iy(i)&&e.setData(c,p)},clearData:c=>{Iy(i)&&e.clearData(c)}};return J6(i),i},WK=e=>{const n=F3(),o=zK(e);return P3(e),N3(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Py(e).each(i=>n.setDragImage(i.image,i.x,i.y)),vt(e.types,i=>{i!=="Files"&&n.setData(i,e.getData(i))}),vt(e.files,i=>n.items.add(i)),jD(e).each(i=>{Y6(n,i)}),o.each(i=>{X6(e,i),X6(n,i)}),n},B3=e=>{const n=e.getData("text/html");return n===""?le.none():le.some(n)},qD=(e,n)=>e.setData("text/html",n),t8=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),n8=(e,n)=>_e(n,o=>{const i=t8(Qu(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),o8=(e,n,o)=>ir(e,(i,c)=>i.fold(()=>le.some(c),p=>{const y=Math.sqrt(Math.abs(p.x-n)+Math.abs(p.y-o)),E=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return le.some(E<y?c:p)}),le.none()),s8=(e,n,o,i,c)=>{const p=Ht(Ve.fromDom(o),"td,th,caption").map(E=>E.dom),y=At(n8(e,p),E=>n(E,c));return o8(y,i,c).map(E=>E.cell)},Y2=e=>e.bottom,YD=e=>e.top,r8=(e,n)=>e.y<n,i8=(e,n)=>e.y>n,a8=qt(s8,Y2,r8),l8=qt(s8,YD,i8),GD=(e,n)=>yn(n.getClientRects()).bind(o=>a8(e,o.left,o.top)).bind(o=>OD(zH(o),n)),$3=(e,n)=>Uo(n.getClientRects()).bind(o=>l8(e,o.left,o.top)).bind(o=>OD(r3(o),n)),G2=(e,n,o)=>o.breakAt.exists(i=>e(n,i).breakAt.isSome()),jK=e=>e.breakType===Vg.Wrap&&e.positions.length===0,c8=e=>e.breakType===Vg.Br&&e.positions.length===1,u8=(e,n,o)=>{const i=e(n,o);return jK(i)||!ea(o.getNode())&&c8(i)?!G2(e,n,i):i.breakAt.isNone()},ZK=qt(u8,My),d8=qt(u8,$2),qK=(e,n,o)=>{const i=It.fromRangeStart(n);return i1(!e,o).exists(c=>c.isEqual(i))},f8=(e,n,o,i)=>{const c=e.selection.getRng(),p=n?1:-1;return pC()&&qK(n,c,o)?(vb(p,e,o,!n,!1).each(y=>{rh(e,y)}),!0):!1},gse=(e,n,o)=>GD(n,o).orThunk(()=>yn(o.getClientRects()).bind(i=>n3($H(e,It.before(n)),i.left))).getOr(It.before(n)),YK=(e,n,o)=>$3(n,o).orThunk(()=>yn(o.getClientRects()).bind(i=>n3(HH(e,It.after(n)),i.left))).getOr(It.after(n)),h8=(e,n)=>{const o=n.getNode(e);return Bf(o)?le.some(o):le.none()},GK=(e,n,o)=>{n.undoManager.transact(()=>{const i=e?xu:Va,c=k3(n,Ve.fromDom(o),i);rh(n,c)})},m8=(e,n,o)=>{const i=h8(!!n,o),c=n===!1;i.fold(()=>rh(e,o.toRange()),p=>i1(c,e.getBody()).filter(y=>y.isEqual(o)).fold(()=>rh(e,o.toRange()),y=>GK(n,e,p)))},KK=(e,n,o,i)=>{const c=e.selection.getRng(),p=It.fromRangeStart(c),y=e.getBody();if(!n&&ZK(i,p)){const E=gse(y,o,p);return m8(e,n,E),!0}else if(n&&d8(i,p)){const E=YK(y,o,p);return m8(e,n,E),!0}else return!1},p8=(e,n,o)=>le.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>le.from(e.dom.getParent(i,"table")).map(c=>o(e,n,c,i))).getOr(!1),g8=(e,n)=>p8(e,n,f8),K2=(e,n)=>p8(e,n,KK),XK=e=>{const n=If.exact(e,0,e,0);return bv(n)},L1=e=>jp(e)||kr(e).some(n=>Vu(n)&&jp(n)),H3=(e,n,o)=>o.fold(le.none,le.none,(i,c)=>bm(c).map(p=>XK(p)),i=>e.mode.isReadOnly()||!z3(i)||!L1(i)?le.none():(e.execCommand("mceTableInsertRowAfter"),V3(e,n,i))),z3=e=>Hr(e,Qi("table")).exists(Lc),V3=(e,n,o)=>H3(e,n,PK(o,jp)),U3=(e,n,o)=>H3(e,n,U6(o,jp)),jp=e=>Lc(e)||ms(e,v8),v8=e=>Vu(e)&&Lc(e),ih=(e,n)=>{const o=["table","li","dl"],i=Ve.fromDom(e.getBody()),c=E=>{const A=Qo(E);return no(E,i)||fo(o,A)},p=e.selection.getRng(),y=Ve.fromDom(n?p.endContainer:p.startContainer);return R1(y,c).map(E=>(iS(E,c).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?V3:U3)(e,c,E).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},Fy=(e,n,o)=>{const i=Xs.os.isMacOS()||Xs.os.isiOS(),c=Xs.browser.isFirefox();Z2([{keyCode:Qn.RIGHT,action:ls(O6,e,!0)},{keyCode:Qn.LEFT,action:ls(O6,e,!1)},{keyCode:Qn.UP,action:ls(M6,e,!1)},{keyCode:Qn.DOWN,action:ls(M6,e,!0)},...i?[{keyCode:Qn.UP,action:ls(zD,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Qn.DOWN,action:ls(zD,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Qn.RIGHT,action:ls(g8,e,!0)},{keyCode:Qn.LEFT,action:ls(g8,e,!1)},{keyCode:Qn.UP,action:ls(K2,e,!1)},{keyCode:Qn.DOWN,action:ls(K2,e,!0)},{keyCode:Qn.UP,action:ls(K2,e,!1)},{keyCode:Qn.UP,action:ls(VD,e,!1)},{keyCode:Qn.DOWN,action:ls(VD,e,!0)},{keyCode:Qn.RIGHT,action:ls(H6,e,!0)},{keyCode:Qn.LEFT,action:ls(H6,e,!1)},{keyCode:Qn.UP,action:ls(D3,e,!1)},{keyCode:Qn.DOWN,action:ls(D3,e,!0)},{keyCode:Qn.RIGHT,action:ls(h3,e,n,!0)},{keyCode:Qn.LEFT,action:ls(h3,e,n,!1)},{keyCode:Qn.RIGHT,ctrlKey:!i,altKey:i,action:ls(jG,e,n)},{keyCode:Qn.LEFT,ctrlKey:!i,altKey:i,action:ls(ZG,e,n)},{keyCode:Qn.UP,action:ls(j2,e,!1)},{keyCode:Qn.DOWN,action:ls(j2,e,!0)},...c?[{keyCode:Qn.UP,action:ls(L6,e,!1)},{keyCode:Qn.DOWN,action:ls(L6,e,!0)}]:[]],o).each(p=>{o.preventDefault()})},b8=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Fy(e,n,o)})},Qh=(e,n)=>({container:e,offset:n}),KD=li.DOM,X2=e=>n=>e===n?-1:0,JK=e=>n=>e.isBlock(n)||fo(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",W3=(e,n,o)=>{if(pn(e)&&n>=0)return le.some(Qh(e,n));{const i=Ph(KD);return le.from(i.backwards(e,n,X2(e),o)).map(c=>Qh(c.container,c.container.data.length))}},QK=(e,n,o)=>{if(pn(e)&&n>=e.length)return le.some(Qh(e,n));{const i=Ph(KD);return le.from(i.forwards(e,n,X2(e),o)).map(c=>Qh(c.container,0))}},j3=(e,n,o)=>{if(!pn(e))return le.none();const i=e.data;if(n>=0&&n<=i.length)return le.some(Qh(e,n));{const c=Ph(KD);return le.from(c.backwards(e,n,X2(e),o)).bind(p=>{const y=p.container.data;return j3(p.container,n+y.length,o)})}},y8=(e,n,o)=>{if(!pn(e))return le.none();const i=e.data;if(n<=i.length)return le.some(Qh(e,n));{const c=Ph(KD);return le.from(c.forwards(e,n,X2(e),o)).bind(p=>y8(p.container,n-i.length,o))}},XD=(e,n,o,i,c)=>{const p=Ph(e,JK(e));return le.from(p.backwards(n,o,i,c))},eX=e=>e.collapsed&&pn(e.startContainer),tX=e=>Ju(e.toString().replace(/\u00A0/g," ")),By=e=>e!==""&&` Â \uFEFF\f
\r	\v`.indexOf(e)!==-1,JD=(e,n)=>e.substring(n.length),w8=(e,n,o,i=!1)=>{let c;const p=o.charAt(0);for(c=n-1;c>=0;c--){const y=e.charAt(c);if(!i&&By(y))return le.none();if(p===y&&Si(e,o,c,n))break}return le.some(c)},QD=(e,n,o,i=!1)=>{if(!eX(n))return le.none();const c={text:"",offset:0},p=(E,A,R)=>(c.text=R+c.text,c.offset+=A,w8(c.text,c.offset,o,i).getOr(A)),y=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return XD(e,n.startContainer,n.startOffset,p,y).bind(E=>{const A=n.cloneRange();if(A.setStart(E.container,E.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return le.none();const R=tX(A);return R.lastIndexOf(o)!==0?le.none():le.some({text:JD(R,o),range:A,trigger:o})})},Z3=e=>e.nodeType===Jo,nX=e=>e.nodeType===ys,C8=e=>{if(Z3(e))return Qh(e,e.data.length);{const n=e.childNodes;return n.length>0?C8(n[n.length-1]):Qh(e,n.length)}},S8=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?S8(o[n],0):o.length>0&&nX(e)&&o.length===n?C8(o[o.length-1]):Qh(e,n)},x8=(e,n)=>{const o=e.getParent(n.container,e.isBlock)??e.getRoot();return XD(e,n.container,n.offset,(i,c)=>c===0?-1:c,o).filter(i=>{const c=i.container.data.charAt(i.offset-1);return!By(c)}).isSome()},eA=e=>n=>{const o=S8(n.startContainer,n.startOffset);return!x8(e,o)},_8=(e,n,o)=>Co(o.triggers,i=>QD(e,n,i)),tA=(e,n)=>{const o=n(),i=e.selection.getRng();return _8(e.dom,i,o).bind(c=>T8(e,n,c))},T8=(e,n,o,i={})=>{const c=n(),y=e.selection.getRng().startContainer.nodeValue??"",E=At(c.lookupByTrigger(o.trigger),R=>o.text.length>=R.minChars&&R.matches.getOrThunk(()=>eA(e.dom))(o.range,y,o.text));if(E.length===0)return le.none();const A=Promise.all(In(E,R=>R.fetch(o.text,R.maxResults,i).then(Q=>({matchText:o.text,items:Q,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return le.some({lookupData:A,context:o})};var sp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(sp||(sp={}));const q3=(e,n,o)=>e.stype===sp.Error?n(e.serror):o(e.svalue),oX=e=>{const n=[],o=[];return vt(e,i=>{q3(i,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},sX=(e,n)=>e.stype===sp.Error?{stype:sp.Error,serror:n(e.serror)}:e,E8=(e,n)=>e.stype===sp.Value?{stype:sp.Value,svalue:n(e.svalue)}:e,rX=(e,n)=>e.stype===sp.Value?n(e.svalue):e,iX=(e,n)=>e.stype===sp.Error?n(e.serror):e,Y3=e=>({stype:sp.Value,svalue:e}),cS=e=>({stype:sp.Error,serror:e}),rd={fromResult:e=>e.fold(cS,Y3),toResult:e=>q3(e,Ge.error,Ge.value),svalue:Y3,partition:oX,serror:cS,bind:rX,bindError:iX,map:E8,mapError:sX,fold:q3},G3=e=>dt(e)&&Mn(e).length>100?" removed due to size":JSON.stringify(e,null,2),K3=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:xt("... (only showing first ten failures)")}]):e;return In(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},X3=(e,n)=>rd.serror([{path:e,getErrorInfo:n}]),lX=(e,n,o)=>X3(e,()=>'Could not find valid *required* value for "'+n+'" in '+G3(o)),k8=(e,n)=>X3(e,xt(n)),D8=e=>{const n=(i,c)=>rd.bindError(e(c),p=>k8(i,p)),o=xt("val");return{extract:n,toString:o}},cX=D8(rd.svalue),J3=xt(cX),J2=(e,n)=>D8(o=>{const i=typeof o;return e(o)?rd.svalue(o):rd.serror(`Expected type: ${n} but got: ${i}`)}),uX=J2(En,"number"),Q3=J2(xe,"string"),Q2=J2(Fe,"function"),A8=()=>({tag:"required",process:{}}),eL=e=>({tag:"defaultedThunk",process:e}),tL=e=>eL(xt(e)),nL=()=>({tag:"option",process:{}}),O8=(e,n,o,i)=>({tag:"field",key:e,newKey:n,presence:o,prop:i}),M8=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},dX=(e,n)=>rd.svalue(vr(n,Ho.apply(void 0,e))),N8=e=>U(rd.serror,de)(e),fX={consolidateObj:(e,n)=>{const o=rd.partition(e);return o.errors.length>0?N8(o.errors):dX(o.values,n)},consolidateArr:e=>{const n=rd.partition(e);return n.errors.length>0?N8(n.errors):rd.svalue(n.values)}},hX=(e,n,o,i)=>Ks(n,o).fold(()=>lX(e,o,n),i),R8=(e,n,o,i)=>{const c=Ks(e,n).getOrThunk(()=>o(e));return i(c)},sL=(e,n,o)=>o(Ks(e,n)),mX=(e,n,o,i)=>{const c=Ks(e,n).map(p=>p===!0?o(e):p);return i(c)},pX=(e,n,o,i,c)=>{const p=E=>c.extract(n.concat([i]),E),y=E=>E.fold(()=>rd.svalue(le.none()),A=>{const R=c.extract(n.concat([i]),A);return rd.map(R,le.some)});switch(e.tag){case"required":return hX(n,o,i,p);case"defaultedThunk":return R8(o,i,e.process,p);case"option":return sL(o,i,y);case"defaultedOptionThunk":return mX(o,i,e.process,y);case"mergeWithThunk":return R8(o,i,xt({}),E=>{const A=vr(e.process(o),E);return p(A)})}},L8=(e,n,o)=>{const i={},c=[];for(const p of o)M8(p,(y,E,A,R)=>{const q=pX(A,e,n,y,R);rd.fold(q,Q=>{c.push(...Q)},Q=>{i[E]=Q})},(y,E)=>{i[y]=E(n)});return c.length>0?rd.serror(c):rd.svalue(i)},P8=e=>({extract:(i,c)=>L8(i,c,e),toString:()=>`obj{
`+In(e,c=>M8(c,(p,y,E,A)=>p+" -> "+A.toString(),(p,y)=>"state("+p+")")).join(`
`)+"}"}),gX=e=>({extract:(i,c)=>{const p=In(c,(y,E)=>e.extract(i.concat(["["+E+"]"]),y));return fX.consolidateArr(p)},toString:()=>"array("+e.toString()+")"}),vX=(e,n,o)=>{const i=n.extract([e],o);return rd.mapError(i,c=>({input:o,errors:c}))},I8=(e,n,o)=>rd.toResult(vX(e,n,o)),F8=e=>`Errors: 
`+K3(e.errors).join(`
`)+`

Input object: `+G3(e.input),uS=O8,rL=e=>uS(e,e,A8(),J3()),B8=(e,n)=>uS(e,e,A8(),n),iL=e=>B8(e,Q3),$8=e=>B8(e,Q2),bX=e=>uS(e,e,nL(),J3()),H8=(e,n)=>uS(e,e,nL(),n),z8=e=>H8(e,Q3),vc=e=>H8(e,Q2),yX=(e,n)=>uS(e,e,tL(n),J3()),V8=(e,n,o)=>uS(e,e,tL(n),o),U8=(e,n)=>V8(e,n,uX),W8=(e,n,o)=>V8(e,n,gX(o)),aL=iL("type"),j8=$8("fetch"),e_=$8("onAction"),wX=e=>yX("columns",e),CX=P8([aL,iL("trigger"),U8("minChars",1),wX(1),U8("maxResults",10),vc("matches"),j8,e_,W8("highlightOn",[],Q3)]),SX=e=>I8("Autocompleter",CX,e),xX=()=>{const e={},n={},o={},i={},c={},p={},y={},E={},A={},R=(pe,Be)=>(De,He)=>{pe[De.toLowerCase()]={...He,type:Be}},q=(pe,Be)=>(De,He)=>{pe[De.toLowerCase()]={type:Be,...He}},Q=(pe,Be)=>i[pe.toLowerCase()]=Be,re=(pe,Be)=>y[pe.toLowerCase()]=Be;return{addButton:R(e,"button"),addGroupToolbarButton:R(e,"grouptoolbarbutton"),addToggleButton:R(e,"togglebutton"),addMenuButton:R(e,"menubutton"),addSplitButton:R(e,"splitbutton"),addMenuItem:R(n,"menuitem"),addNestedMenuItem:R(n,"nestedmenuitem"),addToggleMenuItem:R(n,"togglemenuitem"),addAutocompleter:R(o,"autocompleter"),addContextMenu:R(c,"contextmenu"),addContextToolbar:R(p,"contexttoolbar"),addContextForm:q(p,"contextform"),addSidebar:R(E,"sidebar"),addView:R(A,"views"),addIcon:Q,addContext:re,getAll:()=>({buttons:e,menuItems:n,icons:i,popups:o,contextMenus:c,contextToolbars:p,sidebars:E,views:A,contexts:y})}},_X=e=>{const n=e.ui.registry.getAll().popups,o=Wa(n,y=>SX(y).fold(E=>{throw new Error(F8(E))},Eo)),i=ha(ba(o,y=>y.trigger)),c=Xi(o);return{dataset:o,triggers:i,lookupByTrigger:y=>At(c,E=>E.trigger===y)}},TX=(e,n)=>{const o=is(n.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},EX=e=>{const n=Da(),o=io(!1),i=n.isSet,c=()=>{i()&&(OT(e),o.set(!1),n.clear())},p=Q=>{i()||n.set({trigger:Q.trigger,matchLength:Q.text.length})},y=ds(()=>_X(e)),E=Q=>n.get().map(re=>QD(e.dom,e.selection.getRng(),re.trigger,!0).bind(pe=>T8(e,y,pe,Q))).getOrThunk(()=>tA(e,y)),A=Q=>{E(Q).fold(c,re=>{p(re.context),re.lookupData.then(pe=>{n.get().map(Be=>{const De=re.context;Be.trigger===De.trigger&&(n.set({...Be,matchLength:De.text.length}),o.get()?(gx(e,{range:De.range}),hs(e,{lookupData:pe})):(o.set(!0),gx(e,{range:De.range}),tM(e,{lookupData:pe})))})})})},R=(Q,re)=>{const pe=Q.compareBoundaryPoints(window.Range.START_TO_START,re),Be=Q.compareBoundaryPoints(window.Range.END_TO_END,re);return pe>=0&&Be<=0},q=()=>n.get().bind(({trigger:Q})=>{const re=e.selection.getRng();return QD(e.dom,re,Q,o.get()).filter(({range:pe})=>R(re,pe)).map(({range:pe})=>pe)});e.addCommand("mceAutocompleterReload",(Q,re)=>{const pe=dt(re)?re.fetchOptions:{};A(pe)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(Q=>{gx(e,{range:Q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),TX(e,{cancelIfNecessary:c,load:A})},kX=Wc().browser.isSafari(),Z8=e=>Nm(Ve.fromDom(e)),q8=(e,n)=>e.startOffset===0&&e.endOffset===n.textContent?.length,nA=(e,n)=>le.from(e.getParent(n.container(),"details")),Y8=(e,n)=>nA(e,n).isSome(),DX=(e,n)=>{const o=le.from(e.getParent(n.startContainer,"details")),i=le.from(e.getParent(n.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(p=>le.from(e.select("summary",p)[0]));return le.some({startSummary:c,startDetails:o,endDetails:i})}else return le.none()},G8=(e,n)=>Tc(n).exists(o=>o.isEqual(e)),K8=(e,n)=>Sd(n).exists(o=>ea(o.getNode())&&_c(n,o).exists(i=>i.isEqual(e))||o.isEqual(e)),X8=(e,n)=>n.startSummary.exists(o=>G8(e,o)),AX=(e,n)=>n.startSummary.exists(o=>K8(e,o)),OX=(e,n)=>n.startDetails.exists(o=>_c(o,e).forall(i=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),MX=(e,n,o)=>o.startDetails.exists(i=>td(e,n).forall(c=>!i.contains(c.container()))),J8=(e,n)=>{const o=n.getNode();Ln(o)||e.selection.setCursorLocation(o,n.offset())},lL=(e,n,o)=>{const i=e.dom.getParent(n.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Tc(c):Sd(c)).each(y=>J8(e,y))}else J8(e,n)},NX=(e,n)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=n.startSummary.exists(o),p=n.startSummary.exists(i),y=n.startDetails.forall(A=>n.endDetails.forall(R=>A!==R));return(c||p)&&!(c&&p)||y},cL=(e,n,o)=>{const{dom:i,selection:c}=e,p=e.getBody();if(o==="character"){const y=It.fromRangeStart(c.getRng()),E=i.getParent(y.container(),i.isBlock),A=nA(i,y),R=E&&i.isEmpty(E),q=P(E?.previousSibling),Q=P(E?.nextSibling);return R&&(n?Q:q)&&Ag(!n,p,y).exists(Be=>Y8(i,Be)&&!mi(A,nA(i,Be)))?!0:Ag(n,p,y).fold(Yt,re=>{const pe=nA(i,re);if(Y8(i,re)&&!mi(A,pe)){if(n||lL(e,re,!1),E&&R){if(n&&q)return!0;if(!n&&Q)return!0;lL(e,re,n),e.dom.remove(E)}return!0}else return!1})}else return!1},RX=(e,n,o,i)=>{const p=e.selection.getRng(),y=It.fromRangeStart(p),E=e.getBody();return i==="selection"?NX(p,n):o?AX(y,n)||MX(E,y,n):X8(y,n)||OX(y,n)},Q8=(e,n,o)=>DX(e.dom,e.selection.getRng()).fold(()=>cL(e,n,o),i=>RX(e,i,n,o)||cL(e,n,o)),e7=(e,n,o)=>{const i=e.selection,c=i.getNode(),p=i.getRng(),y=It.fromRangeStart(p);return xp(c)?(o==="selection"&&q8(p,c)||mW(n,y,c)?Z8(c):e.undoManager.transact(()=>{const E=i.getSel();let{anchorNode:A,anchorOffset:R,focusNode:q,focusOffset:Q}=E??{};const re=()=>{et(A)&&et(R)&&et(q)&&et(Q)&&E?.setBaseAndExtent(A,R,q,Q)},pe=()=>{A=E?.anchorNode,R=E?.anchorOffset,q=E?.focusNode,Q=E?.focusOffset},Be=(He,ct)=>{vt(He.childNodes,mt=>{tb(mt)&&ct.appendChild(mt)})},De=e.dom.create("span",{"data-mce-bogus":"1"});Be(c,De),c.appendChild(De),re(),(o==="word"||o==="line")&&E?.modify("extend",n?"right":"left",o),!i.isCollapsed()&&q8(i.getRng(),De)?Z8(c):(e.execCommand(n?"ForwardDelete":"Delete"),pe(),Be(De,c),re()),e.dom.remove(De)}),!0):!1},$y=(e,n,o)=>Q8(e,n,o)||kX&&e7(e,n,o)?le.some(Ze):le.none(),t7=e=>(n,o,i={})=>{const c=n.getBody(),p={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Ze,inputType:o},y=a0(new InputEvent(e));return n.dispatch(e,{...y,...p,...i})},t_=t7("input"),oA=t7("beforeinput"),uL=Wc(),n7=uL.os,o7=n7.isMacOS()||n7.isiOS(),PX=uL.browser.isFirefox(),IX=(e,n,o)=>{const i=o.keyCode===Qn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),p=c?"character":"selection",y=E=>c?E?"word":"line":"selection";$6([{keyCode:Qn.BACKSPACE,action:ls(BD,e)},{keyCode:Qn.BACKSPACE,action:ls(qR,e,!1)},{keyCode:Qn.DELETE,action:ls(qR,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(WR,e,!1)},{keyCode:Qn.DELETE,action:ls(WR,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(m3,e,n,!1)},{keyCode:Qn.DELETE,action:ls(m3,e,n,!0)},{keyCode:Qn.BACKSPACE,action:ls(ON,e,!1)},{keyCode:Qn.DELETE,action:ls(ON,e,!0)},{keyCode:Qn.BACKSPACE,action:ls($y,e,!1,p)},{keyCode:Qn.DELETE,action:ls($y,e,!0,p)},...o7?[{keyCode:Qn.BACKSPACE,altKey:!0,action:ls($y,e,!1,y(!0))},{keyCode:Qn.DELETE,altKey:!0,action:ls($y,e,!0,y(!0))},{keyCode:Qn.BACKSPACE,metaKey:!0,action:ls($y,e,!1,y(!1))}]:[{keyCode:Qn.BACKSPACE,ctrlKey:!0,action:ls($y,e,!1,y(!0))},{keyCode:Qn.DELETE,ctrlKey:!0,action:ls($y,e,!0,y(!0))}],{keyCode:Qn.BACKSPACE,action:ls(GR,e,!1)},{keyCode:Qn.DELETE,action:ls(GR,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(PD,e,!1)},{keyCode:Qn.DELETE,action:ls(PD,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(zR,e,!1)},{keyCode:Qn.DELETE,action:ls(zR,e,!0)},{keyCode:Qn.BACKSPACE,action:ls($R,e,!1)},{keyCode:Qn.DELETE,action:ls($R,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(b3,e,!1)},{keyCode:Qn.DELETE,action:ls(b3,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(YR,e,!1)},{keyCode:Qn.DELETE,action:ls(YR,e,!0)},{keyCode:Qn.BACKSPACE,action:ls(U2,e,!1)},{keyCode:Qn.DELETE,action:ls(U2,e,!0)}],o).filter(E=>e.selection.isEditable()).each(E=>{o.preventDefault(),oA(e,i).isDefaultPrevented()||(E(),t_(e,i))})},s7=(e,n,o,i)=>Z2([{keyCode:Qn.BACKSPACE,action:ls(MH,e)},{keyCode:Qn.DELETE,action:ls(MH,e)},...o7?[{keyCode:Qn.BACKSPACE,altKey:!0,action:ls(Ly,e)},{keyCode:Qn.DELETE,altKey:!0,action:ls(Ly,e)},...o?[{keyCode:PX?224:91,action:ls(()=>(N1(e,i),Ly(e)))}]:[]]:[{keyCode:Qn.BACKSPACE,ctrlKey:!0,action:ls(Ly,e)},{keyCode:Qn.DELETE,ctrlKey:!0,action:ls(Ly,e)}]],n),FX=(e,n)=>{let o=!1,i=[];e.on("keydown",c=>{o=c.keyCode===Qn.BACKSPACE,i=ND(e),c.isDefaultPrevented()||IX(e,n,c)}),e.on("keyup",c=>{c.isDefaultPrevented()||(s7(e,c,o,i),i.length=0),o=!1})},BX=(e,n)=>{const o=Ve.fromDom(e),i=Ve.fromDom(n),c=Qi("span"),p=qt(no,o),y=A=>Ji(A)&&Vi(A,"font-size").isSome(),E=[...y(i)?[i]:[],...Z(i,y,p)];vt(E.slice(1),A=>{hm(A,"font-size"),Ga(A,"data-mce-style"),c(A)&&fm(A)&&Cc(A)})},$X=e=>{for(;e;){if(yo(e)||pn(e)&&e.data&&/[\r\n\s]/.test(e.data))return le.from(Ve.fromDom(e));e=e.nextSibling}return le.none()},Hy=(e,n)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const p=A=>/^(ul|ol|dl)$/.test(Qo(A)),y=A=>p(A)?le.from(A):xh(A,p),E=A=>o.isEmpty(A.dom);$X(n.firstChild).each(A=>{y(A).fold(()=>{if(E(A)){const R=BK(A,0).element;Ji(R)&&!Om(R)&&Sr(R,Ve.fromText(as))}},R=>{Va(R,Ve.fromText(as))})})}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const p=new Ti(n,n);let y=n,E;for(;E=p.current();){if(pn(E)){c.setStart(E,0),c.setEnd(E,0);break}if(i[E.nodeName.toLowerCase()]){c.setStartBefore(E),c.setEndBefore(E);break}y=E,E=p.next()}E||(c.setStart(y,0),c.setEnd(y,0))}else ea(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),ty(e,c)},dS=(e,n)=>{const o=e.getRoot();let i,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},dL=e=>le.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),HX=e=>dL(e).fold(xt(""),n=>n.nodeName.toUpperCase()),zX=e=>dL(e).filter(n=>Mm(Ve.fromDom(n))).isSome(),fL=e=>{e.innerHTML='<br data-mce-bogus="1">'},VX=(e,n,o)=>{const i=e.dom;le.from(o.style).map(i.parseStyle).each(A=>{const q={...Ch(Ve.fromDom(n)),...A};i.setStyles(n,q)});const c=le.from(o.class).map(A=>A.split(/\s+/)),p=le.from(n.className).map(A=>At(A.split(/\s+/),R=>R!==""));Xo(c,p,(A,R)=>{const q=At(R,re=>!fo(A,re)),Q=[...A,...q];i.setAttrib(n,"class",Q.join(" "))});const y=["style","class"],E=bl(o,(A,R)=>!fo(y,R));i.setAttribs(n,E)},n_=(e,n)=>{if($c(e).toLowerCase()===n.tagName.toLowerCase()){const i=e1(e);VX(e,n,i)}},r7=(e,n,o,i,c=!0,p,y)=>{const E=e.dom,A=e.schema,R=$c(e),q=o?o.nodeName.toUpperCase():"";let Q=n;const re=A.getTextInlineElements();let pe;p||q==="TABLE"||q==="HR"?pe=E.create(p||R,y||{}):pe=o.cloneNode(!1);let Be=pe;if(!c)E.setAttrib(pe,"style",null),E.setAttrib(pe,"class",null);else{do if(re[Q.nodeName]){if(Kf(Q)||bf(Q))continue;const De=Q.cloneNode(!1);E.setAttrib(De,"id",""),pe.hasChildNodes()?(De.appendChild(pe.firstChild),pe.appendChild(De)):(Be=De,pe.appendChild(De))}while((Q=Q.parentNode)&&Q!==i);BX(pe,Be)}return n_(e,pe),fL(Be),pe},UX=(e,n)=>e.dom.getParent(n,vg),wse=(e,n,o)=>{let i=n;for(;i&&i!==e&&P(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return vg(c);i=c}return!1},WX=(e,n,o)=>!n&&o.nodeName.toLowerCase()===$c(e)&&e.dom.isEmpty(o)&&wse(e.getBody(),o,i=>qo(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),sA=(e,n,o)=>{const i=n($c(e)),c=UX(e,o);c&&(e.dom.insertAfter(i,c),Hy(e,i),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},i7=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,a7=e=>e.parentNode?.firstChild===e,l7=(e,n)=>{const o=e?.parentNode;return et(o)&&o.nodeName===n},hL=e=>et(e)&&/^(OL|UL|LI)$/.test(e.nodeName),rA=e=>et(e)&&/^(LI|DT|DD)$/.test(e.nodeName),jX=e=>hL(e)&&hL(e.parentNode),iA=e=>{const n=e.parentNode;return rA(n)?n:e},aA=(e,n,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!yo(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},mL=e=>ir(ba(Ch(Ve.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),ZX=(e,n,o,i,c)=>{const p=e.dom,y=e.selection.getRng(),E=o.parentNode;if(o===e.getBody()||!E)return;jX(o)&&(c="LI");const A=rA(i)?mL(i):void 0;let R=rA(i)&&A?n(c,{style:mL(i)}):n(c);if(aA(o,i,!0)&&aA(o,i,!1))if(l7(o,"LI")){const q=iA(o);p.insertAfter(R,q),a7(o)?p.remove(q):p.remove(o)}else p.replace(R,o);else if(aA(o,i,!0))l7(o,"LI")?(p.insertAfter(R,iA(o)),R.appendChild(p.doc.createTextNode(" ")),R.appendChild(o)):E.insertBefore(R,o),p.remove(i);else if(aA(o,i,!1))p.insertAfter(R,iA(o)),p.remove(i);else{o=iA(o);const q=y.cloneRange();q.setStartAfter(i),q.setEndAfter(o);const Q=q.extractContents();if(c==="LI"&&i7(Q,"LI")){const re=At(In(R.children,Ve.fromDom),us(Qi("br")));R=Q.firstChild,p.insertAfter(Q,o),vt(re,pe=>Id(Ve.fromDom(R),pe)),A&&R.setAttribute("style",A)}else p.insertAfter(Q,o),p.insertAfter(R,o);p.remove(i)}Hy(e,R)},pL=e=>{vt(Pe(Ve.fromDom(e),cr),n=>{const o=n.dom;o.nodeValue=Ju(o.data)})},qX=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},YX=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),gL=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,c7=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,vL=(e,n)=>et(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",GX=(e,n,o)=>{const i=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;yo(c)&&!n[c.nodeName.toLowerCase()]&&i.push(c)}let p=i.length;for(;p--;)c=i[p],(!c.hasChildNodes()||c.firstChild===c.lastChild&&c.firstChild?.nodeValue===""||YX(e,c))&&e.remove(c)},bL=(e,n,o)=>pn(n)?e?o===1&&n.data.charAt(o-1)===Hl?0:o:o===n.data.length-1&&n.data.charAt(o)===Hl?n.data.length:o:o,KX=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,bL(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,bL(!1,e.endContainer,e.endOffset)),n},Cse=e=>{let n=e;do pn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},XX=(e,n,o,i,c)=>{const p=e.dom,y=dS(p,i)??p.getRoot();let E=p.getParent(i,p.isBlock);if(!E||!vL(p,E)){if(E=E||y,!E.hasChildNodes()){const Q=p.create(n);return n_(e,Q),E.appendChild(Q),o.setStart(Q,0),o.setEnd(Q,0),Q}let A=i;for(;A&&A.parentNode!==E;)A=A.parentNode;let R;for(;A&&!p.isBlock(A);)R=A,A=A.previousSibling;const q=R?.parentElement?.nodeName;if(R&&q&&e.schema.isValidChild(q,n.toLowerCase())){const Q=R.parentNode,re=p.create(n);for(n_(e,re),Q.insertBefore(re,R),A=R;A&&!p.isBlock(A);){const pe=A.nextSibling;re.appendChild(A),A=pe}o.setStart(i,c),o.setEnd(i,c)}}return i},JX=(e,n)=>{n.normalize();const o=n.lastChild;(!o||yo(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},QX=(e,n)=>{const o=SI(e);return ln(n)?!1:xe(o)?fo(gn.explode(o),n.nodeName.toLowerCase()):o},yL={insert:(e,n)=>{let o,i,c,p,y=!1;const E=e.dom,A=e.schema,R=A.getNonEmptyElements(),q=e.selection.getRng(),Q=$c(e),re=Ve.fromDom(q.startContainer),pe=wc(re,q.startOffset),Be=pe.exists(cn=>Vu(cn)&&!Lc(cn)),De=q.collapsed&&Be,He=(cn,uo)=>r7(e,o,Zn,an,Uv(e),cn,uo),ct=cn=>{const uo=bL(cn,o,i);if(pn(o)&&(cn?uo>0:uo<o.data.length))return!1;if((o.parentNode===Zn||o===Zn)&&y&&!cn||cn&&yo(o)&&o===Zn.firstChild)return!0;if(gL(o,"TABLE")||gL(o,"HR"))return c7(o,"BR")?!cn:y&&!cn||!y&&cn;const ts=new Ti(o,Zn);pn(o)&&(cn&&uo===0?ts.prev():!cn&&uo===o.data.length&&ts.next());let Hs;for(;Hs=ts.current();){if(yo(Hs)){if(!Hs.getAttribute("data-mce-bogus")){const mr=Hs.nodeName.toLowerCase();if(R[mr]&&mr!=="br")return!1}}else if(pn(Hs)&&!Dh(Hs.data))return!1;cn?ts.prev():ts.next()}return!0},mt=()=>{let cn;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Sn!=="HGROUP"?cn=He(Q):cn=He(),QX(e,p)&&vL(E,p)&&E.isEmpty(Zn,void 0,{includeZwsp:!0})?cn=E.split(p,Zn):E.insertAfter(cn,Zn),Hy(e,cn),cn};ey(E,q).each(cn=>{q.setStart(cn.startContainer,cn.startOffset),q.setEnd(cn.endContainer,cn.endOffset)}),o=q.startContainer,i=q.startOffset;const gt=!!(n&&n.shiftKey),Zt=!!(n&&n.ctrlKey);yo(o)&&o.hasChildNodes()&&!De&&(y=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,y&&pn(o)?i=o.data.length:i=0);const an=dS(E,o);if(!an||qX(e,o))return;gt||(o=XX(e,Q,q,o,i));let Zn=E.getParent(o,E.isBlock)||E.getRoot();p=et(Zn?.parentNode)?E.getParent(Zn.parentNode,E.isBlock):null,c=Zn?Zn.nodeName.toUpperCase():"";const Sn=p?p.nodeName.toUpperCase():"";if(Sn==="LI"&&!Zt){const cn=p;Zn=cn,p=cn.parentNode,c=Sn}if(yo(p)&&WX(e,gt,Zn))return sA(e,He,Zn);if(/^(LI|DT|DD)$/.test(c)&&yo(p)&&E.isEmpty(Zn)){ZX(e,He,p,Zn,Q);return}if(!De&&(Zn===e.getBody()||!vL(E,Zn)))return;const Gt=Zn.parentNode;let jt;if(De)jt=He(Q),pe.fold(()=>{Sr(re,Ve.fromDom(jt))},cn=>{Va(cn,Ve.fromDom(jt))}),e.selection.setCursorLocation(jt,0);else if(Op(Zn))jt=Wd(Zn),E.isEmpty(Zn)&&fL(Zn),n_(e,jt),Hy(e,jt);else if(ct(!1))jt=mt();else if(ct(!0)&&Gt){const cn=It.fromRangeStart(q),uo=fN(cn),ts=Ve.fromDom(Zn),mr=ek(ts,cn,e.schema)?CF(ts,cn,e.schema).bind(ca=>le.from(ca.getNode())):le.none();jt=Gt.insertBefore(He(),Zn);const Ki=gL(Zn,"HR")||uo?jt:mr.getOr(Zn);Hy(e,Ki)}else{const cn=KX(q).cloneRange();cn.setEndAfter(Zn);const uo=cn.extractContents();pL(uo),Cse(uo),jt=uo.firstChild,Zn===jt?et(Gt)&&E.insertAfter(uo,Gt):E.insertAfter(uo,Zn),GX(E,R,jt),JX(E,Zn),E.isEmpty(Zn)&&fL(Zn),jt.normalize(),E.isEmpty(jt)?(E.remove(jt),mt()):(n_(e,jt),Hy(e,jt))}E.setAttrib(jt,"id",""),e.dispatch("NewBlock",{newBlock:jt})},fakeEventName:"insertParagraph"},eJ=(e,n,o)=>{const i=new Ti(n,o);let c;const p=e.getNonEmptyElements();for(;c=i.next();)if(p[c.nodeName.toLowerCase()]||pn(c)&&c.length>0)return!0;return!1},lA=(e,n,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),ty(e,i)},Wg=(e,n)=>{const o=e.selection,i=e.dom,c=o.getRng();let p,y=!1;ey(i,c).each(pe=>{c.setStart(pe.startContainer,pe.startOffset),c.setEnd(pe.endContainer,pe.endOffset)});let E=c.startOffset,A=c.startContainer;if(yo(A)&&A.hasChildNodes()){const pe=E>A.childNodes.length-1;A=A.childNodes[Math.min(E,A.childNodes.length-1)]||A,pe&&pn(A)?E=A.data.length:E=0}let R=i.getParent(A,i.isBlock);const q=R&&R.parentNode?i.getParent(R.parentNode,i.isBlock):null,Q=q?q.nodeName.toUpperCase():"",re=!!(n&&n.ctrlKey);Q==="LI"&&!re&&(R=q),pn(A)&&E>=A.data.length&&(eJ(e.schema,A,R||i.getRoot())||(p=i.create("br"),c.insertNode(p),c.setStartAfter(p),c.setEndAfter(p),y=!0)),p=i.create("br"),Zw(i,c,p),lA(e,p,y),e.undoManager.add()},u7=(e,n)=>{const o=Ve.fromTag("br");Va(Ve.fromDom(n),o),e.undoManager.add()},d7=(e,n)=>{cA(e.getBody(),n)||xu(Ve.fromDom(n),Ve.fromTag("br"));const o=Ve.fromTag("br");xu(Ve.fromDom(n),o),lA(e,o.dom,!1),e.undoManager.add()},tJ=e=>ea(e.getNode()),cA=(e,n)=>tJ(It.after(n))?!0:td(e,It.after(n)).map(o=>ea(o.getNode())).getOr(!1),uA=e=>e&&e.nodeName==="A"&&"href"in e,f7=e=>e.fold(Yt,uA,uA,Yt),h7=e=>{const n=qt(f1,e),o=It.fromRangeStart(e.selection.getRng());return Up(n,e.getBody(),o).filter(f7)},nJ=(e,n)=>{n.fold(Ze,qt(u7,e),qt(d7,e),Ze)},m7={insert:(e,n)=>{const o=h7(e);o.isSome()?o.each(qt(nJ,e)):Wg(e,n)},fakeEventName:"insertLineBreak"},p7=(e,n)=>dL(e).filter(o=>n.length>0&&Zs(Ve.fromDom(o),n)).isSome(),g7=e=>p7(e,Tr(e)),oJ=e=>p7(e,Hh(e)),ah=Zl.generate([{br:[]},{block:[]},{none:[]}]),Ese=(e,n)=>oJ(e),dA=e=>(n,o)=>zX(n)===e,v7=(e,n)=>(o,i)=>HX(o)===e.toUpperCase()===n,sJ=e=>{const n=dS(e.dom,e.selection.getStart());return ln(n)},o_=e=>v7("pre",e),rJ=()=>v7("summary",!0),fA=e=>(n,o)=>sM(n)===e,iJ=(e,n)=>g7(e),hA=(e,n)=>n,aJ=e=>{const n=$c(e),o=dS(e.dom,e.selection.getStart());return et(o)&&e.schema.isValidChild(o.nodeName,n)},mA=e=>{const n=e.selection.getRng(),o=Ve.fromDom(n.startContainer),c=wc(o,n.startOffset).map(p=>Vu(p)&&!Lc(p));return n.collapsed&&c.getOr(!0)},em=(e,n)=>(o,i)=>ir(e,(p,y)=>p&&y(o,i),!0)?le.some(n):le.none(),lJ=(e,n)=>eS([em([Ese],ah.none()),em([o_(!0),sJ],ah.none()),em([rJ()],ah.br()),em([o_(!0),fA(!1),hA],ah.br()),em([o_(!0),fA(!1)],ah.block()),em([o_(!0),fA(!0),hA],ah.block()),em([o_(!0),fA(!0)],ah.br()),em([dA(!0),hA],ah.br()),em([dA(!0)],ah.block()),em([iJ],ah.br()),em([hA],ah.br()),em([aJ],ah.block()),em([mA],ah.block())],[e,!!(n&&n.shiftKey)]).getOr(ah.none()),fS=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||dW(n),!(et(o)&&oA(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),et(o)&&t_(n,e.fakeEventName)))},pA=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>fS(m7,e,n),i=()=>fS(yL,e,n),c=lJ(e,n);switch(rM(e)){case"linebreak":c.fold(o,o,Ze);break;case"block":c.fold(i,i,Ze);break;case"invert":c.fold(i,o,Ze);break;default:c.fold(o,i,Ze);break}},b7=Wc(),cJ=b7.os.isiOS()&&b7.browser.isSafari(),wL=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),M4(e.undoManager),e.undoManager.transact(()=>{pA(e,n)}))},uJ=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(pn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=n.data.charAt(e.startOffset-1);return o.test(i)}else return!1},dJ=e=>{let n=le.none();const o=c=>{n=le.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,p)=>{c.undoManager.undo(),n.fold(Ze,y=>c.selection.moveToBookmark(y)),wL(c,p),n=le.none()};e.on("keydown",c=>{c.keyCode===Qn.ENTER&&(cJ&&uJ(e.selection.getRng())?o(e):wL(e,c))}),e.on("keyup",c=>{c.keyCode===Qn.ENTER&&n.each(()=>i(e,c))})},fJ=(e,n,o)=>{const i=Xs.os.isMacOS()||Xs.os.isiOS();Z2([{keyCode:Qn.END,action:ls(N6,e,!0)},{keyCode:Qn.HOME,action:ls(N6,e,!1)},...i?[]:[{keyCode:Qn.HOME,action:ls(zD,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Qn.END,action:ls(zD,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Qn.END,action:ls(bb,e,!0)},{keyCode:Qn.HOME,action:ls(bb,e,!1)},{keyCode:Qn.END,action:ls(rS,e,!0,n)},{keyCode:Qn.HOME,action:ls(rS,e,!1,n)}],o).each(c=>{o.preventDefault()})},hJ=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||fJ(e,n,o)})},mJ=e=>{e.on("input",n=>{n.isComposing||AF(e)})},pJ=Wc(),y7=(e,n,o)=>{Z2([{keyCode:Qn.PAGE_UP,action:ls(rS,e,!1,n)},{keyCode:Qn.PAGE_DOWN,action:ls(rS,e,!0,n)}],o)},s_=e=>e.stopImmediatePropagation(),CL=e=>e.keyCode===Qn.PAGE_UP||e.keyCode===Qn.PAGE_DOWN,SL=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",s_,!0):!o&&e.get()&&n.off("NodeChange",s_),e.set(o)},gJ=(e,n)=>{if(pJ.os.isMacOS())return;const o=io(!1);e.on("keydown",i=>{CL(i)&&SL(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||y7(e,n,i),CL(i)&&o.get()&&(SL(o,e,!1),e.nodeChanged())})},w7=(e,n)=>e===n||e.contains(n),gA=(e,n)=>!w7(e.getBody(),n.startContainer)||!w7(e.getBody(),n.endContainer)?!0:tF(e.dom,n),vJ=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Ws(n.getTargetRanges(),o=>!gA(e,o)))&&n.preventDefault()})},xL=(e,n)=>{const o=n.container(),i=n.offset();return pn(o)?(o.insertData(i,e),le.some(It(o,i+e.length))):r1(n).map(c=>{const p=Ve.fromText(e);return n.isAtEnd()?xu(c,p):Va(c,p),It(p.dom,e.length)})},C7=qt(xL,as),_L=qt(xL," "),bJ=(e,n,o)=>TF(e,n,o)?C7(n):_L(n),yJ=e=>n=>n.fold(o=>_c(e.dom,It.before(o)),o=>Tc(o),o=>Sd(o),o=>td(e.dom,It.after(o))),wJ=(e,n,o)=>i=>TF(e,i,o)?C7(n):_L(n),S7=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},CJ=(e,n)=>e.isEditable(e.getParent(n,"summary")),hS=e=>{const n=It.fromRangeStart(e.selection.getRng()),o=Ve.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=qt(f1,e),c=It.fromRangeStart(e.selection.getRng());return Up(i,e.getBody(),c).bind(yJ(o)).map(p=>()=>wJ(o,n,e.schema)(p).each(S7(e)))}else return le.none()},SJ=e=>{const n=()=>{const o=Ve.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=It.fromRangeStart(e.selection.getRng());bJ(o,i,e.schema).each(S7(e))};return fa(Xs.browser.isFirefox()&&e.selection.isEditable()&&CJ(e.dom,e.selection.getRng().startContainer),n)},xJ=(e,n)=>{$6([{keyCode:Qn.SPACEBAR,action:ls(hS,e)},{keyCode:Qn.SPACEBAR,action:ls(SJ,e)}],n).each(o=>{n.preventDefault(),oA(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),t_(e,"insertText",{data:" "}))})},x7=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||xJ(e,n)})},_J=e=>bM(e)?[{keyCode:Qn.TAB,action:ls(ih,e,!0)},{keyCode:Qn.TAB,shiftKey:!0,action:ls(ih,e,!1)}]:[],TJ=(e,n)=>{Z2([..._J(e)],n).each(o=>{n.preventDefault()})},EJ=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||TJ(e,n)})},_7=e=>{if(e.addShortcut("Meta+P","","mcePrint"),EX(e),Gh(e))return io(null);{const n=WG(e);return vJ(e),yK(e),b8(e,n),FX(e,n),dJ(e),x7(e),mJ(e),EJ(e),hJ(e,n),gJ(e,n),n}},kJ=(e,n)=>{const o=Qm(e);o===null||SR(e,o)||e.undoManager.transact(()=>{dt(n.styles)&&e.dom.setStyles(o,n.styles),dt(n.attrs)&&Mo(n.attrs,(i,c)=>e.dom.setAttrib(o,c,i))})},TL=(e,n)=>()=>{const o=Qm(e);return et(o)&&o.nodeName===n},kse=e=>{e.addCommand("InsertUnorderedList",(n,o)=>{OR(e,"UL",o)}),e.addCommand("InsertOrderedList",(n,o)=>{OR(e,"OL",o)}),e.addCommand("InsertDefinitionList",(n,o)=>{OR(e,"DL",o)}),e.addCommand("RemoveList",()=>{CD(e)}),e.addCommand("mceListUpdate",(n,o)=>{dt(o)&&kJ(e,o)}),e.addCommand("mceListBackspaceDelete",(n,o)=>{LR(e,o)}),e.addQueryStateHandler("InsertUnorderedList",TL(e,"UL")),e.addQueryStateHandler("InsertOrderedList",TL(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",TL(e,"DL"))},vA=e=>{e.on("keydown",n=>{n.keyCode===Qn.BACKSPACE?LR(e,!1)&&n.preventDefault():n.keyCode===Qn.DELETE&&LR(e,!0)&&n.preventDefault()})},T7=e=>e.type===3,E7=e=>e.length===0,DJ=e=>{const n=(c,p)=>{const y=Pu.create("li");vt(c,E=>y.append(E)),p?e.insert(y,p,!0):e.append(y)},o=(c,p)=>T7(p)?[...c,p]:!E7(c)&&!T7(p)?(n(c,p),[]):c,i=ir(e.children(),o,[]);E7(i)||n(i)},AJ=e=>{e.on("PreInit",()=>{const{parser:n}=e;n.addNodeFilter("ul,ol",o=>vt(o,DJ))})},OJ=e=>{e.on("keydown",n=>{n.keyCode!==Qn.TAB||Qn.metaKeyPressed(n)||e.undoManager.transact(()=>{(n.shiftKey?ER(e):uH(e))&&n.preventDefault()})})},MJ=e=>{SM(e)&&OJ(e)},NJ=e=>{vA(e),kse(e),AJ(e),MJ(e)};class RJ{editor;lastPath=[];constructor(n){this.editor=n;let o;const i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const p=n.selection.getRng(),y={startContainer:p.startContainer,startOffset:p.startOffset,endContainer:p.endContainer,endOffset:p.endOffset};(c.type==="nodechange"||!QM(y,o))&&n.dispatch("SelectionChange"),o=y}),n.on("contextmenu",()=>{$E(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&EC(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&EC(n)&&(n.selection.getNode().nodeName==="IMG"?Qf.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,i=o.selection;let c;if(o.initialized&&i&&!UT(o)&&!H0(o)){const p=o.getBody();c=i.getStart(!0)||p,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,p))&&(c=p);const y=[];o.dom.getParent(c,E=>E===p?!0:(y.push(E),!1)),o.dispatch("NodeChange",{...n,element:c,parents:y})}}isSameElementPath(n){let o;const i=this.editor,c=ot(i.dom.getParents(n,yt,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const k7="x-tinymce/html",bA=xt(k7),EL="<!-- "+k7+" -->",LJ=e=>EL+e,PJ=e=>e.replace(EL,""),Ei=e=>e.indexOf(EL)!==-1,IJ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),D7=(e,n)=>{let o="<"+e;const i=ba(n,(c,p)=>p+'="'+Mh.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},FJ=(e,n,o)=>{const i=e.split(/\n\n/),c=D7(n,o),p="</"+n+">",y=In(i,A=>A.split(/\n/).join("<br />")),E=A=>c+A+p;return y.length===1?y[0]:In(y,E).join("")},yA="%MCEPASTEBIN%",A7=(e,n)=>{const{dom:o,selection:i}=e,c=e.getBody();n.set(i.getRng());const p=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},yA);Xs.browser.isFirefox()&&o.setStyle(p,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(p,"beforedeactivate focusin focusout",y=>{y.stopPropagation()}),p.focus(),i.select(p,!0)},BJ=(e,n)=>{const o=e.dom;if(kL(e)){let i;const c=n.get();for(;i=kL(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}n.set(null)},kL=e=>e.dom.get("mcepastebin"),$J=e=>et(e)&&e.id==="mcepastebin",O7=e=>{const n=e.dom,o=(y,E)=>{y.appendChild(E),n.remove(E,!0)},[i,...c]=At(e.getBody().childNodes,$J);vt(c,y=>{o(i,y)});const p=n.select("div[id=mcepastebin]",i);for(let y=p.length-1;y>=0;y--){const E=n.create("div");i.insertBefore(E,p[y]),o(E,p[y])}return i?i.innerHTML:""},r_=e=>e===yA,HJ=e=>{const n=io(null);return{create:()=>A7(e,n),remove:()=>BJ(e,n),getEl:()=>kL(e),getHtml:()=>O7(e),getLastRng:n.get}},M7=(e,n)=>(gn.each(n,o=>{Je(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),DL=e=>{const n=Uf(),o=cy({},n);let i="";const c=n.getVoidElements(),p=gn.makeMap("script noscript style textarea video audio iframe object"," "),y=n.getBlockElements(),E=A=>{const R=A.name,q=A;if(R==="br"){i+=`
`;return}if(R!=="wbr"){if(c[R]&&(i+=" "),p[R]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in n.getVoidElements())){let Q=A.firstChild;if(Q)do E(Q);while(Q=Q.next)}y[R]&&q.next&&(i+=`
`,R==="p"&&(i+=`
`))}};return e=M7(e,[/<!\[[^\]]+\]>/g]),E(o.parse(e)),i},N7=e=>(e=M7(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":as],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),zJ=e=>{let n=0;return()=>e+n++},VJ=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return gn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},UJ=(e,n)=>{const o=cy({sanitize:Ox(e),sandbox_iframes:cC(e),sandbox_iframes_exclusions:B0(e),convert_unsafe_embeds:Nx(e)},e.schema);o.addNodeFilter("meta",c=>{gn.each(c,p=>{p.remove()})});const i=o.parse(n,{forced_root_block:!1,isRootContent:!0});return oy({validate:!0},e.schema).serialize(i)},AL=(e,n)=>({content:e,cancelled:n}),WJ=(e,n,o)=>{const i=e.dom.create("div",{style:"display:none"},n),c=nM(e,i,o);return AL(c.node.innerHTML,c.isDefaultPrevented())},jJ=(e,n,o)=>{const i=wI(e,n,o),c=UJ(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?WJ(e,c,o):AL(c,i.isDefaultPrevented())},R7=(e,n,o)=>jJ(e,n,o),OL=(e,n)=>(e.insertContent(n,{merge:hM(e),paste:!0}),!0),ML=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),ZJ=(e,n)=>ML(n)&&Ws(tE(e),o=>ie(n.toLowerCase(),`.${o.toLowerCase()}`)),NL=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),qJ=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),L7=(e,n,o)=>!e.selection.isCollapsed()&&ML(n)?qJ(e,n,o):!1,YJ=(e,n,o)=>ZJ(e,n)?NL(e,n,o):!1,RL=(e,n)=>{gn.each([L7,YJ,OL],o=>!o(e,n,OL))},GJ=(e,n,o)=>{o||!XT(e)?OL(e,n):RL(e,n)},P7=zJ("mceclip"),KJ=e=>{const n=F3();return qD(n,e),P3(n),n},I7=(e,n,o,i,c)=>{const p=R7(e,n,o);if(!p.cancelled){const y=p.content,E=()=>GJ(e,y,i);c?oA(e,"insertFromPaste",{dataTransfer:KJ(y)}).isDefaultPrevented()||(E(),t_(e,"insertFromPaste")):E()}},wA=(e,n,o,i)=>{const c=o||Ei(n);I7(e,PJ(n),c,!1,i)},LL=(e,n,o)=>{const i=e.dom.encode(n).replace(/\r\n/g,`
`),c=K1(i,kx(e)),p=FJ(c,$c(e),e1(e));I7(e,p,!1,!0,o)},PL=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{n[i]=e.getData(i)}catch{n[i]=""}}return n},P1=(e,n)=>n in e&&e[n].length>0,IL=e=>P1(e,"text/html")||P1(e,"text/plain"),CA=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return et(o)?e.dom.encode(o[1]):void 0},FL=(e,n,o,i)=>{const c=P7(),p=Or(e)&&et(o.name),y=p?CA(e,o.name):c,E=p?o.name:void 0,A=n.create(c,o,i,y,E);return n.add(A),A},BL=(e,n)=>{xk(n.uri).each(({data:o,type:i,base64Encoded:c})=>{const p=c?o:btoa(o),y=n.file,E=e.editorUpload.blobCache,R=E.getByData(p,i)??FL(e,E,y,p);wA(e,`<img src="${R.blobUri()}">`,!1,!0)})},XJ=e=>e.type==="paste",JJ=e=>Promise.all(In(e,n=>VB(n).then(o=>({file:n,uri:o})))),mS=e=>{const n=tE(e);return o=>Po(o.type,"image/")&&Ws(n,i=>VJ(i)===o.type)},QJ=(e,n)=>{const o=n.items?_e(zs(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=n.files?zs(n.files):[];return At(o.length>0?o:i,mS(e))},zy=(e,n,o)=>{const i=XJ(n)?n.clipboardData:n.dataTransfer;if(qv(e)&&i){const c=QJ(e,i);if(c.length>0)return n.preventDefault(),JJ(c).then(p=>{o&&e.selection.setRng(o),vt(p,y=>{BL(e,y)})}),!0}return!1},i_=e=>Xs.os.isAndroid()&&e.clipboardData?.items?.length===0,eQ=e=>Qn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,$L=(e,n,o,i,c)=>{let p=N7(o);const y=P1(n,bA())||Ei(o),E=!y&&IJ(p),A=ML(p);(r_(p)||!p.length||E&&!A)&&(i=!0),(i||A)&&(P1(n,"text/plain")&&E?p=n["text/plain"]:p=DL(p)),!r_(p)&&(i?LL(e,p,c):wA(e,p,y,c))},pS=(e,n,o)=>{let i;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",p=>{eQ(p)&&!p.isDefaultPrevented()&&(i=p.shiftKey&&p.keyCode===86)}),e.on("paste",p=>{if(p.isDefaultPrevented()||i_(p))return;const y=o.get()==="text"||i;i=!1;const E=PL(p.clipboardData);!IL(E)&&zy(e,p,c())||(P1(E,"text/html")?(p.preventDefault(),$L(e,E,E["text/html"],y,!0)):P1(E,"text/plain")&&P1(E,"text/uri-list")?(p.preventDefault(),$L(e,E,E["text/plain"],y,!0)):(n.create(),Qf.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),$L(e,E,A,y,!1)},0)))})},tQ=e=>{const n=c=>Po(c,"webkit-fake-url"),o=c=>Po(c,"data:"),i=c=>c.data?.paste===!0;e.parser.addNodeFilter("img",(c,p,y)=>{if(!qv(e)&&i(y))for(const E of c){const A=E.attr("src");xe(A)&&!E.attr("data-mce-object")&&A!==Xs.transparentSrc&&(n(A)||!lC(e)&&o(A))&&E.remove()}})},HL=(e,n,o)=>{pS(e,n,o),tQ(e)},nQ=(e,n)=>{n.get()==="text"?(n.set("html"),MT(e,!1)):(n.set("text"),MT(e,!0)),e.focus()},F7=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{nQ(e,n)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&wA(e,i.html,i.internal,!1),i.text&&LL(e,i.text,!1)})},B7=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(bA(),n),!0}catch{return!1}else return!1},SA=(e,n,o,i)=>{B7(e.clipboardData,n.html,n.text)?(e.preventDefault(),i()):o(n.html,i)},zL=e=>(n,o)=>{const{dom:i,selection:c}=e,p=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),y=i.create("div",{contenteditable:"true"},n);i.setStyles(p,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),p.appendChild(y),i.add(e.getBody(),p);const E=c.getRng();y.focus();const A=i.createRng();A.selectNodeContents(y),c.setRng(A),Qf.setEditorTimeout(e,()=>{c.setRng(E),i.remove(p),o()},0)},$7=e=>({html:LJ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),oQ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),VL=e=>!e.selection.isCollapsed()||oQ(e),sQ=(e,n)=>o=>{!o.isDefaultPrevented()&&VL(e)&&e.selection.isEditable()&&SA(o,$7(e),zL(e),()=>{if(Xs.browser.isChromium()||Xs.browser.isFirefox()){const i=e.selection.getRng();Qf.setEditorTimeout(e,()=>{e.selection.setRng(i),$D(e,n)},0)}else $D(e,n)})},H7=e=>n=>{!n.isDefaultPrevented()&&VL(e)&&SA(n,$7(e),zL(e),Ze)},UL=(e,n)=>{e.on("cut",sQ(e,n)),e.on("copy",H7(e))},WL=(e,n)=>Lg.getCaretRangeFromPoint(n.clientX??0,n.clientY??0,e.getDoc()),rQ=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},z7=(e,n)=>{n&&e.selection.setRng(n),e.focus()},iQ=e=>Ws(e.files,n=>/^image\//.test(n.type)),V7=(e,n,o,i)=>{const c=e.getParent(o,y=>be(n,y));if(!P(e.getParent(o,"summary")))return!0;if(c&&qo(i,"text/html")){const y=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!P(y.querySelector(c.nodeName.toLowerCase()))}else return!1},jL=e=>{e.on("input",n=>{const o=i=>P(i.querySelector("summary"));if(n.inputType==="deleteByDrag"){const i=At(e.dom.select("details"),o);vt(i,c=>{ea(c.firstChild)&&c.firstChild.remove();const p=e.dom.create("summary");p.appendChild(qb().dom),c.prepend(p)})}})},aQ=(e,n)=>{Zv(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),qv(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&iQ(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=WL(e,o);if(ln(i))return;const c=PL(o.dataTransfer),p=P1(c,bA());if((!IL(c)||rQ(c))&&zy(e,o,i))return;const y=c[bA()],E=y||c["text/html"]||c["text/plain"],A=V7(e.dom,e.schema,i.startContainer,c),R=n.get();R&&!A||E&&(o.preventDefault(),Qf.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(y||R&&A)&&e.execCommand("Delete"),z7(e,i);const q=N7(E);c["text/html"]?wA(e,q,p,!0):LL(e,q,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{qv(e)&&!n.get()&&(o.preventDefault(),z7(e,WL(e,o))),o.type==="dragend"&&n.set(!1)}),jL(e)},U7=e=>{const n=c=>p=>{c(e,p)},o=qT(e);Fe(o)&&e.on("PastePreProcess",n(o));const i=YT(e);Fe(i)&&e.on("PastePostProcess",n(i))},W7=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},lQ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,ZL=e=>gn.trim(e).replace(lQ,Ov).toLowerCase(),cQ=(e,n,o)=>{const i=iC(e);if(o||i==="all"||!KT(e))return n;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const p=e.dom,y=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(E,A,R,q)=>{const Q=p.parseStyle(p.decode(R)),re={};for(let Be=0;Be<c.length;Be++){const De=Q[c[Be]];let He=De,ct=p.getStyle(y,c[Be],!0);/color/.test(c[Be])&&(He=ZL(He),ct=ZL(ct)),ct!==He&&(re[c[Be]]=De)}const pe=p.serializeStyle(re,"span");return pe?A+' style="'+pe+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(p,y,E,A)=>y+' style="'+E+'"'+A),n},uQ=e=>{(Xs.browser.isChromium()||Xs.browser.isSafari())&&W7(e,cQ)},xA=(e,n)=>{const o=io(!1),i=io(aC(e)?"text":"html"),c=HJ(e);uQ(e),F7(e,i),U7(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>i.get()==="text"),e.on("PreInit",()=>{UL(e,n),aQ(e,o),HL(e,c,i)})},dQ=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},fQ=e=>{e.parser.addNodeFilter("details",n=>{const o=yM(e);vt(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=wM(e);vt(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},j7=e=>{dQ(e),fQ(e)},Z7=ea,q7=pn,hQ=e=>Bi(e.dom),mQ=e=>Bl(e.dom),Y7=e=>n=>no(Ve.fromDom(e),n),pQ=(e,n,o)=>Hr(Ve.fromDom(e),i=>mQ(i)||o.isBlock(Qo(i)),Y7(n)).getOr(Ve.fromDom(n)).dom,qL=(e,n)=>Hr(Ve.fromDom(e),hQ,Y7(n)),G7=(e,n,o)=>{const i=new Ti(e,n),c=o?i.next.bind(i):i.prev.bind(i);let p=e;for(let y=o?e:c();y&&!Z7(y);y=c())aa(y)&&(p=y);return p},gQ=(e,n,o)=>{const c=It.fromRangeStart(e).getNode(),p=pQ(c,n,o),y=G7(c,p,!1),E=G7(c,p,!0),A=document.createRange();return qL(y,p).fold(()=>{q7(y)?A.setStart(y,0):A.setStartBefore(y)},R=>A.setStartBefore(R.dom)),qL(E,p).fold(()=>{q7(E)?A.setEnd(E,E.data.length):A.setEndAfter(E)},R=>A.setEndAfter(R.dom)),A},vQ=e=>{const n=gQ(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Sk(n))},bQ=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),vQ(e))})};var gS;(function(e){e.Before="before",e.After="after"})(gS||(gS={}));const yQ=(e,n)=>Math.abs(e.left-n),wQ=(e,n)=>Math.abs(e.right-n),CQ=(e,n)=>e>=n.top&&e<=n.bottom,K7=(e,n)=>e.top<n.bottom&&e.bottom>n.top,X7=(e,n)=>{const o=tx(e,n)/Math.min(e.height,n.height);return K7(e,n)&&o>.5},SQ=(e,n)=>{const o=At(e,i=>CQ(n,i));return ex(o).fold(()=>[[],e],i=>{const{pass:c,fail:p}=Ns(e,y=>X7(y,i));return[c,p]})},xQ=(e,n)=>({node:e.node,position:yQ(e,n)<wQ(e,n)?gS.Before:gS.After}),_Q=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Vy=(e,n,o,i)=>{const c=Q=>aa(Q.node)?le.some(Q):yo(Q.node)?Vy(zs(Q.node.childNodes),n,o,!1):le.none(),p=(Q,re,pe)=>c(re).filter(Be=>Math.abs(pe(Q,n,o)-pe(Be,n,o))<2&&pn(Be.node)),y=(Q,re)=>{const pe=ro(Q,(Be,De)=>re(Be,n,o)-re(De,n,o));return Co(pe,c).map(Be=>i&&!pn(Be.node)&&pe.length>1?p(Be,pe[1],re).getOr(Be):Be)},[E,A]=SQ(YH(e),o),{pass:R,fail:q}=Ns(A,Q=>Q.top<o);return y(E,_Q).orThunk(()=>y(q,p0)).orThunk(()=>y(R,p0))},TQ=(e,n,o,i)=>{const c=(p,y)=>{const E=R=>yo(R)&&R.classList.contains("mce-drag-container"),A=At(p.dom.childNodes,us(E));return y.fold(()=>Vy(A,o,i,!0),R=>{const q=At(A,Q=>Q!==R.dom);return Vy(q,o,i,!0)}).orThunk(()=>(no(p,e)?le.none():Kc(p)).bind(q=>c(q,le.some(p))))};return c(n,le.none())},EQ=(e,n,o)=>{const i=Ve.fromDom(e),c=Gc(i),y=Ve.fromPoint(c,n,o).filter(E=>Fr(i,E)).getOr(i);return TQ(i,y,n,o)},YL=(e,n,o)=>EQ(e,n,o).filter(i=>z0(i.node)).map(i=>xQ(i,n)),J7=e=>{const n=e.getBoundingClientRect(),o=e.ownerDocument,i=o.documentElement,c=o.defaultView;return{top:n.top+(c?.scrollY??0)-i.clientTop,left:n.left+(c?.scrollX??0)-i.clientLeft}},kQ=e=>e.inline?J7(e.getBody()):{left:0,top:0},DQ=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},AQ=e=>{const n=e.getBody(),o=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?i:c},OQ=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=J7(e.getContentAreaContainer()),i=AQ(e);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}},_A=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Q7=(e,n)=>_A(kQ(e),DQ(e),OQ(e,n)),GL=e=>({target:e,srcElement:e}),MQ=(e,n,o,i)=>({...n,dataTransfer:i,type:e,...GL(o)}),NQ=(e,n,o)=>{const i=Er("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:Ze,stopImmediatePropagation:Ze,stopPropagation:Ze,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...GL(n)}},RQ=(e,n)=>{const o=WK(e);return n==="dragstart"?(N3(o),J6(o)):n==="drop"?($K(o),P3(o)):(G6(o),VK(o)),o},Dse=(e,n,o,i)=>{const c=RQ(o,e);return Ln(i)?NQ(e,n,c):MQ(e,i,n,c)},TA=32,LQ=100,vS=8,Uy=16,ez=Bi,PQ=kg(ez,Bl),IQ=(e,n,o)=>ez(o)&&o!==n&&e.isEditable(o.parentElement),tz=(e,n,o)=>ln(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),FQ=(e,n,o,i)=>{const c=e.dom,p=n.cloneNode(!0);c.setStyles(p,{width:o,height:i}),c.setAttrib(p,"data-mce-selected",null);const y=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(y,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(p,{margin:0,boxSizing:"border-box"}),y.appendChild(p),y},KL=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},a_=(e,n)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+n,behavior:"smooth"})},nz=a_("left",-TA),oz=a_("left",TA),XL=a_("top",-TA),sz=a_("top",TA),Ase=(e,n,o,i,c,p,y,E,A,R,q,Q)=>{let re=0,pe=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(re=n.pageX+o-c),n.pageY+i>p&&(pe=n.pageY+i-p),e.style.width=o-re+"px",e.style.height=i-pe+"px";const Be=A.clientHeight,De=A.clientWidth,He=y+A.getBoundingClientRect().top,ct=E+A.getBoundingClientRect().left;q.on(mt=>{mt.intervalId.clear(),mt.dragging&&Q&&(y+vS>=Be?mt.intervalId.set(sz(R)):y-vS<=0?mt.intervalId.set(XL(R)):E+vS>=De?mt.intervalId.set(oz(R)):E-vS<=0?mt.intervalId.set(nz(R)):He+Uy>=window.innerHeight?mt.intervalId.set(sz(window)):He-Uy<=0?mt.intervalId.set(XL(window)):ct+Uy>=window.innerWidth?mt.intervalId.set(oz(window)):ct-Uy<=0&&mt.intervalId.set(nz(window)))})},rz=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},BQ=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);rz(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Nm(Ve.fromDom(o))},$Q=e=>e.button===0,iz=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),JL=(e,n)=>o=>{if($Q(o)){const i=Vn(n.dom.getParents(o.target),PQ).getOr(null);if(et(i)&&IQ(n.dom,n.getBody(),i)){const c=n.dom.getPos(i),p=n.getBody(),y=n.getDoc().documentElement;e.set({element:i,dataTransfer:F3(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?p.scrollWidth:y.offsetWidth)-2,maxY:(n.inline?p.scrollHeight:y.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:FQ(n,i,i.offsetWidth,i.offsetHeight),intervalId:au(LQ)})}}},EA=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),YL(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===gS.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},bS=(e,n,o,i,c)=>{n==="dragstart"&&qD(i,e.dom.getOuterHTML(o));const p=Dse(n,o,i,c);return e.dispatch(n,p)},HQ=(e,n)=>{const o=Ft((c,p)=>EA(n,c,p),0);n.on("remove",o.cancel);const i=e;return c=>e.on(p=>{const y=Math.max(Math.abs(c.screenX-p.screenX),Math.abs(c.screenY-p.screenY));if(!p.dragging&&y>10){const E=bS(n,"dragstart",p.element,p.dataTransfer,c);if(et(E.dataTransfer)&&(p.dataTransfer=E.dataTransfer),E.isDefaultPrevented())return;p.dragging=!0,n.focus()}if(p.dragging){const E=c.currentTarget===n.getDoc().documentElement,A=iz(p,Q7(n,c));KL(p.ghost,n.getBody()),Ase(p.ghost,A,p.width,p.height,p.maxX,p.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),i,E),o.throttle(c.clientX,c.clientY)}})},zQ=e=>{const n=e.getSel();if(et(n)){const i=n.getRangeAt(0).startContainer;return pn(i)?i.parentNode:i}else return null},VQ=(e,n)=>o=>{e.on(i=>{if(i.intervalId.clear(),i.dragging){if(tz(n,zQ(n.selection),i.element)){const c=n.getDoc().elementFromPoint(o.clientX,o.clientY)??n.getBody();bS(n,"drop",c,i.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{BQ(n.dom,i.element),B3(i.dataTransfer).each(y=>n.insertContent(y)),n._selectionOverrides.hideFakeCaret()})}bS(n,"dragend",n.getBody(),i.dataTransfer,o)}}),cz(e)},az=(e,n,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>bS(n,"dragend",i.element,i.dataTransfer),c=>bS(n,"dragend",i.element,i.dataTransfer,c))}),cz(e)},lz=(e,n)=>o=>az(e,n,le.some(o)),cz=e=>{e.on(n=>{n.intervalId.clear(),rz(n.ghost)}),e.clear()},uz=e=>{const n=Da(),o=li.DOM,i=document,c=JL(n,e),p=HQ(n,e),y=VQ(n,e),E=lz(n,e);e.on("mousedown",c),e.on("mousemove",p),e.on("mouseup",y),o.bind(i,"mousemove",p),o.bind(i,"mouseup",E),e.on("remove",()=>{o.unbind(i,"mousemove",p),o.unbind(i,"mouseup",E)}),e.on("keydown",A=>{A.keyCode===Qn.ESC&&az(n,e,le.none())})},UQ=e=>{const n=c=>{if(!c.isDefaultPrevented()){const p=c.dataTransfer;p&&(fo(p.types,"Files")||p.files.length>0)&&(c.preventDefault(),c.type==="drop"&&_1(e,"Dropped file type is not supported"))}},o=c=>{zE(e,c.target)&&n(c)},i=()=>{const c=li.DOM,p=e.dom,y=document,E=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];vt(A,R=>{c.bind(y,R,o),p.bind(E,R,n)}),e.on("remove",()=>{vt(A,R=>{c.unbind(y,R,o),p.unbind(E,R,n)})})};e.on("init",()=>{Qf.setEditorTimeout(e,i,0)})},WQ=e=>{uz(e),P0(e)&&UQ(e)},QL=e=>{const n=Ft(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=VR(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},dz=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Oi(o)){const i=m1(e.getBody(),o),c=Bi(i)?i:o;e.selection.getNode()!==c&&P2(e,c).each(p=>e.selection.setRng(p))}})})},kA=Bi,fz=(e,n)=>m1(e.getBody(),n),hz=e=>{const n=e.selection,o=e.dom,i=e.getBody(),c=Rx(e,i,o.isBlock,()=>eh(e)),p="sel-"+o.uniqueId(),y="data-mce-selected";let E;const A=Sn=>et(Sn)&&o.hasClass(Sn,"mce-offscreen-selection"),R=Sn=>Sn!==i&&(kA(Sn)||Oi(Sn))&&o.isChildOf(Sn,i)&&o.isEditable(Sn.parentNode),q=Sn=>{Sn&&n.setRng(Sn)},Q=(Sn,Gt,jt,cn=!0)=>e.dispatch("ShowCaret",{target:Gt,direction:Sn,before:jt}).isDefaultPrevented()?null:(cn&&n.scrollIntoView(Gt,Sn===-1),c.show(jt,Gt)),re=Sn=>{Sn.hasAttribute("data-mce-caret")&&(Wd(Sn),n.scrollIntoView(Sn))},pe=()=>{e.on("click",Gt=>{o.isEditable(Gt.target)||(Gt.preventDefault(),e.focus())}),e.on("blur NewBlock",Zt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Gt=>{const jt=Gt.target,cn=fz(e,jt);kA(cn)?(Gt.preventDefault(),P2(e,cn).each(gt)):R(jt)&&P2(e,jt).each(gt)},!0),e.on("mousedown",Gt=>{const jt=Gt.target;if(jt!==i&&jt.nodeName!=="HTML"&&!o.isChildOf(jt,i)||!x2(e,Gt.clientX,Gt.clientY))return;Zt(),Zn();const cn=fz(e,jt);kA(cn)?(Gt.preventDefault(),P2(e,cn).each(gt)):YL(i,Gt.clientX,Gt.clientY).each(uo=>{Gt.preventDefault();const ts=Q(1,uo.node,uo.position===gS.Before,!1);q(ts),Fi(cn)?cn.focus():e.getBody().focus()})}),e.on("keypress",Gt=>{Qn.modifierPressed(Gt)||kA(n.getNode())&&Gt.preventDefault()}),e.on("GetSelectionRange",Gt=>{let jt=Gt.range;if(E){if(!E.parentNode){E=null;return}jt=jt.cloneRange(),jt.selectNode(E),Gt.range=jt}}),e.on("focusin",Gt=>{if(!Oi(Gt.target)&&e.getBody().contains(Gt.target)&&Gt.target!==e.getBody()&&!e.dom.isEditable(Gt.target.parentNode)){c.isShowing()&&c.hide(),Gt.target.contains(e.selection.getNode())||(e.selection.select(Gt.target,!0),e.selection.collapse(!0));const jt=gt(e.selection.getRng(),!0);jt&&e.selection.setRng(jt)}}),e.on("SetSelectionRange",Gt=>{Gt.range=He(Gt.range);const jt=gt(Gt.range,Gt.forward);jt&&(Gt.range=jt)});const Sn=Gt=>yo(Gt)&&Gt.id==="mcepastebin";e.on("AfterSetSelectionRange",Gt=>{const jt=Gt.range,cn=jt.startContainer.parentElement;!De(jt)&&!Sn(cn)&&Zn(),A(cn)||Zt()}),WQ(e),QL(e),dz(e)},Be=Sn=>mu(Sn)||Rm(Sn)||_g(Sn),De=Sn=>Be(Sn.startContainer)||Be(Sn.endContainer),He=Sn=>{const Gt=e.schema.getVoidElements(),jt=o.createRng(),cn=Sn.startContainer,uo=Sn.startOffset,ts=Sn.endContainer,Hs=Sn.endOffset;return qo(Gt,cn.nodeName.toLowerCase())?uo===0?jt.setStartBefore(cn):jt.setStartAfter(cn):jt.setStart(cn,uo),qo(Gt,ts.nodeName.toLowerCase())?Hs===0?jt.setEndBefore(ts):jt.setEndAfter(ts):jt.setEnd(ts,Hs),jt},ct=(Sn,Gt)=>{const jt=Ve.fromDom(e.getBody()),cn=e.getDoc(),uo=fd(jt,"#"+p).getOrThunk(()=>{const mr=Ve.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',cn);return xr(mr,"id",p),Sr(jt,mr),mr}),ts=o.createRng();du(uo),Na(uo,[Ve.fromText(as,cn),Ve.fromDom(Gt),Ve.fromText(as,cn)]),ts.setStart(uo.dom.firstChild,1),ts.setEnd(uo.dom.lastChild,0),_r(uo,{top:o.getPos(Sn,e.getBody()).y+"px"}),dm(uo);const Hs=n.getSel();return Hs&&(Hs.removeAllRanges(),Hs.addRange(ts)),ts},mt=Sn=>{const Gt=Sn.cloneNode(!0),jt=e.dispatch("ObjectSelected",{target:Sn,targetClone:Gt});if(jt.isDefaultPrevented())return null;const cn=ct(Sn,jt.targetClone),uo=Ve.fromDom(Sn);return vt(Ht(Ve.fromDom(e.getBody()),`*[${y}]`),ts=>{no(uo,ts)||Ga(ts,y)}),o.getAttrib(Sn,y)||Sn.setAttribute(y,"1"),E=Sn,Zn(),cn},gt=(Sn,Gt)=>{if(!Sn)return null;if(Sn.collapsed){if(!De(Sn)){const ts=Gt?1:-1,Hs=Uh(ts,i,Sn),mr=Hs.getNode(!Gt);if(et(mr)){if(z0(mr))return Q(ts,mr,Gt?!Hs.isAtEnd():!1,!1);if(jr(mr)&&Bi(mr.nextSibling)){const ca=o.createRng();return ca.setStart(mr,0),ca.setEnd(mr,0),ca}}const Ki=Hs.getNode(Gt);if(et(Ki)){if(z0(Ki))return Q(ts,Ki,Gt?!1:!Hs.isAtEnd(),!1);if(jr(Ki)&&Bi(Ki.previousSibling)){const ca=o.createRng();return ca.setStart(Ki,1),ca.setEnd(Ki,1),ca}}}return null}let jt=Sn.startContainer,cn=Sn.startOffset;const uo=Sn.endOffset;if(pn(jt)&&cn===0&&kA(jt.parentNode)&&(jt=jt.parentNode,cn=o.nodeIndex(jt),jt=jt.parentNode),!yo(jt))return null;if(uo===cn+1&&jt===Sn.endContainer){const ts=jt.childNodes[cn];if(R(ts))return mt(ts)}return null},Zt=()=>{E&&E.removeAttribute(y),fd(Ve.fromDom(e.getBody()),"#"+p).each(ii),E=null},an=()=>{c.destroy(),E=null},Zn=()=>{c.hide()};return Gh(e)||pe(),{showCaret:Q,showBlockCaretContainer:re,hideFakeCaret:Zn,destroy:an}},jQ=(e,n)=>{let o=n;for(let i=e.previousSibling;pn(i);i=i.previousSibling)o+=i.data.length;return o},DA=(e,n,o,i,c)=>{if(pn(o)&&(i<0||i>o.data.length))return[];const p=c&&pn(o)?[jQ(o,i)]:[i];let y=o;for(;y!==n&&y.parentNode;)p.push(e.nodeIndex(y,c)),y=y.parentNode;return y===n?p.reverse():[]},eP=(e,n,o,i,c,p,y=!1)=>{const E=DA(e,n,o,i,y),A=DA(e,n,c,p,y);return{start:E,end:A}},mz=(e,n)=>{const o=n.slice(),i=o.pop();return En(i)?ir(o,(p,y)=>p.bind(E=>le.from(E.childNodes[y])),le.some(e)).bind(p=>pn(p)&&(i<0||i>p.data.length)?le.none():le.some({node:p,offset:i})):le.none()},pz=(e,n)=>mz(e,n.start).bind(({node:o,offset:i})=>mz(e,n.end).map(({node:c,offset:p})=>{const y=document.createRange();return y.setStart(o,i),y.setEnd(c,p),y})),gz=(e,n,o,i=!1)=>eP(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),wb=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const i=n.parentNode;e.remove(n,pn(n.firstChild)&&Dh(n.firstChild.data)),wb(e,i,o)}},l_=(e,n,o,i=!0)=>{const c=n.startContainer.parentNode,p=n.endContainer.parentNode;n.deleteContents(),i&&!o(n.startContainer)&&(pn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),pn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),wb(e,c,o),c!==p&&wb(e,p,o))},c_=(e,n)=>le.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),tP=(e,n,o)=>{const i=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Np(i).concat(e.blockPatterns),inlinePatterns:Hv(i).concat(e.inlinePatterns)}},nP=(e,n,o,i)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,i),c.toString()},oP=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),AA=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},vz=(e,n,o)=>{const i=pz(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,p=i.endContainer,y=i.endOffset===0?p:p.splitText(i.endOffset),E=i.startOffset===0?c:c.splitText(i.startOffset),A=E.parentNode,R=y.parentNode;return{prefix:n,end:R.insertBefore(oP(e,n+"-end"),y),start:A.insertBefore(oP(e,n+"-start"),E)}},bz=(e,n,o)=>{wb(e,e.get(n.prefix+"-end"),o),wb(e,e.get(n.prefix+"-start"),o)},u_=e=>e.start.length===0,ZQ=e=>(n,o)=>{const c=n.data.substring(0,o),p=c.lastIndexOf(e.charAt(e.length-1)),y=c.lastIndexOf(e);return y!==-1?y+e.length:p!==-1?p+1:-1},yz=(e,n,o,i)=>{const c=n.start;return XD(e,i.container,i.offset,ZQ(c),o).bind(y=>{const E=o.textContent?.indexOf(c)??-1;if(E!==-1&&y.offset>=E+c.length){const R=e.createRng();return R.setStart(y.container,y.offset-c.length),R.setEnd(y.container,y.offset),le.some(R)}else{const R=y.offset-c.length;return j3(y.container,R,o).map(q=>{const Q=e.createRng();return Q.setStart(q.container,q.offset),Q.setEnd(y.container,y.offset),Q}).filter(q=>q.toString()===c).orThunk(()=>yz(e,n,o,Qh(y.container,0)))}})},qQ=(e,n,o,i,c,p=!1)=>{if(n.start.length===0&&!p){const y=e.createRng();return y.setStart(o,i),y.setEnd(o,i),le.some(y)}return W3(o,i,c).bind(y=>yz(e,n,c,y).bind(A=>{if(p){if(A.endContainer===y.container&&A.endOffset===y.offset)return le.none();if(y.offset===0&&A.endContainer.textContent?.length===A.endOffset)return le.none()}return le.some(A)}))},YQ=(e,n,o,i)=>{const c=e.dom,p=c.getRoot(),y=o.pattern,E=o.position.container,A=o.position.offset;return j3(E,A-o.pattern.end.length,n).bind(R=>{const q=eP(c,p,R.container,R.offset,E,A,i);if(u_(y))return le.some({matches:[{pattern:y,startRng:q,endRng:q}],position:R});{const Q=OA(e,o.remainingPatterns,R.container,R.offset,n,i),re=Q.getOr({matches:[],position:R}),pe=re.position;return qQ(c,y,pe.container,pe.offset,n,Q.isNone()).map(De=>{const He=gz(c,p,De,i);return{matches:re.matches.concat([{pattern:y,startRng:He,endRng:q}]),position:Qh(De.startContainer,De.startOffset)}})}})},OA=(e,n,o,i,c,p)=>{const y=e.dom;return W3(o,i,y.getRoot()).bind(E=>{const A=nP(y,c,o,i);for(let R=0;R<n.length;R++){const q=n[R];if(!ie(A,q.end))continue;const Q=n.slice();Q.splice(R,1);const re=YQ(e,c,{pattern:q,remainingPatterns:Q,position:E},p);if(re.isNone()&&i>0)return OA(e,n,o,i-1,c,p);if(re.isSome())return re}return le.none()})},wz=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?vt(n.format,i=>{e.formatter.apply(i)}):e.execCommand(n.cmd,!1,n.value)},sP=(e,n,o,i)=>{const c=AA(e.dom,o);l_(e.dom,c,i),wz(e,n,c)},GQ=(e,n,o,i,c)=>{const p=e.dom,y=AA(p,i),E=AA(p,o);l_(p,E,c),l_(p,y,c);const A={prefix:o.prefix,start:o.end,end:i.start},R=AA(p,A);wz(e,n,R)},KQ=(e,n)=>{const o=er("mce_textpattern"),i=rr(n,(c,p)=>{const y=vz(e,o+`_end${c.length}`,p.endRng);return c.concat([{...p,endMarker:y}])},[]);return rr(i,(c,p)=>{const y=i.length-c.length-1,E=u_(p.pattern)?p.endMarker:vz(e,o+`_start${y}`,p.startRng);return c.concat([{...p,startMarker:E}])},[])},XQ=e=>ro(e,(n,o)=>o.end.length-n.end.length),Cz=(e,n)=>{const o=Ie(e,i=>Ws(n,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},Sz=(e,n,o,i,c,p)=>{const y=OA(e,c.inlinePatterns,o,i,n,p).fold(()=>[],A=>A.matches),E=OA(e,XQ(c.inlinePatterns),o,i,n,p).fold(()=>[],A=>A.matches);return Cz(y,E)},xz=(e,n)=>{if(n.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=KQ(o,n);vt(c,p=>{const y=o.getParent(p.startMarker.start,o.isBlock),E=A=>A===y;u_(p.pattern)?sP(e,p.pattern,p.endMarker,E):GQ(e,p.pattern,p.startMarker,p.endMarker,E),bz(o,p.endMarker,E),bz(o,p.startMarker,E)}),e.selection.moveToBookmark(i)},_z=(e,n,o)=>QK(n,0,n).map(i=>{const c=i.container;return y8(c,o.start.length,n).each(p=>{const y=e.createRng();y.setStart(c,0),y.setEnd(p.container,p.offset),l_(e,y,E=>E===n)}),c}),Tz=e=>(n,o)=>{const i=n.dom,c=o.pattern,p=pz(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),y=(E,A)=>{const R=A.get(E);return Et(R)&&yn(R).exists(q=>qo(q,"block"))};return c_(n,p).each(E=>{c.type==="block-format"?y(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,E,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,E,c),n.execCommand(c.cmd,!1,c.value)})}),!0},JQ=e=>ro(e,(n,o)=>o.start.length-n.start.length),Ez=e=>(n,o)=>{const i=JQ(n),c=o.replace(as," ");return Vn(i,p=>e(p,o,c))},kz=(e,n)=>(o,i,c,p,y=i.textContent??"")=>{const E=o.dom,A=$c(o);return E.is(i,A)?e(c.blockPatterns,y).map(R=>n&&gn.trim(y).length===R.start.length?[]:[{pattern:R,range:eP(E,E.getRoot(),i,0,i,0,p)}]).getOr([]):[]},QQ=e=>/^\s[^\s]/.test(e),tee=Tz((e,n,o)=>{_z(e,n,o).each(i=>{const c=Ve.fromDom(i),p=ic(c);QQ(p)&&ug(c,p.slice(1))})}),rP=Ez((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),nee=kz(rP,!0),oee=(e,n)=>{const o=e.selection.getRng();return c_(e,o).map(i=>{const c=Math.max(0,o.startOffset),p=tP(n,i,i.textContent??""),y=Sz(e,i,o.startContainer,c,p,!0),E=nee(e,i,p,!0);return{inlineMatches:y,blockMatches:E}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},see=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();vt(n,i=>tee(e,i)),e.selection.moveToBookmark(o)},ree=Tz(_z),iee=Ez((e,n,o)=>n===e.start||o===e.start),aee=kz(iee,!1),MA=(e,n)=>{const o=e.selection.getRng();return c_(e,o).map(i=>{const c=Math.max(0,o.startOffset),p=nP(e.dom,i,o.startContainer,c),y=tP(n,i,p);return aee(e,i,y,!1,p)}).filter(i=>i.length>0)},lee=(e,n)=>{vt(n,o=>ree(e,o))},cee=(e,n)=>oee(e,n).fold(Yt,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{aT(e),xz(e,o),see(e,i);const c=e.selection.getRng(),p=W3(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),p.each(y=>{const E=y.container;E.data.charAt(y.offset-1)===Rr&&(E.deleteData(y.offset-1,1),wb(e.dom,E.parentNode,A=>A===e.dom.getRoot()))})}),!0)),uee=(e,n)=>{const o=e.selection.getRng();c_(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),p=nP(e.dom,i,o.startContainer,c),y=tP(n,i,p),E=Sz(e,i,o.startContainer,c,y,!1);E.length>0&&e.undoManager.transact(()=>{xz(e,E)})})},dee=(e,n)=>MA(e,n).fold(Yt,o=>(e.undoManager.transact(()=>{lee(e,o)}),!0)),Dz=(e,n,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],n))return!0;return!1},fee=(e,n)=>Dz(e,n,(o,i)=>o===i.keyCode&&!Qn.modifierPressed(i)),hee=(e,n)=>Dz(e,n,(o,i)=>o.charCodeAt(0)===i.charCode),mee=e=>{const n=[",",".",";",":","!","?"],o=[32],i=()=>zv(Dx(e).filter(y=>y.type==="inline-command"||y.type==="block-command"?e.queryCommandSupported(y.cmd):!0),mM(e)),c=()=>gM(e);e.on("keydown",y=>{if(y.keyCode===13&&!Qn.modifierPressed(y)&&e.selection.isCollapsed()&&e.selection.isEditable()){const E=hx(i(),"enter");(E.inlinePatterns.length>0||E.blockPatterns.length>0||c())&&cee(e,E)&&y.preventDefault()}},!0),e.on("keydown",y=>{if(y.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const E=hx(i(),"space");(E.blockPatterns.length>0||c())&&dee(e,E)&&y.preventDefault()}},!0);const p=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const y=hx(i(),"space");(y.inlinePatterns.length>0||c())&&uee(e,y)}};e.on("keyup",y=>{fee(o,y)&&p()}),e.on("keypress",y=>{hee(n,y)&&Qf.setEditorTimeout(e,p)})},pee=e=>{mee(e)},Az=e=>{const n=gn.each,o=Qn.BACKSPACE,i=Qn.DELETE,c=e.dom,p=e.selection,y=e.parser,E=Xs.browser,A=E.isFirefox(),R=E.isChromium()||E.isSafari(),q=Xs.deviceType.isiPhone()||Xs.deviceType.isiPad(),Q=Xs.os.isMacOS()||Xs.os.isiOS(),re=(Dn,Xn)=>{try{e.getDoc().execCommand(Dn,!1,String(Xn))}catch{}},pe=Dn=>Dn.isDefaultPrevented(),Be=()=>{const Dn=ss=>{const ks=c.create("body"),ki=ss.cloneContents();return ks.appendChild(ki),p.serializer.serialize(ks,{format:"html"})},Xn=ss=>{const ks=Dn(ss),ki=c.createRng();ki.selectNode(e.getBody());const ua=Dn(ki);return ks===ua};e.on("keydown",ss=>{const ks=ss.keyCode;if(!pe(ss)&&(ks===i||ks===o)&&e.selection.isEditable()){const ki=e.selection.isCollapsed(),ua=e.getBody();if(ki&&!Au(e.schema,ua)||!ki&&!Xn(e.selection.getRng()))return;ss.preventDefault(),e.setContent(""),ua.firstChild&&c.isBlock(ua.firstChild)?e.selection.setCursorLocation(ua.firstChild,0):e.selection.setCursorLocation(ua,0),e.nodeChanged()}})},De=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},He=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Dn=>{let Xn;if(Dn.target===e.getDoc().documentElement)if(Xn=p.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),Dn.type==="mousedown"){if(mu(Xn.startContainer))return;p.placeCaretAt(Dn.clientX,Dn.clientY)}else p.setRng(Xn)})},ct=()=>{e.on("keydown",Dn=>{if(!pe(Dn)&&Dn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(p.isCollapsed()&&p.getRng().startOffset===0){const Xn=p.getNode(),ss=Xn.previousSibling;if(Xn.nodeName==="HR"){c.remove(Xn),Dn.preventDefault();return}ss&&ss.nodeName&&ss.nodeName.toLowerCase()==="hr"&&(c.remove(ss),Dn.preventDefault())}}})},mt=()=>{Range.prototype.getClientRects||e.on("mousedown",Dn=>{if(!pe(Dn)&&Dn.target.nodeName==="HTML"){const Xn=e.getBody();Xn.blur(),Qf.setEditorTimeout(e,()=>{Xn.focus()})}})},gt=()=>{const Dn=Ex(e);e.on("click",Xn=>{const ss=Xn.target;/^(IMG|HR)$/.test(ss.nodeName)&&c.isEditable(ss)&&(Xn.preventDefault(),e.selection.select(ss),e.nodeChanged()),ss.nodeName==="A"&&c.hasClass(ss,Dn)&&ss.childNodes.length===0&&c.isEditable(ss.parentNode)&&(Xn.preventDefault(),p.select(ss))})},Zt=()=>{const Dn=Xn=>Xn.nodeName==="IMG"&&e.dom.isEditable(Xn);e.on("mousedown",Xn=>{Xo(le.from(Xn.clientX),le.from(Xn.clientY),(ss,ks)=>{const ki=e.getDoc().caretPositionFromPoint(ss,ks),ua=ki?.offsetNode?.childNodes[ki.offset-(ki.offset>0?1:0)]||ki?.offsetNode;if(et(ua)&&Dn(ua)){const om=ua.getBoundingClientRect();Xn.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(ua),Xn.clientX<om.left||Xn.clientY<om.top?e.selection.collapse(!0):(Xn.clientX>om.right||Xn.clientY>om.bottom)&&e.selection.collapse(!1)}})})},an=()=>{const Dn=()=>{const ss=c.getAttribs(p.getStart().cloneNode(!1));return()=>{const ks=p.getStart();ks!==e.getBody()&&(c.setAttrib(ks,"style",null),n(ss,ki=>{ks.setAttributeNode(ki.cloneNode(!0))}))}},Xn=()=>!p.isCollapsed()&&c.getParent(p.getStart(),c.isBlock)!==c.getParent(p.getEnd(),c.isBlock);e.on("keypress",ss=>{let ks;return!pe(ss)&&(ss.keyCode===8||ss.keyCode===46)&&Xn()?(ks=Dn(),e.getDoc().execCommand("delete",!1),ks(),ss.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",ss=>{if(!pe(ss)&&Xn()){const ks=Dn();Qf.setEditorTimeout(e,()=>{ks()})}})},Zn=()=>{e.on("keydown",Dn=>{if(!pe(Dn)&&Dn.keyCode===o&&p.isCollapsed()&&p.getRng().startOffset===0){const Xn=p.getNode().previousSibling;if(Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="table")return Dn.preventDefault(),!1}return!0})},Sn=()=>{e.on("keydown",Dn=>{if(pe(Dn)||Dn.keyCode!==Qn.BACKSPACE)return;let Xn=p.getRng();const ss=Xn.startContainer,ks=Xn.startOffset,ki=c.getRoot();let ua=ss;if(!(!Xn.collapsed||ks!==0)){for(;ua.parentNode&&ua.parentNode.firstChild===ua&&ua.parentNode!==ki;)ua=ua.parentNode;ua.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ua),Xn=c.createRng(),Xn.setStart(ss,0),Xn.setEnd(ss,0),p.setRng(Xn))}})},Gt=()=>{const Dn=Qi("figcaption");e.on("keydown",Xn=>{if(Xn.keyCode===Qn.LEFT||Xn.keyCode===Qn.RIGHT){const ss=Ve.fromDom(e.selection.getNode());Dn(ss)&&e.selection.isCollapsed()&&Pl(ss).bind(ks=>e.selection.getRng().startOffset===0&&Xn.keyCode===Qn.LEFT?Su(ks):e.selection.getRng().endOffset===ss.dom.textContent?.length&&Xn.keyCode===Qn.RIGHT?rc(ks):le.none()).each(ks=>{e.selection.setCursorLocation(ks.dom,0)})}})},jt=()=>{const Dn=()=>{re("StyleWithCSS",!1),re("enableInlineTableEditing",!1),xx(e)||re("enableObjectResizing",!1)};N0(e)||e.on("BeforeExecCommand mousedown",Dn)},cn=()=>{const Dn=()=>{n(c.select("a:not([data-mce-block])"),Xn=>{let ss=Xn.parentNode;const ks=c.getRoot();if(ss?.lastChild===Xn){for(;ss&&!c.isBlock(ss);){if(ss.parentNode?.lastChild!==ss||ss===ks)return;ss=ss.parentNode}c.add(ss,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Xn=>{(Xn.type==="setcontent"||Xn.command==="mceInsertLink")&&Dn()})},uo=()=>{e.on("init",()=>{re("DefaultParagraphSeparator",$c(e))})},ts=Dn=>{const Xn=Dn.getBody(),ss=Dn.selection.getRng();return ss.startContainer===ss.endContainer&&ss.startContainer===Xn&&ss.startOffset===0&&ss.endOffset===Xn.childNodes.length},Hs=()=>{e.on("keyup focusin mouseup",Dn=>{!Qn.modifierPressed(Dn)&&!ts(e)&&p.normalize()},!0)},mr=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ki=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ca=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Dn=>{let Xn;Dn.target.nodeName==="HTML"&&(Xn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Xn),e.selection.normalize(),e.nodeChanged())}))},Ul=()=>{Q&&e.on("keydown",Dn=>{Qn.metaKeyPressed(Dn)&&!Dn.shiftKey&&(Dn.keyCode===37||Dn.keyCode===39)&&(Dn.preventDefault(),e.selection.getSel().modify("move",Dn.keyCode===37?"backward":"forward","lineboundary"))})},bc=()=>{e.on("click",Dn=>{let Xn=Dn.target;do if(Xn.tagName==="A"){Dn.preventDefault();return}while(Xn=Xn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},nm=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Dn=>{Dn.preventDefault()})})},to=()=>{y.addNodeFilter("br",Dn=>{let Xn=Dn.length;for(;Xn--;)Dn[Xn].attr("class")==="Apple-interchange-newline"&&Dn[Xn].remove()})},Vo=Ze,fi=()=>{if(!A||e.removed)return!1;const Dn=e.selection.getSel();return!Dn||!Dn.rangeCount||Dn.rangeCount===0},si=()=>{R&&(He(),gt(),nm(),De(),q&&(Ki(),ca(),bc())),A&&(mt(),jt(),mr(),Ul())},Lo=()=>{Sn(),Be(),Xs.windowsPhone||Hs(),R&&(He(),gt(),uo(),nm(),Zn(),to(),q?(Ki(),ca(),bc()):De()),A&&(Gt(),Zt(),ct(),mt(),an(),jt(),cn(),mr(),Ul(),Zn())};return Gh(e)?si():Lo(),{refreshContentEditable:Vo,isHidden:fi}};class Oz extends Error{url;constructor(n,o){super(n),this.url=o}}const NA={},gee=(e,n,o)=>new Promise((i,c)=>{const p=Ve.fromTag("script");ri(p,{type:"text/javascript",src:e,...o});const y=()=>{ii(p)};Pd(p,"load",()=>{y(),i()}),Pd(p,"error",()=>{y(),c(new Error(`Failed to load script url: ${e}`))}),Sr(uv(n),p)}),Mz=async(e,n)=>{const o=kl.ScriptLoader.getScriptAttributes(e);return await gee(e,n,o).catch(()=>Promise.reject(new Oz(`Failed to load component url: ${e}`,e))),e},Nz=e=>ba(e,(n,o)=>Ks(NA,n).getOrThunk(()=>{if(ln(window.customElements.get(o))){const i=Mz(n,mp());return NA[n]=i,i}else return Promise.resolve(n)}).catch(i=>(delete NA[n],Promise.reject(i)))),d_=(e,n)=>{const o=Ci(Xi(e));return In(o,i=>Mz(i,Ve.fromDom(n)))},vee=e=>{const n=e.schema.getComponentUrls();return e.inline?Nz(n):d_(n,e.getDoc())},Rz=async e=>{const n=vee(e),o=At(await Promise.allSettled(n),i=>i.status==="rejected");o.length>0&&vt(o,i=>{if(i.reason instanceof Oz){const{url:c}=i.reason;Aq(e,c)}})},bee=e=>{Rz(e)},iP=li.DOM,yee=(e,n)=>{const o=Ve.fromDom(e.getBody()),i=hp(xl(o)),c=Ve.fromTag("style");xr(c,"type","text/css"),Sr(c,Ve.fromText(n)),Sr(i,c),e.on("remove",()=>{ii(c)})},wee=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,RA=e=>bl(e,n=>Ln(n)===!1),Lz=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return RA({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_html_in_comments:n("allow_html_in_comments"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),extended_mathml_attributes:n("extended_mathml_attributes"),extended_mathml_elements:n("extended_mathml_elements"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:wee(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:B0(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},aP=e=>{const n=e.options.get;return RA({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},Cee=e=>{const n=e.options.get;return{...Lz(e),...aP(e),...RA({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},See=e=>{const n=cy(Lz(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,p="data-mce-"+i;let y=o.length;for(;y--;){const E=o[y];let A=E.attr(i);if(A&&!E.attr(p)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),E.name),A.length||(A=null),E.attr(p,A),E.attr(i,A)):i==="tabindex"?(E.attr(p,A),E.attr(i,null)):E.attr(p,e.convertURL(A,i,E.name))}}}),n.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],p=c.attr("type")||"no/type";p.indexOf("mce-")!==0&&c.attr("type","mce-"+p)}}),F0(e)&&n.addNodeFilter("#cdata",o=>{let i=o.length;for(;i--;){const c=o[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value??"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const p=o[i];p.isEmpty(c)&&p.getAll("br").length===0&&p.append(new Pu("br",1))}}),n},xee=e=>{const n=fM(e);n&&Qf.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},_ee=e=>{const n=e.dom.getRoot();!e.inline&&(!EC(e)||e.selection.getStart(!0)===n)&&Tc(n).each(o=>{const i=o.getNode(),c=Bf(i)?Tc(i).getOr(o):o;e.selection.setRng(c.toRange())})},Tee=e=>{e.bindPendingEventDelegates(),e.initialized=!0,QO(e),e.focus(!0),_ee(e),e.nodeChanged({initial:!0});const n=jT(e);Fe(n)&&n.call(e,e),xee(e),Hg(e)&&rR(e,!0)},lP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Eee=(e,n,o)=>{const{pass:i,fail:c}=Ns(n,E=>tinymce.Resource.has(E2(E))),y=[...i.map(E=>{const A=tinymce.Resource.get(E2(E));return xe(A)?Promise.resolve(lP(e).loadRawCss(E,A)):Promise.resolve()}),lP(e).loadAll(c)];return e.inline?y:y.concat([e.ui.styleSheetLoader.loadAll(o)])},Pz=e=>{const n=lP(e),o=IT(e),i=e.contentCSS,c=()=>{n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},p=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";gn.each(e.contentStyles,R=>{A+=R+`\r
`}),e.dom.addStyle(A)}const y=Promise.all(Eee(e,i,o)).then(p).catch(p),E=PT(e);return E&&yee(e,E),y},kee=e=>{const n=e.getDoc(),o=e.getBody();XO(e),rC(e)||(n.body.spellcheck=!1,iP.setAttrib(o,"spellcheck","false")),e.quirks=Az(e),JO(e);const i=FT(e);i!==void 0&&(o.dir=i);const c=t1(e);c&&e.on("BeforeSetContent",p=>{gn.each(c,y=>{p.content=p.content.replace(y,E=>"<!--mce:protected "+escape(E)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",p=>{e.composing=p.type==="compositionstart"})},Iz=e=>{Gh(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},f_=e=>{e.removed!==!0&&(Iz(e),Tee(e))},Fz=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},cP=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(iP.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const i=e.getBody();i.disabled=!0,e.readonly=N0(e),e._editableRoot=R0(e),!H0(e)&&e.hasEditableRoot()&&(e.inline&&iP.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=qq(e),e.schema=Uf(aP(e)),e.dom=li(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:eC(e),referrerPolicy:yx(e),crossOrigin:D0(e),onSetAttrib:y=>{e.dispatch("SetAttrib",y)}}),e.parser=See(e),e.serializer=iD(Cee(e),e),e.selection=H4(e.dom,e.getWin(),e.serializer,e),e.annotator=ZM(e),e.formatter=j5(e),e.undoManager=k2(e),e._nodeChangeDispatcher=new RJ(e),e._selectionOverrides=hz(e),NJ(e),HD(e),j7(e),gK(e),Gh(e)||(bQ(e),pee(e));const c=_7(e);C6(e,c),_6(e),pR(e),xA(e,c);const p=R4(e);kee(e),bee(e),p.fold(()=>{const y=Fz(e);Pz(e).then(()=>{f_(e),y()})},y=>{e.setProgressState(!0),Pz(e).then(()=>{y().then(E=>{e.setProgressState(!1),f_(e),I4(e)},E=>{e.notificationManager.open({type:"error",text:String(E)}),f_(e),I4(e)})})})},uP=li.DOM,Dee=(e,n,o,i)=>{const c=Ve.fromTag("iframe");return i.each(p=>xr(c,"tabindex",p)),ri(c,o),ri(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...Xs.browser.isFirefox()?{title:n}:{}}),ac(c,"tox-edit-area__iframe"),c},Aee=e=>{let n=Qb(e)+"<html><head>";E0(e)!==e.editorManager.documentBaseURL&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Pp(e),i=nu(e),c=e.translate(sC(e)),p=Xs.browser.isFirefox()?"":`aria-label="${c}"`;return Im(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Im(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" ${p}><br></body></html>`,n},Bz=(e,n)=>{const o=sC(e),i=e.translate(o),c=_u(Ve.fromDom(e.getElement()),"tabindex").bind(Yn),p=Dee(e.id,i,Qw(e),c).dom;p.onload=()=>{p.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=p,e.iframeHTML=Aee(e),uP.add(n.iframeContainer,p)},$z=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,cP(e)};if(Mx(e)||Xs.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Pd(Ve.fromDom(n),"load",()=>{i.unbind(),o()});n.srcdoc=e.iframeHTML}},Oee=(e,n)=>{Bz(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=uP.isHidden(n.editorContainer)),e.getElement().style.display="none",uP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,$z(e)},Hz=li.DOM,dP=(e,n,o)=>{const i=$g.get(o),c=$g.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=gn.trim(o),i&&gn.inArray(n,o)===-1){if(e.plugins[o])return;try{const p=i(e,c)||{};e.plugins[o]=p,Fe(p.init)&&(p.init(e,c),n.push(o))}catch(p){J4(e,o,p)}}},LA=e=>{const n=o=>{o.keyCode===Qn.ESC&&!o.defaultPrevented&&NT(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",n),e.inline||e.on("keyup",n),e.on("remove",()=>{document.removeEventListener("keyup",n),e.inline||e.off("keyup",n)})},zz=e=>e.replace(/^\-/,""),Vz=e=>{const n=[];vt(jv(e),o=>{dP(e,n,zz(o))})},Uz=e=>{const n=gn.trim(RT(e)),o=e.ui.registry.getAll().icons,i={...aD.get("default").icons,...aD.get(n).icons};Mo(i,(c,p)=>{qo(o,p)||e.ui.registry.addIcon(p,c)})},Mee=e=>{const n=vf(e);if(xe(n)){const o=hy.get(n);e.theme=o(e,hy.urls[n])||{},Fe(e.theme.init)&&e.theme.init(e,hy.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},Nee=e=>{const n=Tx(e),o=ZC.get(n);e.model=o(e,ZC.urls[n])},Ree=e=>{oR.init(e)},Lee=e=>{const n=e.theme.renderUI;return n?n():hP(e)},jg=e=>{const n=e.getElement(),i=vf(e)(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},fP=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),Pee=e=>{const n=Hz.create("div");return Hz.insertAfter(n,e),fP(n,n)},hP=e=>{const n=e.getElement();return e.inline?fP(null):Pee(n)},Iee=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,xe(vf(e))?Lee(e):Fe(vf(e))?jg(e):hP(e)},Fee=(e,n)=>{const o={show:le.from(n.show).getOr(Ze),hide:le.from(n.hide).getOr(Ze),isEnabled:le.from(n.isEnabled).getOr(yt),setEnabled:i=>{i&&(e.mode.get()==="readonly"||Hg(e))||le.from(n.setEnabled).each(p=>p(i))}};e.ui={...e.ui,...o}},mP=async e=>{e.dispatch("ScriptsLoaded"),Uz(e),LA(e),Mee(e),Nee(e),Ree(e),Vz(e);const n=await Iee(e);Fee(e,le.from(n.api).getOr({})),e.editorContainer=n.editorContainer,zq(e),e.inline?cP(e):Oee(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Zg=li.DOM,Wz=e=>e.charAt(0)==="-",Bee=(e,n)=>{const o=LT(n),i=aM(n);if(!jf.hasCode(o)&&o!=="en"){const c=Lt(i)?i:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{_2(n,c,o)})}},$ee=(e,n)=>{const o=vf(e);if(xe(o)&&!Wz(o)&&!qo(hy.urls,o)){const i=$T(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${n}.js`;hy.load(o,c).catch(()=>{_5(e,c,o)})}},jz=(e,n)=>{const o=Tx(e);if(o!=="plugin"&&!qo(ZC.urls,o)){const i=lM(e),c=xe(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${n}.js`;ZC.load(o,c).catch(()=>{K4(e,c,o)})}},Hee=(e,n)=>{oR.load(e,n)},Zz=e=>le.from(_I(e)).filter(Lt).map(n=>({url:n,name:le.none()})),qz=(e,n,o)=>le.from(n).filter(i=>Lt(i)&&!aD.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:le.some(i)})),zee=(e,n,o)=>{const i=qz(n,"default",o),c=Zz(n).orThunk(()=>qz(n,RT(n),""));vt(pi([i,c]),p=>{e.add(p.url).catch(()=>{hb(n,p.url,p.name.getOrUndefined())})})},Vee=(e,n)=>{const o=(i,c)=>{i!=="licensekeymanager"&&$g.load(i,c).catch(()=>{Dq(e,c,i)})};Mo(oC(e),(i,c)=>{o(c,i),e.options.set("plugins",jv(e).concat(c))}),vt(jv(e),i=>{i=gn.trim(i),i&&!$g.urls[i]&&!Wz(i)&&o(i,`plugins/${i}/plugin${n}.js`)})},Uee=e=>{const n=vf(e);return!xe(n)||et(hy.get(n))},Wee=e=>{const n=Tx(e);return et(ZC.get(n))},Yz=(e,n)=>{const o=kl.ScriptLoader,i=()=>{!e.removed&&Uee(e)&&Wee(e)&&mP(e)};$ee(e,n),jz(e,n),Hee(e,n),Bee(o,e),zee(o,e,n),Vee(e,n),o.loadQueue().then(i,i)},PA=(e,n)=>xs.forElement(e,{contentCssCors:L0(n),referrerPolicy:yx(n)}),pP=e=>{const n=e.id;jf.setCode(LT(e));const o=()=>{Zg.unbind(window,"ready",o),e.render()};if(!Wf.Event.domLoaded){Zg.bind(window,"ready",o);return}if(!e.getElement())return;const i=Ve.fromDom(e.getElement()),c=qs(i);e.on("remove",()=>{Un(i.dom.attributes,y=>Ga(i,y.name)),ri(i,c)}),e.ui.styleSheetLoader=PA(i,e),nC(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const p=e.getElement().form||Zg.getParent(n,"form");p&&(e.formElement=p,HT(e)&&!J1(e.getElement())&&(Zg.insertAfter(Zg.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=y=>{e.dispatch(y.type,y)},Zg.bind(p,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),dM(e)&&!p.submit.nodeType&&!p.submit.length&&!p._mceOldSubmit&&(p._mceOldSubmit=p.submit,p.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),p._mceOldSubmit(p)))),e.windowManager=Xm(e),e.notificationManager=G4(e),eE(e)&&e.on("GetContent",y=>{y.save&&(y.content=Zg.encode(y.content))}),zT(e)&&e.on("submit",()=>{e.initialized&&e.save()}),kI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Yz(e,e.suffix)},Gz=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],Kz=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],Xz=(e,n)=>{let o=5381;for(let i=0;i<e.length;i++)o=(o<<5)+o+e.charCodeAt(i);return(o>>>0)%(n+1)},jee=e=>{const n=Xz(e??"",Gz.length-1);return Gz[n]},Jz=(e,n,o)=>{const i=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${i}" cy="${i}" r="${i}" fill="${n}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${i}">`+e+"</text></svg>"},Zee=(e,n,o)=>"data:image/svg+xml,"+encodeURIComponent(Jz(e,n,o)),gP=(e,n={size:36})=>Zee(Kz(e.name),jee(e.id),n.size),qee=P8([rL("id"),z8("name"),z8("avatar"),bX("custom")]),Yee=e=>{const n={};return Mo(e,(o,i)=>{o.each(c=>{n[i]=c})}),n},Qz=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const n=In(e,c=>I8("Invalid user object",qee,c)),{errors:o,values:i}=oa(n);if(o.length>0){const c=In(o,(p,y)=>`User at index ${y}: ${F8(p)}`);console.warn(`User validation errors:
`+c.join(`
`))}return In(i,c=>{const{id:p,name:y,avatar:E,...A}=c;return{id:p,name:y.getOr(p),avatar:E.getOr(gP({id:p,name:y.getOr(p)})),...Yee(A)}})},eV=e=>{const n=new Map,o=new Map,i=R=>le.from(n.get(R)),c=(R,q)=>{n.set(q,R)},p=(R,q)=>le.from(o.get(R)).each(({reject:Q})=>{Q(q),o.delete(R)}),y=(R,q)=>le.from(o.get(R)).each(({resolve:Q})=>{Q(q),o.delete(R)}),E=R=>{const q=uC(e);if(Array.isArray(R)){if(!q)return Cn(R,re=>Promise.resolve({id:re,name:re,avatar:gP({id:re,name:re})}))}else return{};const Q=Ci(At(R,re=>!i(re).isSome()));return vt(Q,re=>{const pe=new Promise((Be,De)=>{o.set(re,{resolve:Be,reject:De})});c(pe,re)}),Q.length>0&&q(Q).then(Qz).then(re=>{const pe=new Set(In(re,Be=>Be.id));vt(re,Be=>y(Be.id,Be)),vt(Q,Be=>{pe.has(Be)||p(Be,new Error(`User ${Be} not found`))})}).catch(re=>{vt(Q,pe=>p(pe,re instanceof Error?re:new Error("Network error")))}),ir(R,(re,pe)=>(re[pe]=i(pe).getOr(Promise.resolve({id:pe,name:pe,avatar:gP({id:pe,name:pe})})),re),{})},A=CM(e);return Object.freeze({userId:A,fetchUsers:E})},tV=e=>eV(e),nV=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,Hg(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),CI(e,n))},oV=e=>e._editableRoot,sV=(e,n)=>({sections:xt(e),options:xt(n)}),IA=Wc().deviceType,vP=IA.isPhone(),rV=IA.isTablet(),yS=e=>{if(ln(e))return[];{const n=Et(e)?e:e.split(/[ ,]/),o=In(n,ke);return At(o,Lt)}},Gee=(e,n)=>{const o=Lr(n,(i,c)=>fo(e,c));return sV(o.t,o.f)},Kee=(e,n,o={})=>{const i=e.sections(),c=Ks(i,n).getOr({});return gn.extend({},o,c)},FA=(e,n)=>qo(e.sections(),n),iV=(e,n)=>FA(e,n)?e.sections()[n]:{},aV=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ks(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),lV=(e,n)=>{const o=n.external_plugins??{};return e&&e.external_plugins?gn.extend({},e.external_plugins,o):o},bP=(e,n)=>[...yS(e),...yS(n)],yP=(e,n,o,i)=>e&&FA(n,"mobile")?i:o,BA=(e,n,o,i)=>{const c=yS(o.forced_plugins),p=yS(i.plugins),y=iV(n,"mobile"),E=y.plugins?yS(y.plugins):p,A=yP(e,n,p,E),R=bP(c,A);return gn.extend(i,{forced_plugins:c,plugins:R})},cV=(e,n)=>e&&FA(n,"mobile"),uV=(e,n,o,i,c)=>{const p=e?{mobile:aV(c.mobile??{},n)}:{},y=Gee(["mobile"],vr(p,c)),E=gn.extend(o,i,y.options(),cV(e,y)?Kee(y,"mobile"):{},{external_plugins:lV(i,y.options())});return BA(e,y,i,E)},dV=(e,n)=>{const o=Ho(n);return uV(vP||rV,vP,o,e,o)},wP=(e,n)=>u5(e,n),fV=e=>{const n=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{vt("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&n("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},hV=e=>{const n=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return Ws(c,p=>et(e.formatter.matchNode(p,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Xee=e=>{fV(e),hV(e)},mV=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let i;try{o.execCommand(n)}catch{i=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(i=!0),i||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Xs.os.isMacOS()||Xs.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:c,type:"error"})}}})},Jee=(e,n,o,i)=>{const c=Ve.fromDom(e.getRoot());return Xx(c,It.fromRangeStart(n),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),NC(c,It.fromRangeEnd(n),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Qee=e=>{if(typeof e!="string"){const n=gn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},ete=(e,n)=>{const o=e.selection,i=e.dom;return/^ | $/.test(n)?Jee(i,o.getRng(),n,e.schema):n},h_=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:i}=Qee(n);Nk(e,{...i,content:ete(e,o),format:"html",set:!1,selection:!0}).each(c=>{const p=l5(e,c.content,i);Rk(e,p,c),e.addVisual()})}},tte=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,i)=>{h_(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,i)=>{h_(e,e.dom.encode(i))},insertHTML:(n,o,i)=>{h_(e,i)},mceInsertContent:(n,o,i)=>{h_(e,i)},mceSetContent:(n,o,i)=>{e.setContent(i)},mceReplaceContent:(n,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(GT(e))}})},pV={"font-size":"size","font-family":"face"},$A=Qi("font"),nte=(e,n,o)=>{const i=p=>Vi(p,e).orThunk(()=>$A(p)?Ks(pV,e).bind(y=>_u(p,y)):le.none()),c=p=>no(Ve.fromDom(n),p);return Fl(Ve.fromDom(o),p=>i(p),c)},gV=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),ote=(e,n)=>le.from(li.DOM.getStyle(n,e,!0)),CP=e=>(n,o)=>le.from(o).map(Ve.fromDom).filter(Ji).bind(i=>nte(e,n,i.dom).or(ote(e,i.dom))).getOr(""),SP=CP("font-size"),ste=U(gV,CP("font-family")),rte=e=>Tc(e.getBody()).bind(n=>{const o=n.container();return le.from(pn(o)?o.parentNode:o)}),vV=e=>le.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?le.none():le.from(e.selection.getStart(!0))}),ite=(e,n)=>vV(e).orThunk(qt(rte,e)).map(Ve.fromDom).filter(Ji).bind(n),xP=(e,n)=>ite(e,en(le.some,n)),bV=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const i=vM(e),c=Yv(e);return c.length>0?c[o-1]||n:i[o-1]||n}else return n}else return n},ate=e=>{const n=e.split(/\s*,\s*/);return In(n,o=>o.indexOf(" ")!==-1&&!(Po(o,'"')||Po(o,"'"))?`'${o}'`:o).join(",")},lte=(e,n)=>{const o=bV(e,n);e.formatter.toggle("fontname",{value:ate(o)}),e.nodeChanged()},yV=e=>xP(e,n=>ste(e.getBody(),n.dom)).getOr(""),wV=(e,n)=>{e.formatter.toggle("fontsize",{value:bV(e,n)}),e.nodeChanged()},cte=e=>xP(e,n=>SP(e.getBody(),n.dom)).getOr(""),ute=e=>xP(e,n=>{const o=Ve.fromDom(e.getBody()),i=Fl(n,p=>Vi(p,"line-height"),qt(no,o)),c=()=>{const p=parseFloat(ai(n,"line-height")),y=parseFloat(ai(n,"font-size"));return String(p/y)};return i.getOrThunk(c)}).getOr(""),dte=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},fte=e=>{const n=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,i,c)=>{n(o,{value:c})},BackColor:(o,i,c)=>{n("hilitecolor",{value:c})},FontName:(o,i,c)=>{lte(e,c)},FontSize:(o,i,c)=>{wV(e,c)},LineHeight:(o,i,c)=>{dte(e,c)},Lang:(o,i,c)=>{n(o,{value:c.code,customValue:c.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,i,c)=>{n(xe(c)?c:"p")},mceToggleFormat:(o,i,c)=>{n(c)}})},t=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>yV(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>cte(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ute(e))},s=e=>{fte(e),t(e)},l=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},f=e=>{e.editorCommands.addCommands({Indent:()=>{y6(e)},Outdent:()=>{FD(e)}}),e.editorCommands.addCommands({Outdent:()=>g6(e),Indent:()=>aK(e)},"state")},v=e=>{const n=(o,i,c)=>{if(e.mode.isReadOnly())return;const p=xe(c)?{href:c}:c,y=e.dom.getParent(e.selection.getNode(),"a");dt(p)&&xe(p.href)&&(p.href=p.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!y||!p.href)&&e.formatter.remove("link"),p.href&&e.formatter.apply("link",p,y))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},w=(e,n,o,i)=>{const c=e.dom,p=E=>c.isBlock(E)&&E.parentElement===o,y=p(n)?n:c.getParent(i,p,o);return le.from(y).map(Ve.fromDom)},_=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,i=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),p=n?i.startContainer:i.endContainer,y=dS(o,p);if(!y||!y.isContentEditable)return;const E=n?Va:xu,A=$c(e);w(e,c,y,p).each(R=>{const q=r7(e,p,R.dom,y,!1,A);E(R,Ve.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),t_(e,"insertParagraph")})},L=e=>_(e,!0),I=e=>_(e,!1),W=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{L(e)},InsertNewBlockAfter:()=>{I(e)}})},X=e=>{e.editorCommands.addCommands({insertParagraph:()=>{fS(yL,e)},mceInsertNewLine:(n,o,i)=>{pA(e,i)},InsertLineBreak:(n,o,i)=>{fS(m7,e)}})},oe=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),p=>yo(p)&&c++===i?(e.selection.select(p),!1):!0,e.getBody())},mceSelectNode:(n,o,i)=>{e.selection.select(i)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Bl);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},me=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const p=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(p)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,i)=>{a9(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Oe=e=>{Xee(e),mV(e),l(e),oe(e),tte(e),v(e),f(e),W(e),X(e),s(e),me(e)},Ne=["toggleview"],Ue=e=>fo(Ne,e.toLowerCase());class Xe{editor;commands={state:{},exec:{},value:{}};constructor(n){this.editor=n}execCommand(n,o=!1,i,c){const p=this.editor,y=n.toLowerCase(),E=c?.skip_focus;if(p.removed||(y!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(y)&&!E?p.focus():JU(p)),p.dispatch("BeforeExecCommand",{command:n,ui:o,value:i}).isDefaultPrevented()))return!1;const R=this.commands.exec[y];return Fe(R)?(R(y,o,i,c),p.dispatch("ExecCommand",{command:n,ui:o,value:i,args:c}),!0):!1}queryCommandState(n){if(!Ue(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),i=this.commands.state[o];return Fe(i)?i(o):!1}queryCommandValue(n){if(!Ue(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),i=this.commands.value[o];return Fe(i)?i(o):""}addCommands(n,o="exec"){const i=this.commands;Mo(n,(c,p)=>{vt(p.toLowerCase().split(","),y=>{i[o][y]=c})})}addCommand(n,o,i){const c=n.toLowerCase();this.commands.exec[c]=(p,y,E,A)=>o.call(i??this.editor,y,E,A)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,i){this.commands.state[n.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(n,o,i){this.commands.value[n.toLowerCase()]=()=>o.call(i??this.editor)}}const ze=gn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class it{static isNative(n){return!!ze[n.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(n){this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Yt}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const i=n.toLowerCase(),c=l0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const p=this.bindings[i];if(p)for(let y=0,E=p.length;y<E;y++){const A=p[y];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,i,c){if(o===!1&&(o=Yt),o){const p={func:o,removed:!1};c&&gn.extend(p,c);const y=n.toLowerCase().split(" ");let E=y.length;for(;E--;){const A=y[E];let R=this.bindings[A];R||(R=[],this.toggleEvent(A,!0)),i?R=[p,...R]:R=[...R,p],this.bindings[A]=R}}return this}off(n,o){if(n){const i=n.toLowerCase().split(" ");let c=i.length;for(;c--;){const p=i[c];let y=this.bindings[p];if(!p)return Mo(this.bindings,(E,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(y){if(!o)y.length=0;else{const E=Ns(y,A=>A.func===o);y=E.fail,this.bindings[p]=y,vt(E.pass,A=>{A.removed=!0})}y.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}}else Mo(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,i){return this.on(n,o,i,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const ht=e=>(e._eventDispatcher||(e._eventDispatcher=new it({scope:e,toggleEvent:(n,o)=>{it.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),Dt={fire(e,n,o){return m$("fire"),this.dispatch(e,n,o)},dispatch(e,n,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return l0(e.toLowerCase(),n??{},i);const c=ht(i).dispatch(e,n);if(o!==!1&&i.parent){let p=i.parent();for(;p&&!c.isPropagationStopped();)p.dispatch(e,c,!1),p=p.parent?p.parent():void 0}return c},on(e,n,o){return ht(this).on(e,n,o)},off(e,n){return ht(this).off(e,n)},once(e,n){return ht(this).once(e,n)},hasEventListeners(e){return ht(this).has(e)}},Rt=li.DOM;let $n;const rn=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=tC(e);return o?(e.eventRoot||(e.eventRoot=Rt.select(o)[0]),e.eventRoot):e.getBody()},bn=e=>!e.hidden&&!Hg(e),hn=(e,n,o)=>{bn(e)?e.dispatch(n,o):Hg(e)&&dse(e,o)},zo=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=rn(e,n);if(tC(e)){if($n||($n={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||$n&&(Mo($n,(c,p)=>{e.dom.unbind(rn(e,p))}),$n=null)})),$n[n])return;const i=c=>{const p=c.target,y=e.editorManager.get();let E=y.length;for(;E--;){const A=y[E].getBody();(A===p||Rt.isChildOf(p,A))&&hn(y[E],n,c)}};$n[n]=i,Rt.bind(o,n,i)}else{const i=c=>{hn(e,n,c)};Rt.bind(o,n,i),e.delegates[n]=i}},_o={...Dt,bindPendingEventDelegates(){const e=this;gn.each(e._pendingNativeEvents,n=>{zo(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?zo(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(rn(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Mo(e.delegates,(i,c)=>{e.dom.unbind(rn(e,c),c,i)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},sr=e=>xe(e)?{value:e.split(/[ ,]/),valid:!0}:wn(e,xe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Zo=e=>{const n=(()=>{switch(e){case"array":return Et;case"boolean":return mn;case"function":return Fe;case"number":return En;case"object":return dt;case"string":return xe;case"string[]":return sr;case"object[]":return o=>wn(o,dt);case"regexp":return o=>Je(o,RegExp);default:return yt}})();return o=>Bn(o,n,`The value must be a ${e}.`)},As=e=>xe(e.processor),wo=(e,n)=>{const o=fn(n.message)?"":`. ${n.message}`;return e+o},nn=e=>e.valid,Bn=(e,n,o="")=>{const i=n(e);return mn(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},es=(e,n,o)=>{if(!Ln(n)){const i=Bn(n,o);if(nn(i))return i.value;console.error(wo(`Invalid default value passed for the "${e}" option`,i))}},Os=(e,n,o=n)=>{const i={},c={},p=(pe,Be,De)=>{const He=Bn(Be,De);return nn(He)?(c[pe]=He.value,!0):(console.warn(wo(`Invalid value passed for the ${pe} option`,He)),!1)},y=(pe,Be)=>{const De=As(Be)?Zo(Be.processor):Be.processor,He=es(pe,Be.default,De);i[pe]={...Be,default:He,processor:De},Ks(c,pe).orThunk(()=>Ks(n,pe)).each(mt=>p(pe,mt,De))},E=pe=>qo(i,pe);return{register:y,isRegistered:E,get:pe=>Ks(c,pe).orThunk(()=>Ks(i,pe).map(Be=>Be.default)).getOrUndefined(),set:(pe,Be)=>{if(E(pe)){const De=i[pe];return De.immutable?(console.error(`"${pe}" is an immutable option and cannot be updated`),!1):p(pe,Be,De.processor)}else return console.warn(`"${pe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:pe=>{const Be=E(pe);return Be&&delete c[pe],Be},isSet:pe=>qo(c,pe),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(pe,Be)=>mn(Be)||En(Be)||xe(Be)||P(Be)||Et(Be)||Qt(Be)?Be:Object.prototype.toString.call(Be))))}catch(pe){console.error(pe)}}}},Ro=(e,n)=>{e.dom.contentEditable="true"},Es=(e,n)=>{const o=Ve.fromDom(e.getBody());n?(e.readonly=!0,e.hasEditableRoot()&&Ro(o),pD(e)):(e.readonly=!1,sR(e))},oi=e=>e.readonly,Xr=e=>{const n=e.undoManager.add();et(n)&&(e.undoManager.undo(),e.undoManager.reset())},id=e=>Ws(e,n=>n.type==="characterData"||n.type==="childList"),wa=e=>{const n=i=>{oi(e)&&id(i)&&Xr(e)},o=new MutationObserver(n);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",i=>{oi(e)&&i.preventDefault()}),e.on("BeforeExecCommand",i=>{(i.command==="Undo"||i.command==="Redo")&&oi(e)&&i.preventDefault()}),e.on("compositionstart",()=>{oi(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(oi(e)){const i=o.takeRecords();n(i)}o.disconnect()})},ef=["design","readonly"],Dc=(e,n,o,i)=>{const c=o[n.get()],p=o[i];try{p.activate()}catch(y){console.error(`problem while activating editor mode ${i}:`,y);return}c.deactivate(),c.editorReadOnly!==p.editorReadOnly&&Es(e,p.editorReadOnly),n.set(i),GO(e,i)},lh=(e,n,o,i)=>{if(!(i===o.get()||e.initialized&&Hg(e))){if(!qo(n,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?Dc(e,o,n,i):e.on("init",()=>Dc(e,o,n,i))}},tf=(e,n,o)=>{if(fo(ef,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${n}:`,i)}}}}},tm=e=>{const n=io("design"),o=io({design:{activate:Ze,deactivate:Ze,editorReadOnly:!1},readonly:{activate:Ze,deactivate:Ze,editorReadOnly:!0}});return wa(e),aR(e),{isReadOnly:()=>oi(e),set:i=>lh(e,o.get(),n,i),get:()=>n.get(),register:(i,c)=>{o.set(tf(o.get(),i,c))}}},qg=gn.each,rp=gn.explode,wS={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Yg=gn.makeMap("alt,ctrl,shift,meta,access"),m_=e=>e in Yg,_P=e=>{const n={},o=Xs.os.isMacOS()||Xs.os.isiOS();qg(rp(e.toLowerCase(),"+"),p=>{m_(p)?n[p]=!0:/^[0-9]{2,}$/.test(p)?n.keyCode=parseInt(p,10):(n.charCode=p.charCodeAt(0),n.keyCode=wS[p]||p.toUpperCase().charCodeAt(0))});const i=[n.keyCode];let c;for(c in Yg)n[c]?i.push(c):n[c]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class Wy{editor;shortcuts={};pendingPatterns=[];constructor(n){this.editor=n;const o=this;n.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(qg(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,i,c){const p=this,y=p.normalizeCommandFunc(i);return qg(rp(gn.trim(n)),E=>{const A=p.createShortcut(E,o,y,c);p.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,i=n;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:gn.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(n,o,i,c){const p=gn.map(rp(n,">"),_P);return p[p.length-1]=gn.extend(p[p.length-1],{func:i,scope:c||this.editor}),gn.extend(p[0],{desc:this.editor.translate(o),subpatterns:p.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const HA=()=>{const e=xX();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Gg=li.DOM,TP=gn.extend,CV=gn.each;class zA{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(n,o,i){this.editorManager=i,TP(this,_o);const c=this;this.id=n,this.editorUid=os(),this.hidden=!1;const p=dV(i.defaultOptions,o);this.options=Os(c,p,o),T0(c),this.userLookup=tV(this);const y=this.options.get;y("deprecation_warnings")&&nZ(o,p);const E=y("suffix");E&&(i.suffix=E),this.suffix=i.suffix;const A=y("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const R=yx(c);R&&(kl.ScriptLoader._setReferrerPolicy(R),li.DOM.styleSheetLoader._setReferrerPolicy(R)),kl.ScriptLoader._setCrossOrigin(pe=>D0(c)(pe,"script")),li.DOM.styleSheetLoader._setCrossOrigin(pe=>D0(c)(pe,"stylesheet"));const q=L0(c);et(q)&&li.DOM.styleSheetLoader._setContentCssCors(q),tu.languageLoad=y("language_load"),tu.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new qm(E0(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=nC(c),this.hasVisual=Ip(c),this.shortcuts=new Wy(this),this.editorCommands=new Xe(this),Oe(this);const Q=y("cache_suffix");Q&&(Xs.cacheSuffix=Q.replace(/^[\?\&]+/,"")),this.ui={registry:HA(),styleSheetLoader:void 0,show:Ze,hide:Ze,setEnabled:Ze,isEnabled:yt},this.mode=tm(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),i.dispatch("SetupEditor",{editor:this});const re=WT(c);Fe(re)&&re.call(c,c)}render(){pP(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return eh(this)}translate(n){return jf.translate(n)}getParam(n,o,i){const c=this.options;return c.isRegistered(n)||(et(i)?c.register(n,{processor:i,default:o}):c.register(n,{processor:yt,default:o})),!c.isSet(n)&&!Ln(o)?o:c.get(n)}hasPlugin(n,o){return fo(jv(this),n)?o?$g.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,i){this.editorCommands.addCommand(n,o,i)}addQueryStateHandler(n,o,i){this.editorCommands.addQueryStateHandler(n,o,i)}addQueryValueHandler(n,o,i){this.editorCommands.addQueryValueHandler(n,o,i)}addShortcut(n,o,i,c){this.shortcuts.add(n,o,i,c)}execCommand(n,o,i,c){return this.editorCommands.execCommand(n,o,i,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Gg.show(n.getContainer()),Gg.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Gg.hide(n.getContainer()),Gg.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,i=o.getElement();if(!o.removed&&i){const c={...n,load:!0},p=J1(i)?i.value:i.innerHTML;o.setContent(p,c),c.no_events||o.dispatch("LoadContent",{...c,element:i})}}save(n={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...n,save:!0,element:i};let p=o.getContent(c);const y={...c,content:p};if(y.no_events||o.dispatch("SaveContent",y),y.format==="raw"&&o.dispatch("RawSaveContent",y),p=y.content,J1(i))i.value=p;else{(n.is_removing||!o.inline)&&(i.innerHTML=p);const E=Gg.getParent(o.id,"form");E&&CV(E.elements,A=>A.name===o.id?(A.value=p,!1):!0)}return y.element=c.element=i=null,y.set_dirty!==!1&&o.setDirty(!1),p}setContent(n,o){j4(this,n,o)}getContent(n){return S1(this,n)}insertContent(n,o){o&&(n=TP({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?j4(this,this.startContent,{initial:!0,format:"raw"}):j4(this,n,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Gg.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Gg.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){const n=this.getDoc();return this.bodyElement??n?.body??null}convertURL(n,o,i){const c=this,p=c.options.get,y=ZT(c);if(Fe(y))return y.call(c,n,i,!0,o);if(!p("convert_urls")||i==="link"||dt(i)&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const E=new qm(n);return E.protocol!=="http"&&E.protocol!=="https"&&E.protocol!==""?n:p("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,p("remove_script_host")),n)}addVisual(n){wP(this,n)}setEditableRoot(n){nV(this,n)}hasEditableRoot(){return oV(this)}remove(){fy(this)}destroy(n){w5(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const I1=li.DOM,F1=gn.each;let jy=!1,Cb,kd=[];const p_=e=>{const n=e.type;F1(Zp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},EP=e=>{if(e!==jy){const n=li.DOM;e?(n.bind(window,"resize",p_),n.bind(window,"scroll",p_)):(n.unbind(window,"resize",p_),n.unbind(window,"scroll",p_)),jy=e}},VA=e=>{const n=kd;return kd=At(kd,o=>e!==o),Zp.activeEditor===e&&(Zp.activeEditor=kd.length>0?kd[0]:null),Zp.focusedEditor===e&&(Zp.focusedEditor=null),n.length!==kd.length},SV=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(VA(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},UA=document.compatMode!=="CSS1Compat",Zp={...Dt,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:os(),majorVersion:"8",minorVersion:"2.0",releaseDate:"2025-10-23",i18n:jf,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",i=qm.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const p=document.getElementsByTagName("script");for(let y=0;y<p.length;y++){const E=p[y].src||"";if(E==="")continue;const A=E.substring(E.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(E)){A.indexOf(".min")!==-1&&(o=".min"),n=E.substring(0,E.lastIndexOf("/"));break}}if(!n&&document.currentScript){const y=document.currentScript.src;y.indexOf(".min")!==-1&&(o=".min"),n=y.substring(0,y.lastIndexOf("/"))}}e.baseURL=new qm(i).toAbsolute(n),e.documentBaseURL=i,e.baseURI=new qm(e.baseURL),e.suffix=o,Voe(e),vt(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],p=>Object.defineProperty(e,p,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&Mo(i,(c,p)=>{tu.PluginManager.urls[p]=c})},init(e){const n=this;let o;const i=gn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(q,Q)=>q.inline&&Q.tagName.toLowerCase()in i,p=q=>{let Q=q.id;return Q||(Q=Ks(q,"name").filter(re=>!I1.get(re)).getOrThunk(I1.uniqueId),q.setAttribute("id",Q)),Q},y=q=>{const Q=e[q];if(Q)return Q.apply(n,[])},E=q=>Xs.browser.isIE()||Xs.browser.isEdge()?(uD("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):UA?(uD("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):xe(q.selector)?I1.select(q.selector):et(q.target)?[q.target]:[];let A=q=>{o=q};const R=()=>{let q=0;const Q=[];let re;const pe=(Be,De,He)=>{const ct=new zA(Be,De,n);Q.push(ct),ct.on("init",()=>{++q===re.length&&A(Q)}),ct.targetElm=ct.targetElm||He,ct.render()};I1.unbind(window,"ready",R),y("onpageload"),re=Ci(E(e)),gn.each(re,Be=>{SV(n.get(Be.id))}),re=gn.grep(re,Be=>!n.get(Be.id)),re.length===0?A([]):F1(re,Be=>{c(e,Be)?uD("Could not initialize inline editor on invalid inline target element",Be):pe(p(Be),e,Be)})};return I1.bind(window,"ready",R),new Promise(q=>{o?q(o):A=Q=>{q(Q)}})},get(e){return arguments.length===0?kd.slice(0):xe(e)?Vn(kd,n=>n.id===e).getOr(null):En(e)&&kd[e]?kd[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&kd.push(e),EP(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),Cb||(Cb=i=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",Cb))),e},createEditor(e,n){return this.add(new zA(e,n,this))},remove(e){const n=this;let o;if(!e){for(let i=kd.length-1;i>=0;i--)n.remove(kd[i]);return}if(xe(e)){F1(I1.select(e),i=>{o=n.get(i.id),o&&n.remove(o)});return}return o=e,P(n.get(o.id))?null:(VA(o)&&n.dispatch("RemoveEditor",{editor:o}),kd.length===0&&window.removeEventListener("beforeunload",Cb),o.remove(),EP(kd.length>0),o)},execCommand(e,n,o){const i=this,c=dt(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!i.get(c)){const p=o.options;new zA(c,p,i).render()}return!0}case"mceRemoveEditor":{const p=i.get(c);return p&&p.remove(),!0}case"mceToggleEditor":{const p=i.get(c);return p?(p.isHidden()?p.show():p.hide(),!0):(i.execCommand("mceAddEditor",!1,o),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{F1(kd,e=>{e.save()})},addI18n:(e,n)=>{jf.add(e,n)},translate:e=>jf.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new qm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new qm(this.baseURL)},_addLicenseKeyManager:e=>oR.add(e)};Zp.setup();const CS=(()=>{const e=Da(),n=p=>({items:p,types:Mn(p),getType:y=>Ks(p,y).getOrUndefined()}),o=p=>{e.set(p)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:i,clear:c}})(),WA=Math.min,$1=Math.max,jA=Math.round,g_=(e,n,o)=>{let i=n.x,c=n.y;const p=e.w,y=e.h,E=n.w,A=n.h,R=(o||"").split("");return R[0]==="b"&&(c+=A),R[1]==="r"&&(i+=E),R[0]==="c"&&(c+=jA(A/2)),R[1]==="c"&&(i+=jA(E/2)),R[3]==="b"&&(c-=y),R[4]==="r"&&(i-=p),R[3]==="c"&&(c-=jA(y/2)),R[4]==="c"&&(i-=jA(p/2)),SS(i,c,p,y)},ZA=(e,n,o,i)=>{for(let c=0;c<i.length;c++){const p=g_(e,n,i[c]);if(p.x>=o.x&&p.x+p.w<=o.w+o.x&&p.y>=o.y&&p.y+p.h<=o.h+o.y)return i[c]}return null},hte=(e,n,o)=>SS(e.x-n,e.y-o,e.w+n*2,e.h+o*2),v_=(e,n)=>{const o=$1(e.x,n.x),i=$1(e.y,n.y),c=WA(e.x+e.w,n.x+n.w),p=WA(e.y+e.h,n.y+n.h);return c-o<0||p-i<0?null:SS(o,i,c-o,p-i)},mte=(e,n,o)=>{let i=e.x,c=e.y,p=e.x+e.w,y=e.y+e.h;const E=n.x+n.w,A=n.y+n.h,R=$1(0,n.x-i),q=$1(0,n.y-c),Q=$1(0,p-E),re=$1(0,y-A);return i+=R,c+=q,o&&(p+=R,y+=q,i-=Q,c-=re),p-=Q,y-=re,SS(i,c,p-i,y-c)},SS=(e,n,o,i)=>({x:e,y:n,w:o,h:i}),xS={inflate:hte,relativePosition:g_,findBestRelativePosition:ZA,intersect:v_,clamp:mte,create:SS,fromClientRect:e=>SS(e.left,e.top,e.width,e.height)},pte=(e,n,o=1e3)=>{let i=!1,c=null;const p=R=>(...q)=>{i||(i=!0,c!==null&&(window.clearTimeout(c),c=null),R.apply(null,q))},y=p(e),E=p(n);return{start:(...R)=>{!i&&c===null&&(c=window.setTimeout(()=>E.apply(null,R),o))},resolve:y,reject:E}},kP=(()=>{const e={},n={},o={};return{load:(A,R)=>{const q=`Script at URL "${R}" failed to load`,Q=`Script at URL "${R}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const re=new Promise((pe,Be)=>{const De=pte(pe,Be);n[A]=De.resolve,kl.ScriptLoader.loadScript(R).then(()=>De.start(Q),()=>De.reject(q))});return e[A]=re,re}},add:(A,R)=>{n[A]!==void 0&&(n[A](R),delete n[A]),e[A]=Promise.resolve(R),o[A]=R},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),xV=()=>(()=>{let e={},n=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{n.push(i),e[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete e[i]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let _S;try{const e="__storage_test__";_S=window.localStorage,_S.setItem(e,e),_S.removeItem(e)}catch{_S=xV()}var vte=_S;const Kg={geom:{Rect:xS},util:{Delay:Qf,Tools:gn,VK:Qn,URI:qm,EventDispatcher:it,Observable:Dt,I18n:jf,LocalStorage:vte,ImageUploader:H5},dom:{EventUtils:Wf,TreeWalker:Ti,TextSeeker:Ph,DOMUtils:li,ScriptLoader:kl,RangeUtils:Lg,Serializer:iD,StyleSheetLoader:lo,ControlSelection:$I,BookmarkManager:Q0,Selection:H4,Event:Wf.Event},html:{Styles:Mv,Entities:Mh,Node:Pu,Schema:Uf,DomParser:cy,Writer:N9,Serializer:oy},Env:Xs,AddOnManager:tu,Annotator:ZM,Formatter:j5,UndoManager:k2,EditorCommands:Xe,WindowManager:Xm,NotificationManager:G4,EditorObservable:_o,Shortcuts:Wy,Editor:zA,FocusManager:LI,EditorManager:Zp,DOM:li.DOM,ScriptLoader:kl.ScriptLoader,PluginManager:$g,ThemeManager:hy,ModelManager:ZC,IconManager:aD,Resource:kP,FakeClipboard:CS,trim:gn.trim,isArray:gn.isArray,is:gn.is,toArray:gn.toArray,makeMap:gn.makeMap,each:gn.each,map:gn.map,grep:gn.grep,inArray:gn.inArray,extend:gn.extend,walk:gn.walk,resolve:gn.resolve,explode:gn.explode,_addCacheSuffix:gn._addCacheSuffix},Zy=gn.extend(Zp,Kg),_V=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(Zy),_V(Zy)})()})(Qte)),Qte.exports}Bye();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});var Tie={},Eie;function $ye(){return Eie||(Eie=1,(function(){const r=Object.getPrototypeOf,a=(t,s,l)=>l(t,s.prototype)?!0:t.constructor?.name===s.name,d=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&a(t,String,(l,f)=>f.isPrototypeOf(l))?"string":s},g=t=>s=>d(s)===t,C=t=>s=>typeof s===t,k=t=>s=>t===s,M=(t,s)=>Y(t)&&a(t,s,(l,f)=>r(l)===f),H=g("string"),Y=g("object"),V=t=>M(t,Object),te=g("array"),Se=k(null),ye=C("boolean"),je=k(void 0),Le=t=>t==null,Ee=t=>!Le(t),Ce=C("function"),at=C("number"),Je=(t,s)=>{if(te(t)){for(let l=0,f=t.length;l<f;++l)if(!s(t[l]))return!1;return!0}return!1},xe=()=>{},dt=t=>()=>t(),Qt=(t,s)=>(...l)=>t(s.apply(null,l)),Et=(t,s)=>l=>t(s(l)),P=t=>()=>t,mn=t=>t,Ln=(t,s)=>t===s;function ln(t,...s){return(...l)=>{const f=s.concat(l);return t.apply(null,f)}}const et=t=>s=>!t(s),Fe=t=>()=>{throw new Error(t)},En=t=>t(),wn=P(!1),Ze=P(!0);class U{tag;value;static singletonNone=new U(!1);constructor(s,l){this.tag=s,this.value=l}static some(s){return new U(!0,s)}static none(){return U.singletonNone}fold(s,l){return this.tag?l(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?U.some(s(this.value)):U.none()}bind(s){return this.tag?s(this.value):U.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:U.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Ee(s)?U.some(s):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const en=Array.prototype.slice,xt=Array.prototype.indexOf,Eo=Array.prototype.push,eo=(t,s)=>xt.call(t,s),qt=(t,s)=>{const l=eo(t,s);return l===-1?U.none():U.some(l)},us=(t,s)=>eo(t,s)>-1,Er=(t,s)=>{for(let l=0,f=t.length;l<f;l++){const v=t[l];if(s(v,l))return!0}return!1},Oo=(t,s)=>{const l=[];for(let f=0;f<t;f++)l.push(s(f));return l},Ds=(t,s)=>{const l=[];for(let f=0;f<t.length;f+=s){const v=en.call(t,f,f+s);l.push(v)}return l},Yt=(t,s)=>{const l=t.length,f=new Array(l);for(let v=0;v<l;v++){const w=t[v];f[v]=s(w,v)}return f},yt=(t,s)=>{for(let l=0,f=t.length;l<f;l++){const v=t[l];s(v,l)}},le=(t,s)=>{for(let l=t.length-1;l>=0;l--){const f=t[l];s(f,l)}},hi=(t,s)=>{const l=[],f=[];for(let v=0,w=t.length;v<w;v++){const _=t[v];(s(_,v)?l:f).push(_)}return{pass:l,fail:f}},fs=(t,s)=>{const l=[];for(let f=0,v=t.length;f<v;f++){const w=t[f];s(w,f)&&l.push(w)}return l},ns=(t,s,l)=>(le(t,(f,v)=>{l=s(l,f,v)}),l),js=(t,s,l)=>(yt(t,(f,v)=>{l=s(l,f,v)}),l),Vr=(t,s,l)=>{for(let f=0,v=t.length;f<v;f++){const w=t[f];if(s(w,f))return U.some(w);if(l(w,f))break}return U.none()},fo=(t,s)=>Vr(t,s,wn),Ws=(t,s)=>{for(let l=0,f=t.length;l<f;l++){const v=t[l];if(s(v,l))return U.some(l)}return U.none()},In=t=>{const s=[];for(let l=0,f=t.length;l<f;++l){if(!te(t[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+t);Eo.apply(s,t[l])}return s},vt=(t,s)=>In(Yt(t,s)),Un=(t,s)=>{for(let l=0,f=t.length;l<f;++l){const v=t[l];if(s(v,l)!==!0)return!1}return!0},Ns=t=>{const s=en.call(t,0);return s.reverse(),s},At=(t,s)=>fs(t,l=>!us(s,l)),Bs=(t,s)=>{const l={};for(let f=0,v=t.length;f<v;f++){const w=t[f];l[String(w)]=s(w,f)}return l},rr=t=>[t],ir=(t,s)=>{const l=en.call(t,0);return l.sort(s),l},Gs=(t,s)=>s>=0&&s<t.length?U.some(t[s]):U.none(),Vn=t=>Gs(t,0),Vt=t=>Gs(t,t.length-1),J=Ce(Array.from)?Array.from:t=>en.call(t),de=(t,s)=>{for(let l=0;l<t.length;l++){const f=s(t[l],l);if(f.isSome())return f}return U.none()},_e=Object.keys,Ie=Object.hasOwnProperty,ot=(t,s)=>{const l=_e(t);for(let f=0,v=l.length;f<v;f++){const w=l[f],_=t[w];s(_,w)}},Tt=(t,s)=>Cn(t,(l,f)=>({k:f,v:s(l,f)})),Cn=(t,s)=>{const l={};return ot(t,(f,v)=>{const w=s(f,v);l[w.k]=w.v}),l},ro=t=>(s,l)=>{t[l]=s},Gn=(t,s,l,f)=>{ot(t,(v,w)=>{(s(v,w)?l:f)(v,w)})},yn=(t,s)=>{const l={},f={};return Gn(t,s,ro(l),ro(f)),{t:l,f}},Uo=(t,s)=>{const l={};return Gn(t,s,ro(l),xe),l},zs=(t,s)=>{const l=[];return ot(t,(f,v)=>{l.push(s(f,v))}),l},Co=(t,s)=>{const l=_e(t);for(let f=0,v=l.length;f<v;f++){const w=l[f],_=t[w];if(s(_,w,t))return U.some(_)}return U.none()},Ci=t=>zs(t,mn),Mn=(t,s)=>go(t,s)?U.from(t[s]):U.none(),go=(t,s)=>Ie.call(t,s),Mo=(t,s)=>go(t,s)&&t[s]!==void 0&&t[s]!==null,pr={generate:t=>{if(!te(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],l={};return yt(t,(f,v)=>{const w=_e(f);if(w.length!==1)throw new Error("one and only one name per case");const _=w[0],L=f[_];if(l[_]!==void 0)throw new Error("duplicate key detected:"+_);if(_==="cata")throw new Error("cannot have a case named cata (sorry)");if(!te(L))throw new Error("case arguments must be an array");s.push(_),l[_]=(...I)=>{const W=I.length;if(W!==L.length)throw new Error("Wrong number of arguments to case "+_+". Expected "+L.length+" ("+L+"), got "+W);return{fold:(...oe)=>{if(oe.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+oe.length);return oe[v].apply(null,I)},match:oe=>{const me=_e(oe);if(s.length!==me.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+me.join(","));if(!Un(s,Ne=>us(me,Ne)))throw new Error("Not all branches were specified when using match. Specified: "+me.join(", ")+`
Required: `+s.join(", "));return oe[_].apply(null,I)},log:oe=>{console.log(oe,{constructors:s,constructor:_,params:I})}}}}),l}},Pn=t=>{let s=t;return{get:()=>s,set:v=>{s=v}}},Cr=t=>{let s=U.none(),l=[];const f=W=>Cr(X=>{v(oe=>{X(W(oe))})}),v=W=>{_()?I(W):l.push(W)},w=W=>{_()||(s=U.some(W),L(l),l=[])},_=()=>s.isSome(),L=W=>{yt(W,I)},I=W=>{s.each(X=>{setTimeout(()=>{W(X)},0)})};return t(w),{get:v,map:f,isReady:_}},bl={nu:Cr,pure:t=>Cr(s=>{s(t)})},ba=t=>{setTimeout(()=>{throw t},0)},Xi=t=>{const s=I=>{t().then(I,ba)};return{map:I=>Xi(()=>t().then(I)),bind:I=>Xi(()=>t().then(W=>I(W).toPromise())),anonBind:I=>Xi(()=>t().then(()=>I.toPromise())),toLazy:()=>bl.nu(s),toCached:()=>{let I=null;return Xi(()=>(I===null&&(I=t()),I))},toPromise:t,get:s}},or={nu:t=>Xi(()=>new Promise(t)),pure:t=>Xi(()=>Promise.resolve(t))},tc=t=>{const s=w=>w(t),l=P(t),f=()=>v,v={tag:!0,inner:t,fold:(w,_)=>_(t),isValue:Ze,isError:wn,map:w=>io.value(w(t)),mapError:f,bind:s,exists:s,forall:s,getOr:l,or:f,getOrThunk:l,orThunk:f,getOrDie:l,each:w=>{w(t)},toOptional:()=>U.some(t)};return v},nc=t=>{const s=()=>l,l={tag:!1,inner:t,fold:(f,v)=>f(t),isValue:wn,isError:Ze,map:s,mapError:f=>io.error(f(t)),bind:s,exists:wn,forall:Ze,getOr:mn,or:mn,getOrThunk:En,orThunk:En,getOrDie:Fe(String(t)),each:xe,toOptional:U.none};return l},io={value:tc,error:nc,fromOption:(t,s)=>t.fold(()=>nc(s),tc)},Ia=t=>({...t,toCached:()=>Ia(t.toCached()),bindFuture:I=>Ia(t.bind(W=>W.fold(X=>or.pure(io.error(X)),X=>I(X)))),bindResult:I=>Ia(t.map(W=>W.bind(I))),mapResult:I=>Ia(t.map(W=>W.map(I))),mapError:I=>Ia(t.map(W=>W.mapError(I))),foldResult:(I,W)=>t.map(X=>X.fold(I,W)),withTimeout:(I,W)=>Ia(or.nu(X=>{let oe=!1;const me=setTimeout(()=>{oe=!0,X(io.error(W()))},I);t.get(Oe=>{oe||(clearTimeout(me),X(Oe))})}))}),na=t=>Ia(or.nu(t)),yc=t=>Ia(or.pure(io.value(t))),jo={nu:na,wrap:Ia,pure:yc,value:yc,error:t=>Ia(or.pure(io.error(t))),fromResult:t=>Ia(or.pure(t)),fromFuture:t=>Ia(t.map(io.value)),fromPromise:t=>na(s=>{t.then(l=>{s(io.value(l))},l=>{s(io.error(l))})})},Do=typeof window<"u"?window:Function("return this;")(),Rs=(t,s,l,f)=>{const v=t+s;return v>f?l:v<l?f:v},er=(t,s,l)=>Math.min(Math.max(t,s),l),os=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let gr=0;const _n=t=>{const l=new Date().getTime(),f=Math.floor(os()*1e9);return gr++,t+"_"+f+gr+String(l)},da=(t,s)=>s,vr=(t,s)=>V(t)&&V(s)?Ls(t,s):s,Ho=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const l={};for(let f=0;f<s.length;f++){const v=s[f];for(const w in v)go(v,w)&&(l[w]=t(l[w],v[w]))}return l},Ls=Ho(vr),mi=Ho(da),pi=(t,s,l=Ln)=>t.exists(f=>l(f,s)),Xo=(t,s,l=Ln)=>fa(t,s,l).getOr(t.isNone()&&s.isNone()),gi=t=>{const s=[],l=f=>{s.push(f)};for(let f=0;f<t.length;f++)t[f].each(l);return s},ya=t=>{const s=[];for(let l=0;l<t.length;l++){const f=t[l];if(f.isSome())s.push(f.getOrDie());else return U.none()}return U.some(s)},fa=(t,s,l)=>t.isSome()&&s.isSome()?U.some(l(t.getOrDie(),s.getOrDie())):U.none(),un=(t,s,l,f)=>t.isSome()&&s.isSome()&&l.isSome()?U.some(f(t.getOrDie(),s.getOrDie(),l.getOrDie())):U.none(),rs=(t,s)=>t!=null?U.some(s(t)):U.none(),oa=(t,s)=>t?U.some(s):U.none(),Uc=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),au=(t,s)=>{let l=s??Do;for(let f=0;f<t.length&&l!==void 0&&l!==null;++f)l=l[t[f]];return l},Da=(t,s)=>{const l=t.split(".");return au(l,s)};pr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const yl=t=>{const s=[],l=[];return yt(t,f=>{f.fold(v=>{s.push(v)},v=>{l.push(v)})}),{errors:s,values:l}},Ss=t=>{const s=Pn(U.none()),l=()=>s.get().each(t);return{clear:()=>{l(),s.set(U.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:L=>{l(),s.set(U.some(L))}}},wu=()=>Ss(t=>t.destroy()),Si=()=>Ss(t=>t.unbind()),Po=()=>{const t=Ss(xe);return{...t,on:l=>t.get().each(l)}},ie=(t,s)=>t+s,Re=(t,s)=>t.substring(s),ke=(t,s,l)=>s===""||t.length>=s.length&&t.substr(l,l+s.length)===s,ut=(t,s)=>fn(t,s)?Re(t,s.length):t,Nt=(t,s)=>ao(t,s)?t:ie(t,s),Lt=(t,s,l=0,f)=>{const v=t.indexOf(s,l);return v!==-1?je(f)?!0:v+s.length<=f:!1},fn=(t,s)=>ke(t,s,0),ao=(t,s)=>ke(t,s,t.length-s.length),Ft=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),is=t=>t.length>0,ds=t=>!is(t),Rr=t=>{const s=parseFloat(t);return isNaN(s)?U.none():U.some(s)},as=(t,s)=>{let l=null,f=null;return{cancel:()=>{Se(l)||(clearTimeout(l),l=null,f=null)},throttle:(..._)=>{f=_,Se(l)&&(l=setTimeout(()=>{const L=f;l=null,f=null,t.apply(null,L)},s))}}},vi=(t,s)=>{let l=null;return{cancel:()=>{Se(l)||(clearTimeout(l),l=null)},throttle:(...w)=>{Se(l)&&(l=setTimeout(()=>{l=null,t.apply(null,w)},s))}}},dr=(t,s)=>{let l=null;const f=()=>{Se(l)||(clearTimeout(l),l=null)};return{cancel:f,throttle:(...w)=>{f(),l=setTimeout(()=>{l=null,t.apply(null,w)},s)}}},Sa=t=>{let s=!1,l;return(...f)=>(s||(s=!0,l=t.apply(null,f)),l)},ha="\uFEFF",Fa="Â ",sa=(t,s)=>{const f=(s||document).createElement("div");if(f.innerHTML=t,!f.hasChildNodes()||f.childNodes.length>1){const v="HTML does not have a single root node";throw console.error(v,t),new Error(v)}return wl(f.childNodes[0])},oc=(t,s)=>{const f=(s||document).createElement(t);return wl(f)},ul=(t,s)=>{const f=(s||document).createTextNode(t);return wl(f)},wl=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Tn={fromHtml:sa,fromTag:oc,fromText:ul,fromDom:wl,fromPoint:(t,s,l)=>U.from(t.dom.elementFromPoint(s,l)).map(wl)},Aa=(t,s)=>{s.fold(l=>{t.setStartBefore(l.dom)},(l,f)=>{t.setStart(l.dom,f)},l=>{t.setStartAfter(l.dom)})},Nl=(t,s)=>{s.fold(l=>{t.setEndBefore(l.dom)},(l,f)=>{t.setEnd(l.dom,f)},l=>{t.setEndAfter(l.dom)})},we=(t,s,l)=>{const f=t.document.createRange();return Aa(f,s),Nl(f,l),f},We=(t,s,l,f,v)=>{const w=t.document.createRange();return w.setStart(s.dom,l),w.setEnd(f.dom,v),w},ft=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Bt=t=>{const s=t.getClientRects(),l=s.length>0?s[0]:t.getBoundingClientRect();return l.width>0||l.height>0?U.some(l).map(ft):U.none()},kn=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?U.some(s).map(ft):U.none()},Kn=pr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_s=(t,s,l)=>s(Tn.fromDom(l.startContainer),l.startOffset,Tn.fromDom(l.endContainer),l.endOffset),bs=(t,s)=>s.match({domRange:l=>({ltr:P(l),rtl:U.none}),relative:(l,f)=>({ltr:Sa(()=>we(t,l,f)),rtl:Sa(()=>U.some(we(t,f,l)))}),exact:(l,f,v,w)=>({ltr:Sa(()=>We(t,l,f,v,w)),rtl:Sa(()=>U.some(We(t,v,w,l,f)))})}),ar=(t,s)=>{const l=s.ltr();return l.collapsed?s.rtl().filter(v=>v.collapsed===!1).map(v=>Kn.rtl(Tn.fromDom(v.endContainer),v.endOffset,Tn.fromDom(v.startContainer),v.startOffset)).getOrThunk(()=>_s(t,Kn.ltr,l)):_s(t,Kn.ltr,l)},ae=(t,s)=>{const l=bs(t,s);return ar(t,l)},Ae=(t,s)=>ae(t,s).match({ltr:(f,v,w,_)=>{const L=t.document.createRange();return L.setStart(f.dom,v),L.setEnd(w.dom,_),L},rtl:(f,v,w,_)=>{const L=t.document.createRange();return L.setStart(w.dom,_),L.setEnd(f.dom,v),L}});Kn.ltr,Kn.rtl;const Ye=9,Ut=11,co=1,Is=3,O=(t,s)=>{const l=t.dom;if(l.nodeType!==co)return!1;{const f=l;if(f.matches!==void 0)return f.matches(s);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(s);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(s);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},F=t=>t.nodeType!==co&&t.nodeType!==Ye&&t.nodeType!==Ut||t.childElementCount===0,G=(t,s)=>{const l=s===void 0?document:s.dom;return F(l)?[]:Yt(l.querySelectorAll(t),Tn.fromDom)},ne=(t,s)=>{const l=s===void 0?document:s.dom;return F(l)?U.none():U.from(l.querySelector(t)).map(Tn.fromDom)},fe=(t,s)=>t.dom===s.dom,ge=(t,s)=>{const l=t.dom,f=s.dom;return l===f?!1:l.contains(f)},Me=(t,s,l,f)=>{const v=t.isiOS()&&/ipad/i.test(l)===!0,w=t.isiOS()&&!v,_=t.isiOS()||t.isAndroid(),L=_||f("(pointer:coarse)"),I=v||!w&&_&&f("(min-device-width:768px)"),W=w||_&&!I,X=s.isSafari()&&t.isiOS()&&/safari/i.test(l)===!1,oe=!W&&!I&&!X;return{isiPad:P(v),isiPhone:P(w),isTablet:P(I),isPhone:P(W),isTouch:P(L),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:P(X),isDesktop:P(oe)}},pt=(t,s)=>{for(let l=0;l<t.length;l++){const f=t[l];if(f.test(s))return f}},lt=(t,s)=>{const l=pt(t,s);if(!l)return{major:0,minor:0};const f=v=>Number(s.replace(l,"$"+v));return Nn(f(1),f(2))},kt=(t,s)=>{const l=String(s).toLowerCase();return t.length===0?on():lt(t,l)},on=()=>Nn(0,0),Nn=(t,s)=>({major:t,minor:s}),Jt={nu:Nn,detect:kt,unknown:on},ho=(t,s)=>de(s.brands,l=>{const f=l.brand.toLowerCase();return fo(t,v=>f===v.brand?.toLowerCase()).map(v=>({current:v.name,version:Jt.nu(parseInt(l.version,10),0)}))}),lr=(t,s)=>{const l=String(s).toLowerCase();return fo(t,f=>f.search(l))},Qr=(t,s)=>lr(t,s).map(l=>{const f=Jt.detect(l.versionRegexes,s);return{current:l.name,version:f}}),Pr=(t,s)=>lr(t,s).map(l=>{const f=Jt.detect(l.versionRegexes,s);return{current:l.name,version:f}}),ol=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pi=t=>s=>Lt(s,t),sc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Lt(t,"edge/")&&Lt(t,"chrome")&&Lt(t,"safari")&&Lt(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ol],search:t=>Lt(t,"chrome")&&!Lt(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Lt(t,"msie")||Lt(t,"trident")},{name:"Opera",versionRegexes:[ol,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pi("firefox")},{name:"Safari",versionRegexes:[ol,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Lt(t,"safari")||Lt(t,"mobile/"))&&Lt(t,"applewebkit")}],Cu=[{name:"Windows",search:Pi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Lt(t,"iphone")||Lt(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Pi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pi("linux"),versionRegexes:[]},{name:"Solaris",search:Pi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qr={browsers:P(sc),oses:P(Cu)},Rl="Edge",Yr="Chromium",Ir="IE",mh="Opera",Wc="Firefox",Mc="Safari",ph=()=>jc({current:void 0,version:Jt.unknown()}),jc=t=>{const s=t.current,l=t.version,f=v=>()=>s===v;return{current:s,version:l,isEdge:f(Rl),isChromium:f(Yr),isIE:f(Ir),isOpera:f(mh),isFirefox:f(Wc),isSafari:f(Mc)}},Bu={unknown:ph,nu:jc},ad="Windows",Zc="iOS",gh="Android",Ll="Linux",ja="macOS",Rd="Solaris",cv="FreeBSD",Xs="ChromeOS",ei=()=>$u({current:void 0,version:Jt.unknown()}),$u=t=>{const s=t.current,l=t.version,f=v=>()=>s===v;return{current:s,version:l,isWindows:f(ad),isiOS:f(Zc),isAndroid:f(gh),isMacOS:f(ja),isLinux:f(Ll),isSolaris:f(Rd),isFreeBSD:f(cv),isChromeOS:f(Xs)}},Gr={unknown:ei,nu:$u},lu={detect:(t,s,l)=>{const f=qr.browsers(),v=qr.oses(),w=s.bind(I=>ho(f,I)).orThunk(()=>Qr(f,t)).fold(Bu.unknown,Bu.nu),_=Pr(v,t).fold(Gr.unknown,Gr.nu),L=Me(_,w,t,l);return{browser:w,os:_,deviceType:L}}},Of=t=>window.matchMedia(t).matches;let vh=Sa(()=>lu.detect(window.navigator.userAgent,U.from(window.navigator.userAgentData),Of));const xi=()=>vh(),Hu=(t,s)=>Da(t,s),Ld=(t,s)=>{const l=Hu(t,s);if(l==null)throw new Error(t+" not available on this browser");return l},gn=Object.getPrototypeOf,dl=t=>Ld("HTMLElement",t),qc=t=>{const s=Da("ownerDocument.defaultView",t);return Y(t)&&(dl(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(gn(t).constructor.name))},Oa=t=>t.dom.nodeName.toLowerCase(),ld=t=>t.dom.nodeType,cm=t=>s=>ld(s)===t,Ve=t=>Yl(t)&&qc(t.dom),Yl=cm(co),zu=cm(Is),um=cm(Ye),cd=cm(Ut),Ba=t=>s=>Yl(s)&&Oa(s)===t,Ke=t=>Tn.fromDom(t.dom.ownerDocument),Ct=t=>um(t)?t:Ke(t),Xt=t=>Tn.fromDom(Ct(t).dom.documentElement),tn=t=>Tn.fromDom(Ct(t).dom.defaultView),vn=t=>U.from(t.dom.parentNode).map(Tn.fromDom),ko=t=>vn(t),So=t=>U.from(t.dom.parentElement).map(Tn.fromDom),ys=(t,s)=>{const l=Ce(s)?s:wn;let f=t.dom;const v=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const w=f.parentNode,_=Tn.fromDom(w);if(v.push(_),l(_)===!0)break;f=w}return v},Jo=t=>U.from(t.dom.offsetParent).map(Tn.fromDom),Zs=t=>U.from(t.dom.previousSibling).map(Tn.fromDom),Js=t=>U.from(t.dom.nextSibling).map(Tn.fromDom),$s=t=>Yt(t.dom.childNodes,Tn.fromDom),fr=(t,s)=>{const l=t.dom.childNodes;return U.from(l[s]).map(Tn.fromDom)},no=t=>fr(t,0),Fr=(t,s)=>({element:t,offset:s}),Cl=(t,s)=>{const l=$s(t);return l.length>0&&s<l.length?Fr(l[s],0):Fr(t,s)},$a=(t,s,l,f)=>{const w=Ke(t).dom.createRange();return w.setStart(t.dom,s),w.setEnd(l.dom,f),w},Qo=(t,s,l,f)=>{const v=$a(t,s,l,f),w=fe(t,l)&&s===f;return v.collapsed&&!w},Ha=t=>cd(t)&&Ee(t.dom.host),Ii=t=>Tn.fromDom(t.dom.getRootNode()),ma=t=>Ha(t)?t:Tn.fromDom(Ct(t).dom.body),Vu=t=>Ji(t).isSome(),Ji=t=>{const s=Ii(t);return Ha(s)?U.some(s):U.none()},cr=t=>Tn.fromDom(t.dom.host),bh=t=>{if(Ee(t.target)){const s=Tn.fromDom(t.target);if(Yl(s)&&Yc(s)&&t.composed&&t.composedPath){const l=t.composedPath();if(l)return Vn(l)}}return U.from(t.target)},Yc=t=>Ee(t.dom.shadowRoot),Qi=(t,s,l,f,v,w,_)=>({target:t,x:s,y:l,stop:f,prevent:v,kill:w,raw:_}),Gl=t=>{const s=Tn.fromDom(bh(t).getOr(t.target)),l=()=>t.stopPropagation(),f=()=>t.preventDefault(),v=Qt(f,l);return Qi(s,t.clientX,t.clientY,l,f,v,t)},Gc=(t,s)=>l=>{t(l)&&s(Gl(l))},Za=(t,s,l,f,v)=>{const w=Gc(l,f);return t.dom.addEventListener(s,w,v),{unbind:ln(Kc,t,s,w,v)}},Uu=(t,s,l,f)=>Za(t,s,l,f,!1),Pl=(t,s,l,f)=>Za(t,s,l,f,!0),Kc=(t,s,l,f)=>{t.dom.removeEventListener(s,l,f)},Il=Ze,kr=(t,s,l)=>Uu(t,s,Il,l),Su=(t,s,l)=>Pl(t,s,Il,l),rc=Gl,Sl=()=>Tn.fromDom(document),sl=(t,s=!1)=>t.dom.focus({preventScroll:s}),zi=t=>t.dom.blur(),wc=t=>{const s=Ii(t).dom;return t.dom===s.activeElement},qa=(t=Sl())=>U.from(t.dom.activeElement).map(Tn.fromDom),Ma=t=>qa(Ii(t)).filter(s=>t.dom.contains(s.dom)),ud=(t,s)=>{vn(t).each(f=>{f.dom.insertBefore(s.dom,t.dom)})},uv=(t,s)=>{Js(t).fold(()=>{vn(t).each(v=>{xl(v,s)})},f=>{ud(f,s)})},sg=(t,s)=>{no(t).fold(()=>{xl(t,s)},f=>{t.dom.insertBefore(s.dom,f.dom)})},xl=(t,s)=>{t.dom.appendChild(s.dom)},hp=(t,s,l)=>{fr(t,l).fold(()=>{xl(t,s)},f=>{ud(f,s)})},rg=(t,s)=>{yt(s,l=>{xl(t,l)})},Wu=(t,s,l)=>{if(H(l)||ye(l)||at(l))t.setAttribute(s,l+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",l,":: Element ",t),new Error("Attribute value was not simple")},Io=(t,s,l)=>{Wu(t.dom,s,l)},dv=(t,s)=>{const l=t.dom;ot(s,(f,v)=>{Wu(l,v,f)})},za=(t,s)=>{const l=t.dom.getAttribute(s);return l===null?void 0:l},_l=(t,s)=>U.from(za(t,s)),Ya=(t,s)=>{const l=t.dom;return l&&l.hasAttribute?l.hasAttribute(s):!1},Di=(t,s)=>{t.dom.removeAttribute(s)},cu=t=>js(t.dom.attributes,(s,l)=>(s[l.name]=l.value,s),{}),Mf=t=>{t.dom.textContent="",yt($s(t),s=>{Kl(s)})},Kl=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Xc=(t,s)=>Tn.fromDom(t.dom.cloneNode(s)),Pd=t=>Xc(t,!1),mp=t=>Xc(t,!0),dm=(t,s)=>{const f=(s||document).createElement("div");return f.innerHTML=t,$s(Tn.fromDom(f))},dd=t=>t.dom.innerHTML,ju=(t,s)=>{const f=Ke(t).dom,v=Tn.fromDom(f.createDocumentFragment()),w=dm(s,f);rg(v,w),Mf(t),xl(t,v)},sf=t=>{const s=Tn.fromTag("div"),l=Tn.fromDom(t.dom.cloneNode(!0));return xl(s,l),dd(s)},Va=t=>{if(Ha(t))return"#shadow-root";{const s=Pd(t);return sf(s)}},xu=t=>new Promise((s,l)=>{const f=()=>{w(),s(t)},v=[kr(t,"load",f),kr(t,"error",()=>{w(),l("Unable to load data from image: "+t.dom.src)})],w=()=>yt(v,_=>_.unbind());t.dom.complete&&f()}),Id=t=>t.style!==void 0&&Ce(t.style.getPropertyValue),Sr=t=>{const s=zu(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const l=s.ownerDocument;return Ji(Tn.fromDom(s)).fold(()=>l.body.contains(s),Et(Sr,cr))},uu=()=>Mb(Tn.fromDom(document)),Mb=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Tn.fromDom(s)},pp=(t,s,l)=>{if(!H(l))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",l,":: Element ",t),new Error("CSS value must be a string: "+l);Id(t)&&t.style.setProperty(s,l)},Na=(t,s)=>{Id(t)&&t.style.removeProperty(s)},vo=(t,s,l)=>{const f=t.dom;pp(f,s,l)},xr=(t,s)=>{const l=t.dom;ot(s,(f,v)=>{pp(l,v,f)})},ri=(t,s)=>{const l=t.dom;ot(s,(f,v)=>{f.fold(()=>{Na(l,v)},w=>{pp(l,v,w)})})},ui=(t,s)=>{const l=t.dom,v=window.getComputedStyle(l).getPropertyValue(s);return v===""&&!Sr(t)?_u(l,s):v},_u=(t,s)=>Id(t)?t.style.getPropertyValue(s):"",_i=(t,s)=>{const l=t.dom,f=_u(l,s);return U.from(f).filter(v=>v.length>0)},Ga=t=>{const s={},l=t.dom;if(Id(l))for(let f=0;f<l.style.length;f++){const v=l.style.item(f);s[v]=l.style[v]}return s},fm=(t,s,l)=>{const f=Tn.fromTag(t);return vo(f,s,l),_i(f,s).isSome()},qs=(t,s)=>{const l=t.dom;Na(l,s),pi(_l(t,"style").map(Ft),"")&&Di(t,"style")},du=t=>t.dom.offsetWidth,ii=(t,s)=>{const l=(L,I)=>{if(!at(I)&&!I.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+I);const W=L.dom;Id(W)&&(W.style[t]=I+"px")},f=L=>{const I=s(L);if(I<=0||I===null){const W=ui(L,t);return parseFloat(W)||0}return I},v=f,w=(L,I)=>js(I,(W,X)=>{const oe=ui(L,X),me=oe===void 0?0:parseInt(oe,10);return isNaN(me)?W:W+me},0);return{set:l,get:f,getOuter:v,aggregate:w,max:(L,I,W)=>{const X=w(L,W);return I>X?I-X:0}}},Cc=ii("height",t=>{const s=t.dom;return Sr(t)?s.getBoundingClientRect().height:s.offsetHeight}),Ka=t=>Cc.get(t),Ra=t=>Cc.getOuter(t),Zu=(t,s)=>{const l=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],f=Cc.max(t,s,l);vo(t,"max-height",f+"px")},yh=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Fd=t=>!yh(t.dom),Bd=ii("width",t=>{const s=t.dom;return Sr(t)?s.getBoundingClientRect().width:s.offsetWidth}),rf=(t,s)=>Bd.set(t,s),rl=t=>Bd.get(t),af=t=>Bd.getOuter(t),ig=(t,s)=>{const l=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],f=Bd.max(t,s,l);vo(t,"max-width",f+"px")},Nc=(t,s)=>({left:t,top:s,translate:(f,v)=>Nc(t+f,s+v)}),$r=Nc,fv=t=>{const s=t.getBoundingClientRect();return $r(s.left,s.top)},wh=(t,s)=>t!==void 0?t:s!==void 0?s:0,ra=t=>{const s=t.dom.ownerDocument,l=s.body,f=s.defaultView,v=s.documentElement;if(l===t.dom)return $r(l.offsetLeft,l.offsetTop);const w=wh(f?.pageYOffset,v.scrollTop),_=wh(f?.pageXOffset,v.scrollLeft),L=wh(v.clientTop,l.clientTop),I=wh(v.clientLeft,l.clientLeft);return _r(t).translate(_-I,w-L)},_r=t=>{const s=t.dom,f=s.ownerDocument.body;return f===s?$r(f.offsetLeft,f.offsetTop):Sr(t)?fv(s):$r(0,0)},ai=t=>{const s=t!==void 0?t.dom:document,l=s.body.scrollLeft||s.documentElement.scrollLeft,f=s.body.scrollTop||s.documentElement.scrollTop;return $r(l,f)},Rc=(t,s,l)=>{const v=(l!==void 0?l.dom:document).defaultView;v&&v.scrollTo(t,s)},Ch=((t,s)=>{const l=w=>{if(!t(w))throw new Error("Can only get "+s+" value of a "+s+" node");return f(w).getOr("")},f=w=>t(w)?U.from(w.dom.nodeValue):U.none();return{get:l,getOption:f,set:(w,_)=>{if(!t(w))throw new Error("Can only set raw "+s+" value of a "+s+" node");w.dom.nodeValue=_}}})(zu,"text"),hm=t=>Ch.get(t),ag=(t,s)=>l=>dw(l)==="rtl"?s:t,dw=t=>ui(t,"direction")==="rtl"?"rtl":"ltr",Tu=(t,s)=>{const l=za(t,s);return l===void 0||l===""?[]:l.split(" ")},gp=(t,s,l)=>{const v=Tu(t,s).concat([l]);return Io(t,s,v.join(" ")),!0},lg=(t,s,l)=>{const f=fs(Tu(t,s),v=>v!==l);return f.length>0?Io(t,s,f.join(" ")):Di(t,s),!1};var Eu=(t,s,l,f,v)=>t(l,f)?U.some(l):Ce(v)&&v(l)?U.none():s(l,f,v);const lf=(t,s,l)=>{let f=t.dom;const v=Ce(l)?l:wn;for(;f.parentNode;){f=f.parentNode;const w=Tn.fromDom(f);if(s(w))return U.some(w);if(v(w))break}return U.none()},Sh=(t,s,l)=>Eu((v,w)=>w(v),lf,t,s,l),mm=(t,s)=>{const l=t.dom;return l.parentNode?vp(Tn.fromDom(l.parentNode),f=>!fe(t,f)&&s(f)):U.none()},vp=(t,s)=>{const l=v=>s(Tn.fromDom(v));return fo(t.dom.childNodes,l).map(Tn.fromDom)},pm=(t,s)=>{const l=f=>{for(let v=0;v<f.childNodes.length;v++){const w=Tn.fromDom(f.childNodes[v]);if(s(w))return U.some(w);const _=l(f.childNodes[v]);if(_.isSome())return _}return U.none()};return l(t.dom)},cg=t=>ne(t),ku=(t,s,l)=>lf(t,f=>O(f,s),l),Y1=(t,s)=>mm(t,l=>O(l,s)),cf=(t,s)=>vp(t,l=>O(l,s)),Ur=(t,s)=>ne(s,t),ic=(t,s,l)=>Eu((v,w)=>O(v,w),ku,t,s,l),Du=(t,s)=>{t.dom.checked=s},ug=t=>t.dom.checked,Nf=t=>t.dom.classList!==void 0,hv=t=>Tu(t,"class"),mv=(t,s)=>gp(t,"class",s),Jc=(t,s)=>lg(t,"class",s),qu=(t,s)=>us(hv(t),s)?Jc(t,s):mv(t,s),Hr=(t,s)=>{Nf(t)?t.dom.classList.add(s):mv(t,s)},pv=t=>{(Nf(t)?t.dom.classList:hv(t)).length===0&&Di(t,"class")},Ui=(t,s)=>{Nf(t)?t.dom.classList.remove(s):Jc(t,s),pv(t)},xh=(t,s)=>{const l=Nf(t)?t.dom.classList.toggle(s):qu(t,s);return pv(t),l},Ua=(t,s)=>Nf(t)&&t.dom.classList.contains(s),fd=(t,s)=>{yt(s,l=>{Hr(t,l)})},Ai=(t,s)=>{yt(s,l=>{Ui(t,l)})},Yu=(t,s)=>{yt(s,l=>{xh(t,l)})},bp=(t,s)=>Un(s,l=>Ua(t,l)),dg=t=>{const s=t.dom.classList,l=new Array(s.length);for(let f=0;f<s.length;f++){const v=s.item(f);v!==null&&(l[f]=v)}return l},fg=t=>Nf(t)?dg(t):hv(t),gm=t=>t.dom.textContent,ac=t=>t.dom.value,Gu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},La=(t,s,l)=>fs(ys(t,l),s),fl=(t,s)=>G(s,t),uf=(t,s,l)=>Sh(t,s,l).isSome(),vm=(t,s,l)=>ic(t,s,l).isSome(),_h=t=>Ce(t)?t:wn,gv=(t,s,l)=>{let f=t.dom;const v=_h(l);for(;f.parentNode;){f=f.parentNode;const w=Tn.fromDom(f),_=s(w);if(_.isSome())return _;if(v(w))break}return U.none()},Lc=(t,s,l)=>{const f=s(t),v=_h(l);return f.orThunk(()=>v(t)?U.none():gv(t,s,v))},B={create:(t,s,l,f)=>({start:t,soffset:s,finish:l,foffset:f})},Z=pr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),he=(t,s,l,f)=>t.fold(s,l,f),Pe=t=>t.fold(mn,mn,mn),rt=Z.before,Ht=Z.on,Fn=Z.after,bo={before:rt,on:Ht,after:Fn,cata:he,getStart:Pe},ms=pr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vs=t=>ms.exact(t.start,t.soffset,t.finish,t.foffset),bi=t=>t.match({domRange:s=>Tn.fromDom(s.startContainer),relative:(s,l)=>bo.getStart(s),exact:(s,l,f,v)=>s}),ti=ms.domRange,pa=ms.relative,Fl=ms.exact,df=t=>{const s=bi(t);return tn(s)},$d=B.create,Ku={domRange:ti,relative:pa,exact:Fl,exactFromRange:Vs,getWin:df,range:$d},vv=t=>U.from(t.getSelection()),bm=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),l=t.getRangeAt(t.rangeCount-1);return U.some(B.create(Tn.fromDom(s.startContainer),s.startOffset,Tn.fromDom(l.endContainer),l.endOffset))}else return U.none()},lc=t=>{if(t.anchorNode===null||t.focusNode===null)return bm(t);{const s=Tn.fromDom(t.anchorNode),l=Tn.fromDom(t.focusNode);return Qo(s,t.anchorOffset,l,t.focusOffset)?U.some(B.create(s,t.anchorOffset,l,t.focusOffset)):bm(t)}},Rf=t=>vv(t).filter(s=>s.rangeCount>0).bind(lc),ym=(t,s)=>{const l=Ae(t,s);return Bt(l)},hg=(t,s)=>{const l=Ae(t,s);return kn(l)},mg={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nb=(()=>{const t="[0-9]+",l="[eE]"+("[+-]?"+t),f="\\.",v=L=>`(?:${L})?`,_=`[+-]?(?:${["Infinity",t+f+v(t)+v(l),f+t+v(l),t+v(l)].join("|")})`;return new RegExp(`^(${_})(.*)$`)})(),Rb=(t,s)=>Er(s,l=>Er(mg[l],f=>t===f)),br=(t,s)=>U.from(Nb.exec(t)).bind(f=>{const v=Number(f[1]),w=f[2];return Rb(w,s)?U.some({value:v,unit:w}):U.none()}),yi=(t,s)=>br(t,s).map(({value:l,unit:f})=>l+f),hl=t=>{const s=t===void 0?window:t;return xi().browser.isFirefox()?U.none():U.from(s.visualViewport)},Qc=(t,s,l,f)=>({x:t,y:s,width:l,height:f,right:t+l,bottom:s+f}),hd=t=>{const s=t===void 0?window:t,l=s.document,f=ai(Tn.fromDom(l));return hl(s).fold(()=>{const v=s.document.documentElement,w=v.clientWidth,_=v.clientHeight;return Qc(f.left,f.top,w,_)},v=>Qc(Math.max(v.pageLeft,f.left),Math.max(v.pageTop,f.top),v.width,v.height))},ff=(t,s)=>t.view(s).fold(P([]),f=>{const v=t.owner(f),w=ff(t,v);return[f].concat(w)}),Th=(t,s)=>{const l=s.owner(t),f=ff(s,l);return U.some(f)};var Eh=Object.freeze({__proto__:null,view:t=>(t.dom===document?U.none():U.from(t.dom.defaultView?.frameElement)).map(Tn.fromDom),owner:t=>Ke(t)});const If=t=>{const s=Sl(),l=ai(s);return Th(t,Eh).fold(ln(ra,t),v=>{const w=_r(t),_=ns(v,(L,I)=>{const W=_r(I);return{left:L.left+W.left,top:L.top+W.top}},{left:0,top:0});return $r(_.left+w.left+l.left,_.top+w.top+l.top)})},wm=(t,s,l)=>({point:t,width:s,height:l}),hw=(t,s,l,f)=>({x:t,y:s,width:l,height:f}),il=(t,s,l,f)=>({x:t,y:s,width:l,height:f,right:t+l,bottom:s+f}),Xa=t=>{const s=ra(t),l=af(t),f=Ra(t);return il(s.left,s.top,l,f)},Xu=t=>{const s=If(t),l=af(t),f=Ra(t);return il(s.left,s.top,l,f)},hf=(t,s)=>{const l=Math.max(t.x,s.x),f=Math.max(t.y,s.y),v=Math.min(t.right,s.right),w=Math.min(t.bottom,s.bottom),_=v-l,L=w-f;return il(l,f,_,L)},pg=(t,s)=>js(s,(l,f)=>hf(l,f),t),cc=()=>hd(window),bv=(t,s)=>fe(t.element,s.event.target),Cm=t=>(pi(_i(t,"position"),"fixed")?U.none():Jo(t)).orThunk(()=>{const f=Tn.fromTag("span");return vn(t).bind(v=>{xl(v,f);const w=Jo(f);return Kl(f),w})}),Sm=t=>Cm(t).map(ra).getOrThunk(()=>$r(0,0)),fu=(t,s)=>{const l=U.from(za(t,"id")).getOrThunk(()=>{const f=_n("aria");return Io(s,"id",f),f});Io(t,"aria-describedby",l)},G1=t=>{Di(t,"aria-describedby")};var Ti;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ti||(Ti={}));const kh=(t,s,l)=>t.stype===Ti.Error?s(t.serror):l(t.svalue),Dh=t=>{const s=[],l=[];return yt(t,f=>{kh(f,v=>l.push(v),v=>s.push(v))}),{values:s,errors:l}},US=(t,s)=>t.stype===Ti.Error?{stype:Ti.Error,serror:s(t.serror)}:t,gg=(t,s)=>t.stype===Ti.Value?{stype:Ti.Value,svalue:s(t.svalue)}:t,yv=(t,s)=>t.stype===Ti.Value?s(t.svalue):t,mw=(t,s)=>t.stype===Ti.Error?s(t.serror):t,K1=t=>({stype:Ti.Value,svalue:t}),mf=t=>({stype:Ti.Error,serror:t}),Fi={fromResult:t=>t.fold(mf,K1),toResult:t=>kh(t,io.error,io.value),svalue:K1,partition:Dh,serror:mf,bind:yv,bindError:mw,map:gg,mapError:US,fold:kh},yp=t=>Y(t)&&_e(t).length>100?" removed due to size":JSON.stringify(t,null,2),wp=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:P("... (only showing first ten failures)")}]):t;return Yt(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},Tl=(t,s)=>Fi.serror([{path:t,getErrorInfo:s}]),Ff=(t,s,l)=>Tl(t,()=>'Could not find valid *required* value for "'+s+'" in '+yp(l)),wv=(t,s)=>Tl(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Cp=(t,s,l)=>Tl(t,()=>'The chosen schema: "'+l+'" did not exist in branches: '+yp(s)),X1=(t,s)=>Tl(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Bf=(t,s)=>Tl(t,P(s)),xm=t=>{const s=(f,v)=>Fi.bindError(t(v),w=>Bf(f,w)),l=P("val");return{extract:s,toString:l}},J1=xm(Fi.svalue),pn=P(J1),Pb=(t,s)=>xm(l=>{const f=typeof l;return t(l)?Fi.svalue(l):Fi.serror(`Expected type: ${s} but got: ${f}`)}),Q1=Pb(at,"number"),xa=Pb(H,"string"),Us=Pb(ye,"boolean"),Ah=Pb(Ce,"function"),ea=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>ea(t[s]));default:return!1}},e0=xm(t=>ea(t)?Fi.svalue(t):Fi.serror("Expected value to be acceptable for sending via postMessage")),md=()=>({tag:"required",process:{}}),Bl=t=>({tag:"defaultedThunk",process:t}),Bi=t=>Bl(P(t)),Sp=()=>({tag:"option",process:{}}),$f=t=>({tag:"mergeWithThunk",process:t}),t0=t=>$f(P(t)),Ib=(t,s,l,f)=>({tag:"field",key:t,newKey:s,presence:l,prop:f}),Oi=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),n0=(t,s,l)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return l(t.newKey,t.instantiator)}},vg=(t,s)=>Fi.svalue(Ls(s,mi.apply(void 0,t))),xp=t=>Qt(Fi.serror,In)(t),Cv={consolidateObj:(t,s)=>{const l=Fi.partition(t);return l.errors.length>0?xp(l.errors):vg(l.values,s)},consolidateArr:t=>{const s=Fi.partition(t);return s.errors.length>0?xp(s.errors):Fi.svalue(s.values)}},o0=(t,s,l,f)=>Mn(s,l).fold(()=>Ff(t,l,s),f),Sv=(t,s,l,f)=>{const v=Mn(t,s).getOrThunk(()=>l(t));return f(v)},pw=(t,s,l)=>l(Mn(t,s)),s0=(t,s,l,f)=>{const v=Mn(t,s).map(w=>w===!0?l(t):w);return f(v)},Bb=(t,s,l,f,v)=>{const w=L=>v.extract(s.concat([f]),L),_=L=>L.fold(()=>Fi.svalue(U.none()),I=>{const W=v.extract(s.concat([f]),I);return Fi.map(W,U.some)});switch(t.tag){case"required":return o0(s,l,f,w);case"defaultedThunk":return Sv(l,f,t.process,w);case"option":return pw(l,f,_);case"defaultedOptionThunk":return s0(l,f,t.process,_);case"mergeWithThunk":return Sv(l,f,P({}),L=>{const I=Ls(t.process(l),L);return w(I)})}},r0=(t,s,l)=>{const f={},v=[];for(const w of l)n0(w,(_,L,I,W)=>{const X=Bb(I,t,s,_,W);Fi.fold(X,oe=>{v.push(...oe)},oe=>{f[L]=oe})},(_,L)=>{f[_]=L(s)});return v.length>0?Fi.serror(v):Fi.svalue(f)},Au=t=>({extract:(f,v)=>t().extract(f,v),toString:()=>t().toString()}),Pc=t=>_e(Uo(t,Ee)),Wr=t=>{const s=Yo(t),l=ns(t,(v,w)=>n0(w,_=>Ls(v,{[_]:!0}),P(v)),{});return{extract:(v,w)=>{const _=ye(w)?[]:Pc(w),L=fs(_,I=>!Mo(l,I));return L.length===0?s.extract(v,w):X1(v,L)},toString:s.toString}},Yo=t=>({extract:(f,v)=>r0(f,v,t),toString:()=>`obj{
`+Yt(t,v=>n0(v,(w,_,L,I)=>w+" -> "+I.toString(),(w,_)=>"state("+w+")")).join(`
`)+"}"}),eu=t=>({extract:(f,v)=>{const w=Yt(v,(_,L)=>t.extract(f.concat(["["+L+"]"]),_));return Cv.consolidateArr(w)},toString:()=>"array("+t.toString()+")"}),zd=(t,s)=>{const l=s!==void 0?s:mn;return{extract:(w,_)=>{const L=[];for(const I of t){const W=I.extract(w,_);if(W.stype===Ti.Value)return{stype:Ti.Value,svalue:l(W.svalue)};L.push(W)}return Cv.consolidateArr(L)},toString:()=>"oneOf("+Yt(t,w=>w.toString()).join(", ")+")"}},gw=(t,s)=>{const l=(w,_)=>eu(xm(t)).extract(w,_);return{extract:(w,_)=>{const L=_e(_),I=l(w,L);return Fi.bind(I,W=>{const X=Yt(W,oe=>Ib(oe,oe,md(),s));return Yo(X).extract(w,_)})},toString:()=>"setOf("+s.toString()+")"}},$b=(t,s)=>{const l=Sa(s);return{extract:(w,_)=>l().extract(w,_),toString:()=>l().toString()}},Hb=Qt(eu,Yo),Ja=(t,s,l,f)=>Mn(l,f).fold(()=>Cp(t,l,f),w=>w.extract(t.concat(["branch: "+f]),s)),_p=(t,s)=>({extract:(v,w)=>Mn(w,t).fold(()=>wv(v,t),L=>Ja(v,w,s,L)),toString:()=>"chooseOn("+t+"). Possible values: "+_e(s)}),zb=()=>eu(J1),_m=t=>xm(s=>t(s).fold(Fi.serror,Fi.svalue)),bg=(t,s)=>gw(l=>Fi.fromResult(t(l)),s),u=(t,s,l)=>{const f=s.extract([t],l);return Fi.mapError(f,v=>({input:l,errors:v}))},m=(t,s,l)=>Fi.toResult(u(t,s,l)),x=t=>t.fold(s=>{throw new Error(D(s))},mn),S=(t,s,l)=>x(m(t,s,l)),D=t=>`Errors: 
`+wp(t.errors).join(`
`)+`

Input object: `+yp(t.input),z=(t,s)=>_p(t,Tt(s,Yo)),K=(t,s)=>$b(t,s),se=Ib,ce=Oi,ve=t=>_m(s=>us(t,s)?io.value(s):io.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),be=t=>se(t,t,md(),pn()),nt=(t,s)=>se(t,t,md(),s),Ot=t=>nt(t,Q1),bt=t=>nt(t,xa),sn=(t,s)=>se(t,t,md(),ve(s)),An=t=>nt(t,Ah),mo=(t,s)=>se(t,t,Sp(),xm(l=>Fi.serror("The field: "+t+" is forbidden. "+s))),xo=(t,s)=>se(t,t,md(),Yo(s)),Go=(t,s)=>se(t,t,md(),Hb(s)),lo=(t,s)=>se(t,t,md(),eu(s)),qn=t=>se(t,t,Sp(),pn()),xs=(t,s)=>se(t,t,Sp(),s),Ps=t=>xs(t,Q1),ws=t=>xs(t,xa),_a=(t,s)=>xs(t,ve(s)),$l=t=>xs(t,Us),Wi=t=>xs(t,Ah),hu=(t,s)=>xs(t,eu(s)),Ta=(t,s)=>xs(t,Yo(s)),El=(t,s)=>xs(t,Wr(s)),wt=(t,s)=>se(t,t,Bi(s),pn()),ji=(t,s,l)=>se(t,t,Bi(s),l),al=(t,s)=>ji(t,s,Q1),hr=(t,s)=>ji(t,s,xa),Mi=(t,s,l)=>ji(t,s,ve(l)),Zi=(t,s)=>ji(t,s,Us),Dr=(t,s)=>ji(t,s,Ah),Oh=(t,s)=>ji(t,s,e0),ml=(t,s,l)=>ji(t,s,eu(l)),Vd=(t,s,l)=>ji(t,s,Yo(l)),Qa=(t,s)=>{const l={};return ot(t,(f,v)=>{us(s,v)||(l[v]=f)}),l},Tm=(t,s)=>({[t]:s}),Hf=t=>{const s={};return yt(t,l=>{s[l.key]=l.value}),s},Em=(t,s)=>Qa(t,s),Ou=(t,s)=>Tm(t,s),uc=t=>Hf(t),xv=(t,s)=>t.length===0?io.value(s):io.value(Ls(s,mi.apply(void 0,t))),Mh=t=>io.error(In(t)),Ic=(t,s)=>{const l=yl(t);return l.errors.length>0?Mh(l.errors):xv(l.values,s)},Sc=P,Tp=Sc("touchstart"),Ep=Sc("touchmove"),_v=Sc("touchend"),Vb=Sc("touchcancel"),Mu=Sc("mousedown"),yg=Sc("mousemove"),Xl=Sc("mouseout"),vw=Sc("mouseup"),zf=Sc("mouseover"),Vf=Sc("focusin"),bw=Sc("focusout"),dc=Sc("keydown"),Ub=Sc("keyup"),kp=Sc("input"),Tv=Sc("change"),km=Sc("click"),i0=Sc("transitioncancel"),Ud=Sc("transitionend"),Ev=Sc("transitionstart"),z_=Sc("selectstart"),ll=t=>P("alloy."+t),V_={tap:ll("tap")},Dm=ll("focus"),Uf=ll("blur.post"),WS=ll("paste.post"),kv=ll("receive"),pd=ll("execute"),Dv=ll("focus.item"),Av=V_.tap,jS=ll("longpress"),yw=ll("sandbox.close"),ww=ll("typeahead.cancel"),Cw=ll("system.init"),ZS=ll("system.touchmove"),U_=ll("system.touchend"),Ov=ll("system.scroll"),Mv=ll("system.resize"),Nh=ll("system.attached"),Dp=ll("system.detached"),Nv=ll("system.dismissRequested"),W_=ll("system.repositionRequested"),a0=ll("focusmanager.shifted"),l0=ll("slotcontainer.visibility"),j_=ll("system.external.element.scroll"),Z_=ll("change.tab"),Sw=ll("dismiss.tab"),Rv=ll("highlight"),xw=ll("dehighlight"),pf=t=>Va(t),q_="unknown";var Wf;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Wf||(Wf={}));const c0=Pn({}),Y_=(t,s)=>{const l=[],f=new Date().getTime();return{logEventCut:(v,w,_)=>{l.push({outcome:"cut",target:w,purpose:_})},logEventStopped:(v,w,_)=>{l.push({outcome:"stopped",target:w,purpose:_})},logNoParent:(v,w,_)=>{l.push({outcome:"no-parent",target:w,purpose:_})},logEventNoHandlers:(v,w)=>{l.push({outcome:"no-handlers-left",target:w})},logEventResponse:(v,w,_)=>{l.push({outcome:"response",purpose:_,target:w})},write:()=>{const v=new Date().getTime();us(["mousemove","mouseover","mouseout",Cw()],t)||console.log(t,{event:t,time:v-f,target:s.dom,sequence:Yt(l,w=>us(["cut","stopped","response"],w.outcome)?"{"+w.purpose+"} "+w.outcome+" at ("+pf(w.target)+")":w.outcome)})}}},G_=(t,s,l)=>{switch(Mn(c0.get(),t).orThunk(()=>{const v=_e(c0.get());return de(v,w=>t.indexOf(w)>-1?U.some(c0.get()[w]):U.none())}).getOr(Wf.NORMAL)){case Wf.NORMAL:return l(BO());case Wf.LOGGING:{const v=Y_(t,s),w=l(v);return v.write(),w}case Wf.STOP:return!0}},gd=["alloy/data/Fields","alloy/debugging/Debugging"],u0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return fo(s,l=>l.indexOf("alloy")>0&&!Er(gd,f=>l.indexOf(f)>-1)).getOr(q_)}else return q_},K_={logEventCut:xe,logEventStopped:xe,logNoParent:xe,logEventNoHandlers:xe,logEventResponse:xe,write:xe},wg=(t,s,l)=>G_(t,s,l),BO=P(K_),$O=P([be("menu"),be("selectedMenu")]),qS=P([be("item"),be("selectedItem")]);P(Yo(qS().concat($O())));const HO=P(Yo(qS())),li=xo("initSize",[be("numColumns"),be("numRows")]),X_=()=>nt("markers",HO()),J_=()=>xo("markers",[be("backgroundMenu")].concat($O()).concat(qS())),gf=t=>xo("markers",Yt(t,be)),Lv=(t,s,l)=>(u0(),se(s,s,l,_m(f=>io.value((...v)=>f.apply(void 0,v))))),Ar=t=>Lv("onHandler",t,Bi(xe)),kl=t=>Lv("onKeyboardHandler",t,Bi(U.none)),d0=t=>Lv("onHandler",t,md()),_w=t=>Lv("onKeyboardHandler",t,md()),ia=(t,s)=>ce(t,P(s)),Wb=t=>ce(t,mn),Tw=P(li),Q_=(t,s,l)=>{const f=l.toString(),v=f.indexOf(")")+1,w=f.indexOf("("),_=f.substring(w+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:eT(_.slice(0,1).concat(_.slice(3)))}),t},eT=t=>Yt(t,s=>ao(s,"/*")?s.substring(0,s.length-2):s),tT=(t,s)=>{const l=t.toString(),f=l.indexOf(")")+1,v=l.indexOf("("),w=l.substring(v+1,f-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:eT(w)}),t},bI=(t,s)=>{const l=s.toString(),f=l.indexOf(")")+1,v=l.indexOf("("),w=l.substring(v+1,f-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:eT(w.slice(1))}),t},zO=(t,s)=>{let l=null;return{cancel:()=>{l!==null&&(clearTimeout(l),l=null)},schedule:(...w)=>{l=setTimeout(()=>{t.apply(null,w),l=null},s)}}},VO=5,nT=400,oT=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?U.none():U.some(s.touches[0])},jf=(t,s)=>{const l=Math.abs(t.clientX-s.x),f=Math.abs(t.clientY-s.y);return l>VO||f>VO},tu=t=>{const s=Po(),l=Pn(!1),f=zO(W=>{t.triggerEvent(jS(),W),l.set(!0)},nT),v=W=>(oT(W).each(X=>{f.cancel();const oe={x:X.clientX,y:X.clientY,target:W.target};f.schedule(W),l.set(!1),s.set(oe)}),U.none()),w=W=>(f.cancel(),oT(W).each(X=>{s.on(oe=>{jf(X,oe)&&s.clear()})}),U.none()),_=W=>{f.cancel();const X=oe=>fe(oe.target,W.target);return s.get().filter(X).map(oe=>l.get()?(W.prevent(),!1):t.triggerEvent(Av(),W))},L=uc([{key:Tp(),value:v},{key:Ep(),value:w},{key:_v(),value:_}]);return{fireIfReady:(W,X)=>Mn(L,X).bind(oe=>oe(W))}};var Zf;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Zf||(Zf={}));const Rh="placeholder",Lh=pr.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Cg=t=>go(t,"uiType"),Am=(t,s,l,f)=>t.exists(v=>v!==l.owner)?Lh.single(!0,P(l)):Mn(f,l.name).fold(()=>{throw new Error("Unknown placeholder component: "+l.name+`
Known: [`+_e(f)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(l,null,2))},v=>v.replace()),Ap=(t,s,l,f)=>Cg(l)&&l.uiType===Rh?Am(t,s,l,f):Lh.single(!1,P(l)),YS=(t,s,l,f)=>Ap(t,s,l,f).fold((w,_)=>{const L=Cg(l)?_(s,l.config,l.validated):_(s),I=Mn(L,"components").getOr([]),W=vt(I,X=>YS(t,s,X,f));return[{...L,components:W}]},(w,_)=>{if(Cg(l)){const L=_(s,l.config,l.validated);return l.validated.preprocess.getOr(mn)(L)}else return _(s)}),GS=(t,s,l,f)=>vt(l,v=>YS(t,s,v,f)),yI=(t,s)=>{let l=!1;const f=()=>l,v=()=>{if(l)throw new Error("Trying to use the same placeholder more than once: "+t);return l=!0,s},w=()=>s.fold((_,L)=>_,(_,L)=>_);return{name:P(t),required:w,used:f,replace:v}},UO=(t,s,l,f)=>{const v=Tt(f,(_,L)=>yI(L,_)),w=GS(t,s,l,v);return ot(v,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),w},Ew=Lh.single,kw=Lh.multiple,sT=P(Rh),Dw=pr.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Sg=wt("factory",{sketch:mn}),f0=wt("schema",[]),Ph=be("name"),Aw=se("pname","pname",Bl(t=>"<alloy."+_n(t.name)+">"),pn()),WO=ce("schema",()=>[qn("preprocess")]),Ow=wt("defaults",P({})),Mw=wt("overrides",P({})),rT=Yo([Sg,f0,Ph,Aw,Ow,Mw]),jO=Yo([Sg,f0,Ph,Ow,Mw]),jb=Yo([Sg,f0,Ph,Aw,Ow,Mw]),iT=Yo([Sg,WO,Ph,be("unit"),Aw,Ow,Mw]),Om=t=>t.fold(U.some,U.none,U.some,U.some),Zb=t=>{const s=l=>l.name;return t.fold(s,s,s,s)},Nw=t=>t.fold(mn,mn,mn,mn),Mm=(t,s)=>l=>{const f=S("Converting part type",s,l);return t(f)},Nu=Mm(Dw.required,rT),vd=Mm(Dw.external,jO),bd=Mm(Dw.optional,jb),Rw=Mm(Dw.group,iT),KS=P("entirety");var qb=Object.freeze({__proto__:null,required:Nu,external:vd,optional:bd,group:Rw,asNamedPart:Om,name:Zb,asCommon:Nw,original:KS});const Nm=(t,s,l,f)=>Ls(s.defaults(t,l,f),l,{uid:t.partUids[s.name]},s.overrides(t,l,f)),ZO=(t,s,l)=>{const f={},v={};return yt(l,w=>{w.fold(_=>{f[_.pname]=Ew(!0,(L,I,W)=>_.factory.sketch(Nm(L,_,I,W)))},_=>{const L=s.parts[_.name];v[_.name]=P(_.factory.sketch(Nm(s,_,L[KS()]),L))},_=>{f[_.pname]=Ew(!1,(L,I,W)=>_.factory.sketch(Nm(L,_,I,W)))},_=>{f[_.pname]=kw(!0,(L,I,W)=>{const X=L[_.name];return Yt(X,oe=>_.factory.sketch(Ls(_.defaults(L,oe,W),oe,_.overrides(L,oe))))})})}),{internals:P(f),externals:P(v)}},Hl=(t,s)=>{const l={};return yt(s,f=>{Om(f).each(v=>{const w=Lw(t,v.pname);l[v.name]=_=>{const L=S("Part: "+v.name+" in "+t,Yo(v.schema),_);return{...w,config:_,validated:L}}})}),l},Lw=(t,s)=>({uiType:sT(),owner:t,name:s}),Ju=(t,s,l)=>({uiType:sT(),owner:t,name:s,config:l,validated:{}}),aT=t=>vt(t,s=>s.fold(U.none,U.some,U.none,U.none).map(l=>xo(l.name,l.schema.concat([Wb(KS())]))).toArray()),lT=t=>Yt(t,Zb),xg=(t,s,l)=>ZO(t,s,l),Op=(t,s,l)=>UO(U.some(t),s,s.components,l),jr=(t,s,l)=>{const f=s.partUids[l];return t.getSystem().getByUid(f).toOptional()},mu=(t,s,l)=>jr(t,s,l).getOrDie("Could not find part: "+l),h0=(t,s,l)=>{const f={},v=s.partUids,w=t.getSystem();return yt(l,_=>{f[_]=P(w.getByUid(v[_]))}),f},Pw=(t,s)=>{const l=t.getSystem();return Tt(s.partUids,(f,v)=>P(l.getByUid(f)))},Iw=t=>_e(t.partUids),m0=(t,s,l)=>{const f={},v=s.partUids,w=t.getSystem();return yt(l,_=>{f[_]=P(w.getByUid(v[_]).getOrDie())}),f},cT=(t,s)=>{const l=lT(s);return uc(Yt(l,f=>({key:f,value:t+"-"+f})))},Rm=t=>se("partUids","partUids",$f(s=>cT(s.uid,t)),pn());var _g=Object.freeze({__proto__:null,generate:Hl,generateOne:Ju,schemas:aT,names:lT,substitutes:xg,components:Op,defaultUids:cT,defaultUidsSchema:Rm,getAllParts:Pw,getAllPartNames:Iw,getPart:jr,getPartOrDie:mu,getParts:h0,getPartsOrDie:m0});const XS=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Wd=(t,s,l,f=1)=>{const v=t*f,w=s*f,_=I=>Mn(l,I).getOr([]),L=(I,W,X)=>{const oe=At(XS,X);return{offset:$r(I,W),classesOn:vt(X,_),classesOff:vt(oe,_)}};return{southeast:()=>L(-t,s,["top","alignLeft"]),southwest:()=>L(t,s,["top","alignRight"]),south:()=>L(-t/2,s,["top","alignCentre"]),northeast:()=>L(-t,-s,["bottom","alignLeft"]),northwest:()=>L(t,-s,["bottom","alignRight"]),north:()=>L(-t/2,-s,["bottom","alignCentre"]),east:()=>L(t,-s/2,["valignCentre","left"]),west:()=>L(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>L(v,w,["top","alignLeft","inset"]),insetNorthwest:()=>L(-v,w,["top","alignRight","inset"]),insetNorth:()=>L(-v/2,w,["top","alignCentre","inset"]),insetSoutheast:()=>L(v,-w,["bottom","alignLeft","inset"]),insetSouthwest:()=>L(-v,-w,["bottom","alignRight","inset"]),insetSouth:()=>L(-v/2,-w,["bottom","alignCentre","inset"]),insetEast:()=>L(-v,-w/2,["valignCentre","right","inset"]),insetWest:()=>L(v,-w/2,["valignCentre","left","inset"])}},Yb=()=>Wd(0,0,{}),Dl=(t,s,l,f,v,w,_,L=!1)=>({x:t,y:s,bubble:l,direction:f,placement:v,restriction:w,label:`${_}-${v}`,alwaysFit:L}),Qu=pr.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Fw=(t,s,l,f,v,w,_,L,I)=>t.fold(s,l,f,v,w,_,L,I),uT=(t,s,l,f)=>t.fold(s,s,f,f,s,f,l,l),JS=(t,s,l,f)=>t.fold(s,f,s,f,l,l,s,f),Tg=Qu.southeast,Pv=Qu.southwest,QS=Qu.northeast,ex=Qu.northwest,p0=Qu.south,tx=Qu.north,Eg=Qu.east,Mp=Qu.west,dT=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Fc=(t,s)=>Bs(["left","right","top","bottom"],l=>Mn(s,l).map(f=>dT(t,f))),fT=(t,s,l)=>{const f=(I,W)=>s[I].map(X=>{const oe=I==="top"||I==="bottom",me=oe?l.top:l.left,Ne=(I==="left"||I==="top"?Math.max:Math.min)(X,W)+me;return oe?er(Ne,t.y,t.bottom):er(Ne,t.x,t.right)}).getOr(W),v=f("left",t.x),w=f("top",t.y),_=f("right",t.right),L=f("bottom",t.bottom);return il(v,w,_-v,L-w)},kg="layout",hT=t=>t.x,Bw=(t,s)=>t.x+t.width/2-s.width/2,nx=(t,s)=>t.x+t.width-s.width,g0=(t,s)=>t.y-s.height,ox=t=>t.y+t.height,mT=(t,s)=>t.y+t.height/2-s.height/2,pT=t=>t.x+t.width,v0=(t,s)=>t.x-s.width,zl=(t,s,l)=>Dl(hT(t),ox(t),l.southeast(),Tg(),"southeast",Fc(t,{left:1,top:3}),kg),aa=(t,s,l)=>Dl(nx(t,s),ox(t),l.southwest(),Pv(),"southwest",Fc(t,{right:0,top:3}),kg),Bc=(t,s,l)=>Dl(hT(t),g0(t,s),l.northeast(),QS(),"northeast",Fc(t,{left:1,bottom:2}),kg),Jl=(t,s,l)=>Dl(nx(t,s),g0(t,s),l.northwest(),ex(),"northwest",Fc(t,{right:0,bottom:2}),kg),fc=(t,s,l)=>Dl(Bw(t,s),g0(t,s),l.north(),tx(),"north",Fc(t,{bottom:2}),kg),Al=(t,s,l)=>Dl(Bw(t,s),ox(t),l.south(),p0(),"south",Fc(t,{top:3}),kg),$w=(t,s,l)=>Dl(pT(t),mT(t,s),l.east(),Eg(),"east",Fc(t,{left:0}),kg),Hw=(t,s,l)=>Dl(v0(t,s),mT(t,s),l.west(),Mp(),"west",Fc(t,{right:1}),kg),zw=()=>[zl,aa,Bc,Jl,Al,fc,$w,Hw],gT=()=>[aa,zl,Jl,Bc,Al,fc,$w,Hw],Vw=()=>[Bc,Jl,zl,aa,fc,Al],vT=()=>[Jl,Bc,aa,zl,fc,Al],Iv=()=>[zl,aa,Bc,Jl,Al,fc],sx=()=>[aa,zl,Jl,Bc,Al,fc],Fv="data-alloy-placement",Uw=(t,s)=>{Io(t,Fv,s)},rx=t=>_l(t,Fv),Ww=t=>Di(t,Fv),Ih="layout-inset",b0=t=>t.x,ix=(t,s)=>t.x+t.width/2-s.width/2,Gb=(t,s)=>t.x+t.width-s.width,y0=t=>t.y,jw=(t,s)=>t.y+t.height-s.height,ax=(t,s)=>t.y+t.height/2-s.height/2,qf=(t,s,l)=>Dl(Gb(t,s),jw(t,s),l.insetSouthwest(),ex(),"southwest",Fc(t,{right:0,bottom:3}),Ih),Lm=(t,s,l)=>Dl(b0(t),jw(t,s),l.insetSoutheast(),QS(),"southeast",Fc(t,{left:1,bottom:3}),Ih),Kb=(t,s,l)=>Dl(Gb(t,s),y0(t),l.insetNorthwest(),Pv(),"northwest",Fc(t,{right:0,top:2}),Ih),It=(t,s,l)=>Dl(b0(t),y0(t),l.insetNortheast(),Tg(),"northeast",Fc(t,{left:1,top:2}),Ih),ed=(t,s,l)=>Dl(ix(t,s),y0(t),l.insetNorth(),p0(),"north",Fc(t,{top:2}),Ih),Xb=(t,s,l)=>Dl(ix(t,s),jw(t,s),l.insetSouth(),tx(),"south",Fc(t,{bottom:3}),Ih),w0=(t,s,l)=>Dl(Gb(t,s),ax(t,s),l.insetEast(),Mp(),"east",Fc(t,{right:0}),Ih),Zw=(t,s,l)=>Dl(b0(t),ax(t,s),l.insetWest(),Eg(),"west",Fc(t,{left:1}),Ih),Fh=t=>{switch(t){case"north":return ed;case"northeast":return It;case"northwest":return Kb;case"south":return Xb;case"southeast":return Lm;case"southwest":return qf;case"east":return w0;case"west":return Zw}},pu=(t,s,l,f,v)=>rx(f).map(Fh).getOr(ed)(t,s,l,f,v),C0=t=>{switch(t){case"north":return Xb;case"northeast":return Lm;case"northwest":return qf;case"south":return ed;case"southeast":return It;case"southwest":return Kb;case"east":return Zw;case"west":return w0}},bT=(t,s,l,f,v)=>rx(f).map(C0).getOr(ed)(t,s,l,f,v),qw=(t,s)=>{Zu(t,Math.floor(s))},yT=P((t,s)=>{qw(t,s),xr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Bv=P((t,s)=>{qw(t,s)}),lx=P((t,s)=>{ig(t,Math.floor(s))});var Pm;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Pm||(Pm={}));const cx="data-alloy-vertical-dir",wT=t=>uf(t,s=>Yl(s)&&za(s,"data-alloy-vertical-dir")===Pm.BottomToTop);var gu;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(gu||(gu={}));const Bh={init:()=>yd({readState:P("No State required")})},yd=t=>t,Yw={can:Ze,abort:wn,run:xe},Jb=t=>{if(!Mo(t,"can")&&!Mo(t,"abort")&&!Mo(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Yw,...t}},CT=(t,s)=>(...l)=>js(t,(f,v)=>f&&s(v).apply(void 0,l),!0),qO=(t,s)=>(...l)=>js(t,(f,v)=>f||s(v).apply(void 0,l),!1),ux=t=>Ce(t)?{can:Ze,abort:wn,run:t}:t,ST=t=>{const s=CT(t,v=>v.can),l=qO(t,v=>v.abort);return{can:s,abort:l,run:(...v)=>{yt(t,w=>{w.run.apply(void 0,v)})}}},Ys=(t,s)=>{dx(t,t.element,s,{})},$o=(t,s,l)=>{dx(t,t.element,s,l)},S0=t=>{Ys(t,pd())},Gw=(t,s,l)=>{dx(t,s,l,{})},dx=(t,s,l,f)=>{const v={target:s,...f};t.getSystem().triggerEvent(l,s,v)},YO=(t,s,l,f)=>{const v={...f,target:s};t.getSystem().triggerEvent(l,s,v)},fx=(t,s,l,f)=>{t.getSystem().triggerEvent(l,s,f.event)},la=t=>uc(t),Kw=(t,s)=>({key:t,value:Jb({abort:s})}),x0=(t,s)=>({key:t,value:Jb({can:s})}),$v=t=>({key:t,value:Jb({run:(s,l)=>{l.event.prevent()}})}),Wt=(t,s)=>({key:t,value:Jb({run:s})}),Xw=(t,s,l)=>({key:t,value:Jb({run:(f,v)=>{s.apply(void 0,[f,v].concat(l))}})}),xT=t=>s=>Wt(t,s),Jw=t=>s=>({key:t,value:Jb({run:(l,f)=>{bv(l,f)&&s(l,f)}})}),_T=(t,s)=>Wt(t,(l,f)=>{l.getSystem().getByUid(s).each(v=>{fx(v,v.element,t,f)})}),Np=(t,s,l)=>{const f=s.partUids[l];return _T(t,f)},Hv=(t,s)=>Wt(t,(l,f)=>{const v=f.event,w=l.getSystem().getByDom(v.target).getOrThunk(()=>Lc(v.target,L=>l.getSystem().getByDom(L).toOptional(),wn).getOr(l));s(l,w,f)}),zv=t=>Wt(t,(s,l)=>{l.cut()}),hx=t=>Wt(t,(s,l)=>{l.stop()}),Vv=(t,s)=>Jw(t)(s),ta=Jw(Nh()),$h=Jw(Dp()),TT=Jw(Cw()),Rp=xT(pd()),Yf=t=>({classes:je(t.classes)?[]:t.classes,attributes:je(t.attributes)?{}:t.attributes,styles:je(t.styles)?{}:t.styles}),GO=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),KO=(t,s,l)=>Rp(f=>{l(f,t,s)}),mx=(t,s,l)=>TT((f,v)=>{l(f,t,s)}),XO=(t,s,l,f,v,w)=>{const _=Wr(t),L=Ta(s,[El("config",t)]);return px(_,L,s,l,f,v,w)},JO=(t,s,l,f,v,w)=>{const _=t,L=Ta(s,[xs("config",t)]);return px(_,L,s,l,f,v,w)},QO=(t,s,l)=>Q_((v,...w)=>{const _=[v].concat(w);return v.config({name:P(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+l)},L=>{const I=Array.prototype.slice.call(_,1);return s.apply(void 0,[v,L.config,L.state].concat(I))})},l,s),eM=t=>({key:t,value:void 0}),px=(t,s,l,f,v,w,_)=>{const L=oe=>Mo(oe,l)?oe[l]():U.none(),I=Tt(v,(oe,me)=>QO(l,oe,me)),X={...Tt(w,(oe,me)=>tT(oe,me)),...I,revoke:ln(eM,l),config:oe=>{const me=S(l+"-config",t,oe);return{key:l,value:{config:me,me:X,configAsRaw:Sa(()=>S(l+"-config",t,oe)),initialConfig:oe,state:_}}},schema:P(s),exhibit:(oe,me)=>fa(L(oe),Mn(f,"exhibit"),(Oe,Ne)=>Ne(me,Oe.config,Oe.state)).getOrThunk(()=>Yf({})),name:P(l),handlers:oe=>L(oe).map(me=>Mn(f,"events").getOr(()=>({}))(me.config,me.state)).getOr({})};return X},On=t=>uc(t),ET=Wr([be("fields"),be("name"),wt("active",{}),wt("apis",{}),wt("state",Bh),wt("extra",{})]),xc=t=>{const s=S("Creating behaviour: "+t.name,ET,t);return XO(s.fields,s.name,s.active,s.apis,s.extra,s.state)},kT=Wr([be("branchKey"),be("branches"),be("name"),wt("active",{}),wt("apis",{}),wt("state",Bh),wt("extra",{})]),DT=t=>{const s=S("Creating behaviour: "+t.name,kT,t);return JO(z(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},AT=P(void 0),tM=(t,s)=>{const l=la(s);return xc({fields:[be("enabled")],name:t,active:{events:P(l)}})},hs=(t,s)=>{const l=tM(t,s);return{key:t,value:{config:{},me:l,configAsRaw:P({}),initialConfig:{},state:Bh}}},gx=t=>({init:()=>{const l=Pn(t);return{get:()=>l.get(),set:L=>l.set(L),clear:()=>l.set(t),readState:()=>l.get()}}}),OT=(t,s)=>{s.ignore||(sl(t.element),s.onFocus(t))};var MT=Object.freeze({__proto__:null,focus:OT,blur:(t,s)=>{s.ignore||zi(t.element)},isFocused:t=>wc(t.element)}),NT=Object.freeze({__proto__:null,exhibit:(t,s)=>{const l=s.ignore?{}:{attributes:{tabindex:"-1"}};return Yf(l)},events:t=>la([Wt(Dm(),(s,l)=>{OT(s,t),l.stop()})].concat(t.stopMousedown?[Wt(Mu(),(s,l)=>{l.event.prevent()})]:[]))}),vx=[Ar("onFocus"),wt("stopMousedown",!1),wt("ignore",!1)];const ps=xc({fields:vx,name:"focusing",active:NT,apis:MT}),bx=[8],Lp=[9],jd=[13],so=[27],vu=[32],_0=[37],T0=[38],Qw=[39],Qb=[40],E0=P("tooltipping.close.all"),Pp=P("dismiss.popups"),nu=P("reposition.popups"),Im=P("mouse.released"),sM=(t,s,l)=>{const f=Ns(t.slice(0,s)),v=Ns(t.slice(s+1));return fo(f.concat(v),l)},$c=(t,s,l)=>{const f=Ns(t.slice(0,s));return fo(f,l)},e1=(t,s,l)=>{const f=t.slice(0,s),v=t.slice(s+1);return fo(v.concat(f),l)},rM=(t,s,l)=>{const f=t.slice(s+1);return fo(f,l)},Tr=t=>s=>{const l=s.raw;return us(t,l.which)},Hh=t=>s=>Un(t,l=>l(s)),Uv=t=>t.raw.shiftKey===!0,SI=t=>t.raw.ctrlKey===!0,Wv=et(Uv),Or=(t,s)=>({matches:t,classification:s}),xI=(t,s)=>fo(t,f=>f.matches(s)).map(f=>f.classification),RT=(t,s,l,f)=>{const v=fl(t.element,"."+s.highlightClass);yt(v,w=>{Er(f,L=>fe(L.element,w))||(Ui(w,s.highlightClass),t.getSystem().getByDom(w).each(L=>{s.onDehighlight(t,L),Ys(L,xw())}))})},_I=(t,s,l)=>RT(t,s,l,[]),TI=(t,s,l,f)=>{D0(t,s,l,f)&&(Ui(f.element,s.highlightClass),s.onDehighlight(t,f),Ys(f,xw()))},k0=(t,s,l,f)=>{RT(t,s,l,[f]),D0(t,s,l,f)||(Hr(f.element,s.highlightClass),s.onHighlight(t,f),Ys(f,Rv()))},iM=(t,s,l)=>{A0(t,s).each(f=>{k0(t,s,l,f)})},EI=(t,s,l)=>{wx(t,s).each(f=>{k0(t,s,l,f)})},eC=(t,s,l,f)=>{aM(t,s,l,f).fold(v=>{throw v},v=>{k0(t,s,l,v)})},yx=(t,s,l,f)=>{const v=FT(t,s);fo(v,f).each(_=>{k0(t,s,l,_)})},D0=(t,s,l,f)=>Ua(f.element,s.highlightClass),LT=(t,s,l)=>Ur(t.element,"."+s.highlightClass).bind(f=>t.getSystem().getByDom(f).toOptional()),aM=(t,s,l,f)=>{const v=fl(t.element,"."+s.itemClass);return U.from(v[f]).fold(()=>io.error(new Error("No element found with index "+f)),t.getSystem().getByDom)},A0=(t,s,l)=>Ur(t.element,"."+s.itemClass).bind(f=>t.getSystem().getByDom(f).toOptional()),wx=(t,s,l)=>{const f=fl(t.element,"."+s.itemClass);return(f.length>0?U.some(f[f.length-1]):U.none()).bind(w=>t.getSystem().getByDom(w).toOptional())},Cx=(t,s,l,f)=>{const v=fl(t.element,"."+s.itemClass);return Ws(v,_=>Ua(_,s.highlightClass)).bind(_=>{const L=Rs(_,f,0,v.length-1);return t.getSystem().getByDom(v[L]).toOptional()})},PT=(t,s,l)=>Cx(t,s,l,-1),IT=(t,s,l)=>Cx(t,s,l,1),FT=(t,s,l)=>{const f=fl(t.element,"."+s.itemClass);return gi(Yt(f,v=>t.getSystem().getByDom(v).toOptional()))};var Sx=Object.freeze({__proto__:null,dehighlightAll:_I,dehighlight:TI,highlight:k0,highlightFirst:iM,highlightLast:EI,highlightAt:eC,highlightBy:yx,isHighlighted:D0,getHighlighted:LT,getFirst:A0,getLast:wx,getPrevious:PT,getNext:IT,getCandidates:FT}),xx=[be("highlightClass"),be("itemClass"),Ar("onHighlight"),Ar("onDehighlight")];const zr=xc({fields:xx,name:"highlighting",apis:Sx}),BT=(t,s,l)=>{s.exists(v=>l.exists(w=>fe(w,v)))||$o(t,a0(),{prevFocus:s,newFocus:l})},tC=()=>{const t=l=>Ma(l.element);return{get:t,set:(l,f)=>{const v=t(l);l.getSystem().triggerFocus(f,l.element);const w=t(l);BT(l,v,w)}}},_x=()=>{const t=l=>zr.getHighlighted(l).map(f=>f.element);return{get:t,set:(l,f)=>{const v=t(l);l.getSystem().getByDom(f).fold(xe,_=>{zr.highlight(l,_)});const w=t(l);BT(l,v,w)}}},vf=(t,s,l,f,v)=>{const w=()=>t.concat([wt("focusManager",tC()),ji("focusInside","onFocus",_m(W=>us(["onFocus","onEnterOrSpace","onApi"],W)?io.value(W):io.error("Invalid value for focusInside"))),ia("handler",I),ia("state",s),ia("sendFocusIn",v)]),_=(W,X,oe,me,Oe)=>{const Ne=oe(W,X,me,Oe);return xI(Ne,X.event).bind(Ue=>Ue(W,X,me,Oe))},I={schema:w,processKey:_,toEvents:(W,X)=>{const oe=W.focusInside!==Zf.OnFocusMode?U.none():v(W).map(Ne=>Wt(Dm(),(Ue,Xe)=>{Ne(Ue,W,X),Xe.stop()})),me=(Ne,Ue)=>{const Xe=Tr(vu.concat(jd))(Ue.event);W.focusInside===Zf.OnEnterOrSpaceMode&&Xe&&bv(Ne,Ue)&&v(W).each(ze=>{ze(Ne,W,X),Ue.stop()})},Oe=[Wt(dc(),(Ne,Ue)=>{_(Ne,Ue,l,W,X).fold(()=>{me(Ne,Ue)},Xe=>{Ue.stop()})}),Wt(Ub(),(Ne,Ue)=>{_(Ne,Ue,f,W,X).each(Xe=>{Ue.stop()})})];return la(oe.toArray().concat(Oe))}};return I},$T=t=>{const s=[qn("onEscape"),qn("onEnter"),wt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),wt("firstTabstop",0),wt("useTabstopAt",Ze),qn("visibilitySelector")].concat([t]),l=(ze,it)=>{const ht=ze.visibilitySelector.bind(Dt=>ic(it,Dt)).getOr(it);return Ka(ht)>0},f=(ze,it)=>{const ht=fl(ze.element,it.selector),Dt=fs(ht,Rt=>l(it,Rt));return U.from(Dt[it.firstTabstop])},v=(ze,it)=>it.focusManager.get(ze).bind(ht=>ic(ht,it.selector)),w=(ze,it)=>l(ze,it)&&ze.useTabstopAt(it),_=(ze,it,ht)=>{f(ze,it).each(Dt=>{it.focusManager.set(ze,Dt)})},L=(ze,it,ht,Dt,Rt)=>Rt(it,ht,$n=>w(Dt,$n)).fold(()=>Dt.cyclic?U.some(!0):U.none(),$n=>(Dt.focusManager.set(ze,$n),U.some(!0))),I=(ze,it,ht,Dt)=>{const Rt=fs(fl(ze.element,ht.selector),$n=>l(ht,$n));return v(ze,ht).bind($n=>Ws(Rt,ln(fe,$n)).bind(bn=>L(ze,Rt,bn,ht,Dt)))},W=(ze,it,ht)=>{const Dt=ht.cyclic?sM:$c;return I(ze,it,ht,Dt)},X=(ze,it,ht)=>{const Dt=ht.cyclic?e1:rM;return I(ze,it,ht,Dt)},oe=ze=>ko(ze).bind(no).exists(it=>fe(it,ze)),me=(ze,it,ht)=>v(ze,ht).filter(Dt=>!ht.useTabstopAt(Dt)).bind(Dt=>(oe(Dt)?W:X)(ze,it,ht)),Oe=(ze,it,ht)=>ht.onEnter.bind(Dt=>Dt(ze,it)),Ne=(ze,it,ht)=>(ze.getSystem().broadcastOn([E0()],{closedTooltip:()=>{it.stop()}}),it.isStopped()?U.none():ht.onEscape.bind(Dt=>Dt(ze,it))),Ue=P([Or(Hh([Uv,Tr(Lp)]),W),Or(Tr(Lp),X),Or(Hh([Wv,Tr(jd)]),Oe)]),Xe=P([Or(Tr(so),Ne),Or(Tr(Lp),me)]);return vf(s,Bh.init,Ue,Xe,()=>U.some(_))};var Tx=$T(ce("cyclic",wn)),lM=$T(ce("cyclic",Ze));const Fm=t=>Ba("input")(t)&&za(t,"type")!=="radio"||Ba("textarea")(t),cM=(t,s,l)=>(Gw(t,l,pd()),U.some(!0)),O0=(t,s,l)=>Fm(l)&&Tr(vu)(s.event)?U.none():cM(t,s,l),M0=(t,s)=>U.some(!0),uM=[wt("execute",O0),wt("useSpace",!1),wt("useEnter",!0),wt("useControlEnter",!1),wt("useDown",!1)],Dg=(t,s,l)=>l.execute(t,s,t.element),nC=(t,s,l,f)=>{const v=l.useSpace&&!Fm(t.element)?vu:[],w=l.useEnter?jd:[],_=l.useDown?Qb:[],L=v.concat(w).concat(_);return[Or(Tr(L),Dg)].concat(l.useControlEnter?[Or(Hh([SI,Tr(jd)]),Dg)]:[])},HT=(t,s,l,f)=>l.useSpace&&!Fm(t.element)?[Or(Tr(vu),M0)]:[];var dM=vf(uM,Bh.init,nC,HT,()=>U.none());const zT=()=>{const t=Po();return yd({readState:()=>t.get().map(v=>({numRows:String(v.numRows),numColumns:String(v.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(v,w)=>{t.set({numRows:v,numColumns:w})},getNumRows:()=>t.get().map(v=>v.numRows),getNumColumns:()=>t.get().map(v=>v.numColumns)})};var VT=Object.freeze({__proto__:null,flatgrid:zT,init:t=>t.state(t)});const UT=t=>(s,l,f,v)=>{const w=t(s.element);return jv(w,s,l,f,v)},N0=(t,s)=>{const l=ag(t,s);return UT(l)},R0=(t,s)=>{const l=ag(s,t);return UT(l)},L0=t=>(s,l,f,v)=>jv(t,s,l,f,v),jv=(t,s,l,f,v)=>f.focusManager.get(s).bind(_=>t(s.element,_,f,v)).map(_=>(f.focusManager.set(s,_),!0)),oC=L0,P0=L0,Ip=L0,I0=(t,s)=>Ws(t,s).map(l=>({index:l,candidates:t})),Ex=(t,s,l)=>{const f=_=>fe(_,s),v=fl(t,l),w=fs(v,Fd);return I0(w,f)},sC=(t,s)=>Ws(t,l=>fe(s,l)),WT=(t,s,l,f)=>{const v=Math.floor(s/l),w=s%l;return f(v,w).bind(_=>{const L=_.row*l+_.column;return L>=0&&L<t.length?U.some(t[L]):U.none()})},jT=(t,s,l,f,v)=>WT(t,s,f,(w,_)=>{const I=w===l-1?t.length-w*f:f,W=Rs(_,v,0,I-1);return U.some({row:w,column:W})}),ZT=(t,s,l,f,v)=>WT(t,s,f,(w,_)=>{const L=Rs(w,v,0,l-1),W=L===l-1?t.length-L*f:f,X=er(_,0,W-1);return U.some({row:L,column:X})}),fM=(t,s,l,f)=>jT(t,s,l,f,1),rC=(t,s,l,f)=>jT(t,s,l,f,-1),t1=(t,s,l,f)=>ZT(t,s,l,f,-1),Zv=(t,s,l,f)=>ZT(t,s,l,f,1),qv=[be("selector"),wt("execute",O0),kl("onEscape"),wt("captureTab",!1),Tw()],qT=(t,s,l)=>{Ur(t.element,s.selector).each(f=>{s.focusManager.set(t,f)})},YT=(t,s)=>s.focusManager.get(t).bind(l=>ic(l,s.selector)),GT=(t,s,l,f)=>YT(t,l).bind(v=>l.execute(t,s,v)),iC=t=>(s,l,f,v)=>Ex(s,l,f.selector).bind(w=>t(w.candidates,w.index,v.getNumRows().getOr(f.initSize.numRows),v.getNumColumns().getOr(f.initSize.numColumns))),KT=(t,s,l)=>l.captureTab?U.some(!0):U.none(),hM=(t,s,l)=>l.onEscape(t,s),XT=iC(rC),aC=iC(fM),kx=iC(t1),lC=iC(Zv),Dx=P([Or(Tr(_0),N0(XT,aC)),Or(Tr(Qw),R0(XT,aC)),Or(Tr(T0),oC(kx)),Or(Tr(Qb),P0(lC)),Or(Hh([Uv,Tr(Lp)]),KT),Or(Hh([Wv,Tr(Lp)]),KT),Or(Tr(vu.concat(jd)),GT)]),mM=P([Or(Tr(so),hM),Or(Tr(vu),M0)]);var Ax=vf(qv,zT,Dx,mM,()=>U.some(qT));const JT=(t,s,l,f,v)=>{const w=L=>Oa(L)==="button"&&za(L,"disabled")==="disabled",_=(L,I,W)=>v(L,I,f,0,W.length-1,W[I],X=>w(W[X])?_(L,X,W):U.from(W[X]));return Ex(t,l,s).bind(L=>{const I=L.index,W=L.candidates;return _(I,I,W)})},QT=(t,s,l,f)=>JT(t,s,l,f,(v,w,_,L,I,W,X)=>{const oe=er(w+_,L,I);return oe===v?U.from(W):X(oe)}),F0=(t,s,l,f)=>JT(t,s,l,f,(v,w,_,L,I,W,X)=>{const oe=Rs(w,_,L,I);return oe===v?U.none():X(oe)}),pM=[be("selector"),wt("getInitial",U.none),wt("execute",O0),kl("onEscape"),wt("executeOnMove",!1),wt("allowVertical",!0),wt("allowHorizontal",!0),wt("cycles",!0)],Ox=(t,s)=>s.focusManager.get(t).bind(l=>ic(l,s.selector)),Mx=(t,s,l)=>Ox(t,l).bind(f=>l.execute(t,s,f)),gM=(t,s,l)=>{s.getInitial(t).orThunk(()=>Ur(t.element,s.selector)).each(f=>{s.focusManager.set(t,f)})},vM=(t,s,l)=>(l.cycles?F0:QT)(t,l.selector,s,-1),Yv=(t,s,l)=>(l.cycles?F0:QT)(t,l.selector,s,1),eE=t=>(s,l,f,v)=>t(s,l,f,v).bind(()=>f.executeOnMove?Mx(s,l,f):U.some(!0)),tE=(t,s,l)=>l.onEscape(t,s),bM=(t,s,l,f)=>{const v=[...l.allowHorizontal?_0:[]].concat(l.allowVertical?T0:[]),w=[...l.allowHorizontal?Qw:[]].concat(l.allowVertical?Qb:[]);return[Or(Tr(v),eE(N0(vM,Yv))),Or(Tr(w),eE(R0(vM,Yv))),Or(Tr(jd),Mx),Or(Tr(vu),Mx)]},yM=P([Or(Tr(vu),M0),Or(Tr(so),tE)]);var wM=vf(pM,Bh.init,bM,yM,()=>U.some(gM));const cC=(t,s,l)=>U.from(t[s]).bind(f=>U.from(f[l]).map(v=>({rowIndex:s,columnIndex:l,cell:v}))),B0=(t,s,l,f)=>{const w=t[s].length,_=Rs(l,f,0,w-1);return cC(t,s,_)},Nx=(t,s,l,f)=>{const v=Rs(l,f,0,t.length-1),w=t[v].length,_=er(s,0,w-1);return cC(t,v,_)},$0=(t,s,l,f)=>{const w=t[s].length,_=er(l+f,0,w-1);return cC(t,s,_)},nE=(t,s,l,f)=>{const v=er(l+f,0,t.length-1),w=t[v].length,_=er(s,0,w-1);return cC(t,v,_)},H0=(t,s,l)=>B0(t,s,l,1),CM=(t,s,l)=>B0(t,s,l,-1),uC=(t,s,l)=>Nx(t,l,s,-1),SM=(t,s,l)=>Nx(t,l,s,1),oE=(t,s,l)=>$0(t,s,l,-1),DI=(t,s,l)=>$0(t,s,l,1),xM=(t,s,l)=>nE(t,l,s,-1),Gv=(t,s,l)=>nE(t,l,s,1),dC=[xo("selectors",[be("row"),be("cell")]),wt("cycles",!0),wt("previousSelector",U.none),wt("execute",O0)],fC=(t,s,l)=>{s.previousSelector(t).orThunk(()=>{const v=s.selectors;return Ur(t.element,v.cell)}).each(v=>{s.focusManager.set(t,v)})},sE=(t,s,l)=>Ma(t.element).bind(f=>l.execute(t,s,f)),_M=(t,s)=>Yt(t,l=>fl(l,s.selectors.cell)),hC=(t,s)=>(l,f,v)=>{const w=v.cycles?t:s;return ic(f,v.selectors.row).bind(_=>{const L=fl(_,v.selectors.cell);return sC(L,f).bind(I=>{const W=fl(l,v.selectors.row);return sC(W,_).bind(X=>{const oe=_M(W,v);return w(oe,X,I).map(me=>me.cell)})})})},rE=hC(CM,oE),iE=hC(H0,DI),mC=hC(uC,xM),Bm=hC(SM,Gv),aE=P([Or(Tr(_0),N0(rE,iE)),Or(Tr(Qw),R0(rE,iE)),Or(Tr(T0),oC(mC)),Or(Tr(Qb),P0(Bm)),Or(Tr(vu.concat(jd)),sE)]),TM=P([Or(Tr(vu),M0)]);var EM=vf(dC,Bh.init,aE,TM,()=>U.some(fC));const kM=[be("selector"),wt("execute",O0),wt("moveOnTab",!1)],n1=(t,s,l)=>l.focusManager.get(t).bind(f=>l.execute(t,s,f)),lE=(t,s,l)=>{Ur(t.element,s.selector).each(f=>{s.focusManager.set(t,f)})},Rx=(t,s,l)=>F0(t,l.selector,s,-1),pC=(t,s,l)=>F0(t,l.selector,s,1),zh=(t,s,l,f)=>l.moveOnTab?Ip(Rx)(t,s,l,f):U.none(),z0=(t,s,l,f)=>l.moveOnTab?Ip(pC)(t,s,l,f):U.none(),$m=P([Or(Tr(T0),Ip(Rx)),Or(Tr(Qb),Ip(pC)),Or(Hh([Uv,Tr(Lp)]),zh),Or(Hh([Wv,Tr(Lp)]),z0),Or(Tr(jd),n1),Or(Tr(vu),n1)]),gC=P([Or(Tr(vu),M0)]);var cE=vf(kM,Bh.init,$m,gC,()=>U.some(lE));const uE=[kl("onSpace"),kl("onEnter"),kl("onShiftEnter"),kl("onLeft"),kl("onRight"),kl("onTab"),kl("onShiftTab"),kl("onUp"),kl("onDown"),kl("onEscape"),wt("stopSpaceKeyup",!1),qn("focusIn")],DM=(t,s,l)=>[Or(Tr(vu),l.onSpace),Or(Hh([Wv,Tr(jd)]),l.onEnter),Or(Hh([Uv,Tr(jd)]),l.onShiftEnter),Or(Hh([Uv,Tr(Lp)]),l.onShiftTab),Or(Hh([Wv,Tr(Lp)]),l.onTab),Or(Tr(T0),l.onUp),Or(Tr(Qb),l.onDown),Or(Tr(_0),l.onLeft),Or(Tr(Qw),l.onRight),Or(Tr(vu),l.onSpace)],dE=(t,s,l)=>[...l.stopSpaceKeyup?[Or(Tr(vu),M0)]:[],Or(Tr(so),l.onEscape)];var AM=vf(uE,Bh.init,DM,dE,t=>t.focusIn);const OM=Tx.schema(),MM=lM.schema(),o1=wM.schema(),V0=Ax.schema(),fE=EM.schema(),U0=dM.schema(),NM=cE.schema(),RM=AM.schema();var Hm=Object.freeze({__proto__:null,acyclic:OM,cyclic:MM,flow:o1,flatgrid:V0,matrix:fE,execution:U0,menu:NM,special:RM});const Vh=t=>Mo(t,"setGridSize"),No=DT({branchKey:"mode",branches:Hm,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,l)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},f=>{f(t,s,l)})},setGridSize:(t,s,l,f,v)=>{Vh(l)?l.setGridSize(f,v):console.error("Layout does not support setGridSize")}},state:VT}),W0=_n("alloy-premade"),hE=t=>(Object.defineProperty(t.element.dom,W0,{value:t.uid,writable:!0}),Ou(W0,t)),mE=t=>go(t.dom,W0),Kv=t=>Mn(t,W0),Fp=t=>bI((s,...l)=>t(s.getApis(),s,...l),t),j0=t=>t.getSystem().isConnected(),s1=t=>{Ys(t,Dp());const s=t.components();yt(s,s1)},Uh=t=>{const s=t.components();yt(s,Uh),Ys(t,Nh())},r1=(t,s)=>{t.getSystem().addToWorld(s),Sr(t.element)&&Uh(s)},Lx=t=>{s1(t),t.getSystem().removeFromWorld(t)},vC=(t,s)=>{xl(t.element,s.element)},Z0=t=>{yt(t.components(),s=>Kl(s.element)),Mf(t.element),t.syncComponents()},pE=(t,s,l)=>{const f=t.components();Z0(t);const v=l(s),w=At(f,v);yt(w,_=>{s1(_),t.getSystem().removeFromWorld(_)}),yt(v,_=>{j0(_)?vC(t,_):(t.getSystem().addToWorld(_),vC(t,_),Sr(t.element)&&Uh(_))}),t.syncComponents()},wd=(t,s,l)=>{const f=t.components(),v=vt(s,L=>Kv(L).toArray());yt(f,L=>{us(v,L)||Lx(L)});const w=l(s),_=At(f,w);yt(_,L=>{j0(L)&&Lx(L)}),yt(w,L=>{j0(L)||r1(t,L)}),t.syncComponents()},zm=(t,s)=>{Xv(t,s,xl)},Xv=(t,s,l)=>{t.getSystem().addToWorld(s),l(t.element,s.element),Sr(t.element)&&Uh(s),t.syncComponents()},Gf=t=>{s1(t),Kl(t.element),t.getSystem().removeFromWorld(t)},Vm=t=>{const s=vn(t.element).bind(l=>t.getSystem().getByDom(l).toOptional());Gf(t),s.each(l=>{l.syncComponents()})},q0=t=>{const s=t.components();yt(s,Gf),Mf(t.element),t.syncComponents()},Y0=(t,s)=>{Px(t,s,xl)},Um=(t,s)=>{Px(t,s,uv)},Px=(t,s,l)=>{l(t,s.element);const f=$s(s.element);yt(f,v=>{s.getByDom(v).each(Uh)})},gE=t=>{const s=$s(t.element);yt(s,l=>{t.getByDom(l).each(s1)}),Kl(t.element)},G0=(t,s,l)=>fr(t,s).map(v=>{if(l.exists(_=>!fe(_,v))){const _=l.map(Oa).getOr("span"),L=Tn.fromTag(_);return ud(v,L),L}else return v}),Wh=(t,s,l)=>{l.fold(()=>xl(t,s),f=>{fe(f,s)||(ud(f,s),Kl(f))})},vE=(t,s,l)=>{const f=Yt(s,l),v=$s(t);return yt(v.slice(f.length),Kl),f},LM=(t,s,l,f)=>{const v=fr(t,s),w=f(l,v),_=G0(t,s,v);return Wh(t,w.element,_),w},PM=(t,s,l)=>vE(t,s,(f,v)=>LM(t,v,f,l)),bE=(t,s)=>vE(t,s,(l,f)=>{const v=fr(t,f);return Wh(t,l,v),l}),Jv=(t,s)=>{const l=Ii(s),f=qa(l).bind(w=>{const _=L=>fe(w,L);return _(s)?U.some(s):pm(s,_)}),v=t(s);return f.each(w=>{qa(l).filter(_=>fe(_,w)).fold(()=>{sl(w)},xe)}),v},yE=(t,s)=>{Jv(()=>{pE(t,s,()=>Yt(s,t.getSystem().build))},t.element)},wE=(t,s)=>{Jv(()=>{wd(t,s,()=>PM(t.element,s,t.getSystem().buildOrPatch))},t.element)},Cd=(t,s,l,f)=>{Lx(s);const v=LM(t.element,l,f,t.getSystem().buildOrPatch);r1(t,v),t.syncComponents()},Ag=(t,s,l)=>{const f=t.getSystem().build(l);Xv(t,f,s)},bC=(t,s,l,f)=>{Vm(s),Ag(t,(v,w)=>hp(v,w,l),f)},i1=(t,s,l,f)=>(s.reuseDom?wE:yE)(t,f),td=(t,s,l,f)=>{Ag(t,xl,f)},_c=(t,s,l,f)=>{Ag(t,sg,f)},Tc=(t,s,l,f)=>{const v=Sd(t);fo(v,_=>fe(f.element,_.element)).each(Vm)},Sd=(t,s)=>t.components(),yC=(t,s,l,f,v)=>{const w=Sd(t);return U.from(w[f]).map(_=>(v.fold(()=>Vm(_),L=>{(s.reuseDom?Cd:bC)(t,_,f,L)}),_))};var Og=Object.freeze({__proto__:null,append:td,prepend:_c,remove:Tc,replaceAt:yC,replaceBy:(t,s,l,f,v)=>{const w=Sd(t);return Ws(w,f).bind(_=>yC(t,s,l,_,v))},set:i1,contents:Sd});const Cs=xc({fields:[Zi("reuseDom",!0)],name:"replacing",apis:Og}),Ix=(t,s,l)=>fe(s,t.element)&&!fe(s,l),Wm=la([x0(Dm(),(t,s)=>{const l=s.event,f=l.originator,v=l.target;return Ix(t,f,v)?(console.warn(Dm()+` did not get interpreted by the desired target. 
Originator: `+pf(f)+`
Target: `+pf(v)+`
Check the `+Dm()+" event handlers"),!1):!0})]);var CE=Object.freeze({__proto__:null,events:Wm});const SE=P("alloy-id-"),wC=P("data-alloy-id"),xE=SE(),_E=wC(),TE=(t,s)=>{const l=_n(xE+t);return CC(s,l),l},CC=(t,s)=>{Object.defineProperty(t.dom,_E,{value:s,writable:!0})},jh=t=>{const s=Yl(t)?t.dom[_E]:null;return U.from(s)},Qv=t=>_n(t),EE=mn,a1=t=>{const s=v=>`The component must be in a context to execute: ${v}`+(t?`
`+pf(t().element)+" is not in context.":""),l=v=>()=>{throw new Error(s(v))},f=v=>()=>{console.warn(s(v))};return{debugInfo:P("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:l("build"),buildOrPatch:l("buildOrPatch"),addToWorld:l("addToWorld"),removeFromWorld:l("removeFromWorld"),addToGui:l("addToGui"),removeFromGui:l("removeFromGui"),getByUid:l("getByUid"),getByDom:l("getByDom"),isConnected:wn}},kE=a1(),SC=(t,s)=>{const l=Yt(s,v=>Ta(v.name(),[be("config"),wt("state",Bh)])),f=m("component.behaviours",Yo(l),t.behaviours).fold(v=>{throw new Error(D(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},mn);return{list:s,data:Tt(f,v=>{const w=v.map(_=>({config:_.config,state:_.state.init(_.config)}));return P(w)})}},Ec=t=>t.list,IM=t=>t.data,Fx=(t,s)=>{const l={};return ot(t,(f,v)=>{ot(f,(w,_)=>{const L=Mn(l,_).getOr([]);l[_]=L.concat([s(v,w)])})}),l},FM=(t,s,l,f)=>{const v={...s};yt(l,X=>{v[X.name()]=X.exhibit(t,f)});const w=Fx(v,(X,oe)=>({name:X,modification:oe})),_=X=>ns(X,(oe,me)=>({...me.modification,...oe}),{}),L=ns(w.classes,(X,oe)=>oe.modification.concat(X),[]),I=_(w.attributes),W=_(w.styles);return Yf({classes:L,attributes:I,styles:W})},BM=(t,s,l,f)=>{try{const v=ir(l,(w,_)=>{const L=w[s],I=_[s],W=f.indexOf(L),X=f.indexOf(I);if(W===-1)throw new Error("The ordering for "+t+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(f,null,2));if(X===-1)throw new Error("The ordering for "+t+" does not have an entry for "+I+`.
Order specified: `+JSON.stringify(f,null,2));return W<X?-1:X<W?1:0});return io.value(v)}catch(v){return io.error([v])}},bf=(t,s)=>({handler:t,purpose:s}),AI=(t,s)=>({cHandler:t,purpose:s}),xC=(t,s)=>AI(ln.apply(void 0,[t.handler].concat(s)),t.purpose),Bp=t=>t.cHandler,Bx=(t,s)=>({name:t,handler:s}),l1=(t,s)=>{const l={};return yt(t,f=>{l[f.name()]=f.handlers(s)}),l},DE=(t,s,l)=>{const f={...l,...l1(s,t)};return Fx(f,Bx)},$x=(t,s,l,f)=>{const v=DE(t,l,f);return eb(v,s)},Hx=t=>{const s=ux(t);return(l,f,...v)=>{const w=[l,f].concat(v);s.abort.apply(void 0,w)?f.stop():s.can.apply(void 0,w)&&s.run.apply(void 0,w)}},AE=(t,s)=>io.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Yt(s,l=>l.name),null,2)]),_C=(t,s,l)=>{const f=s[l];return f?BM("Event: "+l,"name",t,f).map(v=>{const w=Yt(v,_=>_.handler);return ST(w)}):AE(l,t)},eb=(t,s)=>{const l=zs(t,(f,v)=>(f.length===1?io.value(f[0].handler):_C(f,s,v)).map(_=>{const L=Hx(_),I=f.length>1?fs(s[v],W=>Er(f,X=>X.name===W)).join(" > "):f[0].name;return Ou(v,bf(L,I))}));return Ic(l,{})},Xf="alloy.base.behaviour",OE=Yo([se("dom","dom",md(),Yo([be("tag"),wt("styles",{}),wt("classes",[]),wt("attributes",{}),qn("value"),qn("innerHtml")])),be("components"),be("uid"),wt("events",{}),wt("apis",{}),se("eventOrder","eventOrder",t0({[pd()]:["disabling",Xf,"toggling","typeaheadevents"],[Dm()]:[Xf,"focusing","keying"],[Cw()]:[Xf,"disabling","toggling","representing","tooltipping"],[kp()]:[Xf,"representing","streaming","invalidating"],[Dp()]:[Xf,"representing","item-events","toolbar-button-events","tooltipping"],[Mu()]:["focusing",Xf,"item-type-events"],[Tp()]:["focusing",Xf,"item-type-events"],[zf()]:["item-type-events","tooltipping"],[kv()]:["receiving","reflecting","tooltipping"]}),pn()),qn("domModification")]),$M=t=>m("custom.definition",OE,t),zx=t=>({...t.dom,uid:t.uid,domChildren:Yt(t.components,s=>s.element)}),TC=t=>t.domModification.fold(()=>Yf({}),Yf),Vx=t=>t.events,c1=(t,s)=>{const l=_e(t),f=_e(s),v=At(f,l),w=yn(t,(_,L)=>!go(s,L)||_!==s[L]).t;return{toRemove:v,toSet:w}},EC=(t,s)=>{const{class:l,style:f,...v}=cu(s),{toSet:w,toRemove:_}=c1(t.attributes,v),L=()=>{yt(_,ht=>Di(s,ht)),dv(s,w)},I=Ga(s),{toSet:W,toRemove:X}=c1(t.styles,I),oe=()=>{yt(X,ht=>qs(s,ht)),xr(s,W)},me=fg(s),Oe=At(me,t.classes),Ne=At(t.classes,me),Ue=()=>{fd(s,Ne),Ai(s,Oe)},Xe=ht=>{ju(s,ht)},ze=()=>{const ht=t.domChildren;bE(s,ht)},it=()=>{const ht=s,Dt=t.value.getOrUndefined();Dt!==ac(ht)&&Gu(ht,Dt??"")};return L(),Ue(),oe(),t.innerHtml.fold(ze,Xe),it(),s},Ux=t=>{const s=Tn.fromTag(t.tag);dv(s,t.attributes),fd(s,t.classes),xr(s,t.styles),t.innerHtml.each(f=>ju(s,f));const l=t.domChildren;return rg(s,l),t.value.each(f=>{Gu(s,f)}),s},ME=(t,s)=>{try{const l=EC(t,s);return U.some(l)}catch{return U.none()}},K0=t=>t.innerHtml.isSome()&&t.domChildren.length>0,HM=(t,s)=>{const l=v=>Oa(v)===t.tag&&!K0(t)&&!mE(v),f=s.filter(l).bind(v=>ME(t,v)).getOrThunk(()=>Ux(t));return CC(f,t.uid),f},zM=t=>{const s=Mn(t,"behaviours").getOr({});return vt(_e(s),l=>{const f=s[l];return Ee(f)?[f.me]:[]})},NE=(t,s)=>SC(t,s),tb=t=>{const s=zM(t);return NE(t,s)},Wx=(t,s,l)=>{const f=zx(t),v=TC(t),w={"alloy.base.modification":v},_=s.length>0?FM(l,w,s,f):v;return GO(f,_)},VM=(t,s,l)=>{const f={"alloy.base.behaviour":Vx(t)};return $x(l,t.eventOrder,s,f).getOrDie()},RE=(t,s)=>{const l=()=>ht,f=Pn(kE),v=x($M(t)),w=tb(t),_=Ec(w),L=IM(w),I=Wx(v,_,L),W=HM(I,s),X=VM(v,_,L),oe=Pn(v.components),me=Dt=>{f.set(Dt)},Oe=()=>{f.set(a1(l))},Ne=()=>{const Dt=$s(W),Rt=vt(Dt,$n=>f.get().getByDom($n).fold(()=>[],rr));oe.set(Rt)},Ue=Dt=>{const Rt=L;return(Ce(Rt[Dt.name()])?Rt[Dt.name()]:()=>{throw new Error("Could not find "+Dt.name()+" in "+JSON.stringify(t,null,2))})()},Xe=Dt=>Ce(L[Dt.name()]),ze=()=>v.apis,it=Dt=>L[Dt]().map(Rt=>Rt.state.readState()).getOr("not enabled"),ht={uid:t.uid,getSystem:f.get,config:Ue,hasConfigured:Xe,spec:t,readState:it,getApis:ze,connect:me,disconnect:Oe,element:W,syncComponents:Ne,components:oe.get,events:X};return ht},UM=(t,s)=>{const l=Mn(t,"components").getOr([]);return s.fold(()=>Yt(l,T),f=>Yt(l,(v,w)=>b(v,fr(f,w))))},LE=(t,s)=>{const{events:l,...f}=EE(t),v=UM(f,s),w={...f,events:{...CE,...l},components:v};return io.value(RE(w,s))},qi=t=>{const s=Tn.fromText(t);return nb({element:s})},nb=t=>{const s=S("external.component",Wr([be("element"),qn("uid")]),t),l=Pn(a1()),f=L=>{l.set(L)},v=()=>{l.set(a1(()=>_))},w=s.uid.getOrThunk(()=>Qv("external"));CC(s.element,w);const _={uid:w,getSystem:l.get,config:U.none,hasConfigured:wn,connect:f,disconnect:v,getApis:()=>({}),element:s.element,spec:t,readState:P("No state"),syncComponents:xe,components:P([]),events:{}};return hE(_)},jx=Qv,h=t=>go(t,"uid"),b=(t,s)=>Kv(t).getOrThunk(()=>{const l=h(t)?t:{uid:jx(""),...t};return LE(l,s).getOrDie()}),T=t=>b(t,U.none()),N=hE;var Te=Object.freeze({__proto__:null,block:(t,s,l,f)=>{Io(t.element,"aria-busy",!0);const v=s.getRoot(t).getOr(t),w=On([No.config({mode:"special",onTab:()=>U.some(!0),onShiftTab:()=>U.some(!0)}),ps.config({})]),_=f(v,w),L=v.getSystem().build(_);Cs.append(v,N(L)),L.hasConfigured(No)&&s.focus&&No.focusIn(L),l.isBlocked()||s.onBlock(t),l.blockWith(()=>Cs.remove(v,L))},unblock:(t,s,l)=>{Di(t.element,"aria-busy"),l.isBlocked()&&s.onUnblock(t),l.clear()},isBlocked:(t,s,l)=>l.isBlocked()}),$e=[Dr("getRoot",U.none),Zi("focus",!0),Ar("onBlock"),Ar("onUnblock")],St=Object.freeze({__proto__:null,init:()=>{const t=wu(),s=l=>{t.set({destroy:l})};return yd({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const dn=xc({fields:$e,name:"blocking",apis:Te,state:St});var Jn=Object.freeze({__proto__:null,getCurrent:(t,s,l)=>s.find(t)});const Fo=[be("find")],zt=xc({fields:Fo,name:"composing",apis:Jn});var Ts=Object.freeze({__proto__:null,getCoupled:(t,s,l,f)=>l.getOrCreate(t,s,f),getExistingCoupled:(t,s,l,f)=>l.getExisting(t,s,f)}),po=[nt("others",bg(io.value,pn()))],Kr=Object.freeze({__proto__:null,init:()=>{const t={},s=(w,_)=>{if(_e(w.others).length===0)throw new Error("Cannot find any known coupled components");return Mn(t,_)},l=(w,_,L)=>s(_,L).getOrThunk(()=>{const W=Mn(_.others,L).getOrDie("No information found for coupled component: "+L)(w),X=w.getSystem().build(W);return t[L]=X,X}),f=(w,_,L)=>s(_,L).orThunk(()=>(Mn(_.others,L).getOrDie("No information found for coupled component: "+L),U.none())),v=P({});return yd({readState:v,getExisting:f,getOrCreate:l})}});const gs=xc({fields:po,name:"coupling",apis:Ts,state:Kr}),pl=["input","button","textarea","select"],Zd=(t,s,l)=>{(s.disabled()?nd:Hp)(t,s)},$p=(t,s)=>s.useNative===!0&&us(pl,Oa(t.element)),Mg=t=>Ya(t.element,"disabled"),Ng=t=>{Io(t.element,"disabled","disabled")},wi=t=>{Di(t.element,"disabled")},Ru=t=>za(t.element,"aria-disabled")==="true",Lu=t=>{Io(t.element,"aria-disabled","true")},yf=t=>{Io(t.element,"aria-disabled","false")},nd=(t,s,l)=>{s.disableClass.each(v=>{Hr(t.element,v)}),($p(t,s)?Ng:Lu)(t),s.onDisabled(t)},Hp=(t,s,l)=>{s.disableClass.each(v=>{Ui(t.element,v)}),($p(t,s)?wi:yf)(t),s.onEnabled(t)},ou=(t,s)=>$p(t,s)?Mg(t):Ru(t);var u1=Object.freeze({__proto__:null,enable:Hp,disable:nd,isDisabled:ou,onLoad:Zd,set:(t,s,l,f)=>{(f?nd:Hp)(t,s)}}),WM=Object.freeze({__proto__:null,exhibit:(t,s)=>Yf({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>la([Kw(pd(),(l,f)=>ou(l,t)),mx(t,s,Zd)])}),jM=[Dr("disabled",wn),wt("useNative",!0),qn("disableClass"),Ar("onDisabled"),Ar("onEnabled")];const Ao=xc({fields:jM,name:"disabling",active:WM,apis:u1}),Jf=(t,s,l,f,v)=>{const w=_=>_+"px";return{position:t,left:s.map(w),top:l.map(w),right:f.map(w),bottom:v.map(w)}},PE=t=>({...t,position:U.some(t.position)}),kC=(t,s)=>{ri(t,PE(s))},IE=(t,s)=>{const l=t.element;Hr(l,s.transitionClass),Ui(l,s.fadeOutClass),Hr(l,s.fadeInClass),s.onShow(t)},J0=(t,s)=>{const l=t.element;Hr(l,s.transitionClass),Ui(l,s.fadeInClass),Hr(l,s.fadeOutClass),s.onHide(t)},YU=(t,s)=>t.y<s.bottom&&t.bottom>s.y,ZM=(t,s)=>t.y>=s.y,Q0=(t,s)=>t.bottom<=s.bottom,FE=(t,s,l)=>({location:"top",leftX:s,topY:l.bounds.y-t.y}),BE=(t,s,l)=>({location:"bottom",leftX:s,bottomY:t.bottom-l.bounds.bottom}),qM=t=>t.box.x-t.win.x,OI=(t,s,l)=>{const f=s.win,v=s.box,w=qM(s);return de(t,_=>{switch(_){case"bottom":return Q0(v,l.bounds)?U.none():U.some(BE(f,w,l));case"top":return ZM(v,l.bounds)?U.none():U.some(FE(f,w,l));default:return U.none()}}).getOr({location:"no-dock"})},MI=(t,s,l)=>Un(t,f=>{switch(f){case"bottom":return Q0(s,l.bounds);case"top":return ZM(s,l.bounds)}}),GU=(t,s)=>{const l=s.optScrollEnv.fold(P(t.bounds.y),f=>f.scrollElmTop+(t.bounds.y-f.currentScrollTop));return $r(t.bounds.x,l)},KU=(t,s)=>{const l=s.optScrollEnv.fold(P(t.y),f=>t.y+f.currentScrollTop-f.scrollElmTop);return $r(t.x,l)},YM=(t,s,l)=>l.getInitialPos().map(f=>{const v=GU(f,s);return{box:il(v.left,v.top,rl(t),Ka(t)),location:f.location}}),NI=(t,s,l,f,v)=>{const w=KU(s,l),_=il(w.left,w.top,s.width,s.height);f.setInitialPos({style:Ga(t),position:ui(t,"position")||"static",bounds:_,location:v.location})},XU=(t,s,l,f,v)=>{f.getInitialPos().fold(()=>NI(t,s,l,f,v),()=>xe)},RI=(t,s,l)=>l.getInitialPos().bind(f=>{switch(l.clearInitialPos(),f.position){case"static":return U.some({morph:"static"});case"absolute":const v=Cm(t).getOr(uu()),w=Xa(v),_=v.dom.scrollTop??0;return U.some({morph:"absolute",positionCss:Jf("absolute",Mn(f.style,"left").map(L=>s.x-w.x),Mn(f.style,"top").map(L=>s.y-w.y+_),Mn(f.style,"right").map(L=>w.right-s.right),Mn(f.style,"bottom").map(L=>w.bottom-s.bottom))});default:return U.none()}}),$E=(t,s,l)=>YM(t,s,l).filter(({box:f})=>MI(l.getModes(),f,s)).bind(({box:f})=>RI(t,f,l)),Zx=t=>{switch(t.location){case"top":return U.some({morph:"fixed",positionCss:Jf("fixed",U.some(t.leftX),U.some(t.topY),U.none(),U.none())});case"bottom":return U.some({morph:"fixed",positionCss:Jf("fixed",U.some(t.leftX),U.none(),U.none(),U.some(t.bottomY))});default:return U.none()}},JU=(t,s,l)=>{const f=Xa(t),v=cc(),w=OI(l.getModes(),{win:v,box:f},s);return w.location==="top"||w.location==="bottom"?(NI(t,f,s,l,w),Zx(w)):U.none()},$oe=(t,s,l)=>$E(t,s,l).orThunk(()=>s.optScrollEnv.bind(f=>YM(t,s,l)).bind(({box:f,location:v})=>{const w=cc(),_=qM({win:w,box:f}),L=v==="top"?FE(w,_,s):BE(w,_,s);return Zx(L)})),LI=(t,s,l)=>{const f=t.element;return pi(_i(f,"position"),"fixed")?$oe(f,s,l):JU(f,s,l)},QU=(t,s,l)=>{const f=t.element;return YM(f,s,l).bind(({box:v})=>RI(f,v,l))},e9=(t,s,l,f)=>{const v=Xa(t),w=cc(),_=qM({win:w,box:v}),L=f(w,_,s);return L.location==="bottom"||L.location==="top"?(XU(t,v,s,l,L),Zx(L)):U.none()},Qf=(t,s,l)=>{l.setDocked(!1),yt(["left","right","top","bottom","position"],f=>qs(t.element,f)),s.onUndocked(t)},GM=(t,s,l,f)=>{const v=f.position==="fixed";l.setDocked(v),kC(t.element,f),(v?s.onDocked:s.onUndocked)(t)},PI=(t,s,l,f,v=!1)=>{s.contextual.each(w=>{w.lazyContext(t).each(_=>{const L=YU(_,f.bounds);L!==l.isVisible()&&(l.setVisible(L),v&&!L?(fd(t.element,[w.fadeOutClass]),w.onHide(t)):(L?IE:J0)(t,w))})})},II=(t,s,l,f,v)=>{PI(t,s,l,f,!0),GM(t,s,l,v.positionCss)},t9=(t,s,l,f,v)=>{switch(v.morph){case"static":return Qf(t,s,l);case"absolute":return GM(t,s,l,v.positionCss);case"fixed":return II(t,s,l,f,v)}},n9=(t,s,l)=>{const f=s.lazyViewport(t);PI(t,s,l,f),LI(t,f,l).each(v=>{t9(t,s,l,f,v)})},DC=(t,s,l)=>{const f=t.element;l.setDocked(!1);const v=s.lazyViewport(t);QU(t,v,l).each(w=>{switch(w.morph){case"static":{Qf(t,s,l);break}case"absolute":{GM(t,s,l,w.positionCss);break}}}),l.setVisible(!0),s.contextual.each(w=>{Ai(f,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(t)}),AC(t,s,l)},AC=(t,s,l)=>{t.getSystem().isConnected()&&n9(t,s,l)},FI=(t,s,l)=>{l.isDocked()&&DC(t,s,l)},HE=t=>(s,l,f)=>{const v=l.lazyViewport(s);e9(s.element,v,f,t).each(_=>{II(s,l,f,v,_)})},zE=HE(FE),KM=HE(BE);var o9=Object.freeze({__proto__:null,refresh:AC,reset:FI,isDocked:(t,s,l)=>l.isDocked(),getModes:(t,s,l)=>l.getModes(),setModes:(t,s,l,f)=>l.setModes(f),forceDockToTop:zE,forceDockToBottom:KM}),s9=Object.freeze({__proto__:null,events:(t,s)=>la([Vv(Ud(),(l,f)=>{t.contextual.each(v=>{Ua(l.element,v.transitionClass)&&(Ai(l.element,[v.transitionClass,v.fadeInClass]),(s.isVisible()?v.onShown:v.onHidden)(l)),f.stop()})}),Wt(Ov(),(l,f)=>{AC(l,t,s)}),Wt(j_(),(l,f)=>{AC(l,t,s)}),Wt(Mv(),(l,f)=>{FI(l,t,s)})])}),r9=[Ta("contextual",[bt("fadeInClass"),bt("fadeOutClass"),bt("transitionClass"),An("lazyContext"),Ar("onShow"),Ar("onShown"),Ar("onHide"),Ar("onHidden")]),Dr("lazyViewport",()=>({bounds:cc(),optScrollEnv:U.none()})),ml("modes",["top","bottom"],xa),Ar("onDocked"),Ar("onUndocked")],VE=Object.freeze({__proto__:null,init:t=>{const s=Pn(!1),l=Pn(!0),f=Po(),v=Pn(t.modes),w=()=>`docked:  ${s.get()}, visible: ${l.get()}, modes: ${v.get().join(",")}`;return yd({isDocked:s.get,setDocked:s.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:l.get,setVisible:l.set,getModes:v.get,setModes:v.set,readState:w})}});const Ea=xc({fields:r9,name:"docking",active:s9,apis:o9,state:VE}),XM=pr.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),UE=t=>s=>s.translate(-t.left,-t.top),WE=t=>s=>s.translate(t.left,t.top),eh=t=>(s,l)=>js(t,(f,v)=>v(f),$r(s,l)),OC=(t,s,l)=>t.fold(eh([WE(l),UE(s)]),eh([UE(s)]),eh([])),MC=(t,s,l)=>t.fold(eh([WE(l)]),eh([]),eh([WE(s)])),jE=(t,s,l)=>t.fold(eh([]),eh([UE(l)]),eh([WE(s),UE(l)])),a9=(t,s,l,f,v,w)=>{const _=MC(t,v,w),L=MC(s,v,w);return Math.abs(_.left-L.left)<=l&&Math.abs(_.top-L.top)<=f},Qn=(t,s,l,f,v,w)=>{const _=MC(t,v,w),L=MC(s,v,w),I=Math.abs(_.left-L.left),W=Math.abs(_.top-L.top);return $r(I,W)},JM=(t,s,l)=>{const f=t.fold((v,w)=>({position:U.some("absolute"),left:U.some(v+"px"),top:U.some(w+"px")}),(v,w)=>({position:U.some("absolute"),left:U.some(v-l.left+"px"),top:U.some(w-l.top+"px")}),(v,w)=>({position:U.some("fixed"),left:U.some(v+"px"),top:U.some(w+"px")}));return{right:U.none(),bottom:U.none(),...f}},BI=(t,s,l)=>t.fold((f,v)=>ZE(f+s,v+l),(f,v)=>sb(f+s,v+l),(f,v)=>Rg(f+s,v+l)),ob=(t,s,l,f)=>{const v=(w,_)=>(L,I)=>{const W=w(s,l,f);return _(L.getOr(W.left),I.getOr(W.top))};return t.fold(v(jE,ZE),v(MC,sb),v(OC,Rg))},ZE=XM.offset,sb=XM.absolute,Rg=XM.fixed,qE=(t,s)=>{const l=za(t,s);return je(l)?NaN:parseInt(l,10)},l9=(t,s)=>{const l=t.element,f=qE(l,s.leftAttr),v=qE(l,s.topAttr);return isNaN(f)||isNaN(v)?U.none():U.some($r(f,v))},$I=(t,s,l)=>{const f=t.element;Io(f,s.leftAttr,l.left+"px"),Io(f,s.topAttr,l.top+"px")},HI=(t,s)=>{const l=t.element;Di(l,s.leftAttr),Di(l,s.topAttr)},QM=(t,s,l,f)=>l9(t,s).fold(()=>l,v=>Rg(v.left+f.left,v.top+f.top)),c9=(t,s,l,f,v,w)=>{const _=QM(t,s,l,f),L=s.mustSnap?u9(t,s,_,v,w):UI(t,s,_,v,w),I=OC(_,v,w);return $I(t,s,I),L.fold(()=>({coord:Rg(I.left,I.top),extra:U.none()}),W=>({coord:W.output,extra:W.extra}))},zI=(t,s)=>{HI(t,s)},VI=(t,s,l,f)=>de(t,v=>{const w=v.sensor;return a9(s,w,v.range.left,v.range.top,l,f)?U.some({output:ob(v.output,s,l,f),extra:v.extra}):U.none()}),u9=(t,s,l,f,v)=>{const w=s.getSnapPoints(t);return VI(w,l,f,v).orThunk(()=>js(w,(I,W)=>{const X=W.sensor,oe=Qn(l,X,W.range.left,W.range.top,f,v);return I.deltas.fold(()=>({deltas:U.some(oe),snap:U.some(W)}),me=>{const Oe=(oe.left+oe.top)/2,Ne=(me.left+me.top)/2;return Oe<=Ne?{deltas:U.some(oe),snap:U.some(W)}:I})},{deltas:U.none(),snap:U.none()}).snap.map(I=>({output:ob(I.output,l,f,v),extra:I.extra})))},UI=(t,s,l,f,v)=>{const w=s.getSnapPoints(t);return VI(w,l,f,v)},d9=(t,s,l)=>({coord:ob(t.output,t.output,s,l),extra:t.extra});var eN=Object.freeze({__proto__:null,snapTo:(t,s,l,f)=>{const v=s.getTarget(t.element);if(s.repositionTarget){const w=Ke(t.element),_=ai(w),L=Sm(v),I=d9(f,_,L),W=JM(I.coord,_,L);ri(v,W)}}});const Hc=(t,s)=>Vd(t,{},Yt(s,l=>mo(l.name(),"Cannot configure "+l.name()+" for "+t)).concat([ce("dump",mn)])),ey=t=>t.dump,kc=(t,s)=>({...On(s),...t.dump}),wf={field:Hc,augment:kc,get:ey},Lg=(t,s)=>(t.length>0?[xo("parts",t)]:[]).concat([be("uid"),wt("dom",{}),wt("components",[]),Wb("originalSpec"),wt("debug.sketcher",{})]).concat(s),tN=(t,s,l,f,v)=>{const w=Lg(f,v);return S(t+" [SpecSchema]",Wr(w.concat(s)),l)},f9=(t,s,l,f)=>{const v=jI(f),w=tN(t,s,v,[],[]);return l(w,v)},WI=(t,s,l,f,v)=>{const w=jI(v),_=aT(l),L=Rm(l),I=tN(t,s,w,_,[L]),W=xg(t,I,l),X=Op(t,I,W.internals());return f(I,X,w,W.externals())},joe=t=>go(t,"uid"),jI=t=>joe(t)?t:{...t,uid:Qv("uid")},h9=t=>t.uid!==void 0,nN=Wr([be("name"),be("factory"),be("configFields"),wt("apis",{}),wt("extraApis",{})]),m9=Wr([be("name"),be("factory"),be("configFields"),be("partFields"),wt("apis",{}),wt("extraApis",{})]),th=t=>{const s=S("Sketcher for "+t.name,nN,t),l=w=>f9(s.name,s.configFields,s.factory,w),f=Tt(s.apis,Fp),v=Tt(s.extraApis,(w,_)=>tT(w,_));return{name:s.name,configFields:s.configFields,sketch:l,...f,...v}},_d=t=>{const s=S("Sketcher for "+t.name,m9,t),l=_=>WI(s.name,s.configFields,s.partFields,s.factory,_),f=Hl(s.name,s.partFields),v=Tt(s.apis,Fp),w=Tt(s.extraApis,(_,L)=>tT(_,L));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:l,parts:f,...v,...w}},zp=th({name:"Container",factory:t=>{const{attributes:s,...l}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...l},components:t.components,behaviours:ey(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[wt("components",[]),Hc("containerBehaviours",[]),wt("events",{}),wt("domModification",{}),wt("eventOrder",{})]}),oN="data-initial-z-index",ZI=t=>{vn(t.element).filter(Yl).each(s=>{_l(s,oN).fold(()=>qs(s,"z-index"),l=>vo(s,"z-index",l)),Di(s,oN)})},qI=t=>{vn(t.element).filter(Yl).each(s=>{_i(s,"z-index").each(l=>{Io(s,oN,l)}),vo(s,"z-index",ui(t.element,"z-index"))})},YI=(t,s)=>{t.getSystem().addToGui(s),qI(s)},GI=t=>{ZI(t),t.getSystem().removeFromGui(t)},KI=(t,s,l)=>t.getSystem().build(zp.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:l}));var sN=Ta("snaps",[be("getSnapPoints"),Ar("onSensor"),be("leftAttr"),be("topAttr"),wt("lazyViewport",cc),wt("mustSnap",!1)]);const YE=[wt("useFixed",wn),be("blockerClass"),wt("getTarget",mn),wt("onDrag",xe),wt("repositionTarget",!0),wt("onDrop",xe),Dr("getBounds",cc),sN],XI=t=>un(_i(t,"left"),_i(t,"top"),_i(t,"position"),(s,l,f)=>(f==="fixed"?Rg:ZE)(parseInt(s,10),parseInt(l,10))).getOrThunk(()=>{const s=ra(t);return sb(s.left,s.top)}),JI=(t,s,l,f,v)=>{const w=v.bounds,_=MC(s,l,f),L=er(_.left,w.x,w.x+w.width-v.width),I=er(_.top,w.y,w.y+w.height-v.height),W=sb(L,I);return s.fold(()=>{const X=jE(W,l,f);return ZE(X.left,X.top)},P(W),()=>{const X=OC(W,l,f);return Rg(X.left,X.top)})},g9=(t,s,l,f,v,w,_)=>{const L=s.fold(()=>{const I=BI(l,w.left,w.top),W=OC(I,f,v);return Rg(W.left,W.top)},I=>{const W=c9(t,I,l,w,f,v);return W.extra.each(X=>{I.onSensor(t,X)}),W.coord});return JI(t,L,f,v,_)},v9=(t,s,l,f)=>{const v=s.getTarget(t.element);if(s.repositionTarget){const w=Ke(t.element),_=ai(w),L=Sm(v),I=XI(v),W=g9(t,s.snaps,I,_,L,f,l),X=JM(W,_,L);ri(v,X)}s.onDrag(t,v,f)},QI=(t,s)=>({bounds:t.getBounds(),height:Ra(s.element),width:af(s.element)}),rN=(t,s,l,f,v)=>{const w=l.update(f,v),_=l.getStartData().getOrThunk(()=>QI(s,t));w.each(L=>{v9(t,s,_,L)})},eF=(t,s,l,f)=>{s.each(GI),l.snaps.each(w=>{zI(t,w)});const v=l.getTarget(t.element);f.reset(),l.onDrop(t,v)},ty=t=>(s,l)=>{const f=v=>{l.setStartData(QI(s,v))};return la([Wt(Ov(),v=>{l.getStartData().each(()=>f(v))}),...t(s,l,f)])},tF=t=>la([Wt(Mu(),t.forceDrop),Wt(vw(),t.drop),Wt(yg(),(s,l)=>{t.move(l.event)}),Wt(Xl(),t.delayDrop)]);var nF=Object.freeze({__proto__:null,getData:t=>U.from($r(t.x,t.y)),getDelta:(t,s)=>$r(s.left-t.left,s.top-t.top)});const iN=(t,s,l)=>[Wt(Mu(),(f,v)=>{if(v.event.raw.button!==0)return;v.stop();const _=()=>eF(f,U.some(W),t,s),L=zO(_,200),I={drop:_,delayDrop:L.schedule,forceDrop:_,move:oe=>{L.cancel(),rN(f,t,s,nF,oe)}},W=KI(f,t.blockerClass,tF(I));(()=>{l(f),YI(f,W)})()})],w9=[...YE,ia("dragger",{handlers:ty(iN)})],C9=t=>la([Wt(Tp(),t.forceDrop),Wt(_v(),t.drop),Wt(Vb(),t.drop),Wt(Ep(),(s,l)=>{t.move(l.event)})]),S9=t=>{const s=t[0];return U.some($r(s.clientX,s.clientY))};var qx=Object.freeze({__proto__:null,getData:t=>{const l=t.raw.touches;return l.length===1?S9(l):U.none()},getDelta:(t,s)=>$r(s.left-t.left,s.top-t.top)});const sF=(t,s,l)=>{const f=Po(),v=w=>{eF(w,f.get(),t,s),f.clear()};return[Wt(Tp(),(w,_)=>{_.stop();const L=()=>v(w),I={drop:L,delayDrop:xe,forceDrop:L,move:oe=>{rN(w,t,s,qx,oe)}},W=KI(w,t.blockerClass,C9(I));f.set(W),(()=>{l(w),YI(w,W)})()}),Wt(Ep(),(w,_)=>{_.stop(),rN(w,t,s,qx,_.event)}),Wt(_v(),(w,_)=>{_.stop(),v(w)}),Wt(Vb(),v)]},rF=[...YE,ia("dragger",{handlers:ty(sF)})],Pu=(t,s,l)=>[...iN(t,s,l),...sF(t,s,l)],x9=[...YE,ia("dragger",{handlers:ty(Pu)})];var iF=Object.freeze({__proto__:null,mouse:w9,touch:rF,mouseOrTouch:x9}),k9=Object.freeze({__proto__:null,init:()=>{let t=U.none(),s=U.none();const l=()=>{t=U.none(),s=U.none()},f=(I,W)=>{const X=t.map(oe=>I.getDelta(oe,W));return t=U.some(W),X},v=(I,W)=>I.getData(W).bind(X=>f(I,X)),w=I=>{s=U.some(I)},_=()=>s,L=P({});return yd({readState:L,reset:l,update:v,getStartData:_,setStartData:w})}});const ny=DT({branchKey:"mode",branches:iF,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:U.from(t.extra)})},state:k9,apis:eN}),D9=["input","textarea"],aF=t=>{const s=Oa(t);return us(D9,s)},aN=(t,s)=>{const l=s.getRoot(t).getOr(t.element);Ui(l,s.invalidClass),s.notify.each(f=>{aF(t.element)&&Io(t.element,"aria-invalid",!1),f.getContainer(t).each(v=>{ju(v,f.validHtml)}),f.onValid(t)})},lF=(t,s,l,f)=>{const v=s.getRoot(t).getOr(t.element);Hr(v,s.invalidClass),s.notify.each(w=>{aF(t.element)&&Io(t.element,"aria-invalid",!0),w.getContainer(t).each(_=>{ju(_,f)}),w.onInvalid(t,f)})},cF=(t,s,l)=>s.validator.fold(()=>or.pure(io.value(!0)),f=>f.validate(t)),GE=(t,s,l)=>(s.notify.each(f=>{f.onValidate(t)}),cF(t,s).map(f=>t.getSystem().isConnected()?f.fold(v=>(lF(t,s,l,v),io.error(v)),v=>(aN(t,s),io.value(v))):io.error("No longer in system")));var uF=Object.freeze({__proto__:null,markValid:aN,markInvalid:lF,query:cF,run:GE,isInvalid:(t,s)=>{const l=s.getRoot(t).getOr(t.element);return Ua(l,s.invalidClass)}}),O9=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(l=>la([Wt(l.onEvent,f=>{GE(f,t,s).get(mn)})].concat(l.validateOnLoad?[ta(f=>{GE(f,t,s).get(xe)})]:[]))).getOr({})}),M9=[be("invalidClass"),wt("getRoot",U.none),Ta("notify",[wt("aria","alert"),wt("getContainer",U.none),wt("validHtml",""),Ar("onValid"),Ar("onInvalid"),Ar("onValidate")]),Ta("validator",[be("validate"),wt("onEvent","input"),wt("validateOnLoad",!0)])];const lN=(t,s,l)=>{s.store.manager.onLoad(t,s,l)},cN=(t,s,l)=>{s.store.manager.onUnload(t,s,l)};var dF=Object.freeze({__proto__:null,onLoad:lN,onUnload:cN,setValue:(t,s,l,f)=>{s.store.manager.setValue(t,s,l,f)},getValue:(t,s,l)=>s.store.manager.getValue(t,s,l),getState:(t,s,l)=>l}),P9=Object.freeze({__proto__:null,events:(t,s)=>{const l=t.resetOnDom?[ta((f,v)=>{lN(f,t,s)}),$h((f,v)=>{cN(f,t,s)})]:[mx(t,s,lN)];return la(l)}});const sy=()=>{const t=Pn(null),s=()=>({mode:"memory",value:t.get()}),l=()=>t.get()===null,f=()=>{t.set(null)};return yd({set:t.set,get:t.get,isNotSet:l,clear:f,readState:s})},I9=()=>yd({readState:xe}),fF=()=>{const t=Pn({}),s=Pn({});return yd({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:_=>Mn(t.get(),_).orThunk(()=>Mn(s.get(),_)),update:_=>{const L=t.get(),I=s.get(),W={},X={};yt(_,oe=>{W[oe.value]=oe,Mn(oe,"meta").each(me=>{Mn(me,"text").each(Oe=>{X[Oe]=oe})})}),t.set({...L,...W}),s.set({...I,...X})},clear:()=>{t.set({}),s.set({})}})};var B9=Object.freeze({__proto__:null,memory:sy,dataset:fF,manual:I9,init:t=>t.store.manager.state(t)});const hF=(t,s,l,f)=>{const v=s.store;l.update([f]),v.setValue(t,f),s.onSetValue(t,f)},$9=(t,s,l)=>{const f=s.store,v=f.getDataKey(t);return l.lookup(v).getOrThunk(()=>f.getFallbackEntry(v))},mF=(t,s,l)=>{s.store.initialValue.each(v=>{hF(t,s,l,v)})},uN=(t,s,l)=>{l.clear()};var dN=[qn("initialValue"),be("getFallbackEntry"),be("getDataKey"),be("setValue"),ia("manager",{setValue:hF,getValue:$9,onLoad:mF,onUnload:uN,state:fF})];const H9=(t,s,l)=>s.store.getValue(t),d1=(t,s,l,f)=>{s.store.setValue(t,f),s.onSetValue(t,f)},pF=(t,s,l)=>{s.store.initialValue.each(f=>{s.store.setValue(t,f)})};var gF=[be("getValue"),wt("setValue",xe),qn("initialValue"),ia("manager",{setValue:d1,getValue:H9,onLoad:pF,onUnload:xe,state:Bh.init})];const z9=(t,s,l,f)=>{l.set(f),s.onSetValue(t,f)},V9=(t,s,l)=>l.get(),Yx=(t,s,l)=>{s.store.initialValue.each(f=>{l.isNotSet()&&l.set(f)})},Gx=(t,s,l)=>{l.clear()};var vF=[qn("initialValue"),ia("manager",{setValue:z9,getValue:V9,onLoad:Yx,onUnload:Gx,state:sy})],fN=[ji("store",{mode:"memory"},z("mode",{memory:vF,manual:gF,dataset:dN})),Ar("onSetValue"),wt("resetOnDom",!1)];const jn=xc({fields:fN,name:"representing",active:P9,apis:dF,extra:{setValueFrom:(t,s)=>{const l=jn.getValue(s);jn.setValue(t,l)}},state:B9}),Td=xc({fields:M9,name:"invalidating",active:O9,apis:uF,extra:{validation:t=>s=>{const l=jn.getValue(s);return or.pure(t(l))}}});var U9=Object.freeze({__proto__:null,exhibit:(t,s)=>Yf({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const KE=pr.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Pg=(t,s,l,f,v,w)=>{const _=s.rect,L=_.x-l,I=_.y-f,W=_.width,X=_.height,oe=v-(L+W),me=w-(I+X),Oe=U.some(L),Ne=U.some(I),Ue=U.some(oe),Xe=U.some(me),ze=U.none();return Fw(s.direction,()=>Jf(t,Oe,Ne,ze,ze),()=>Jf(t,ze,Ne,Ue,ze),()=>Jf(t,Oe,ze,ze,Xe),()=>Jf(t,ze,ze,Ue,Xe),()=>Jf(t,Oe,Ne,ze,ze),()=>Jf(t,Oe,ze,ze,Xe),()=>Jf(t,Oe,Ne,ze,ze),()=>Jf(t,ze,Ne,Ue,ze))},XE=(t,s)=>t.fold(()=>{const l=s.rect;return Jf("absolute",U.some(l.x),U.some(l.y),U.none(),U.none())},(l,f,v,w)=>Pg("absolute",s,l,f,v,w),(l,f,v,w)=>Pg("fixed",s,l,f,v,w)),hN=(t,s)=>{const l=ln(If,s),f=t.fold(l,l,()=>{const _=ai();return If(s).translate(-_.left,-_.top)}),v=af(s),w=Ra(s);return il(f.left,f.top,v,w)},bF=(t,s)=>s.fold(()=>t.fold(cc,cc,il),l=>t.fold(P(l),P(l),()=>{const f=mN(t,l.x,l.y);return il(f.left,f.top,l.width,l.height)})),mN=(t,s,l)=>{const f=$r(s,l),v=()=>{const w=ai();return f.translate(-w.left,-w.top)};return t.fold(P(f),P(f),v)},yF=(t,s,l,f)=>t.fold(s,l,f);KE.none;const pN=KE.relative,wF=KE.fixed,W9=(t,s)=>({anchorBox:t,origin:s}),j9=(t,s)=>W9(t,s),JE=pr.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),QE=(t,s)=>{const{x:l,y:f,right:v,bottom:w}=s,{x:_,y:L,right:I,bottom:W,width:X,height:oe}=t,me=_>=l&&_<=v,Oe=L>=f&&L<=w,Ne=me&&Oe,Ue=I<=v&&I>=l,Xe=W<=w&&W>=f,ze=Ue&&Xe,it=Math.min(X,_>=l?v-_:I-l),ht=Math.min(oe,L>=f?w-L:W-f);return{originInBounds:Ne,sizeInBounds:ze,visibleW:it,visibleH:ht}},gN=(t,s)=>{const{x:l,y:f,right:v,bottom:w}=s,{x:_,y:L,width:I,height:W}=t,X=Math.max(l,v-I),oe=Math.max(f,w-W),me=er(_,l,X),Oe=er(L,f,oe),Ne=Math.min(me+I,v)-me,Ue=Math.min(Oe+W,w)-Oe;return il(me,Oe,Ne,Ue)},ek=(t,s,l)=>{const f=P(s.bottom-l.y),v=P(l.bottom-s.y),w=uT(t,v,v,f),_=P(s.right-l.x),L=P(l.right-s.x);return{maxWidth:JS(t,L,L,_),maxHeight:w}},CF=(t,s,l,f)=>{const v=t.bubble,w=v.offset,_=fT(f,t.restriction,w),L=t.x+w.left,I=t.y+w.top,W=il(L,I,s,l),{originInBounds:X,sizeInBounds:oe,visibleW:me,visibleH:Oe}=QE(W,_),Ne=X&&oe,Ue=Ne?W:gN(W,_),Xe=Ue.width>0&&Ue.height>0,{maxWidth:ze,maxHeight:it}=ek(t.direction,Ue,f),ht={rect:Ue,maxHeight:it,maxWidth:ze,direction:t.direction,placement:t.placement,classes:{on:v.classesOn,off:v.classesOff},layout:t.label,testY:I};return Ne||t.alwaysFit?JE.fit(ht):JE.nofit(ht,me,Oe,Xe)},Z9=(t,s,l,f,v,w)=>{const _=f.width,L=f.height,I=(X,oe,me,Oe,Ne)=>{const Ue=X(l,f,v,t,w),Xe=CF(Ue,_,L,w);return Xe.fold(P(Xe),(ze,it,ht,Dt)=>(Ne===Dt?ht>Oe||it>me:!Ne&&Dt)?Xe:JE.nofit(oe,me,Oe,Ne))};return js(s,(X,oe)=>{const me=ln(I,oe);return X.fold(P(X),me)},JE.nofit({rect:l,maxHeight:f.height,maxWidth:f.width,direction:Tg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:l.y},-1,-1,!1)).fold(mn,mn)},vN=["top","bottom","right","left"],Kx="data-alloy-transition-timer",SF=(t,s)=>bp(t,s.classes),xF=(t,s,l)=>l.exists(f=>{const v=t.mode;return v==="all"?!0:f[v]!==s[v]}),q9=(t,s)=>{const l=f=>parseFloat(f).toFixed(3);return Co(s,(f,v)=>{const w=t[v].map(l),_=f.map(l);return!Xo(w,_)}).isSome()},bN=t=>{const s=w=>{const L=ui(t,w).split(/\s*,\s*/);return fs(L,is)},l=w=>{if(H(w)&&/^[\d.]+/.test(w)){const _=parseFloat(w);return ao(w,"ms")?_:_*1e3}else return 0},f=s("transition-delay"),v=s("transition-duration");return js(v,(w,_,L)=>{const I=l(f[L])+l(_);return Math.max(w,I)},0)},Y9=(t,s)=>{const l=Si(),f=Si();let v;const w=W=>{const X=W.raw.pseudoElement??"";return fe(W.target,t)&&ds(X)&&us(vN,W.raw.propertyName)},_=W=>{if(Le(W)||w(W)){l.clear(),f.clear();const X=W?.raw.type;(Le(X)||X===Ud())&&(clearTimeout(v),Di(t,Kx),Ai(t,s.classes))}},L=kr(t,Ev(),W=>{w(W)&&(L.unbind(),l.set(kr(t,Ud(),_)),f.set(kr(t,i0(),_)))}),I=bN(t);window.requestAnimationFrame(()=>{v=setTimeout(_,I+17),Io(t,Kx,v)})},G9=(t,s)=>{fd(t,s.classes),_l(t,Kx).each(l=>{clearTimeout(parseInt(l,10)),Di(t,Kx)}),Y9(t,s)},K9=(t,s,l,f,v,w)=>{const _=xF(f,v,w);if(_||SF(t,f)){vo(t,"position",l.position);const L=hN(s,t),I=XE(s,{...v,rect:L}),W=Bs(vN,X=>I[X]);q9(l,W)&&(ri(t,W),_&&G9(t,f),du(t))}else Ai(t,f.classes)},X9=t=>({width:Math.ceil(af(t)),height:Ra(t)}),_F=(t,s,l,f)=>{qs(s,"max-height"),qs(s,"max-width");const v=X9(s);return Z9(s,f.preference,t,v,l,f.bounds)},J9=(t,s)=>{const l=s.classes;Ai(t,l.off),fd(t,l.on)},Q9=(t,s,l)=>{const f=l.maxHeightFunction;f(t,s.maxHeight)},TF=(t,s,l)=>{const f=l.maxWidthFunction;f(t,s.maxWidth)},Xx=(t,s,l)=>{const f=XE(l.origin,s);l.transition.each(v=>{K9(t,l.origin,f,v,s,l.lastPlacement)}),kC(t,f)},eW=(t,s)=>{Uw(t,s.placement)},NC=(t,s,l)=>t[s]===void 0?l:t[s],yN=(t,s,l,f,v,w,_,L)=>{const I=NC(_,"maxHeightFunction",yT()),W=NC(_,"maxWidthFunction",xe),X=t.anchorBox,oe=t.origin,me={bounds:bF(oe,w),origin:oe,preference:f,maxHeightFunction:I,maxWidthFunction:W,lastPlacement:v,transition:L};return EF(X,s,l,me)},EF=(t,s,l,f)=>{const v=_F(t,s,l,f);return Xx(s,v,f),eW(s,v),J9(s,v),Q9(s,v,f),TF(s,v,f),{layout:v.layout,placement:v.placement}},Jx=mn,ry=()=>Ta("layouts",[be("onLtr"),be("onRtl"),qn("onBottomLtr"),qn("onBottomRtl")]),tk=(t,s,l,f,v,w,_)=>{const L=_.map(wT).getOr(!1),I=s.layouts.map(Oe=>Oe.onLtr(t)),W=s.layouts.map(Oe=>Oe.onRtl(t)),X=L?s.layouts.bind(Oe=>Oe.onBottomLtr.map(Ne=>Ne(t))).or(I).getOr(v):I.getOr(l),oe=L?s.layouts.bind(Oe=>Oe.onBottomRtl.map(Ne=>Ne(t))).or(W).getOr(w):W.getOr(f);return ag(X,oe)(t)},kF=(t,s,l)=>{const f=s.hotspot,v=hN(l,f.element),w=tk(t.element,s,Iv(),sx(),Vw(),vT(),U.some(s.hotspot.element));return U.some(Jx({anchorBox:v,bubble:s.bubble.getOr(Yb()),overrides:s.overrides,layouts:w}))};var tW=[be("hotspot"),qn("bubble"),wt("overrides",{}),ry(),ia("placement",kF)];const DF=(t,s,l)=>{const f=mN(l,s.x,s.y),v=il(f.left,f.top,s.width,s.height),w=tk(t.element,s,zw(),gT(),zw(),gT(),U.none());return U.some(Jx({anchorBox:v,bubble:s.bubble,overrides:s.overrides,layouts:w}))};var nW=[be("x"),be("y"),wt("height",0),wt("width",0),wt("bubble",Yb()),wt("overrides",{}),ry(),ia("placement",DF)];const AF=pr.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),OF=t=>t.fold(mn,(s,l,f)=>s.translate(-l,-f)),nk=t=>t.fold(mn,mn),ok=t=>js(t,(s,l)=>s.translate(l.left,l.top),$r(0,0)),wN=t=>{const s=Yt(t,OF);return ok(s)},MF=t=>{const s=Yt(t,nk);return ok(s)},oW=AF.screen,sW=AF.absolute,rW=(t,s,l)=>{const f=tn(l.root).dom,v=w=>{const _=Ke(w),L=Ke(t.element);return fe(_,L)};return U.from(f.frameElement).map(Tn.fromDom).filter(v).map(ra)},CN=(t,s,l)=>{const f=Ke(t.element),v=ai(f),w=rW(t,s,l).getOr(v);return sW(w,v.left,v.top)},sk=(t,s,l,f)=>{const v=oW($r(t,s));return U.some(wm(v,l,f))},NF=(t,s,l,f,v)=>t.map(w=>{const _=[s,w.point],L=yF(f,()=>MF(_),()=>MF(_),()=>wN(_)),I=hw(L.left,L.top,w.width,w.height),W=l.showAbove?Vw():Iv(),X=l.showAbove?vT():sx(),oe=tk(v,l,W,X,W,X,U.none());return Jx({anchorBox:I,bubble:l.bubble.getOr(Yb()),overrides:l.overrides,layouts:oe})}),iW=(t,s,l)=>{const f=CN(t,l,s);return s.node.filter(Sr).bind(v=>{const w=v.dom.getBoundingClientRect(),_=sk(w.left,w.top,w.width,w.height),L=s.node.getOr(t.element);return NF(_,f,s,l,L)})};var aW=[be("node"),be("root"),qn("bubble"),ry(),wt("overrides",{}),wt("showAbove",!1),ia("placement",iW)];const rk=(t,s)=>({element:t,offset:s}),lW=(t,s)=>{const l=$s(t);if(l.length===0)return rk(t,s);if(s<l.length)return rk(l[s],0);{const f=l[l.length-1],v=zu(f)?hm(f).length:$s(f).length;return rk(f,v)}},RF=(t,s)=>zu(t)?rk(t,s):lW(t,s),ik=t=>t.foffset!==void 0,LF=(t,s)=>s.getSelection.getOrThunk(()=>()=>Rf(t))().map(f=>{if(ik(f)){const v=RF(f.start,f.soffset),w=RF(f.finish,f.foffset);return Ku.range(v.element,v.offset,w.element,w.offset)}else return f}),cW=(t,s,l)=>{const f=tn(s.root).dom,v=CN(t,l,s),w=LF(f,s).bind(I=>{if(ik(I))return hg(f,Ku.exactFromRange(I)).orThunk(()=>{const X=Tn.fromText(ha);ud(I.start,X);const oe=ym(f,Ku.exact(X,0,X,1));return Kl(X),oe}).bind(X=>sk(X.left,X.top,X.width,X.height));{const W=Tt(I,oe=>oe.dom.getBoundingClientRect()),X={left:Math.min(W.firstCell.left,W.lastCell.left),right:Math.max(W.firstCell.right,W.lastCell.right),top:Math.min(W.firstCell.top,W.lastCell.top),bottom:Math.max(W.firstCell.bottom,W.lastCell.bottom)};return sk(X.left,X.top,X.right-X.left,X.bottom-X.top)}}),L=LF(f,s).bind(I=>ik(I)?Yl(I.start)?U.some(I.start):So(I.start):U.some(I.firstCell)).getOr(t.element);return NF(w,v,s,l,L)};var uW=[qn("getSelection"),be("root"),qn("bubble"),ry(),wt("overrides",{}),wt("showAbove",!1),ia("placement",cW)];const ak="link-layout",PF=t=>t.x+t.width,rb=(t,s)=>t.x-s.width,IF=(t,s)=>t.y-s.height+t.height,FF=t=>t.y,f1=(t,s,l)=>Dl(PF(t),FF(t),l.southeast(),Tg(),"southeast",Fc(t,{left:0,top:2}),ak),SN=(t,s,l)=>Dl(rb(t,s),FF(t),l.southwest(),Pv(),"southwest",Fc(t,{right:1,top:2}),ak),BF=(t,s,l)=>Dl(PF(t),IF(t,s),l.northeast(),QS(),"northeast",Fc(t,{left:0,bottom:3}),ak),ib=(t,s,l)=>Dl(rb(t,s),IF(t,s),l.northwest(),ex(),"northwest",Fc(t,{right:1,bottom:3}),ak),$F=()=>[f1,SN,BF,ib],HF=()=>[SN,f1,ib,BF],Zh=(t,s,l)=>{const f=hN(l,s.item.element),v=tk(t.element,s,$F(),HF(),$F(),HF(),U.none());return U.some(Jx({anchorBox:f,bubble:Yb(),overrides:s.overrides,layouts:v}))};var zF=[be("item"),ry(),wt("overrides",{}),ia("placement",Zh)],VF=z("type",{selection:uW,node:aW,hotspot:tW,submenu:zF,makeshift:nW});const UF=[lo("classes",xa),Mi("mode","all",["all","layout","placement"])],dW=[wt("useFixed",wn),qn("getBounds")],lk=[nt("anchor",VF),Ta("transition",UF)],WF=()=>{const t=document.documentElement;return wF(0,0,t.clientWidth,t.clientHeight)},fW=t=>{const s=ra(t.element),l=t.element.dom.getBoundingClientRect();return pN(s.left,s.top,l.width,l.height)},hW=(t,s,l,f,v,w)=>{const _=j9(s.anchorBox,t);return yN(_,f.element,s.bubble,s.layouts,v,l,s.overrides,w)},ck=(t,s,l,f,v)=>{const w=U.none();uk(t,s,l,f,v,w)},uk=(t,s,l,f,v,w)=>{const _=S("placement.info",Yo(lk),v),L=_.anchor,I=f.element,W=l.get(f.uid);Jv(()=>{vo(I,"position","fixed");const X=_i(I,"visibility");vo(I,"visibility","hidden");const oe=s.useFixed()?WF():fW(t);L.placement(t,L,oe).each(me=>{const Oe=w.orThunk(()=>s.getBounds.map(En)),Ne=hW(oe,me,Oe,f,W,_.transition);l.set(f.uid,Ne)}),X.fold(()=>{qs(I,"visibility")},me=>{vo(I,"visibility",me)}),_i(I,"left").isNone()&&_i(I,"top").isNone()&&_i(I,"right").isNone()&&_i(I,"bottom").isNone()&&pi(_i(I,"position"),"fixed")&&qs(I,"position")},I)};var jF=Object.freeze({__proto__:null,position:ck,positionWithinBounds:uk,getMode:(t,s,l)=>s.useFixed()?"fixed":"absolute",reset:(t,s,l,f)=>{const v=f.element;yt(["position","left","right","top","bottom"],w=>qs(v,w)),Ww(v),l.clear(f.uid)}}),xN=Object.freeze({__proto__:null,init:()=>{let t={};return yd({readState:()=>t,clear:v=>{Ee(v)?delete t[v]:t={}},set:(v,w)=>{t[v]=w},get:v=>Mn(t,v)})}});const bu=xc({fields:dW,name:"positioning",active:U9,apis:jF,state:xN}),gW=(t,s)=>s.universal?t:fs(t,l=>us(s.channels,l));var vW=Object.freeze({__proto__:null,events:t=>la([Wt(kv(),(s,l)=>{const f=t.channels,v=_e(f),w=l,_=gW(v,w);yt(_,L=>{const I=f[L],W=I.schema,X=S("channel["+L+`] data
Receiver: `+pf(s.element),W,w.data);I.onReceive(s,X)})})])}),_N=[nt("channels",bg(io.value,Wr([d0("onReceive"),wt("schema",pn())])))];const Cf=xc({fields:_N,name:"receiving",active:vW});var fk=Object.freeze({__proto__:null,events:(t,s)=>{const l=(f,v)=>{t.updateState.each(w=>{const _=w(f,v);s.set(_)}),t.renderComponents.each(w=>{const _=w(v,s.get());(t.reuseDom?wE:yE)(f,_)})};return la([Wt(kv(),(f,v)=>{const w=v;if(!w.universal){const _=t.channel;us(w.channels,_)&&l(f,w.data)}}),ta((f,v)=>{t.initialData.each(w=>{l(f,w)})})])}}),ZF=Object.freeze({__proto__:null,getState:(t,s,l)=>l}),yW=[be("channel"),qn("renderComponents"),qn("updateState"),qn("initialData"),Zi("reuseDom",!0)],wW=Object.freeze({__proto__:null,init:()=>{const t=Pn(U.none()),s=()=>t.set(U.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Sf=xc({fields:yW,name:"reflecting",active:fk,apis:ZF,state:wW}),hk=(t,s,l,f)=>{l.get().each(_=>{q0(t)});const v=s.getAttachPoint(t);zm(v,t);const w=t.getSystem().build(f);return zm(t,w),l.set(w),w},TN=(t,s,l,f)=>{const v=hk(t,s,l,f);return s.onOpen(t,v),v},qF=(t,s,l,f)=>l.get().map(()=>hk(t,s,l,f)),EN=(t,s,l,f,v)=>{KF(t,s),TN(t,s,l,f),v(),mk(t,s)},YF=(t,s,l)=>{l.get().each(f=>{q0(t),Vm(t),s.onClose(t,f),l.clear()})},kN=(t,s,l)=>l.isOpen(),CW=(t,s,l,f)=>kN(t,s,l)&&l.get().exists(v=>s.isPartOf(t,v,f)),SW=(t,s,l)=>l.get(),xW=(t,s,l,f)=>{_i(t.element,s).fold(()=>{Di(t.element,l)},v=>{Io(t.element,l,v)}),vo(t.element,s,f)},GF=(t,s,l)=>{_l(t.element,l).fold(()=>qs(t.element,s),f=>vo(t.element,s,f))},KF=(t,s,l)=>{const f=s.getAttachPoint(t);vo(t.element,"position",bu.getMode(f)),xW(t,"visibility",s.cloakVisibilityAttr,"hidden")},_W=t=>Er(["top","left","right","bottom"],s=>_i(t,s).isSome()),mk=(t,s,l)=>{_W(t.element)||qs(t.element,"position"),GF(t,"visibility",s.cloakVisibilityAttr)};var XF=Object.freeze({__proto__:null,cloak:KF,decloak:mk,open:TN,openWhileCloaked:EN,close:YF,isOpen:kN,isPartOf:CW,getState:SW,setContent:qF}),EW=Object.freeze({__proto__:null,events:(t,s)=>la([Wt(yw(),(l,f)=>{YF(l,t,s)})])}),DN=[Ar("onOpen"),Ar("onClose"),be("isPartOf"),be("getAttachPoint"),wt("cloakVisibilityAttr","data-precloak-visibility")],kW=Object.freeze({__proto__:null,init:()=>{const t=Po(),s=P("not-implemented");return yd({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Br=xc({fields:DN,name:"sandboxing",active:EW,apis:XF,state:kW}),Qx=(t,s)=>s.getAnimationRoot.fold(()=>t.element,l=>l(t)),ab=t=>t.dimension.property,h1=(t,s)=>t.dimension.getDimension(s),RC=(t,s)=>{const l=Qx(t,s);Ai(l,[s.shrinkingClass,s.growingClass])},AN=(t,s)=>{Ui(t.element,s.openClass),Hr(t.element,s.closedClass),vo(t.element,ab(s),"0px"),du(t.element)},LC=(t,s)=>{Ui(t.element,s.closedClass),Hr(t.element,s.openClass),qs(t.element,ab(s))},JF=(t,s,l,f)=>{l.setCollapsed(),vo(t.element,ab(s),h1(s,t.element)),RC(t,s),AN(t,s),s.onStartShrink(t),s.onShrunk(t)},DW=(t,s,l,f)=>{const v=f.getOrThunk(()=>h1(s,t.element));l.setCollapsed(),vo(t.element,ab(s),v),du(t.element);const w=Qx(t,s);Ui(w,s.growingClass),Hr(w,s.shrinkingClass),AN(t,s),s.onStartShrink(t)},QF=(t,s,l)=>{const f=h1(s,t.element);(f==="0px"?JF:DW)(t,s,l,U.some(f))},eB=(t,s,l)=>{const f=Qx(t,s),v=Ua(f,s.shrinkingClass),w=h1(s,t.element);LC(t,s);const _=h1(s,t.element);(v?()=>{vo(t.element,ab(s),w),du(t.element)}:()=>{AN(t,s)})(),Ui(f,s.shrinkingClass),Hr(f,s.growingClass),LC(t,s),vo(t.element,ab(s),_),l.setExpanded(),s.onStartGrow(t)},AW=(t,s,l)=>{if(l.isExpanded()){qs(t.element,ab(s));const f=h1(s,t.element);vo(t.element,ab(s),f)}},OW=(t,s,l)=>{l.isExpanded()||eB(t,s,l)},tB=(t,s,l)=>{l.isExpanded()&&QF(t,s,l)},MW=(t,s,l)=>{l.isExpanded()&&JF(t,s,l)},NW=(t,s,l)=>l.isExpanded(),ON=(t,s,l)=>l.isCollapsed(),m1=(t,s,l)=>{const f=Qx(t,s);return Ua(f,s.growingClass)===!0},nB=(t,s,l)=>{const f=Qx(t,s);return Ua(f,s.shrinkingClass)===!0};var LW=Object.freeze({__proto__:null,refresh:AW,grow:OW,shrink:tB,immediateShrink:MW,hasGrown:NW,hasShrunk:ON,isGrowing:m1,isShrinking:nB,isTransitioning:(t,s,l)=>m1(t,s)||nB(t,s),toggleGrow:(t,s,l)=>{(l.isExpanded()?QF:eB)(t,s,l)},disableTransitions:RC,immediateGrow:(t,s,l)=>{l.isExpanded()||(LC(t,s),vo(t.element,ab(s),h1(s,t.element)),RC(t,s),l.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),sB=Object.freeze({__proto__:null,exhibit:(t,s,l)=>{const f=s.expanded;return Yf(f?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Ou(s.dimension.property,"0px")})},events:(t,s)=>la([Vv(Ud(),(l,f)=>{f.event.raw.propertyName===t.dimension.property&&(RC(l,t),s.isExpanded()&&qs(l.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(l))})])}),rB=[be("closedClass"),be("openClass"),be("shrinkingClass"),be("growingClass"),qn("getAnimationRoot"),Ar("onShrunk"),Ar("onStartShrink"),Ar("onGrown"),Ar("onStartGrow"),wt("expanded",!1),nt("dimension",z("property",{width:[ia("property","width"),ia("getDimension",t=>rl(t)+"px")],height:[ia("property","height"),ia("getDimension",t=>Ka(t)+"px")]}))],lb=Object.freeze({__proto__:null,init:t=>{const s=Pn(t.expanded),l=()=>"expanded: "+s.get();return yd({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:ln(s.set,!1),setExpanded:ln(s.set,!0),readState:l})}});const mc=xc({fields:rB,name:"sliding",active:sB,apis:LW,state:lb});var PC=Object.freeze({__proto__:null,events:(t,s)=>{const f=t.stream.streams.setup(t,s);return la([Wt(t.event,f),$h(()=>s.cancel())].concat(t.cancelEvent.map(v=>[Wt(v,()=>s.cancel())]).getOr([])))}});const iB=t=>{const s=Pn(null);return yd({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:w=>{s.set(w)},cancel:()=>{const w=s.get();w!==null&&w.cancel()}})};var lB=Object.freeze({__proto__:null,throttle:iB,init:t=>t.stream.streams.state(t)});const MN=(t,s)=>{const l=t.stream,f=dr(t.onStream,l.delay);return s.setTimer(f),(v,w)=>{f.throttle(v,w),l.stopEvent&&w.stop()}};var gk=[nt("stream",z("mode",{throttle:[be("delay"),wt("stopEvent",!0),ia("streams",{setup:MN,state:iB})]})),wt("event","input"),qn("cancelEvent"),d0("onStream")];const vk=xc({fields:gk,name:"streaming",active:PC,state:lB});var NN=Object.freeze({__proto__:null,exhibit:(t,s)=>Yf({attributes:uc([{key:s.tabAttr,value:"true"}])})}),FW=[wt("tabAttr","data-alloy-tabstop")];const Yi=xc({fields:FW,name:"tabstopping",active:NN}),BW=(t,s,l)=>{const f=s.aria;f.update(t,f,l.get())},$W=(t,s,l)=>{s.toggleClass.each(f=>{l.get()?Hr(t.element,f):Ui(t.element,f)})},cb=(t,s,l,f)=>{const v=l.get();l.set(f),$W(t,s,l),BW(t,s,l),v!==f&&s.onToggled(t,f)},cB=(t,s,l)=>{cb(t,s,l,!l.get())},uB=(t,s,l)=>{cb(t,s,l,!0)},RN=(t,s,l)=>{cb(t,s,l,!1)},HW=(t,s,l)=>l.get(),bk=(t,s,l)=>{cb(t,s,l,s.selected)};var LN=Object.freeze({__proto__:null,onLoad:bk,toggle:cB,isOn:HW,on:uB,off:RN,set:cb}),dB=Object.freeze({__proto__:null,exhibit:()=>Yf({}),events:(t,s)=>{const l=KO(t,s,cB),f=mx(t,s,bk);return la(In([t.toggleOnExecute?[l]:[],[f]]))}});const VW=(t,s,l)=>{Io(t.element,"aria-pressed",l),s.syncWithExpanded&&mB(t,s,l)},fB=(t,s,l)=>{Io(t.element,"aria-selected",l)},hB=(t,s,l)=>{Io(t.element,"aria-checked",l)},mB=(t,s,l)=>{Io(t.element,"aria-expanded",l)};var UW=[wt("selected",!1),qn("toggleClass"),wt("toggleOnExecute",!0),Ar("onToggled"),ji("aria",{mode:"none"},z("mode",{pressed:[wt("syncWithExpanded",!1),ia("update",VW)],checked:[ia("update",hB)],expanded:[ia("update",mB)],selected:[ia("update",fB)],none:[ia("update",xe)]}))];const ur=xc({fields:UW,name:"toggling",active:dB,apis:LN,state:gx(!1)}),pB=_n("tooltip.exclusive"),e2=_n("tooltip.show"),IC=_n("tooltip.hide"),FC=_n("tooltip.immediateHide"),t2=_n("tooltip.immediateShow"),PN=(t,s,l)=>{t.getSystem().broadcastOn([pB],{})};var gB=Object.freeze({__proto__:null,hideAllExclusive:PN,immediateOpenClose:(t,s,l,f)=>Ys(t,f?t2:FC),isEnabled:(t,s,l)=>l.isEnabled(),setComponents:(t,s,l,f)=>{l.getTooltip().each(v=>{v.getSystem().isConnected()&&Cs.set(v,f)})},setEnabled:(t,s,l,f)=>l.setEnabled(f)}),vB=Object.freeze({__proto__:null,events:(t,s)=>{const l=_=>{s.getTooltip().each(L=>{L.getSystem().isConnected()&&(Vm(L),t.onHide(_,L),s.clearTooltip())}),s.clearTimer()},f=_=>{if(!s.isShowing()&&s.isEnabled()){PN(_);const L=t.lazySink(_).getOrDie(),I=_.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:la(t.mode==="normal"?[Wt(zf(),W=>{Ys(_,e2)}),Wt(Xl(),W=>{Ys(_,IC)})]:[]),behaviours:On([Cs.config({})])});s.setTooltip(I),zm(L,I),t.onShow(_,I),bu.position(L,I,{anchor:t.anchor(_)})}},v=_=>{s.getTooltip().each(L=>{const I=t.lazySink(_).getOrDie();bu.position(I,L,{anchor:t.anchor(_)})})},w=()=>{switch(t.mode){case"normal":return[Wt(Vf(),_=>{Ys(_,t2)}),Wt(Uf(),_=>{Ys(_,FC)}),Wt(zf(),_=>{Ys(_,e2)}),Wt(Xl(),_=>{Ys(_,IC)})];case"follow-highlight":return[Wt(Rv(),(_,L)=>{Ys(_,e2)}),Wt(xw(),_=>{Ys(_,IC)})];case"children-normal":return[Wt(Vf(),(_,L)=>{Ma(_.element).each(I=>{O(L.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Ys(_,t2)},W=>{s.isShowing()&&(t.onShow(_,W),v(_))})})}),Wt(Uf(),_=>{Ma(_.element).fold(()=>{Ys(_,FC)},xe)}),Wt(zf(),_=>{Ur(_.element,"[data-mce-tooltip]:hover").each(L=>{s.getTooltip().fold(()=>{Ys(_,e2)},I=>{s.isShowing()&&(t.onShow(_,I),v(_))})})}),Wt(Xl(),_=>{Ur(_.element,"[data-mce-tooltip]:hover").fold(()=>{Ys(_,IC)},xe)})];default:return[Wt(Vf(),(_,L)=>{Ma(_.element).each(I=>{O(L.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Ys(_,t2)},W=>{s.isShowing()&&(t.onShow(_,W),v(_))})})}),Wt(Uf(),_=>{Ma(_.element).fold(()=>{Ys(_,FC)},xe)})]}};return la(In([[TT(_=>{t.onSetup(_)}),Wt(e2,_=>{s.resetTimer(()=>{f(_)},t.delayForShow())}),Wt(IC,_=>{s.resetTimer(()=>{l(_)},t.delayForHide())}),Wt(t2,_=>{s.resetTimer(()=>{f(_)},0)}),Wt(FC,_=>{s.resetTimer(()=>{l(_)},0)}),Wt(kv(),(_,L)=>{const I=L;I.universal||(us(I.channels,pB)||us(I.channels,E0()))&&(I.data.closedTooltip&&s.isShowing()&&I.data.closedTooltip(),l(_))}),$h(_=>{l(_)})],w()]))}}),qW=[be("lazySink"),be("tooltipDom"),wt("exclusive",!0),wt("tooltipComponents",[]),Dr("delayForShow",P(300)),Dr("delayForHide",P(100)),Dr("onSetup",xe),Mi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),wt("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:P([Al,fc,zl,Bc,aa,Jl]),onRtl:P([Al,fc,zl,Bc,aa,Jl])},bubble:Wd(0,-2,{})})),Ar("onHide"),Ar("onShow")],bB=Object.freeze({__proto__:null,init:()=>{const t=Pn(!0),s=Po(),l=Po(),f=()=>{s.on(clearTimeout)},v=(_,L)=>{f(),s.set(setTimeout(_,L))},w=P("not-implemented");return yd({getTooltip:l.get,isShowing:l.isSet,setTooltip:l.set,clearTooltip:l.clear,clearTimer:f,resetTimer:v,readState:w,isEnabled:()=>t.get(),setEnabled:_=>t.set(_)})}});const Gi=xc({fields:qW,name:"tooltipping",active:vB,state:bB,apis:gB});var wB=Object.freeze({__proto__:null,events:()=>la([Kw(z_(),Ze)]),exhibit:()=>Yf({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const BC=xc({fields:[],name:"unselecting",active:wB}),GW=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return js(s,(l,f)=>f.name==="class"?l:{...l,[f.name]:f.value},{})},IN=t=>Array.prototype.slice.call(t.dom.classList,0),ub=t=>{const s=Tn.fromHtml(t),l=$s(s),f=GW(s),v=IN(s),w=l.length===0?{}:{innerHtml:dd(s)};return{tag:Oa(s),classes:v,attributes:f,...w}},Zr=t=>{const s=h9(t)&&Mo(t,"uid")?t.uid:Qv("memento");return{get:w=>w.getSystem().getByUid(s).getOrDie(),getOpt:w=>w.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}},pc=_g,qd=qb,KW=(t,s)=>{const l=Pn(!1),f=Pn(!1);return{stop:()=>{l.set(!0)},cut:()=>{f.set(!0)},isStopped:l.get,isCut:f.get,event:t,setSource:s.set,getSource:s.get}},FN=t=>{const s=Pn(!1);return{stop:()=>{s.set(!0)},cut:xe,isStopped:s.get,isCut:wn,event:t,setSource:Fe("Cannot set source of a broadcasted event"),getSource:Fe("Cannot get source of a broadcasted event")}},yk=t=>t.raw.which===bx[0]&&!us(["input","textarea"],Oa(t.target))&&!vm(t.target,'[contenteditable="true"]'),XW=(t,s)=>{const l={stopBackspace:!0,...s},f=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=tu(l),w=Yt(f.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Oe=>kr(t,Oe,Ne=>{v.fireIfReady(Ne,Oe).each(Xe=>{Xe&&Ne.kill()}),l.triggerEvent(Oe,Ne)&&Ne.kill()})),_=Po(),L=kr(t,"paste",Oe=>{v.fireIfReady(Oe,"paste").each(Ue=>{Ue&&Oe.kill()}),l.triggerEvent("paste",Oe)&&Oe.kill(),_.set(setTimeout(()=>{l.triggerEvent(WS(),Oe)},0))}),I=kr(t,"keydown",Oe=>{l.triggerEvent("keydown",Oe)?Oe.kill():l.stopBackspace&&yk(Oe)&&Oe.prevent()}),W=kr(t,"focusin",Oe=>{l.triggerEvent("focusin",Oe)&&Oe.kill()}),X=Po(),oe=kr(t,"focusout",Oe=>{l.triggerEvent("focusout",Oe)&&Oe.kill(),X.set(setTimeout(()=>{l.triggerEvent(Uf(),Oe)},0))});return{unbind:()=>{yt(w,Oe=>{Oe.unbind()}),I.unbind(),W.unbind(),oe.unbind(),L.unbind(),_.on(clearTimeout),X.on(clearTimeout)}}},BN=(t,s)=>{const l=Mn(t,"target").getOr(s);return Pn(l)},$C=pr.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),$N=(t,s,l,f,v,w)=>{const _=t(s,f),L=KW(l,v);return _.fold(()=>(w.logEventNoHandlers(s,f),$C.complete()),I=>{const W=I.descHandler;return Bp(W)(L),L.isStopped()?(w.logEventStopped(s,I.element,W.purpose),$C.stopped()):L.isCut()?(w.logEventCut(s,I.element,W.purpose),$C.complete()):vn(I.element).fold(()=>(w.logNoParent(s,I.element,W.purpose),$C.complete()),oe=>(w.logEventResponse(s,I.element,W.purpose),$C.resume(oe)))})},wk=(t,s,l,f,v,w)=>$N(t,s,l,f,v,w).fold(Ze,_=>wk(t,s,l,_,v,w),wn),CB=(t,s,l,f,v)=>{const w=BN(l,f);return $N(t,s,l,f,w,v)},JW=(t,s,l)=>{const f=FN(s);return yt(t,v=>{const w=v.descHandler;Bp(w)(f)}),f.isStopped()},SB=(t,s,l,f)=>HN(t,s,l,l.target,f),HN=(t,s,l,f,v)=>{const w=BN(l,f);return wk(t,s,l,f,w,v)},xB=(t,s)=>({element:t,descHandler:s}),_B=(t,s)=>({id:t,descHandler:s}),QW=()=>{const t={},s=(_,L,I)=>{ot(I,(W,X)=>{const oe=t[X]!==void 0?t[X]:{};oe[L]=xC(W,_),t[X]=oe})},l=(_,L)=>jh(L).bind(I=>Mn(_,I)).map(I=>xB(L,I));return{registerId:s,unregisterId:_=>{ot(t,(L,I)=>{go(L,_)&&delete L[_]})},filterByType:_=>Mn(t,_).map(L=>zs(L,(I,W)=>_B(W,I))).getOr([]),find:(_,L,I)=>Mn(t,L).bind(W=>Lc(I,X=>l(W,X),_))}},zN=()=>{const t=QW(),s={},l=W=>{const X=W.element;return jh(X).getOrThunk(()=>TE("uid-",W.element))},f=(W,X)=>{const oe=s[X];if(oe===W)w(W);else throw new Error('The tagId "'+X+'" is already used by: '+pf(oe.element)+`
Cannot use it for: `+pf(W.element)+`
The conflicting element is`+(Sr(oe.element)?" ":" not ")+"already in the DOM")},v=W=>{const X=l(W);Mo(s,X)&&f(W,X);const oe=[W];t.registerId(oe,X,W.events),s[X]=W},w=W=>{jh(W.element).each(X=>{delete s[X],t.unregisterId(X)})};return{find:(W,X,oe)=>t.find(W,X,oe),filter:W=>t.filterByType(W),register:v,unregister:w,getById:W=>Mn(s,W)}},VN=t=>{const s=ze=>vn(t.element).fold(Ze,it=>fe(ze,it)),l=zN(),f=(ze,it)=>l.find(s,ze,it),v=XW(t.element,{triggerEvent:(ze,it)=>wg(ze,it.target,ht=>SB(f,ze,it,ht))}),w={debugInfo:P("real"),triggerEvent:(ze,it,ht)=>{wg(ze,it,Dt=>HN(f,ze,ht,it,Dt))},triggerFocus:(ze,it)=>{jh(ze).fold(()=>{sl(ze)},ht=>{wg(Dm(),ze,Dt=>(CB(f,Dm(),{originator:it,kill:xe,prevent:xe,target:ze},ze,Dt),!1))})},triggerEscape:(ze,it)=>{w.triggerEvent("keydown",ze.element,it.event)},getByUid:ze=>Ue(ze),getByDom:ze=>Xe(ze),build:T,buildOrPatch:b,addToGui:ze=>{I(ze)},removeFromGui:ze=>{W(ze)},addToWorld:ze=>{_(ze)},removeFromWorld:ze=>{L(ze)},broadcast:ze=>{me(ze)},broadcastOn:(ze,it)=>{Oe(ze,it)},broadcastEvent:(ze,it)=>{Ne(ze,it)},isConnected:Ze},_=ze=>{ze.connect(w),zu(ze.element)||(l.register(ze),yt(ze.components(),_),w.triggerEvent(Cw(),ze.element,{target:ze.element}))},L=ze=>{zu(ze.element)||(yt(ze.components(),L),l.unregister(ze)),ze.disconnect()},I=ze=>{zm(t,ze)},W=ze=>{Vm(ze)},X=()=>{v.unbind(),Kl(t.element)},oe=ze=>{const it=l.filter(kv());yt(it,ht=>{const Dt=ht.descHandler;Bp(Dt)(ze)})},me=ze=>{oe({universal:!0,data:ze})},Oe=(ze,it)=>{oe({universal:!1,channels:ze,data:it})},Ne=(ze,it)=>{const ht=l.filter(ze);return JW(ht,it)},Ue=ze=>l.getById(ze).fold(()=>io.error(new Error('Could not find component with uid: "'+ze+'" in system.')),io.value),Xe=ze=>{const it=jh(ze).getOr("not found");return Ue(it)};return _(t),{root:t,element:t.element,destroy:X,add:I,remove:W,getByUid:Ue,getByDom:Xe,addToWorld:_,removeFromWorld:L,broadcast:me,broadcastOn:Oe,broadcastEvent:Ne}},TB=()=>{const t=(s,l)=>{l.stop(),S0(s)};return[Wt(km(),t),Wt(Av(),t),zv(Tp()),zv(Mu())]},UN=t=>{const s=l=>Rp((f,v)=>{l(f),v.stop()});return la(In([t.map(s).toArray(),TB()]))},su=th({name:"Button",factory:t=>{const s=UN(t.action),l=t.dom.tag,f=w=>Mn(t.dom,"attributes").bind(_=>Mn(_,w)),v=()=>{if(l==="button"){const w=f("type").getOr("button"),_=f("role").map(L=>({role:L})).getOr({});return{type:w,..._}}else return{role:t.role.getOr(f("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:wf.augment(t.buttonBehaviours,[ps.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},configFields:[wt("uid",void 0),be("dom"),wt("components",[]),wf.field("buttonBehaviours",[ps,No]),qn("action"),qn("role"),wt("eventOrder",{})]}),ej=P([wt("shell",!1),be("makeItem"),wt("setupItem",xe),wf.field("listBehaviours",[Cs])]),EB=bd({name:"items",overrides:()=>({behaviours:On([Cs.config({})])})}),tj=P([EB]),nj=P("CustomList"),WN=(t,s,l,f)=>{const v=(L,I)=>{_(L).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},W=>{const X=Cs.contents(W),oe=I.length,me=oe-X.length,Oe=me>0?Oo(me,()=>t.makeItem()):[],Ne=X.slice(oe);yt(Ne,Xe=>Cs.remove(W,Xe)),yt(Oe,Xe=>Cs.append(W,Xe));const Ue=Cs.contents(W);yt(Ue,(Xe,ze)=>{t.setupItem(L,Xe,I[ze],ze)})})},w=t.shell?{behaviours:[Cs.config({})],components:[]}:{behaviours:[],components:s},_=L=>t.shell?U.some(L):jr(L,t,"items");return{uid:t.uid,dom:t.dom,components:w.components,behaviours:kc(t.listBehaviours,w.behaviours),apis:{setItems:v}}},kB=_d({name:nj(),configFields:ej(),partFields:tj(),factory:WN,apis:{setItems:(t,s,l)=>{t.setItems(s,l)}}}),n2="aria-controls",oj=t=>Sh(t,l=>{if(!Yl(l))return!1;const f=za(l,"id");return f!==void 0&&f.indexOf(n2)>-1}).bind(l=>{const f=za(l,"id"),v=Ii(l);return Ur(v,`[${n2}="${f}"]`)}),DB=()=>{const t=_n(n2);return{id:t,link:f=>{Io(f,n2,t)},unlink:f=>{Di(f,n2)}}},sj=(t,s)=>oj(s).exists(l=>p1(t,l)),p1=(t,s)=>uf(s,l=>fe(l,t.element),wn)||sj(t,s),AB="alloy.item-hover",OB="alloy.item-focus",MB="alloy.item-toggled",jN=t=>{(Ma(t.element).isNone()||ps.isFocused(t))&&(ps.isFocused(t)||ps.focus(t),$o(t,AB,{item:t}))},NB=t=>{$o(t,OB,{item:t})},rj=(t,s)=>{$o(t,MB,{item:t,state:s})},ZN=P(AB),ij=P(OB),RB=P(MB),LB=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),mn),qN=(t,s)=>({aria:{mode:s?"selected":"checked"},...Uo(t,(l,f)=>f!=="exclusive"),onToggled:(l,f)=>{Ce(t.onToggled)&&t.onToggled(l,f),rj(l,f)}}),aj=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:LB(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:wf.augment(t.itemBehaviours,[t.toggling.fold(ur.revoke,s=>ur.config(qN(s,t.role.exists(l=>l==="option")))),ps.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{NB(s)}}),No.config({mode:"execution"}),jn.config({store:{mode:"memory",initialValue:t.data}}),hs("item-type-events",[...TB(),Wt(zf(),jN),Wt(Dv(),ps.focus)])]),components:t.components,eventOrder:t.eventOrder});var cj=[be("data"),be("components"),be("dom"),wt("hasSubmenu",!1),qn("toggling"),qn("role"),wf.field("itemBehaviours",[ur,ps,No,jn]),wt("ignoreFocus",!1),wt("domModification",{}),ia("builder",aj),wt("eventOrder",{})];const o2=t=>({dom:t.dom,components:t.components,events:la([hx(Dv())])});var uj=[be("dom"),be("components"),ia("builder",o2)];const YN=P("item-widget"),s2=P([Nu({name:"widget",overrides:t=>({behaviours:On([jn.config({store:{mode:"manual",getValue:s=>t.data,setValue:xe}})])})})]),PB=t=>{const s=xg(YN(),t,s2()),l=Op(YN(),t,s.internals()),f=w=>jr(w,t,"widget").map(_=>(No.focusIn(_),_)),v=(w,_)=>Fm(_.event.target)?U.none():(t.autofocus&&_.setSource(w.element),U.none());return{dom:t.dom,components:l,domModification:t.domModification,events:la([Rp((w,_)=>{f(w).each(L=>{_.stop()})}),Wt(zf(),jN),Wt(Dv(),(w,_)=>{t.autofocus?f(w):ps.focus(w)})]),behaviours:wf.augment(t.widgetBehaviours,[jn.config({store:{mode:"memory",initialValue:t.data}}),ps.config({ignore:t.ignoreFocus,onFocus:w=>{NB(w)}}),No.config({mode:"special",focusIn:t.autofocus?w=>{f(w)}:AT(),onLeft:v,onRight:v,onEscape:(w,_)=>!ps.isFocused(w)&&!t.autofocus?(ps.focus(w),U.some(!0)):(t.autofocus&&_.setSource(w.element),U.none())})])}};var GN=[be("uid"),be("data"),be("components"),be("dom"),wt("autofocus",!1),wt("ignoreFocus",!1),wf.field("widgetBehaviours",[jn,ps,No]),wt("domModification",{}),Rm(s2()),ia("builder",PB)];const dj=z("type",{widget:GN,item:cj,separator:uj}),fj=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),Sk=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),IB=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),FB=P([Rw({factory:{sketch:t=>{const s=S("menu.spec item",dj,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>go(s,"uid")?s:{...s,uid:Qv("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),hj=P([ws("role"),be("value"),be("items"),be("dom"),be("components"),wt("eventOrder",{}),Hc("menuBehaviours",[zr,jn,zt,No]),ji("movement",{mode:"menu",moveOnTab:!0},z("mode",{grid:[Tw(),ia("config",fj)],matrix:[ia("config",Sk),be("rowSelector"),wt("previousSelector",U.none)],menu:[wt("moveOnTab",!0),ia("config",IB)]})),X_(),wt("fakeFocus",!1),wt("focusManager",tC()),Ar("onHighlight"),Ar("onDehighlight"),wt("showMenuRole",!0)]),BB=P("alloy.menu-focus"),mj=(t,s)=>{const l=fl(t.element,'[role="menuitemradio"][aria-checked="true"]');yt(l,f=>{fe(f,s.element)||t.getSystem().getByDom(f).each(v=>{ur.off(v)})})},pj=(t,s,l,f)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kc(t.menuBehaviours,[zr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),jn.config({store:{mode:"memory",initialValue:t.value}}),zt.config({find:U.some}),No.config(t.movement.config(t,t.movement))]),events:la([Wt(ij(),(v,w)=>{const _=w.event;v.getSystem().getByDom(_.target).each(L=>{zr.highlight(v,L),w.stop(),$o(v,BB(),{menu:v,item:L})})}),Wt(ZN(),(v,w)=>{const _=w.event.item;zr.highlight(v,_)}),Wt(RB(),(v,w)=>{const{item:_,state:L}=w.event;L&&za(_.element,"role")==="menuitemradio"&&mj(v,_)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),db=_d({name:"Menu",configFields:hj(),partFields:FB(),factory:pj}),gj=t=>Cn(t,(s,l)=>({k:s,v:l})),$B=(t,s,l,f)=>Mn(l,f).bind(v=>Mn(t,v).bind(w=>{const _=$B(t,s,l,w);return U.some([w].concat(_))})).getOr([]),vj=(t,s)=>{const l={};ot(t,(_,L)=>{yt(_,I=>{l[I]=L})});const f=s,v=gj(s),w=Tt(v,(_,L)=>[L].concat($B(l,f,v,L)));return Tt(l,_=>Mn(w,_).getOr([_]))},bj=()=>{const t=Pn({}),s=Pn({}),l=Pn({}),f=Po(),v=Pn({}),w=()=>{t.set({}),s.set({}),l.set({}),f.clear()},_=()=>f.get().isNone(),L=(Rt,$n)=>{s.set({...s.get(),[Rt]:{type:"prepared",menu:$n}})},I=(Rt,$n,rn,bn)=>{f.set(Rt),t.set(rn),s.set($n),v.set(bn);const hn=vj(bn,rn);l.set(hn)},W=Rt=>Co(t.get(),($n,rn)=>$n===Rt),X=(Rt,$n,rn)=>Ue(Rt).bind(bn=>W(Rt).bind(hn=>$n(hn).map(zo=>({triggeredMenu:bn,triggeringItem:zo,triggeringPath:rn})))),oe=(Rt,$n)=>{const rn=fs(ze(Rt).toArray(),bn=>Ue(bn).isSome());return Mn(l.get(),Rt).bind(bn=>{const hn=Ns(rn.concat(bn)),zo=vt(hn,(_o,sr)=>X(_o,$n,hn.slice(0,sr+1)).fold(()=>pi(f.get(),_o)?[]:[U.none()],Zo=>[U.some(Zo)]));return ya(zo)})},me=Rt=>Mn(t.get(),Rt).map($n=>{const rn=Mn(l.get(),Rt).getOr([]);return[$n].concat(rn)}),Oe=Rt=>Mn(l.get(),Rt).bind($n=>$n.length>1?U.some($n.slice(1)):U.none()),Ne=Rt=>Mn(l.get(),Rt),Ue=Rt=>Xe(Rt).bind(HB),Xe=Rt=>Mn(s.get(),Rt),ze=Rt=>Mn(t.get(),Rt);return{setMenuBuilt:L,setContents:I,expand:me,refresh:Ne,collapse:Oe,lookupMenu:Xe,lookupItem:ze,otherMenus:Rt=>{const $n=v.get();return At(_e($n),Rt)},getPrimary:()=>f.get().bind(Ue),getMenus:()=>s.get(),clear:w,isClear:_,getTriggeringPath:oe}},HB=t=>t.type==="prepared"?U.some(t.menu):U.none(),xk={init:bj,extractPreparedMenu:HB},KN=_n("tiered-menu-item-highlight"),zB=_n("tiered-menu-item-dehighlight"),yj=(t,s)=>{const l=Po(),f=(nn,Bn,es)=>Tt(es,(Os,Ro)=>{const Es=()=>db.sketch({...Os,value:Ro,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(oi,Xr)=>{$o(oi,KN,{menuComp:oi,itemComp:Xr})},onDehighlight:(oi,Xr)=>{$o(oi,zB,{menuComp:oi,itemComp:Xr})},focusManager:t.fakeFocus?_x():tC()});return Ro===Bn?{type:"prepared",menu:nn.getSystem().build(Es())}:{type:"notbuilt",nbMenu:Es}}),v=xk.init(),w=nn=>{const Bn=f(nn,t.data.primary,t.data.menus),es=I();return v.setContents(t.data.primary,Bn,t.data.expansions,es),v.getPrimary()},_=nn=>jn.getValue(nn).value,L=(nn,Bn,es)=>de(Bn,Os=>{if(!Os.getSystem().isConnected())return U.none();const Ro=zr.getCandidates(Os);return fo(Ro,Es=>_(Es)===es)}),I=nn=>Tt(t.data.menus,(Bn,es)=>vt(Bn.items,Os=>Os.type==="separator"?[]:[Os.data.value])),W=zr.highlight,X=(nn,Bn)=>{W(nn,Bn),zr.getHighlighted(Bn).orThunk(()=>zr.getFirst(Bn)).each(es=>{t.fakeFocus?zr.highlight(Bn,es):Gw(nn,es.element,Dv())})},oe=(nn,Bn)=>gi(Yt(Bn,es=>nn.lookupMenu(es).bind(Os=>Os.type==="prepared"?U.some(Os.menu):U.none()))),me=(nn,Bn,es)=>{const Os=oe(Bn,Bn.otherMenus(es));yt(Os,Ro=>{Ai(Ro.element,[t.markers.backgroundMenu]),t.stayInDom||Cs.remove(nn,Ro)})},Oe=nn=>l.get().getOrThunk(()=>{const Bn={},es=fl(nn.element,`.${t.markers.item}`),Os=fs(es,Ro=>za(Ro,"aria-haspopup")==="true");return yt(Os,Ro=>{nn.getSystem().getByDom(Ro).each(Es=>{const oi=_(Es);Bn[oi]=Es})}),l.set(Bn),Bn}),Ne=(nn,Bn)=>{const es=Oe(nn);ot(es,(Os,Ro)=>{const Es=us(Bn,Ro);Io(Os.element,"aria-expanded",Es)})},Ue=(nn,Bn,es)=>U.from(es[0]).bind(Os=>Bn.lookupMenu(Os).bind(Ro=>{if(Ro.type==="notbuilt")return U.none();{const Es=Ro.menu,oi=oe(Bn,es.slice(1));return yt(oi,Xr=>{Hr(Xr.element,t.markers.backgroundMenu)}),Sr(Es.element)||Cs.append(nn,N(Es)),Ai(Es.element,[t.markers.backgroundMenu]),X(nn,Es),me(nn,Bn,es),U.some(Es)}}));let Xe;(function(nn){nn[nn.HighlightSubmenu=0]="HighlightSubmenu",nn[nn.HighlightParent=1]="HighlightParent"})(Xe||(Xe={}));const ze=(nn,Bn,es)=>{if(es.type==="notbuilt"){const Os=nn.getSystem().build(es.nbMenu());return v.setMenuBuilt(Bn,Os),Os}else return es.menu},it=(nn,Bn,es=Xe.HighlightSubmenu)=>{if(Bn.hasConfigured(Ao)&&Ao.isDisabled(Bn))return U.some(Bn);{const Os=_(Bn);return v.expand(Os).bind(Ro=>(Ne(nn,Ro),U.from(Ro[0]).bind(Es=>v.lookupMenu(Es).bind(oi=>{const Xr=ze(nn,Es,oi);return Sr(Xr.element)||Cs.append(nn,N(Xr)),t.onOpenSubmenu(nn,Bn,Xr,Ns(Ro)),es===Xe.HighlightSubmenu?(zr.highlightFirst(Xr),Ue(nn,v,Ro)):(zr.dehighlightAll(Xr),U.some(Bn))}))))}},ht=(nn,Bn)=>{const es=_(Bn);return v.collapse(es).bind(Os=>(Ne(nn,Os),Ue(nn,v,Os).map(Ro=>(t.onCollapseMenu(nn,Bn,Ro),Ro))))},Dt=(nn,Bn)=>{const es=_(Bn);return v.refresh(es).bind(Os=>(Ne(nn,Os),Ue(nn,v,Os)))},Rt=(nn,Bn)=>Fm(Bn.element)?U.none():it(nn,Bn,Xe.HighlightSubmenu),$n=(nn,Bn)=>Fm(Bn.element)?U.none():ht(nn,Bn),rn=(nn,Bn)=>ht(nn,Bn).orThunk(()=>t.onEscape(nn,Bn).map(()=>nn)),bn=nn=>(Bn,es)=>ic(es.getSource(),`.${t.markers.item}`).bind(Os=>Bn.getSystem().getByDom(Os).toOptional().bind(Ro=>nn(Bn,Ro).map(Ze))),hn=la([Wt(BB(),(nn,Bn)=>{const es=Bn.event.item;v.lookupItem(_(es)).each(()=>{const Os=Bn.event.menu;zr.highlight(nn,Os);const Ro=_(Bn.event.item);v.refresh(Ro).each(Es=>me(nn,v,Es))})}),Rp((nn,Bn)=>{const es=Bn.event.target;nn.getSystem().getByDom(es).each(Os=>{_(Os).indexOf("collapse-item")===0&&ht(nn,Os),it(nn,Os,Xe.HighlightSubmenu).fold(()=>{t.onExecute(nn,Os)},xe)})}),ta((nn,Bn)=>{w(nn).each(es=>{Cs.append(nn,N(es)),t.onOpenMenu(nn,es),t.highlightOnOpen===gu.HighlightMenuAndItem?X(nn,es):t.highlightOnOpen===gu.HighlightJustMenu&&W(nn,es)})}),Wt(KN,(nn,Bn)=>{t.onHighlightItem(nn,Bn.event.menuComp,Bn.event.itemComp)}),Wt(zB,(nn,Bn)=>{t.onDehighlightItem(nn,Bn.event.menuComp,Bn.event.itemComp)}),...t.navigateOnHover?[Wt(ZN(),(nn,Bn)=>{const es=Bn.event.item;Dt(nn,es),it(nn,es,Xe.HighlightParent),t.onHover(nn,es)})]:[]]),zo=nn=>zr.getHighlighted(nn).bind(zr.getHighlighted),_o=nn=>{zo(nn).each(Bn=>{ht(nn,Bn)})},sr=nn=>{v.getPrimary().each(Bn=>{X(nn,Bn)})},Zo=nn=>U.from(nn.components()[0]).filter(Bn=>za(Bn.element,"role")==="menu"),wo={collapseMenu:_o,highlightPrimary:sr,repositionMenus:nn=>{v.getPrimary().bind(es=>zo(nn).bind(Os=>{const Ro=_(Os),Es=Ci(v.getMenus()),oi=gi(Yt(Es,xk.extractPreparedMenu));return v.getTriggeringPath(Ro,Xr=>L(nn,oi,Xr))}).map(Os=>({primary:es,triggeringPath:Os}))).fold(()=>{Zo(nn).each(es=>{t.onRepositionMenu(nn,es,[])})},({primary:es,triggeringPath:Os})=>{t.onRepositionMenu(nn,es,Os)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:kc(t.tmenuBehaviours,[No.config({mode:"special",onRight:bn(Rt),onLeft:bn($n),onEscape:bn(rn),focusIn:(nn,Bn)=>{v.getPrimary().each(es=>{Gw(nn,es.element,Dv())})}}),zr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),zt.config({find:nn=>zr.getHighlighted(nn)}),Cs.config({})]),eventOrder:t.eventOrder,apis:wo,events:hn}},VB=P("collapse-item"),wj=(t,s,l)=>({primary:t,menus:s,expansions:l}),Cj=(t,s)=>({primary:t,menus:Ou(t,s),expansions:{}}),UB=t=>({value:_n(VB()),meta:{text:t}}),g1=th({name:"TieredMenu",configFields:[_w("onExecute"),_w("onEscape"),d0("onOpenMenu"),d0("onOpenSubmenu"),Ar("onRepositionMenu"),Ar("onCollapseMenu"),wt("highlightOnOpen",gu.HighlightMenuAndItem),xo("data",[be("primary"),be("menus"),be("expansions")]),wt("fakeFocus",!1),Ar("onHighlightItem"),Ar("onDehighlightItem"),Ar("onHover"),J_(),be("dom"),wt("navigateOnHover",!0),wt("stayInDom",!1),Hc("tmenuBehaviours",[No,zr,zt,Cs]),wt("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:yj,extraApis:{tieredData:wj,singleData:Cj,collapseItem:UB}}),XN=P("sink"),Sj=P(bd({name:XN(),overrides:P({dom:{tag:"div"},behaviours:On([bu.config({useFixed:Ze})]),events:la([zv(dc()),zv(Mu()),zv(km())])})})),xj=Wr([wt("isExtraPart",wn),Ta("fireEventInstead",[wt("event",Nv())])]),JN=t=>{const s=S("Dismissal",xj,t);return{[Pp()]:{schema:Wr([be("target")]),onReceive:(l,f)=>{Br.isOpen(l)&&(Br.isPartOf(l,f.target)||s.isExtraPart(l,f.target)||s.fireEventInstead.fold(()=>Br.close(l),w=>Ys(l,w.event)))}}}},WB=Wr([Ta("fireEventInstead",[wt("event",W_())]),An("doReposition")]),r2=t=>{const s=S("Reposition",WB,t);return{[nu()]:{onReceive:l=>{Br.isOpen(l)&&s.fireEventInstead.fold(()=>s.doReposition(l),f=>Ys(l,f.event))}}}},jB=(t,s)=>{const l=t.getHotspot(s).getOr(s),f="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(()=>({type:f,hotspot:l,overrides:v}),w=>({type:f,hotspot:l,overrides:v,layouts:w}))},_j=(t,s,l)=>{const f=t.fetch;return f(l).map(s)},Tj=(t,s,l,f,v,w,_)=>{const L=_j(t,s,f),I=QN(f,t);return L.map(W=>W.bind(X=>{const oe=X.menus[X.primary];return U.from(oe).each(me=>{t.listRole.each(Oe=>{me.role=Oe})}),U.from(g1.sketch({...w.menu(),uid:Qv(""),data:X,highlightOnOpen:_,onOpenMenu:(me,Oe)=>{const Ne=I().getOrDie();bu.position(Ne,Oe,{anchor:l}),Br.decloak(v)},onOpenSubmenu:(me,Oe,Ne)=>{const Ue=I().getOrDie();bu.position(Ue,Ne,{anchor:{type:"submenu",item:Oe}}),Br.decloak(v)},onRepositionMenu:(me,Oe,Ne)=>{const Ue=I().getOrDie();bu.position(Ue,Oe,{anchor:l}),yt(Ne,Xe=>{bu.position(Ue,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem}})})},onEscape:()=>(ps.focus(f),Br.close(v),U.some(!0))}))}))},_k=(t,s,l,f,v,w,_)=>{const L=jB(t,l);return Tj(t,s,L,l,f,v,_).map(W=>(W.fold(()=>{Br.isOpen(f)&&Br.close(f)},X=>{Br.cloak(f),Br.open(f,X),w(f)}),f))},Ej=(t,s,l,f,v,w,_)=>(Br.close(f),or.pure(f)),ZB=(t,s,l,f,v,w)=>{const _=gs.getCoupled(l,"sandbox");return(Br.isOpen(_)?Ej:_k)(t,s,l,_,f,v,w)},qB=(t,s,l)=>{const f=zt.getCurrent(s).getOr(s),v=rl(t.element);l?vo(f.element,"min-width",v+"px"):rf(f.element,v)},QN=(t,s)=>t.getSystem().getByUid(s.uid+"-"+XN()).map(l=>()=>io.value(l)).getOrThunk(()=>s.lazySink.fold(()=>()=>io.error(new Error("No internal sink is specified, nor could an external sink be found")),l=>()=>l(t))),YB=t=>{Br.getState(t).each(s=>{g1.repositionMenus(s)})},GB=(t,s,l)=>{const f=DB(),v=(L,I)=>{const W=jB(t,s);f.link(s.element),t.matchWidth&&qB(W.hotspot,I,t.useMinWidth),t.onOpen(W,L,I),l!==void 0&&l.onOpen!==void 0&&l.onOpen(L,I)},w=(L,I)=>{f.unlink(s.element),_().getOr(I).element.dom.dispatchEvent(new window.FocusEvent("focusout")),l!==void 0&&l.onClose!==void 0&&l.onClose(L,I)},_=QN(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:f.id}},behaviours:wf.augment(t.sandboxBehaviours,[jn.config({store:{mode:"memory",initialValue:s}}),Br.config({onOpen:v,onClose:w,isPartOf:(L,I,W)=>p1(I,W)||p1(s,W),getAttachPoint:()=>_().getOrDie()}),zt.config({find:L=>Br.getState(L).bind(I=>zt.getCurrent(I))}),Cf.config({channels:{...JN({isExtraPart:wn}),...r2({doReposition:YB})}})])}},kj=t=>{const s=gs.getCoupled(t,"sandbox");YB(s)},Yd=()=>[wt("sandboxClasses",[]),wf.field("sandboxBehaviours",[zt,Cf,Br,jn])],Zm=P([be("dom"),be("fetch"),Ar("onOpen"),kl("onExecute"),wt("getHotspot",U.some),wt("getAnchorOverrides",P({})),ry(),Hc("dropdownBehaviours",[ur,gs,No,ps]),be("toggleClass"),wt("eventOrder",{}),qn("lazySink"),wt("matchWidth",!1),wt("useMinWidth",!1),qn("role"),qn("listRole")].concat(Yd())),KB=P([vd({schema:[J_(),wt("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),Sj()]),e4=(t,s,l,f)=>{const v=X=>Mn(t.dom,"attributes").bind(oe=>Mn(oe,X)),w=X=>{Br.getState(X).each(oe=>{g1.highlightPrimary(oe)})},_=(X,oe,me)=>ZB(t,mn,X,f,oe,me),L=X=>{_(X,w,gu.HighlightMenuAndItem).get(xe)},I={expand:X=>{ur.isOn(X)||_(X,xe,gu.HighlightNone).get(xe)},open:X=>{ur.isOn(X)||_(X,xe,gu.HighlightMenuAndItem).get(xe)},refetch:X=>gs.getExistingCoupled(X,"sandbox").fold(()=>_(X,xe,gu.HighlightMenuAndItem).map(xe),me=>_k(t,mn,X,me,f,xe,gu.HighlightMenuAndItem).map(xe)),isOpen:ur.isOn,close:X=>{ur.isOn(X)&&_(X,xe,gu.HighlightMenuAndItem).get(xe)},repositionMenus:X=>{ur.isOn(X)&&kj(X)}},W=(X,oe)=>(S0(X),U.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.dropdownBehaviours,[ur.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),gs.config({others:{sandbox:X=>GB(t,X,{onOpen:()=>ur.on(X),onClose:()=>ur.off(X)})}}),No.config({mode:"special",onSpace:W,onEnter:W,onDown:(X,oe)=>{if(Ed.isOpen(X)){const me=gs.getCoupled(X,"sandbox");w(me)}else Ed.open(X);return U.some(!0)},onEscape:(X,oe)=>Ed.isOpen(X)?(Ed.close(X),U.some(!0)):U.none()}),ps.config({})]),events:UN(U.some(L)),eventOrder:{...t.eventOrder,[pd()]:["disabling","toggling","alloy.base.behaviour"]},apis:I,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),X=>({role:X})),...t.dom.tag==="button"?{type:v("type").getOr("button")}:{}}}}},Ed=_d({name:"Dropdown",configFields:Zm(),partFields:KB(),factory:e4,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),i2="form",Dj=[Hc("formBehaviours",[jn])],t4=t=>"<alloy.field."+t+">",a2=t=>{const s=(()=>{const w=[];return{field:(L,I)=>(w.push(L),Ju(i2,t4(L),I)),record:P(w)}})(),l=t(s),f=s.record(),v=Yt(f,w=>Nu({name:w,pname:t4(w)}));return WI(i2,Dj,v,Tk,l)},Aj=(t,s)=>t.fold(()=>io.error(s),io.value),Tk=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.formBehaviours,[jn.config({store:{mode:"manual",getValue:l=>{const f=Pw(l,t);return Tt(f,(v,w)=>v().bind(_=>{const L=zt.getCurrent(_);return Aj(L,new Error(`Cannot find a current component to extract the value from for form part '${w}': `+pf(_.element)))}).map(jn.getValue))},setValue:(l,f)=>{ot(f,(v,w)=>{jr(l,t,w).each(_=>{zt.getCurrent(_).each(L=>{jn.setValue(L,v)})})})}}})]),apis:{getField:(l,f)=>jr(l,t,f).bind(zt.getCurrent)}}),v1={getField:Fp((t,s,l)=>t.getField(s,l)),sketch:a2},iy=P([be("dom"),wt("shell",!0),Hc("toolbarBehaviours",[Cs])]),Oj=P([bd({name:"groups",overrides:()=>({behaviours:On([Cs.config({})])})})]),Mj=(t,s,l,f)=>{const v=(L,I)=>{w(L).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},W=>{Cs.set(W,I)})},w=L=>t.shell?U.some(L):jr(L,t,"groups"),_=t.shell?{behaviours:[Cs.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:_.components,behaviours:kc(t.toolbarBehaviours,_.behaviours),apis:{setGroups:v,refresh:xe},domModification:{attributes:{role:"group"}}}},ru=_d({name:"Toolbar",configFields:iy(),partFields:Oj(),factory:Mj,apis:{setGroups:(t,s,l)=>{t.setGroups(s,l)}}}),xf=P([gf(["toggledClass"]),be("lazySink"),An("fetch"),Wi("getBounds"),Ta("fireDismissalEventInstead",[wt("event",Nv())]),ry(),Ar("onToggled")]),l2=P([vd({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:On([ur.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),vd({factory:ru,schema:iy(),name:"toolbar",overrides:t=>({toolbarBehaviours:On([No.config({mode:"cyclic",onEscape:s=>(jr(s,t,"button").each(ps.focus),U.none())})])})})]),od=Po(),Nj=(t,s)=>{od.set(!0),$i(t,s),od.clear()},$i=(t,s)=>{const l=gs.getCoupled(t,"toolbarSandbox");Br.isOpen(l)?Br.close(l):Br.open(l,s.toolbar())},n4=(t,s,l,f)=>{const v=l.getBounds.map(_=>_()),w=l.lazySink(t).getOrDie();bu.positionWithinBounds(w,s,{anchor:{type:"hotspot",hotspot:t,layouts:f,overrides:{maxWidthFunction:lx()}}},v)},Ig=(t,s,l,f,v)=>{ru.setGroups(s,v),n4(t,s,l,f),ur.on(t)},c2=(t,s,l)=>{const f=DB(),v=(_,L)=>{const I=od.get().getOr(!1);l.fetch().get(W=>{Ig(t,L,l,s.layouts,W),f.link(t.element),I||No.focusIn(L)})},w=()=>{ur.off(t),od.get().getOr(!1)||ps.focus(t),f.unlink(t.element)};return{dom:{tag:"div",attributes:{id:f.id}},behaviours:On([No.config({mode:"special",onEscape:_=>(Br.close(_),U.some(!0))}),Br.config({onOpen:v,onClose:w,isPartOf:(_,L,I)=>p1(L,I)||p1(t,I),getAttachPoint:()=>l.lazySink(t).getOrDie()}),Cf.config({channels:{...JN({isExtraPart:wn,...l.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...r2({doReposition:()=>{Br.getState(gs.getCoupled(t,"toolbarSandbox")).each(_=>{n4(t,_,l,s.layouts)})}})}})])}},Fg=_d({name:"FloatingToolbarButton",factory:(t,s,l,f)=>({...su.sketch({...f.button(),action:v=>{$i(v,f)},buttonBehaviours:wf.augment({dump:f.button().buttonBehaviours},[gs.config({others:{toolbarSandbox:v=>c2(v,l,t)}})])}),apis:{setGroups:(v,w)=>{Br.getState(gs.getCoupled(v,"toolbarSandbox")).each(_=>{Ig(v,_,t,l.layouts,w)})},reposition:v=>{Br.getState(gs.getCoupled(v,"toolbarSandbox")).each(w=>{n4(v,w,t,l.layouts)})},toggle:v=>{$i(v,f)},toggleWithoutFocusing:v=>{Nj(v,f)},getToolbar:v=>Br.getState(gs.getCoupled(v,"toolbarSandbox")),isOpen:v=>Br.isOpen(gs.getCoupled(v,"toolbarSandbox"))}}),configFields:xf(),partFields:l2(),apis:{setGroups:(t,s,l)=>{t.setGroups(s,l)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),o4=P([wt("prefix","form-field"),Hc("fieldBehaviours",[zt,jn])]),Lj=P([bd({schema:[be("dom")],name:"label"}),bd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[be("text")],name:"aria-descriptor"}),Nu({factory:{sketch:t=>{const s=Em(t,["factory"]);return t.factory.sketch(s)}},schema:[be("factory")],name:"field"})]),s4=(t,s,l,f)=>{const v=kc(t.fieldBehaviours,[zt.config({find:L=>jr(L,t,"field")}),jn.config({store:{mode:"manual",getValue:L=>zt.getCurrent(L).bind(jn.getValue),setValue:(L,I)=>{zt.getCurrent(L).each(W=>{jn.setValue(W,I)})}}})]),w=la([ta((L,I)=>{const W=h0(L,t,["label","field","aria-descriptor"]);W.field().each(X=>{const oe=_n(t.prefix);W.label().each(me=>{Io(me.element,"for",oe),Io(X.element,"id",oe)}),W["aria-descriptor"]().each(me=>{const Oe=_n(t.prefix);Io(me.element,"id",Oe),Io(X.element,"aria-describedby",Oe)})})})]),_={getField:L=>jr(L,t,"field"),getLabel:L=>jr(L,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:v,events:w,apis:_}},tr=_d({name:"FormField",configFields:o4(),partFields:Lj(),factory:s4,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}}),XB=P([wt("field1Name","field1"),wt("field2Name","field2"),d0("onLockedChange"),gf(["lockClass"]),wt("locked",!1),wf.field("coupledFieldBehaviours",[zt,jn]),Dr("onInput",xe)]),JB=(t,s,l)=>jr(t,s,l).bind(zt.getCurrent),kk=(t,s)=>Nu({factory:tr,name:t,overrides:l=>({fieldBehaviours:On([hs("coupled-input-behaviour",[Wt(kp(),f=>{JB(f,l,s).each(v=>{jr(f,l,"lock").each(w=>{ur.isOn(w)&&l.onLockedChange(f,v,w),l.onInput(f)})})})])])})}),QB=P([kk("field1","field2"),kk("field2","field1"),Nu({factory:su,schema:[be("dom")],name:"lock",overrides:t=>({buttonBehaviours:On([ur.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),Dk=(t,s,l,f)=>({uid:t.uid,dom:t.dom,components:s,behaviours:wf.augment(t.coupledFieldBehaviours,[zt.config({find:U.some}),jn.config({store:{mode:"manual",getValue:v=>{const w=m0(v,t,["field1","field2"]);return{[t.field1Name]:jn.getValue(w.field1()),[t.field2Name]:jn.getValue(w.field2())}},setValue:(v,w)=>{const _=m0(v,t,["field1","field2"]);Mo(w,t.field1Name)&&jn.setValue(_.field1(),w[t.field1Name]),Mo(w,t.field2Name)&&jn.setValue(_.field2(),w[t.field2Name])}}})]),apis:{getField1:v=>jr(v,t,"field1"),getField2:v=>jr(v,t,"field2"),getLock:v=>jr(v,t,"lock")}}),gl=_d({name:"FormCoupledInputs",configFields:XB(),partFields:QB(),factory:Dk,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),Pj=(t,s)=>{const l=Yt(t.options,v=>({dom:{tag:"option",value:v.value,innerHtml:v.text}})),f=t.data.map(v=>Ou("initialValue",v)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:l,behaviours:kc(t.selectBehaviours,[ps.config({}),jn.config({store:{mode:"manual",getValue:v=>ac(v.element),setValue:(v,w)=>{const _=Vn(t.options);fo(t.options,I=>I.value===w).isSome()?Gu(v.element,w):v.element.dom.selectedIndex===-1&&w===""&&_.each(I=>Gu(v.element,I.value))},...f}})])}},Ij=th({name:"HtmlSelect",configFields:[be("options"),Hc("selectBehaviours",[ps,jn]),wt("selectClasses",[]),wt("selectAttributes",{}),qn("data")],factory:Pj}),Fj=(t,s,l,f,v)=>{const w=()=>t.lazySink(s),_=f.type==="horizontal"?{layouts:{onLtr:()=>Iv(),onRtl:()=>sx()}}:{},L=W=>W.length===2,I=W=>L(W)?_:{};return g1.sketch({dom:{tag:"div"},data:f.data,markers:f.menu.markers,highlightOnOpen:f.menu.highlightOnOpen,fakeFocus:f.menu.fakeFocus,onEscape:()=>(Br.close(s),t.onEscape.map(W=>W(s)),U.some(!0)),onExecute:()=>U.some(!0),onOpenMenu:(W,X)=>{bu.positionWithinBounds(w().getOrDie(),X,l,v())},onOpenSubmenu:(W,X,oe,me)=>{const Oe=w().getOrDie();bu.position(Oe,oe,{anchor:{type:"submenu",item:X,...I(me)}})},onRepositionMenu:(W,X,oe)=>{const me=w().getOrDie();bu.positionWithinBounds(me,X,l,v()),yt(oe,Oe=>{const Ne=I(Oe.triggeringPath);bu.position(me,Oe.triggeredMenu,{anchor:{type:"submenu",item:Oe.triggeringItem,...Ne}})})}})},Bj=(t,s)=>{const l=(me,Oe)=>t.getRelated(me).exists(Ue=>p1(Ue,Oe)),f=(me,Oe)=>{Br.setContent(me,Oe)},v=(me,Oe,Ne)=>{const Ue=U.none;w(me,Oe,Ne,Ue)},w=(me,Oe,Ne,Ue)=>{const Xe=t.lazySink(me).getOrDie();Br.openWhileCloaked(me,Oe,()=>bu.positionWithinBounds(Xe,me,Ne,Ue())),jn.setValue(me,U.some({mode:"position",config:Ne,getBounds:Ue}))},_=(me,Oe,Ne)=>{L(me,Oe,Ne,U.none)},L=(me,Oe,Ne,Ue)=>{const Xe=Fj(t,me,Oe,Ne,Ue);Br.open(me,Xe),jn.setValue(me,U.some({mode:"menu",menu:Xe}))},I=me=>{Br.isOpen(me)&&(jn.setValue(me,U.none()),Br.close(me))},W=me=>Br.getState(me),X=me=>{Br.isOpen(me)&&jn.getValue(me).each(Oe=>{switch(Oe.mode){case"menu":Br.getState(me).each(g1.repositionMenus);break;case"position":const Ne=t.lazySink(me).getOrDie();bu.positionWithinBounds(Ne,me,Oe.config,Oe.getBounds());break}})},oe={setContent:f,showAt:v,showWithinBounds:w,showMenuAt:_,showMenuWithinBounds:L,hide:I,getContent:W,reposition:X,isOpen:Br.isOpen};return{uid:t.uid,dom:t.dom,behaviours:kc(t.inlineBehaviours,[Br.config({isPartOf:(me,Oe,Ne)=>p1(Oe,Ne)||l(me,Ne),getAttachPoint:me=>t.lazySink(me).getOrDie(),onOpen:me=>{t.onShow(me)},onClose:me=>{t.onHide(me)}}),jn.config({store:{mode:"memory",initialValue:U.none()}}),Cf.config({channels:{...JN({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(me=>({fireEventInstead:{event:me.event}})).getOr({})}),...r2({...t.fireRepositionEventInstead.map(me=>({fireEventInstead:{event:me.event}})).getOr({}),doReposition:X})}})]),eventOrder:t.eventOrder,apis:oe}},ka=th({name:"InlineView",configFields:[be("lazySink"),Ar("onShow"),Ar("onHide"),Wi("onEscape"),Hc("inlineBehaviours",[Br,jn,Cf]),Ta("fireDismissalEventInstead",[wt("event",Nv())]),Ta("fireRepositionEventInstead",[wt("event",W_())]),wt("getRelated",U.none),wt("isExtraPart",wn),wt("eventOrder",U.none)],factory:Bj,apis:{showAt:(t,s,l,f)=>{t.showAt(s,l,f)},showWithinBounds:(t,s,l,f,v)=>{t.showWithinBounds(s,l,f,v)},showMenuAt:(t,s,l,f)=>{t.showMenuAt(s,l,f)},showMenuWithinBounds:(t,s,l,f,v)=>{t.showMenuWithinBounds(s,l,f,v)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,l)=>{t.setContent(s,l)},reposition:(t,s)=>{t.reposition(s)}}}),e$=P([hr("type","text"),qn("data"),wt("inputAttributes",{}),wt("inputStyles",{}),wt("tag","input"),wt("inputClasses",[]),Ar("onSetValue"),Dr("fromInputValue",mn),Dr("toInputValue",mn),wt("styles",{}),wt("eventOrder",{}),Hc("inputBehaviours",[jn,ps]),wt("selectOnFocus",!0)]),t$=t=>On([ps.config({onFocus:t.selectOnFocus?s=>{const l=s.element,f=ac(l);t.type!=="range"&&l.dom.setSelectionRange(0,f.length)}:xe})]),n$=t=>({...t$(t),...kc(t.inputBehaviours,[jn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>t.fromInputValue(ac(s.element)),setValue:(s,l)=>{ac(s.element)!==l&&Gu(s.element,t.toInputValue(l))}},onSetValue:t.onSetValue})])}),o$=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),s$=(t,s)=>({uid:t.uid,dom:o$(t),components:[],behaviours:n$(t),eventOrder:t.eventOrder}),qh=th({name:"Input",configFields:e$(),factory:s$}),r4=Hl(YN(),s2()),$j=(t,s)=>{const l=_l(t,"id").fold(()=>{const f=_n("dialog-label");return Io(s,"id",f),f},mn);Io(t,"aria-labelledby",l)},r$=P([be("lazySink"),qn("dragBlockClass"),Dr("getBounds",cc),wt("useTabstopAt",Ze),wt("firstTabstop",0),wt("eventOrder",{}),Hc("modalBehaviours",[No]),kl("onExecute"),_w("onEscape")]),Ak={sketch:mn},i4=P([bd({name:"draghandle",overrides:(t,s)=>({behaviours:On([ny.config({mode:"mouse",getTarget:l=>ku(l,'[role="dialog"]').getOr(l),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Nu({schema:[be("dom")],name:"title"}),Nu({factory:Ak,schema:[be("dom")],name:"close"}),Nu({factory:Ak,schema:[be("dom")],name:"body"}),bd({factory:Ak,schema:[be("dom")],name:"footer"}),vd({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[wt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),wt("components",[])],name:"blocker"})]),i$=(t,s,l,f)=>{const v=Po(),w=Ne=>{v.set(Ne);const Ue=t.lazySink(Ne).getOrDie(),Xe=f.blocker(),ze=Ue.getSystem().build({...Xe,components:Xe.components.concat([N(Ne)]),behaviours:On([ps.config({}),hs("dialog-blocker-events",[Vv(Vf(),()=>{dn.isBlocked(Ne)?xe():No.focusIn(Ne)})])])});zm(Ue,ze),No.focusIn(Ne)},_=Ne=>{v.clear(),vn(Ne.element).each(Ue=>{Ne.getSystem().getByDom(Ue).each(Xe=>{Vm(Xe)})})},L=Ne=>mu(Ne,t,"body"),I=Ne=>jr(Ne,t,"footer"),W=(Ne,Ue)=>{dn.block(Ne,Ue)},X=Ne=>{dn.unblock(Ne)},oe=_n("modal-events"),me={...t.eventOrder,[Nh()]:[oe].concat(t.eventOrder["alloy.system.attached"]||[])},Oe=xi();return{uid:t.uid,dom:t.dom,components:s,apis:{show:w,hide:_,getBody:L,getFooter:I,setIdle:X,setBusy:W},eventOrder:me,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:kc(t.modalBehaviours,[Cs.config({}),No.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),dn.config({getRoot:v.get}),hs(oe,[ta(Ne=>{const Ue=mu(Ne,t,"title").element,Xe=gm(Ue);Oe.os.isMacOS()&&Ee(Xe)?Io(Ne.element,"aria-label",Xe):$j(Ne.element,Ue)})])])}},gc=_d({name:"ModalDialog",configFields:r$(),partFields:i4(),factory:i$,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,l)=>{t.setBusy(s,l)},setIdle:(t,s)=>{t.setIdle(s)}}}),Hj=bd({schema:[be("dom")],name:"label"}),b1=t=>bd({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),f=>({events:la([Xw(Tp(),(v,w,_)=>f(v,_),[s]),Xw(Mu(),(v,w,_)=>f(v,_),[s]),Xw(yg(),(v,w,_)=>{_.mouseIsDown.get()&&f(v,_)},[s])])}))}),zj=b1("top-left"),Vj=b1("top"),Uj=b1("top-right"),a$=b1("right"),qm=b1("bottom-right"),Wj=b1("bottom"),a4=b1("bottom-left"),l$=b1("left"),c$=Nu({name:"thumb",defaults:P({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:la([Np(Tp(),t,"spectrum"),Np(Ep(),t,"spectrum"),Np(_v(),t,"spectrum"),Np(Mu(),t,"spectrum"),Np(yg(),t,"spectrum"),Np(vw(),t,"spectrum")])})}),Ok=t=>Uv(t.event),u$=Nu({schema:[ce("mouseIsDown",()=>Pn(!1))],name:"spectrum",overrides:t=>{const l=t.model.manager,f=(v,w)=>l.getValueFromEvent(w).map(_=>l.setValueFrom(v,t,_));return{behaviours:On([No.config({mode:"special",onLeft:(v,w)=>l.onLeft(v,t,Ok(w)),onRight:(v,w)=>l.onRight(v,t,Ok(w)),onUp:(v,w)=>l.onUp(v,t,Ok(w)),onDown:(v,w)=>l.onDown(v,t,Ok(w))}),Yi.config({}),ps.config({})]),events:la([Wt(Tp(),f),Wt(Ep(),f),Wt(Mu(),f),Wt(yg(),(v,w)=>{t.mouseIsDown.get()&&f(v,w)})])}}});var d$=[Hj,l$,a$,Vj,Wj,zj,Uj,a4,qm,c$,u$];const u2=P("slider.change.value"),Zj=t=>t.type.indexOf("touch")!==-1,l4=t=>{const s=t.event.raw;if(Zj(s)){const l=s;return l.touches!==void 0&&l.touches.length===1?U.some(l.touches[0]).map(f=>$r(f.clientX,f.clientY)):U.none()}else{const l=s;return l.clientX!==void 0?U.some(l).map(f=>$r(f.clientX,f.clientY)):U.none()}},qj="top",Yj="right",Gj="bottom",Kj="left",y1=t=>t.model.minX,w1=t=>t.model.minY,d2=t=>t.model.minX-1,f2=t=>t.model.minY-1,ay=t=>t.model.maxX,ly=t=>t.model.maxY,Mk=t=>t.model.maxX+1,h2=t=>t.model.maxY+1,cy=(t,s,l)=>s(t)-l(t),HC=t=>cy(t,ay,y1),c4=t=>cy(t,ly,w1),u4=t=>HC(t)/2,d4=t=>c4(t)/2,uy=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,f4=t=>t.snapToGrid,Nk=t=>t.snapStart,Rk=t=>t.rounded,Lk=(t,s)=>t[s+"-edge"]!==void 0,f$=t=>Lk(t,Kj),h$=t=>Lk(t,Yj),h4=t=>Lk(t,qj),m4=t=>Lk(t,Gj),fb=t=>t.model.value.get(),C1=(t,s)=>({x:t,y:s}),Yh=(t,s)=>{$o(t,u2(),{value:s})},Xj=(t,s)=>{Yh(t,C1(d2(s),f2(s)))},Jj=(t,s)=>{Yh(t,f2(s))},Qj=(t,s)=>{Yh(t,C1(u4(s),f2(s)))},eZ=(t,s)=>{Yh(t,C1(Mk(s),f2(s)))},tZ=(t,s)=>{Yh(t,Mk(s))},nZ=(t,s)=>{Yh(t,C1(Mk(s),d4(s)))},oZ=(t,s)=>{Yh(t,C1(Mk(s),h2(s)))},m$=(t,s)=>{Yh(t,h2(s))},p$=(t,s)=>{Yh(t,C1(u4(s),h2(s)))},sZ=(t,s)=>{Yh(t,C1(d2(s),h2(s)))},rZ=(t,s)=>{Yh(t,d2(s))},iZ=(t,s)=>{Yh(t,C1(d2(s),d4(s)))},Pk=(t,s,l,f)=>t<s?t:t>l?l:t===s?s-1:Math.max(s,t-f),p4=(t,s,l,f)=>t>l?t:t<s?s:t===l?l+1:Math.min(l,t+f),g$=(t,s,l)=>Math.max(s,Math.min(l,t)),aZ=(t,s,l,f,v)=>v.fold(()=>{const w=t-s,_=Math.round(w/f)*f;return g$(s+_,s-1,l+1)},w=>{const _=(t-w)%f,L=Math.round(_/f),I=Math.floor((t-w)/f),W=Math.floor((l-w)/f),X=Math.min(W,I+L),oe=w+X*f;return Math.max(w,oe)}),Ik=(t,s,l)=>Math.min(l,Math.max(t,s))-s,v$=t=>{const{min:s,max:l,range:f,value:v,step:w,snap:_,snapStart:L,rounded:I,hasMinEdge:W,hasMaxEdge:X,minBound:oe,maxBound:me,screenRange:Oe}=t,Ne=W?s-1:s,Ue=X?l+1:l;if(v<oe)return Ne;if(v>me)return Ue;{const Xe=Ik(v,oe,me),ze=g$(Xe/Oe*f+s,Ne,Ue);return _&&ze>=s&&ze<=l?aZ(ze,s,l,w,L):I?Math.round(ze):ze}},b$=t=>{const{min:s,max:l,range:f,value:v,hasMinEdge:w,hasMaxEdge:_,maxBound:L,maxOffset:I,centerMinEdge:W,centerMaxEdge:X}=t;return v<s?w?0:W:v>l?_?L:X:(v-s)/f*I},g4="top",y$="right",w$="bottom",v4="left",lZ="width",cZ="height",Bg=t=>t.element.dom.getBoundingClientRect(),Ym=(t,s)=>t[s],Fk=t=>{const s=Bg(t);return Ym(s,v4)},C$=t=>{const s=Bg(t);return Ym(s,y$)},Bk=t=>{const s=Bg(t);return Ym(s,g4)},$k=t=>{const s=Bg(t);return Ym(s,w$)},S$=t=>{const s=Bg(t);return Ym(s,lZ)},x$=t=>{const s=Bg(t);return Ym(s,cZ)},_$=(t,s,l)=>(t+s)/2-l,b4=(t,s)=>{const l=Bg(t),f=Bg(s),v=Ym(l,v4),w=Ym(l,y$),_=Ym(f,v4);return _$(v,w,_)},T$=(t,s)=>{const l=Bg(t),f=Bg(s),v=Ym(l,g4),w=Ym(l,w$),_=Ym(f,g4);return _$(v,w,_)},Hk=(t,s)=>{$o(t,u2(),{value:s})},y4=(t,s,l)=>{const f={min:y1(s),max:ay(s),range:HC(s),value:l,step:uy(s),snap:f4(s),snapStart:Nk(s),rounded:Rk(s),hasMinEdge:f$(s),hasMaxEdge:h$(s),minBound:Fk(t),maxBound:C$(t),screenRange:S$(t)};return v$(f)},uZ=(t,s,l)=>{const f=y4(t,s,l);return Hk(t,f),f},dZ=(t,s)=>{const l=y1(s);Hk(t,l)},fZ=(t,s)=>{const l=ay(s);Hk(t,l)},w4=(t,s,l,f)=>{const w=(t>0?p4:Pk)(fb(l),y1(l),ay(l),uy(l,f));return Hk(s,w),U.some(w)},E$=t=>(s,l,f)=>w4(t,s,l,f).map(Ze),hZ=t=>l4(t).map(l=>l.left),mZ=(t,s,l,f,v)=>{const _=S$(t),L=f.bind(X=>U.some(b4(X,t))).getOr(0),I=v.bind(X=>U.some(b4(X,t))).getOr(_),W={min:y1(s),max:ay(s),range:HC(s),value:l,hasMinEdge:f$(s),hasMaxEdge:h$(s),minBound:Fk(t),maxBound:C$(t),maxOffset:_,centerMinEdge:L,centerMaxEdge:I};return b$(W)},C4=(t,s,l,f,v,w)=>{const _=mZ(s,w,l,f,v);return Fk(s)-Fk(t)+_},pZ=(t,s,l,f)=>{const v=fb(l),w=C4(t,f.getSpectrum(t),v,f.getLeftEdge(t),f.getRightEdge(t),l),_=rl(s.element)/2;vo(s.element,"left",w-_+"px")},gZ=E$(-1),vZ=E$(1),bZ=U.none,yZ=U.none,wZ={"top-left":U.none(),top:U.none(),"top-right":U.none(),right:U.some(tZ),"bottom-right":U.none(),bottom:U.none(),"bottom-left":U.none(),left:U.some(rZ)};var CZ=Object.freeze({__proto__:null,setValueFrom:uZ,setToMin:dZ,setToMax:fZ,findValueOfOffset:y4,getValueFromEvent:hZ,findPositionOfValue:C4,setPositionFromValue:pZ,onLeft:gZ,onRight:vZ,onUp:bZ,onDown:yZ,edgeActions:wZ});const zk=(t,s)=>{$o(t,u2(),{value:s})},S4=(t,s,l)=>{const f={min:w1(s),max:ly(s),range:c4(s),value:l,step:uy(s),snap:f4(s),snapStart:Nk(s),rounded:Rk(s),hasMinEdge:h4(s),hasMaxEdge:m4(s),minBound:Bk(t),maxBound:$k(t),screenRange:x$(t)};return v$(f)},SZ=(t,s,l)=>{const f=S4(t,s,l);return zk(t,f),f},xZ=(t,s)=>{const l=w1(s);zk(t,l)},x4=(t,s)=>{const l=ly(s);zk(t,l)},_Z=(t,s,l,f)=>{const w=(t>0?p4:Pk)(fb(l),w1(l),ly(l),uy(l,f));return zk(s,w),U.some(w)},k$=t=>(s,l,f)=>_Z(t,s,l,f).map(Ze),TZ=t=>l4(t).map(l=>l.top),m2=(t,s,l,f,v)=>{const _=x$(t),L=f.bind(X=>U.some(T$(X,t))).getOr(0),I=v.bind(X=>U.some(T$(X,t))).getOr(_),W={min:w1(s),max:ly(s),range:c4(s),value:l,hasMinEdge:h4(s),hasMaxEdge:m4(s),minBound:Bk(t),maxBound:$k(t),maxOffset:_,centerMinEdge:L,centerMaxEdge:I};return b$(W)},Vk=(t,s,l,f,v,w)=>{const _=m2(s,w,l,f,v);return Bk(s)-Bk(t)+_},EZ=(t,s,l,f)=>{const v=fb(l),w=Vk(t,f.getSpectrum(t),v,f.getTopEdge(t),f.getBottomEdge(t),l),_=Ka(s.element)/2;vo(s.element,"top",w-_+"px")},kZ=U.none,D$=U.none,DZ=k$(-1),AZ=k$(1),OZ={"top-left":U.none(),top:U.some(Jj),"top-right":U.none(),right:U.none(),"bottom-right":U.none(),bottom:U.some(m$),"bottom-left":U.none(),left:U.none()};var MZ=Object.freeze({__proto__:null,setValueFrom:SZ,setToMin:xZ,setToMax:x4,findValueOfOffset:S4,getValueFromEvent:TZ,findPositionOfValue:Vk,setPositionFromValue:EZ,onLeft:kZ,onRight:D$,onUp:DZ,onDown:AZ,edgeActions:OZ});const Uk=(t,s)=>{$o(t,u2(),{value:s})},Wk=(t,s)=>({x:t,y:s}),NZ=(t,s,l)=>{const f=y4(t,s,l.left),v=S4(t,s,l.top),w=Wk(f,v);return Uk(t,w),w},RZ=(t,s,l,f,v)=>{const w=t>0?p4:Pk,_=s?fb(f).x:w(fb(f).x,y1(f),ay(f),uy(f,v)),L=s?w(fb(f).y,w1(f),ly(f),uy(f,v)):fb(f).y;return Uk(l,Wk(_,L)),U.some(_)},p2=(t,s)=>(l,f,v)=>RZ(t,s,l,f,v).map(Ze),A$=(t,s)=>{const l=y1(s),f=w1(s);Uk(t,Wk(l,f))},LZ=(t,s)=>{const l=ay(s),f=ly(s);Uk(t,Wk(l,f))},O$=t=>l4(t),M$=(t,s,l,f)=>{const v=fb(l),w=C4(t,f.getSpectrum(t),v.x,f.getLeftEdge(t),f.getRightEdge(t),l),_=Vk(t,f.getSpectrum(t),v.y,f.getTopEdge(t),f.getBottomEdge(t),l),L=rl(s.element)/2,I=Ka(s.element)/2;vo(s.element,"left",w-L+"px"),vo(s.element,"top",_-I+"px")},N$=p2(-1,!1),R$=p2(1,!1),PZ=p2(-1,!0),IZ=p2(1,!0),FZ={"top-left":U.some(Xj),top:U.some(Qj),"top-right":U.some(eZ),right:U.some(nZ),"bottom-right":U.some(oZ),bottom:U.some(p$),"bottom-left":U.some(sZ),left:U.some(iZ)};var BZ=Object.freeze({__proto__:null,setValueFrom:NZ,setToMin:A$,setToMax:LZ,getValueFromEvent:O$,setPositionFromValue:M$,onLeft:N$,onRight:R$,onUp:PZ,onDown:IZ,edgeActions:FZ});const _4=[wt("stepSize",1),wt("speedMultiplier",10),wt("onChange",xe),wt("onChoose",xe),wt("onInit",xe),wt("onDragStart",xe),wt("onDragEnd",xe),wt("snapToGrid",!1),wt("rounded",!0),qn("snapStart"),nt("model",z("mode",{x:[wt("minX",0),wt("maxX",100),ce("value",t=>Pn(t.mode.minX)),be("getInitialValue"),ia("manager",CZ)],y:[wt("minY",0),wt("maxY",100),ce("value",t=>Pn(t.mode.minY)),be("getInitialValue"),ia("manager",MZ)],xy:[wt("minX",0),wt("maxX",100),wt("minY",0),wt("maxY",100),ce("value",t=>Pn({x:t.mode.minX,y:t.mode.minY})),be("getInitialValue"),ia("manager",BZ)]})),Hc("sliderBehaviours",[No,jn]),ce("mouseIsDown",()=>Pn(!1))],Gm=_d({name:"Slider",configFields:_4,partFields:d$,factory:(t,s,l,f)=>{const v=Rt=>mu(Rt,t,"thumb"),w=Rt=>mu(Rt,t,"spectrum"),_=Rt=>jr(Rt,t,"left-edge"),L=Rt=>jr(Rt,t,"right-edge"),I=Rt=>jr(Rt,t,"top-edge"),W=Rt=>jr(Rt,t,"bottom-edge"),X=t.model,oe=X.manager,me=(Rt,$n)=>{oe.setPositionFromValue(Rt,$n,t,{getLeftEdge:_,getRightEdge:L,getTopEdge:I,getBottomEdge:W,getSpectrum:w})},Oe=(Rt,$n)=>{X.value.set($n);const rn=v(Rt);me(Rt,rn)},Ne=(Rt,$n)=>{Oe(Rt,$n);const rn=v(Rt);return t.onChange(Rt,rn,$n),U.some(!0)},Ue=Rt=>{oe.setToMin(Rt,t)},Xe=Rt=>{oe.setToMax(Rt,t)},ze=Rt=>{const $n=()=>{jr(Rt,t,"thumb").each(bn=>{const hn=X.value.get();t.onChoose(Rt,bn,hn)})},rn=t.mouseIsDown.get();t.mouseIsDown.set(!1),rn&&$n()},it=(Rt,$n)=>{$n.stop(),t.mouseIsDown.set(!0),t.onDragStart(Rt,v(Rt))},ht=(Rt,$n)=>{$n.stop(),t.onDragEnd(Rt,v(Rt)),ze(Rt)},Dt=Rt=>{jr(Rt,t,"spectrum").map(No.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.sliderBehaviours,[No.config({mode:"special",focusIn:Dt}),jn.config({store:{mode:"manual",getValue:Rt=>X.value.get(),setValue:Oe}}),Cf.config({channels:{[Im()]:{onReceive:ze}}})]),events:la([Wt(u2(),(Rt,$n)=>{Ne(Rt,$n.event.value)}),ta((Rt,$n)=>{const rn=X.getInitialValue();X.value.set(rn);const bn=v(Rt);me(Rt,bn);const hn=w(Rt);t.onInit(Rt,bn,hn,X.value.get())}),Wt(Tp(),it),Wt(_v(),ht),Wt(Mu(),(Rt,$n)=>{Dt(Rt),it(Rt,$n)}),Wt(vw(),ht)]),apis:{resetToMin:Ue,resetToMax:Xe,setValue:Oe,refresh:me},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,l)=>{t.setValue(s,l)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),T4="container",HZ=[Hc("slotBehaviours",[])],L$=t=>"<alloy.field."+t+">",zZ=t=>{const s=(()=>{const w=[];return{slot:(L,I)=>(w.push(L),Ju(T4,L$(L),I)),record:P(w)}})(),l=t(s),f=s.record(),v=Yt(f,w=>Nu({name:w,pname:L$(w)}));return WI(T4,HZ,v,P$,l)},P$=(t,s)=>{const l=Ue=>Iw(t),f=(Ue,Xe)=>jr(Ue,t,Xe),v=(Ue,Xe)=>(ze,it)=>jr(ze,t,it).map(ht=>Ue(ht,it)).getOr(Xe),w=Ue=>(Xe,ze)=>{yt(ze,it=>Ue(Xe,it))},_=(Ue,Xe)=>za(Ue.element,"aria-hidden")!=="true",L=(Ue,Xe)=>{if(!_(Ue)){const ze=Ue.element;qs(ze,"display"),Di(ze,"aria-hidden"),$o(Ue,l0(),{name:Xe,visible:!0})}},I=(Ue,Xe)=>{if(_(Ue)){const ze=Ue.element;vo(ze,"display","none"),Io(ze,"aria-hidden","true"),$o(Ue,l0(),{name:Xe,visible:!1})}},W=v(_,!1),X=v(I),oe=w(X),me=Ue=>oe(Ue,l()),Oe=v(L),Ne={getSlotNames:l,getSlot:f,isShowing:W,hideSlot:X,hideAllSlots:me,showSlot:Oe};return{uid:t.uid,dom:t.dom,components:s,behaviours:ey(t.slotBehaviours),apis:Ne}},yu={...Tt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,l)=>t.getSlot(s,l),isShowing:(t,s,l)=>t.isShowing(s,l),hideSlot:(t,s,l)=>t.hideSlot(s,l),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,l)=>t.showSlot(s,l)},t=>Fp(t)),sketch:zZ},UZ=(t,s)=>js(t,(v,w)=>s(w,v.len).fold(P(v),L=>({len:L.finish,list:v.list.concat([L])})),{len:0,list:[]}).list,E4=(t,s,l)=>({within:t,extra:s,withinWidth:l}),I$=(t,s,l)=>{const f=UZ(t,(L,I)=>{const W=l(L);return U.some({element:L,start:I,finish:I+W,width:W})}),v=fs(f,L=>L.finish<=s),w=ns(v,(L,I)=>L+I.width,0),_=f.slice(v.length);return{within:v,extra:_,withinWidth:w}},jk=t=>Yt(t,s=>s.element),WZ=(t,s,l)=>{const f=jk(t.concat(s));return E4(f,[],l)},jZ=(t,s,l,f)=>{const v=jk(t).concat([l]);return E4(v,jk(s),f)},ZZ=(t,s,l)=>E4(jk(t),[],l),qZ=(t,s,l)=>{const f=I$(s,t,l);return f.extra.length===0?U.some(f):U.none()},YZ=(t,s,l,f)=>{const v=qZ(t,s,l).getOrThunk(()=>I$(s,t-l(f),l)),w=v.within,_=v.extra,L=v.withinWidth;return _.length===1&&_[0].width<=l(f)?WZ(w,_,L):_.length>=1?jZ(w,_,f,L):ZZ(w,_,L)},F$=(t,s)=>{const l=Yt(s,f=>N(f));ru.setGroups(t,l)},GZ=t=>de(t,s=>Ma(s.element).bind(l=>s.getSystem().getByDom(l).toOptional())),k4=(t,s,l)=>{const f=s.builtGroups.get();if(f.length===0)return;const v=mu(t,s,"primary"),w=gs.getCoupled(t,"overflowGroup");vo(v.element,"visibility","hidden");const _=f.concat([w]),L=GZ(_);l([]),F$(v,_);const I=rl(v.element),W=YZ(I,s.builtGroups.get(),X=>Math.ceil(X.element.dom.getBoundingClientRect().width),w);W.extra.length===0?(Cs.remove(v,w),l([])):(F$(v,W.within),l(W.extra)),qs(v.element,"visibility"),du(v.element),L.each(ps.focus)},B$=P([Hc("splitToolbarBehaviours",[gs]),ce("builtGroups",()=>Pn([]))]),KZ=P([gf(["overflowToggledClass"]),Wi("getOverflowBounds"),be("lazySink"),ce("overflowGroups",()=>Pn([])),Ar("onOpened"),Ar("onClosed")].concat(B$())),XZ=P([Nu({factory:ru,schema:iy(),name:"primary"}),vd({schema:iy(),name:"overflow"}),vd({name:"overflow-button"}),vd({name:"overflow-group"})]),JZ=P([be("items"),gf(["itemSelector"]),Hc("tgroupBehaviours",[No])]),QZ=P([Rw({name:"items",unit:"item"})]),Zk=(t,s,l,f)=>({uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.tgroupBehaviours,[No.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),g2=_d({name:"ToolbarGroup",configFields:JZ(),partFields:QZ(),factory:Zk}),$$=t=>Yt(t,s=>N(s)),H$=(t,s,l)=>{k4(t,l,f=>{l.overflowGroups.set(f),s.getOpt(t).each(v=>{Fg.setGroups(v,$$(f))})})},eq=(t,s,l,f)=>{const v=Zr(Fg.sketch({fetch:()=>or.nu(w=>{w($$(t.overflowGroups.get()))}),layouts:{onLtr:()=>[aa,zl],onRtl:()=>[zl,aa],onBottomLtr:()=>[Jl,Bc],onBottomRtl:()=>[Bc,Jl]},getBounds:l.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(w,_)=>t[_?"onOpened":"onClosed"](w)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.splitToolbarBehaviours,[gs.config({others:{overflowGroup:()=>g2.sketch({...f["overflow-group"](),items:[v.asSpec()]})}})]),apis:{setGroups:(w,_)=>{t.builtGroups.set(Yt(_,w.getSystem().build)),H$(w,v,t)},refresh:w=>H$(w,v,t),toggle:w=>{v.getOpt(w).each(_=>{Fg.toggle(_)})},toggleWithoutFocusing:w=>{v.getOpt(w).each(Fg.toggleWithoutFocusing)},isOpen:w=>v.getOpt(w).map(Fg.isOpen).getOr(!1),reposition:w=>{v.getOpt(w).each(_=>{Fg.reposition(_)})},getOverflow:w=>v.getOpt(w).bind(Fg.getToolbar)},domModification:{attributes:{role:"group"}}}},z$=_d({name:"SplitFloatingToolbar",configFields:KZ(),partFields:XZ(),factory:eq,apis:{setGroups:(t,s,l)=>{t.setGroups(s,l)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),tq=P([gf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ar("onOpened"),Ar("onClosed")].concat(B$())),nq=P([Nu({factory:ru,schema:iy(),name:"primary"}),Nu({factory:ru,schema:iy(),name:"overflow",overrides:t=>({toolbarBehaviours:On([mc.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{jr(s,t,"overflow-button").each(l=>{ur.off(l)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{jr(s,t,"overflow-button").each(ur.on)}}),No.config({mode:"acyclic",onEscape:s=>(jr(s,t,"overflow-button").each(ps.focus),U.some(!0))})])})}),vd({name:"overflow-button",overrides:t=>({buttonBehaviours:On([ur.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),vd({name:"overflow-group"})]),D4=(t,s)=>jr(t,s,"overflow").map(mc.hasGrown).getOr(!1),qk=(t,s,l)=>{jr(t,s,"overflow-button").each(f=>{jr(t,s,"overflow").each(v=>{if(Yk(t,s),mc.hasShrunk(v)){const w=s.onOpened;s.onOpened=_=>{l||No.focusIn(v),w(_),s.onOpened=w}}else{const w=s.onClosed;s.onClosed=_=>{l||ps.focus(f),w(_),s.onClosed=w}}mc.toggleGrow(v)})})},Yk=(t,s)=>{jr(t,s,"overflow").each(l=>{k4(t,s,f=>{const v=Yt(f,w=>N(w));ru.setGroups(l,v)}),jr(t,s,"overflow-button").each(f=>{mc.hasGrown(l)&&ur.on(f)}),mc.refresh(l)})},oq=(t,s,l,f)=>{const v="alloy.toolbar.toggle",w=(_,L)=>{const I=Yt(L,_.getSystem().build);t.builtGroups.set(I)};return{uid:t.uid,dom:t.dom,components:s,behaviours:kc(t.splitToolbarBehaviours,[gs.config({others:{overflowGroup:_=>g2.sketch({...f["overflow-group"](),items:[su.sketch({...f["overflow-button"](),action:L=>{Ys(_,v)}})]})}}),hs("toolbar-toggle-events",[Wt(v,_=>{qk(_,t,!1)})])]),apis:{setGroups:(_,L)=>{w(_,L),Yk(_,t)},refresh:_=>Yk(_,t),toggle:_=>{qk(_,t,!1)},toggleWithoutFocusing:_=>{qk(_,t,!0)},isOpen:_=>D4(_,t)},domModification:{attributes:{role:"group"}}}},Gk=_d({name:"SplitSlidingToolbar",configFields:tq(),partFields:nq(),factory:oq,apis:{setGroups:(t,s,l)=>{t.setGroups(s,l)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),sq=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:UN(t.action),behaviours:kc(t.tabButtonBehaviours,[ps.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0}),jn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),rq=th({name:"TabButton",configFields:[wt("uid",void 0),be("value"),se("dom","dom",$f(()=>({attributes:{role:"tab",id:_n("aria"),"aria-selected":"false"}})),pn()),qn("action"),wt("domModification",{}),Hc("tabButtonBehaviours",[ps,No,jn]),be("view")],factory:sq}),iq=P([be("tabs"),be("dom"),wt("clickToDismiss",!1),Hc("tabbarBehaviours",[zr,No]),gf(["tabClass","selectedClass"])]),aq=Rw({factory:rq,name:"tabs",unit:"tab",overrides:t=>{const s=(f,v)=>{zr.dehighlight(f,v),$o(f,Sw(),{tabbar:f,button:v})},l=(f,v)=>{zr.highlight(f,v),$o(f,Z_(),{tabbar:f,button:v})};return{action:f=>{const v=f.getSystem().getByUid(t.uid).getOrDie(),w=zr.isHighlighted(v,f);(w&&t.clickToDismiss?s:w?xe:l)(v,f)},domModification:{classes:[t.markers.tabClass]}}}}),lq=P([aq]),cq=(t,s,l,f)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:kc(t.tabbarBehaviours,[zr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(v,w)=>{Io(w.element,"aria-selected","true")},onDehighlight:(v,w)=>{Io(w.element,"aria-selected","false")}}),No.config({mode:"flow",getInitial:v=>zr.getHighlighted(v).map(w=>w.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),V$=_d({name:"Tabbar",configFields:iq(),partFields:lq(),factory:cq}),uq=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:kc(t.tabviewBehaviours,[Cs.config({})]),domModification:{attributes:{role:"tabpanel"}}}),dq=th({name:"Tabview",configFields:[Hc("tabviewBehaviours",[Cs])],factory:uq}),fq=P([wt("selectFirst",!0),Ar("onChangeTab"),Ar("onDismissTab"),wt("tabs",[]),Hc("tabSectionBehaviours",[])]),Kk=Nu({factory:V$,schema:[be("dom"),xo("markers",[be("tabClass"),be("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),A4=Nu({factory:dq,name:"tabview"}),O4=P([Kk,A4]),U$=(t,s,l,f)=>{const v=_=>{const L=jn.getValue(_);jr(_,t,"tabview").each(I=>{fo(t.tabs,X=>X.value===L).each(X=>{const oe=X.view();_l(_.element,"id").each(me=>{Io(I.element,"aria-labelledby",me)}),Cs.set(I,oe),t.onChangeTab(I,_,oe)})})},w=(_,L)=>{jr(_,t,"tabbar").each(I=>{L(I).each(S0)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:ey(t.tabSectionBehaviours),events:la(In([t.selectFirst?[ta((_,L)=>{w(_,zr.getFirst)})]:[],[Wt(Z_(),(_,L)=>{const I=L.event.button;v(I)}),Wt(Sw(),(_,L)=>{const I=L.event.button;t.onDismissTab(_,I)})]])),apis:{getViewItems:_=>jr(_,t,"tabview").map(L=>Cs.contents(L)).getOr([]),showTab:(_,L)=>{w(_,W=>{const X=zr.getCandidates(W);return fo(X,me=>jn.getValue(me)===L).filter(me=>!zr.isHighlighted(W,me))})}}}},zC=_d({name:"TabSection",configFields:fq(),partFields:O4(),factory:U$,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,l)=>{t.showTab(s,l)}}}),Xk=(t,s,l)=>{const f=jn.getValue(l);jn.setValue(s,f),Qk(s)},Jk=(t,s)=>{const l=t.element,f=ac(l),v=l.dom;za(l,"type")!=="number"&&s(v,f)},Qk=t=>{Jk(t,(s,l)=>s.setSelectionRange(l.length,l.length))},eD=(t,s)=>{Jk(t,(l,f)=>l.setSelectionRange(s,f.length))},W$=(t,s,l)=>{if(t.selectsOver){const f=jn.getValue(s),v=t.getDisplayText(f),w=jn.getValue(l);return t.getDisplayText(w).indexOf(v)===0?U.some(()=>{Xk(t,s,l),eD(s,v.length)}):U.none()}else return U.none()},M4=P("alloy.typeahead.itemexecute"),hq=(t,s,l,f)=>{const v=(oe,me,Oe)=>{t.previewing.set(!1);const Ne=gs.getCoupled(oe,"sandbox");if(Br.isOpen(Ne))zt.getCurrent(Ne).each(Ue=>{zr.getHighlighted(Ue).fold(()=>{Oe(Ue)},()=>{fx(Ne,Ue.element,"keydown",me)})});else{const Ue=Xe=>{zt.getCurrent(Xe).each(Oe)};_k(t,_(oe),oe,Ne,f,Ue,gu.HighlightMenuAndItem).get(xe)}},w=t$(t),_=oe=>me=>me.map(Oe=>{const Ne=Ci(Oe.menus),Ue=vt(Ne,ze=>fs(ze.items,it=>it.type==="item"));return jn.getState(oe).update(Yt(Ue,ze=>ze.data)),Oe}),L=oe=>zt.getCurrent(oe),I="typeaheadevents",W=[ps.config({}),jn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:oe=>ac(oe.element),getFallbackEntry:oe=>({value:oe,meta:{}}),setValue:(oe,me)=>{Gu(oe.element,t.model.getDisplayText(me))},...t.initialData.map(oe=>Ou("initialValue",oe)).getOr({})}}),vk.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(oe,me)=>{const Oe=gs.getCoupled(oe,"sandbox");if(ps.isFocused(oe)&&ac(oe.element).length>=t.minChars){const Ue=L(Oe).bind(ze=>zr.getHighlighted(ze).map(jn.getValue));t.previewing.set(!0);const Xe=ze=>{L(Oe).each(it=>{Ue.fold(()=>{t.model.selectsOver&&zr.highlightFirst(it)},ht=>{zr.highlightBy(it,Dt=>jn.getValue(Dt).value===ht.value),zr.getHighlighted(it).orThunk(()=>(zr.highlightFirst(it),U.none()))})})};_k(t,_(oe),oe,Oe,f,Xe,gu.HighlightJustMenu).get(xe)}},cancelEvent:ww()}),No.config({mode:"special",onDown:(oe,me)=>(v(oe,me,zr.highlightFirst),U.some(!0)),onEscape:oe=>{const me=gs.getCoupled(oe,"sandbox");return Br.isOpen(me)?(Br.close(me),U.some(!0)):U.none()},onUp:(oe,me)=>(v(oe,me,zr.highlightLast),U.some(!0)),onEnter:oe=>{const me=gs.getCoupled(oe,"sandbox"),Oe=Br.isOpen(me);if(Oe&&!t.previewing.get())return L(me).bind(Ne=>zr.getHighlighted(Ne)).map(Ne=>($o(oe,M4(),{item:Ne}),!0));{const Ne=jn.getValue(oe);return Ys(oe,ww()),t.onExecute(me,oe,Ne),Oe&&Br.close(me),U.some(!0)}}}),ur.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),gs.config({others:{sandbox:oe=>GB(t,oe,{onOpen:()=>ur.on(oe),onClose:()=>{t.lazyTypeaheadComp.get().each(me=>Di(me.element,"aria-activedescendant")),ur.off(oe)}})}}),hs(I,[ta(oe=>{t.lazyTypeaheadComp.set(U.some(oe))}),$h(oe=>{t.lazyTypeaheadComp.set(U.none())}),Rp(oe=>{const me=xe;ZB(t,_(oe),oe,f,me,gu.HighlightMenuAndItem).get(xe)}),Wt(M4(),(oe,me)=>{const Oe=gs.getCoupled(oe,"sandbox");Xk(t.model,oe,me.event.item),Ys(oe,ww()),t.onItemExecute(oe,Oe,me.event.item,jn.getValue(oe)),Br.close(Oe),Qk(oe)})].concat(t.dismissOnBlur?[Wt(Uf(),oe=>{const me=gs.getCoupled(oe,"sandbox");Ma(me.element).isNone()&&Br.close(me)})]:[]))],X={[Dp()]:[jn.name(),vk.name(),I],...t.eventOrder};return{uid:t.uid,dom:o$(Ls(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...w,...kc(t.typeaheadBehaviours,W)},eventOrder:X}},mq=P([qn("lazySink"),be("fetch"),wt("minChars",5),wt("responseTime",1e3),Ar("onOpen"),wt("getHotspot",U.some),wt("getAnchorOverrides",P({})),wt("layouts",U.none()),wt("eventOrder",{}),Vd("model",{},[wt("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),wt("selectsOver",!0),wt("populateFromBrowse",!0)]),Ar("onSetValue"),kl("onExecute"),Ar("onItemExecute"),wt("inputClasses",[]),wt("inputAttributes",{}),wt("inputStyles",{}),wt("matchWidth",!0),wt("useMinWidth",!1),wt("dismissOnBlur",!0),gf(["openClass"]),qn("initialData"),qn("listRole"),Hc("typeaheadBehaviours",[ps,jn,vk,No,ur,gs]),ce("lazyTypeaheadComp",()=>Pn(U.none)),ce("previewing",()=>Pn(!0))].concat(e$()).concat(Yd())),pq=P([vd({schema:[J_()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,l,f)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(v=>{W$(t.model,v,f).fold(()=>{t.model.selectsOver?(zr.dehighlight(l,f),t.previewing.set(!0)):t.previewing.set(!1)},(w=>{w(),t.previewing.set(!1)}))}):t.lazyTypeaheadComp.get().each(v=>{t.model.populateFromBrowse&&Xk(t.model,v,f),_l(f.element,"id").each(w=>Io(v.element,"aria-activedescendant",w))})},onExecute:(s,l)=>t.lazyTypeaheadComp.get().map(f=>($o(f,M4(),{item:l}),!0)),onHover:(s,l)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(f=>{t.model.populateFromBrowse&&Xk(t.model,f,l)})}})})]),gq=_d({name:"Typeahead",configFields:mq(),partFields:pq(),factory:hq});var vq=tinymce.util.Tools.resolve("tinymce.ThemeManager"),tD=tinymce.util.Tools.resolve("tinymce.util.Delay"),v2=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),bq=tinymce.util.Tools.resolve("tinymce.EditorManager"),VC=tinymce.util.Tools.resolve("tinymce.Env"),nh;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(nh||(nh={}));var b2;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(b2||(b2={}));const Ni=t=>s=>s.options.get(t),UC=t=>s=>U.from(t(s)),j$=t=>{const s=VC.deviceType.isPhone(),l=VC.deviceType.isTablet()||s,f=t.options.register,v=_=>H(_)||_===!1,w=_=>H(_)||at(_);f("skin",{processor:_=>H(_)||_===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:w,default:Math.max(t.getElement().offsetHeight,400)}),f("width",{processor:w,default:v2.DOM.getStyle(t.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:_=>H(_)||ye(_),default:!s}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:_=>ye(_)||H(_)||te(_)?{value:_,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Oo(9,_=>{f("toolbar"+(_+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:l?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:b2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:t.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:v,default:"#top"}),f("anchor_bottom",{processor:v,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:_=>_==="both"||ye(_),default:!VC.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},Z$=Ni("readonly"),Gh=Ni("disabled"),N4=Ni("height"),R4=Ni("width"),y2=UC(Ni("min_width")),Ql=UC(Ni("min_height")),nD=UC(Ni("max_width")),L4=UC(Ni("max_height")),q$=UC(Ni("style_formats")),Y$=Ni("style_formats_merge"),G$=Ni("style_formats_autohide"),K$=Ni("content_langs"),X$=Ni("removed_menuitems"),dy=Ni("toolbar_mode"),J$=Ni("toolbar_groups"),P4=Ni("toolbar_location"),yq=Ni("fixed_toolbar_container"),wq=Ni("fixed_toolbar_container_target"),Q$=Ni("toolbar_persist"),e5=Ni("toolbar_sticky_offset"),t5=Ni("menubar"),oD=Ni("toolbar"),n5=Ni("file_picker_callback"),o5=Ni("file_picker_validator_handler"),s5=Ni("font_size_input_default_unit"),r5=Ni("file_picker_types"),i5=Ni("typeahead_urls"),a5=Ni("anchor_top"),l5=Ni("anchor_bottom"),c5=Ni("draggable_modal"),u5=Ni("statusbar"),I4=Ni("elementpath"),F4=Ni("branding"),B4=Ni("resize"),d5=Ni("paste_as_text"),$4=Ni("sidebar_show"),f5=Ni("promotion"),H4=Ni("help_accessibility"),h5=Ni("default_font_stack"),m5=Ni("skin"),z4=t=>t.options.get("skin")===!1,sD=t=>t.options.get("menubar")!==!1,p5=t=>{const s=t.options.get("skin_url");if(z4(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const l=t.options.get("skin");return bq.baseURL+"/skins/ui/"+l}},Cq=t=>U.from(t.options.get("skin_url")),g5=t=>t.options.get("line_height_formats").split(" "),rD=t=>{const s=oD(t),l=H(s),f=te(s)&&s.length>0;return!w2(t)&&(f||l||s===!0)},V4=t=>{const s=Oo(9,f=>t.options.get("toolbar"+(f+1))),l=fs(s,H);return oa(l.length>0,l)},w2=t=>V4(t).fold(()=>{const s=oD(t);return Je(s,H)&&s.length>0},Ze),U4=t=>P4(t)===b2.bottom,v5=t=>{if(!t.inline)return U.none();const s=yq(t)??"";if(s.length>0)return Ur(uu(),s);const l=wq(t);return Ee(l)?U.some(Tn.fromDom(l)):U.none()},WC=t=>t.inline&&v5(t).isSome(),iD=t=>v5(t).getOrThunk(()=>ma(Ii(Tn.fromDom(t.getElement())))),W4=t=>t.inline&&!sD(t)&&!rD(t)&&!w2(t),jC=t=>(t.options.get("toolbar_sticky")||t.inline)&&!WC(t)&&!W4(t),S1=t=>!WC(t)&&t.options.get("ui_mode")==="split",b5=t=>{const s=t.options.get("menu");return Tt(s,l=>({...l,items:l.items}))};var Sq=Object.freeze({__proto__:null,get ToolbarMode(){return nh},get ToolbarLocation(){return b2},register:j$,getSkinUrl:p5,getSkinUrlOption:Cq,isReadOnly:Z$,isDisabled:Gh,getSkin:m5,isSkinDisabled:z4,getHeightOption:N4,getWidthOption:R4,getMinWidthOption:y2,getMinHeightOption:Ql,getMaxWidthOption:nD,getMaxHeightOption:L4,getUserStyleFormats:q$,shouldMergeStyleFormats:Y$,shouldAutoHideStyleFormats:G$,getLineHeightFormats:g5,getContentLanguages:K$,getRemovedMenuItems:X$,isMenubarEnabled:sD,isMultipleToolbars:w2,isToolbarEnabled:rD,isToolbarPersist:Q$,getMultipleToolbarsOption:V4,getUiContainer:iD,useFixedContainer:WC,isSplitUiMode:S1,getToolbarMode:dy,isDraggableModal:c5,isDistractionFree:W4,isStickyToolbar:jC,getStickyToolbarOffset:e5,getToolbarLocation:P4,isToolbarLocationBottom:U4,getToolbarGroups:J$,getMenus:b5,getMenubar:t5,getToolbar:oD,getFilePickerCallback:n5,getFilePickerTypes:r5,useTypeaheadUrls:i5,getAnchorTop:a5,getAnchorBottom:l5,getFilePickerValidatorHandler:o5,getFontSizeInputDefaultUnit:s5,useStatusBar:u5,useElementPath:I4,promotionEnabled:f5,useBranding:F4,getResize:B4,getPasteAsText:d5,getSidebarShow:$4,useHelpAccessibility:H4,getDefaultFontStack:h5});const j4=["visible","hidden","clip"],C2=t=>Ft(t).length>0&&!us(j4,t),y5=t=>{if(Ve(t)){const s=ui(t,"overflow-x"),l=ui(t,"overflow-y");return C2(s)||C2(l)}else return!1},S2=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),xq=(t,s)=>{const l=La(s,y5),f=l.length===0?Ji(s).map(cr).map(v=>La(v,y5)).getOr([]):l;return Vn(f).map(v=>({element:v,others:f.slice(1),isFullscreen:()=>S2(t)}))},x1=(t,s)=>S1(t)?xq(t,s):U.none(),fy=t=>{const s=[...Yt(t.others,Xa),cc()];return t.isFullscreen()?cc():pg(Xa(t.element),s)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:w5,setPrototypeOf:_q,isFrozen:aD,getPrototypeOf:ZC,getOwnPropertyDescriptor:C5}=Object;let{freeze:Gd,seal:Km,create:S5}=Object,{apply:Z4,construct:q4}=typeof Reflect<"u"&&Reflect;Gd||(Gd=function(s){return s}),Km||(Km=function(s){return s}),Z4||(Z4=function(s,l,f){return s.apply(l,f)}),q4||(q4=function(s,l){return new s(...l)});const lD=_f(Array.prototype.forEach),Tq=_f(Array.prototype.lastIndexOf),x5=_f(Array.prototype.pop),x2=_f(Array.prototype.push),Eq=_f(Array.prototype.splice),cD=_f(String.prototype.toLowerCase),Y4=_f(String.prototype.toString),G4=_f(String.prototype.match),$g=_f(String.prototype.replace),hy=_f(String.prototype.indexOf),kq=_f(String.prototype.trim),Xm=_f(Object.prototype.hasOwnProperty),Kd=_f(RegExp.prototype.test),_1=my(TypeError);function _f(t){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var l=arguments.length,f=new Array(l>1?l-1:0),v=1;v<l;v++)f[v-1]=arguments[v];return Z4(t,s,f)}}function my(t){return function(){for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return q4(t,l)}}function di(t,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cD;_q&&_q(t,null);let f=s.length;for(;f--;){let v=s[f];if(typeof v=="string"){const w=l(v);w!==v&&(aD(s)||(s[f]=w),v=w)}t[v]=!0}return t}function Dq(t){for(let s=0;s<t.length;s++)Xm(t,s)||(t[s]=null);return t}function hb(t){const s=S5(null);for(const[l,f]of w5(t))Xm(t,l)&&(Array.isArray(f)?s[l]=Dq(f):f&&typeof f=="object"&&f.constructor===Object?s[l]=hb(f):s[l]=f);return s}function _2(t,s){for(;t!==null;){const f=C5(t,s);if(f){if(f.get)return _f(f.get);if(typeof f.value=="function")return _f(f.value)}t=ZC(t)}function l(){return null}return l}const _5=Gd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K4=Gd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X4=Gd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Aq=Gd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),J4=Gd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uD=Gd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Q4=Gd(["#text"]),T5=Gd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dD=Gd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E5=Gd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fD=Gd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eR=Km(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cse=Km(/<%[\w\W]*|[\w\W]*%>/gm),tR=Km(/\$\{[\w\W]*/gm),Oq=Km(/^data-[\-\w.\u00B7-\uFFFF]+$/),Mq=Km(/^aria-[\-\w]+$/),k5=Km(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D5=Km(/^(?:\w+script|data):/i),A5=Km(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),O5=Km(/^html$/i),Nq=Km(/^[a-z][.\w]*(-[.\w]+)+$/i);var nR=Object.freeze({__proto__:null,ARIA_ATTR:Mq,ATTR_WHITESPACE:A5,CUSTOM_ELEMENT:Nq,DATA_ATTR:Oq,DOCTYPE_NAME:O5,ERB_EXPR:cse,IS_ALLOWED_URI:k5,IS_SCRIPT_OR_DATA:D5,MUSTACHE_EXPR:eR,TMPLIT_EXPR:tR});const T2={element:1,text:3,progressingInstruction:7,comment:8,document:9},Rq=function(){return typeof window>"u"?null:window},hD=function(s,l){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let f=null;const v="data-tt-policy-suffix";l&&l.hasAttribute(v)&&(f=l.getAttribute(v));const w="dompurify"+(f?"#"+f:"");try{return s.createPolicy(w,{createHTML(_){return _},createScriptURL(_){return _}})}catch{return console.warn("TrustedTypes policy "+w+" could not be created."),null}},M5=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Lq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rq();const s=A=>Lq(A);if(s.version="3.2.6",s.removed=[],!t||!t.document||t.document.nodeType!==T2.document||!t.Element)return s.isSupported=!1,s;let{document:l}=t;const f=l,v=f.currentScript,{DocumentFragment:w,HTMLTemplateElement:_,Node:L,Element:I,NodeFilter:W,NamedNodeMap:X=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:oe,DOMParser:me,trustedTypes:Oe}=t,Ne=I.prototype,Ue=_2(Ne,"cloneNode"),Xe=_2(Ne,"remove"),ze=_2(Ne,"nextSibling"),it=_2(Ne,"childNodes"),ht=_2(Ne,"parentNode");if(typeof _=="function"){const A=l.createElement("template");A.content&&A.content.ownerDocument&&(l=A.content.ownerDocument)}let Dt,Rt="";const{implementation:$n,createNodeIterator:rn,createDocumentFragment:bn,getElementsByTagName:hn}=l,{importNode:zo}=f;let _o=M5();s.isSupported=typeof w5=="function"&&typeof ht=="function"&&$n&&$n.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:sr,ERB_EXPR:Zo,TMPLIT_EXPR:As,DATA_ATTR:wo,ARIA_ATTR:nn,IS_SCRIPT_OR_DATA:Bn,ATTR_WHITESPACE:es,CUSTOM_ELEMENT:Os}=nR;let{IS_ALLOWED_URI:Ro}=nR,Es=null;const oi=di({},[..._5,...K4,...X4,...J4,...Q4]);let Xr=null;const id=di({},[...T5,...dD,...E5,...fD]);let wa=Object.seal(S5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ef=null,Dc=null,lh=!0,tf=!0,tm=!1,qg=!0,rp=!1,wS=!0,Yg=!1,m_=!1,_P=!1,Wy=!1,HA=!1,Gg=!1,TP=!0,CV=!1;const zA="user-content-";let I1=!0,F1=!1,jy={},Cb=null;const kd=di({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let p_=null;const EP=di({},["audio","video","img","source","image","track"]);let VA=null;const SV=di({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),UA="http://www.w3.org/1998/Math/MathML",Zp="http://www.w3.org/2000/svg",B1="http://www.w3.org/1999/xhtml";let CS=B1,WA=!1,$1=null;const jA=di({},[UA,Zp,B1],Y4);let g_=di({},["mi","mo","mn","ms","mtext"]),ZA=di({},["annotation-xml"]);const hte=di({},["title","style","font","a","script"]);let v_=null;const mte=["application/xhtml+xml","text/html"],SS="text/html";let Dd=null,xS=null;const pte=l.createElement("form"),gte=function(R){return R instanceof RegExp||R instanceof Function},kP=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xS&&xS===R)){if((!R||typeof R!="object")&&(R={}),R=hb(R),v_=mte.indexOf(R.PARSER_MEDIA_TYPE)===-1?SS:R.PARSER_MEDIA_TYPE,Dd=v_==="application/xhtml+xml"?Y4:cD,Es=Xm(R,"ALLOWED_TAGS")?di({},R.ALLOWED_TAGS,Dd):oi,Xr=Xm(R,"ALLOWED_ATTR")?di({},R.ALLOWED_ATTR,Dd):id,$1=Xm(R,"ALLOWED_NAMESPACES")?di({},R.ALLOWED_NAMESPACES,Y4):jA,VA=Xm(R,"ADD_URI_SAFE_ATTR")?di(hb(SV),R.ADD_URI_SAFE_ATTR,Dd):SV,p_=Xm(R,"ADD_DATA_URI_TAGS")?di(hb(EP),R.ADD_DATA_URI_TAGS,Dd):EP,Cb=Xm(R,"FORBID_CONTENTS")?di({},R.FORBID_CONTENTS,Dd):kd,ef=Xm(R,"FORBID_TAGS")?di({},R.FORBID_TAGS,Dd):hb({}),Dc=Xm(R,"FORBID_ATTR")?di({},R.FORBID_ATTR,Dd):hb({}),jy=Xm(R,"USE_PROFILES")?R.USE_PROFILES:!1,lh=R.ALLOW_ARIA_ATTR!==!1,tf=R.ALLOW_DATA_ATTR!==!1,tm=R.ALLOW_UNKNOWN_PROTOCOLS||!1,qg=R.ALLOW_SELF_CLOSE_IN_ATTR!==!1,rp=R.SAFE_FOR_TEMPLATES||!1,wS=R.SAFE_FOR_XML!==!1,Yg=R.WHOLE_DOCUMENT||!1,Wy=R.RETURN_DOM||!1,HA=R.RETURN_DOM_FRAGMENT||!1,Gg=R.RETURN_TRUSTED_TYPE||!1,_P=R.FORCE_BODY||!1,TP=R.SANITIZE_DOM!==!1,CV=R.SANITIZE_NAMED_PROPS||!1,I1=R.KEEP_CONTENT!==!1,F1=R.IN_PLACE||!1,Ro=R.ALLOWED_URI_REGEXP||k5,CS=R.NAMESPACE||B1,g_=R.MATHML_TEXT_INTEGRATION_POINTS||g_,ZA=R.HTML_INTEGRATION_POINTS||ZA,wa=R.CUSTOM_ELEMENT_HANDLING||{},R.CUSTOM_ELEMENT_HANDLING&&gte(R.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(wa.tagNameCheck=R.CUSTOM_ELEMENT_HANDLING.tagNameCheck),R.CUSTOM_ELEMENT_HANDLING&&gte(R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(wa.attributeNameCheck=R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),R.CUSTOM_ELEMENT_HANDLING&&typeof R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(wa.allowCustomizedBuiltInElements=R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rp&&(tf=!1),HA&&(Wy=!0),jy&&(Es=di({},Q4),Xr=[],jy.html===!0&&(di(Es,_5),di(Xr,T5)),jy.svg===!0&&(di(Es,K4),di(Xr,dD),di(Xr,fD)),jy.svgFilters===!0&&(di(Es,X4),di(Xr,dD),di(Xr,fD)),jy.mathMl===!0&&(di(Es,J4),di(Xr,E5),di(Xr,fD))),R.ADD_TAGS&&(Es===oi&&(Es=hb(Es)),di(Es,R.ADD_TAGS,Dd)),R.ADD_ATTR&&(Xr===id&&(Xr=hb(Xr)),di(Xr,R.ADD_ATTR,Dd)),R.ADD_URI_SAFE_ATTR&&di(VA,R.ADD_URI_SAFE_ATTR,Dd),R.FORBID_CONTENTS&&(Cb===kd&&(Cb=hb(Cb)),di(Cb,R.FORBID_CONTENTS,Dd)),I1&&(Es["#text"]=!0),Yg&&di(Es,["html","head","body"]),Es.table&&(di(Es,["tbody"]),delete ef.tbody),R.TRUSTED_TYPES_POLICY){if(typeof R.TRUSTED_TYPES_POLICY.createHTML!="function")throw _1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof R.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Dt=R.TRUSTED_TYPES_POLICY,Rt=Dt.createHTML("")}else Dt===void 0&&(Dt=hD(Oe,v)),Dt!==null&&typeof Rt=="string"&&(Rt=Dt.createHTML(""));Gd&&Gd(R),xS=R}},xV=di({},[...K4,...X4,...Aq]),_S=di({},[...J4,...uD]),vte=function(R){let q=ht(R);(!q||!q.tagName)&&(q={namespaceURI:CS,tagName:"template"});const Q=cD(R.tagName),re=cD(q.tagName);return $1[R.namespaceURI]?R.namespaceURI===Zp?q.namespaceURI===B1?Q==="svg":q.namespaceURI===UA?Q==="svg"&&(re==="annotation-xml"||g_[re]):!!xV[Q]:R.namespaceURI===UA?q.namespaceURI===B1?Q==="math":q.namespaceURI===Zp?Q==="math"&&ZA[re]:!!_S[Q]:R.namespaceURI===B1?q.namespaceURI===Zp&&!ZA[re]||q.namespaceURI===UA&&!g_[re]?!1:!_S[Q]&&(hte[Q]||!xV[Q]):!!(v_==="application/xhtml+xml"&&$1[R.namespaceURI]):!1},Kg=function(R){x2(s.removed,{element:R});try{ht(R).removeChild(R)}catch{Xe(R)}},Zy=function(R,q){try{x2(s.removed,{attribute:q.getAttributeNode(R),from:q})}catch{x2(s.removed,{attribute:null,from:q})}if(q.removeAttribute(R),R==="is")if(Wy||HA)try{Kg(q)}catch{}else try{q.setAttribute(R,"")}catch{}},_V=function(R){let q=null,Q=null;if(_P)R="<remove></remove>"+R;else{const Be=G4(R,/^[\r\n\t ]+/);Q=Be&&Be[0]}v_==="application/xhtml+xml"&&CS===B1&&(R='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+R+"</body></html>");const re=Dt?Dt.createHTML(R):R;if(CS===B1)try{q=new me().parseFromString(re,v_)}catch{}if(!q||!q.documentElement){q=$n.createDocument(CS,"template",null);try{q.documentElement.innerHTML=WA?Rt:re}catch{}}const pe=q.body||q.documentElement;return R&&Q&&pe.insertBefore(l.createTextNode(Q),pe.childNodes[0]||null),CS===B1?hn.call(q,Yg?"html":"body")[0]:Yg?q.documentElement:pe},bte=function(R){return rn.call(R.ownerDocument||R,R,W.SHOW_ELEMENT|W.SHOW_COMMENT|W.SHOW_TEXT|W.SHOW_PROCESSING_INSTRUCTION|W.SHOW_CDATA_SECTION,null)},e=function(R){return R instanceof oe&&(typeof R.nodeName!="string"||typeof R.textContent!="string"||typeof R.removeChild!="function"||!(R.attributes instanceof X)||typeof R.removeAttribute!="function"||typeof R.setAttribute!="function"||typeof R.namespaceURI!="string"||typeof R.insertBefore!="function"||typeof R.hasChildNodes!="function")},n=function(R){return typeof L=="function"&&R instanceof L};function o(A,R,q){lD(A,Q=>{Q.call(s,R,q,xS)})}const i=function(R){let q=null;if(o(_o.beforeSanitizeElements,R,null),e(R))return Kg(R),!0;const Q=Dd(R.nodeName);if(o(_o.uponSanitizeElement,R,{tagName:Q,allowedTags:Es}),wS&&R.hasChildNodes()&&!n(R.firstElementChild)&&Kd(/<[/\w!]/g,R.innerHTML)&&Kd(/<[/\w!]/g,R.textContent)||R.nodeType===T2.progressingInstruction||wS&&R.nodeType===T2.comment&&Kd(/<[/\w]/g,R.data))return Kg(R),!0;if(!Es[Q]||ef[Q]){if(!ef[Q]&&p(Q)&&(wa.tagNameCheck instanceof RegExp&&Kd(wa.tagNameCheck,Q)||wa.tagNameCheck instanceof Function&&wa.tagNameCheck(Q)))return!1;if(I1&&!Cb[Q]){const re=ht(R)||R.parentNode,pe=it(R)||R.childNodes;if(pe&&re){const Be=pe.length;for(let De=Be-1;De>=0;--De){const He=Ue(pe[De],!0);He.__removalCount=(R.__removalCount||0)+1,re.insertBefore(He,ze(R))}}}return Kg(R),!0}return R instanceof I&&!vte(R)||(Q==="noscript"||Q==="noembed"||Q==="noframes")&&Kd(/<\/no(script|embed|frames)/i,R.innerHTML)?(Kg(R),!0):(rp&&R.nodeType===T2.text&&(q=R.textContent,lD([sr,Zo,As],re=>{q=$g(q,re," ")}),R.textContent!==q&&(x2(s.removed,{element:R.cloneNode()}),R.textContent=q)),o(_o.afterSanitizeElements,R,null),!1)},c=function(R,q,Q){if(TP&&(q==="id"||q==="name")&&(Q in l||Q in pte))return!1;if(!(tf&&!Dc[q]&&Kd(wo,q))){if(!(lh&&Kd(nn,q))){if(!Xr[q]||Dc[q]){if(!(p(R)&&(wa.tagNameCheck instanceof RegExp&&Kd(wa.tagNameCheck,R)||wa.tagNameCheck instanceof Function&&wa.tagNameCheck(R))&&(wa.attributeNameCheck instanceof RegExp&&Kd(wa.attributeNameCheck,q)||wa.attributeNameCheck instanceof Function&&wa.attributeNameCheck(q))||q==="is"&&wa.allowCustomizedBuiltInElements&&(wa.tagNameCheck instanceof RegExp&&Kd(wa.tagNameCheck,Q)||wa.tagNameCheck instanceof Function&&wa.tagNameCheck(Q))))return!1}else if(!VA[q]){if(!Kd(Ro,$g(Q,es,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&R!=="script"&&hy(Q,"data:")===0&&p_[R])){if(!(tm&&!Kd(Bn,$g(Q,es,"")))){if(Q)return!1}}}}}}return!0},p=function(R){return R!=="annotation-xml"&&G4(R,Os)},y=function(R){o(_o.beforeSanitizeAttributes,R,null);const{attributes:q}=R;if(!q||e(R))return;const Q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xr,forceKeepAttr:void 0};let re=q.length;for(;re--;){const pe=q[re],{name:Be,namespaceURI:De,value:He}=pe,ct=Dd(Be),mt=He;let gt=Be==="value"?mt:kq(mt);if(Q.attrName=ct,Q.attrValue=gt,Q.keepAttr=!0,Q.forceKeepAttr=void 0,o(_o.uponSanitizeAttribute,R,Q),gt=Q.attrValue,CV&&(ct==="id"||ct==="name")&&(Zy(Be,R),gt=zA+gt),wS&&Kd(/((--!?|])>)|<\/(style|title)/i,gt)){Zy(Be,R);continue}if(Q.forceKeepAttr)continue;if(!Q.keepAttr){Zy(Be,R);continue}if(!qg&&Kd(/\/>/i,gt)){Zy(Be,R);continue}rp&&lD([sr,Zo,As],an=>{gt=$g(gt,an," ")});const Zt=Dd(R.nodeName);if(!c(Zt,ct,gt)){Zy(Be,R);continue}if(Dt&&typeof Oe=="object"&&typeof Oe.getAttributeType=="function"&&!De)switch(Oe.getAttributeType(Zt,ct)){case"TrustedHTML":{gt=Dt.createHTML(gt);break}case"TrustedScriptURL":{gt=Dt.createScriptURL(gt);break}}if(gt!==mt)try{De?R.setAttributeNS(De,Be,gt):R.setAttribute(Be,gt),e(R)?Kg(R):x5(s.removed)}catch{Zy(Be,R)}}o(_o.afterSanitizeAttributes,R,null)},E=function A(R){let q=null;const Q=bte(R);for(o(_o.beforeSanitizeShadowDOM,R,null);q=Q.nextNode();)o(_o.uponSanitizeShadowNode,q,null),i(q),y(q),q.content instanceof w&&A(q.content);o(_o.afterSanitizeShadowDOM,R,null)};return s.sanitize=function(A){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=null,Q=null,re=null,pe=null;if(WA=!A,WA&&(A="<!-->"),typeof A!="string"&&!n(A))if(typeof A.toString=="function"){if(A=A.toString(),typeof A!="string")throw _1("dirty is not a string, aborting")}else throw _1("toString is not a function");if(!s.isSupported)return A;if(m_||kP(R),s.removed=[],typeof A=="string"&&(F1=!1),F1){if(A.nodeName){const He=Dd(A.nodeName);if(!Es[He]||ef[He])throw _1("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof L)q=_V("<!---->"),Q=q.ownerDocument.importNode(A,!0),Q.nodeType===T2.element&&Q.nodeName==="BODY"||Q.nodeName==="HTML"?q=Q:q.appendChild(Q);else{if(!Wy&&!rp&&!Yg&&A.indexOf("<")===-1)return Dt&&Gg?Dt.createHTML(A):A;if(q=_V(A),!q)return Wy?null:Gg?Rt:""}q&&_P&&Kg(q.firstChild);const Be=bte(F1?A:q);for(;re=Be.nextNode();)i(re),y(re),re.content instanceof w&&E(re.content);if(F1)return A;if(Wy){if(HA)for(pe=bn.call(q.ownerDocument);q.firstChild;)pe.appendChild(q.firstChild);else pe=q;return(Xr.shadowroot||Xr.shadowrootmode)&&(pe=zo.call(f,pe,!0)),pe}let De=Yg?q.outerHTML:q.innerHTML;return Yg&&Es["!doctype"]&&q.ownerDocument&&q.ownerDocument.doctype&&q.ownerDocument.doctype.name&&Kd(O5,q.ownerDocument.doctype.name)&&(De="<!DOCTYPE "+q.ownerDocument.doctype.name+`>
`+De),rp&&lD([sr,Zo,As],He=>{De=$g(De,He," ")}),Dt&&Gg?Dt.createHTML(De):De},s.setConfig=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kP(A),m_=!0},s.clearConfig=function(){xS=null,m_=!1},s.isValidAttribute=function(A,R,q){xS||kP({});const Q=Dd(A),re=Dd(R);return c(Q,re,q)},s.addHook=function(A,R){typeof R=="function"&&x2(_o[A],R)},s.removeHook=function(A,R){if(R!==void 0){const q=Tq(_o[A],R);return q===-1?void 0:Eq(_o[A],q,1)[0]}return x5(_o[A])},s.removeHooks=function(A){_o[A]=[]},s.removeAllHooks=function(){_o=M5()},s}var oR=Lq();const N5=t=>oR().sanitize(t);var iu=tinymce.util.Tools.resolve("tinymce.util.I18n");const Pq={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},R5="temporary-placeholder",mD=t=>()=>Mn(t,R5).getOr("!not found!"),pD=(t,s)=>{const l=t.toLowerCase();if(iu.isRtl()){const f=Nt(l,"-rtl");return go(s,f)?f:l}else return l},sR=(t,s)=>Mn(s,pD(t,s)),Hg=(t,s)=>{const l=s();return sR(t,l).getOrThunk(mD(l))},py=(t,s,l)=>{const f=s();return sR(t,f).or(l).getOrThunk(mD(f))},Iq=t=>iu.isRtl()?go(Pq,t):!1,L5=()=>hs("add-focusable",[ta(t=>{cf(t.element,"svg").each(s=>Io(s,"focusable","false"))})]),rR=(t,s,l,f)=>{const v=Iq(s)?["tox-icon--flip"]:[],w=Mn(l,pD(s,l)).or(f).getOrThunk(mD(l));return{dom:{tag:t.tag,attributes:t.attributes??{},classes:t.classes.concat(v),innerHtml:w},behaviours:On([...t.behaviours??[],L5()]),eventOrder:t.eventOrder??{}}},oh=(t,s,l,f=U.none())=>rR(s,t,l(),f),P5=(t,s,l)=>{const f=l(),v=fo(t,w=>go(f,pD(w,f)));return rR(s,v.getOr(R5),f,U.none())},Fq={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iR=th({name:"Notification",factory:t=>{const s=_n("notification-text"),l=Zr({dom:ub(`<p id=${s}>${N5(t.backstageProvider.translate(t.text))}</p>`),behaviours:On([Cs.config({})])}),f=Ne=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Ne}%`}}}),v=Ne=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Ne}%`}}),w=Zr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},v(0)],behaviours:On([Cs.config({})])}),I={updateProgress:(Ne,Ue)=>{Ne.getSystem().isConnected()&&w.getOpt(Ne).each(Xe=>{Cs.set(Xe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(Ue)]},v(Ue)])})},updateText:(Ne,Ue)=>{if(Ne.getSystem().isConnected()){const Xe=l.get(Ne);Cs.set(Xe,[qi(Ue)])}}},W=In([t.icon.toArray(),[t.level],U.from(Fq[t.level]).toArray()]),X=Zr(su.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[oh("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:On([Yi.config({}),Gi.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:Ne=>{t.onAction(Ne)}})),oe=P5(W,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),me={dom:{tag:"div",classes:["tox-notification__body"]},components:[l.asSpec()],behaviours:On([Cs.config({})])},Oe=[oe,me];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},behaviours:On([Yi.config({}),ps.config({}),No.config({mode:"special",onEscape:Ne=>(t.onAction(Ne),U.some(!0))})]),components:Oe.concat(t.progress?[w.asSpec()]:[]).concat([X.asSpec()]),apis:I}},configFields:[Mi("level","info",["success","error","warning","warn","info"]),be("progress"),qn("icon"),be("onAction"),be("text"),be("iconProvider"),be("backstageProvider")],apis:{updateProgress:(t,s,l)=>{t.updateProgress(s,l)},updateText:(t,s,l)=>{t.updateText(s,l)}}});var Bq=(t,s,l,f)=>{const v=s.backstage.shared,w=()=>Tn.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),_=()=>{const oe=Xa(w());return U.some(oe)},L=oe=>{_().each(me=>{yt(oe,Oe=>{qs(Oe.element,"width"),rl(Oe.element)>me.width&&vo(Oe.element,"width",me.width+"px")})})};return{open:(oe,me,Oe)=>{const Ne=()=>{const ht=rn=>{Cs.remove(rn,Xe),ze()},Dt=(rn,bn)=>{$s(rn.element).length===0?Rt(rn,bn):$n(rn,bn)},Rt=(rn,bn)=>{ka.hide(rn),f.clear(),bn&&t.focus()},$n=(rn,bn)=>{bn&&No.focusIn(rn)};f.on(rn=>{me();const bn=Oe();ht(rn),Dt(rn,bn)})},Ue=()=>!jC(t)||!v.header.isPositionedAtTop(),Xe=T(iR.sketch({text:oe.text,level:us(["success","error","warning","warn","info"],oe.type)?oe.type:void 0,progress:oe.progressBar===!0,icon:oe.icon,onAction:Ne,iconProvider:v.providers.icons,backstageProvider:v.providers}));if(f.isSet()){const ht=N(Xe);f.on(Dt=>{Cs.append(Dt,ht),ka.reposition(Dt),Xe.hasConfigured(Ea)&&Ea.refresh(Dt),L(Dt.components())})}else{const ht=T(ka.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:v.getSink,fireDismissalEventInstead:{},...v.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:On([No.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Cs.config({}),...Ue()?[Ea.config({contextual:{lazyContext:()=>U.some(Xa(w())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:rn=>x1(t,rn.element).map(hn=>({bounds:fy(hn),optScrollEnv:U.some({currentScrollTop:hn.element.dom.scrollTop,scrollElmTop:ra(hn.element).top})})).getOrThunk(()=>({bounds:cc(),optScrollEnv:U.none()}))})]:[]])})),Dt=N(Xe),Rt={maxHeightFunction:Bv()},$n={...v.anchors.banner(),overrides:Rt};f.set(ht),l.add(ht),ka.showWithinBounds(ht,Dt,{anchor:$n},_)}at(oe.timeout)&&oe.timeout>0&&tD.setEditorTimeout(t,()=>{Ne()},oe.timeout);const ze=()=>{f.on(ht=>{ka.reposition(ht),ht.hasConfigured(Ea)&&Ea.refresh(ht),L(ht.components())})};return{close:Ne,reposition:ze,text:ht=>{iR.updateText(Xe,ht)},settings:oe,getEl:()=>Xe.element.dom,progressBar:{value:ht=>{iR.updateProgress(Xe,ht)}}}},close:oe=>{oe.close()},getArgs:oe=>oe.settings}};const $q={setup:(t,s)=>{const l=(v,w)=>{$o(v,dc(),{raw:w})},f=()=>t.getMenu().bind(zr.getHighlighted);s.on("keydown",v=>{const w=v.which;t.isActive()&&(t.isMenuOpen()?w===13?(f().each(S0),v.preventDefault()):w===40?(f().fold(()=>{t.getMenu().each(zr.highlightFirst)},_=>{l(_,v)}),v.preventDefault(),v.stopImmediatePropagation()):(w===37||w===38||w===39)&&f().each(_=>{l(_,v),v.preventDefault(),v.stopImmediatePropagation()}):(w===13||w===38||w===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var aR;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(aR||(aR={}));var Jm=aR;const E2="tox-menu-nav__js",gD="tox-collection__item",lR="tox-swatch",Hq={normal:E2,color:lR},vD="tox-collection__item--enabled",zq="tox-collection__group-heading",I5="tox-collection__item-icon",Vq="tox-collection__item-image",F5="tox-collection__item-image-selector",cR="tox-collection__item-label",Uq="tox-collection__item-accessory",B5="tox-collection__item-caret",Wq="tox-collection__item-checkmark",gy="tox-collection__item--active",uR="tox-collection__item-container",$5="tox-collection__item-container--column",H5="tox-collection__item-container--row",jq="tox-collection__item-container--align-right",Zq="tox-collection__item-container--align-left",qq="tox-collection__item-container--valign-top",Yq="tox-collection__item-container--valign-middle",z5="tox-collection__item-container--valign-bottom",vy=t=>Mn(Hq,t).getOr(E2),Gq=t=>t==="color"?"tox-swatches":"tox-menu",dR=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Gq(t),tieredMenu:"tox-tiered-menu"}),T1=t=>{const s=dR(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:vy(t)}},bD=(t,s,l)=>{const f=dR(l);return{tag:"div",classes:In([[f.menu,`tox-menu-${s}-column`],t?[f.hasIcons]:[]])}},Kh=[db.parts.items({})],by=(t,s,l)=>{const f=dR(l);return{dom:{tag:"div",classes:In([[f.tieredMenu]])},markers:T1(l)}},fR=_n("refetch-trigger-event"),V5=_n("redirect-menu-item-interaction"),U5="tox-menu__searcher",yD=t=>Ur(t.element,`.${U5}`).bind(s=>t.getSystem().getByDom(s).toOptional()),W5=yD,j5=(t,s)=>{jn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},hR=t=>{const s=jn.getValue(t),l=t.element.dom.selectionStart,f=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:l,selectionEnd:f}},Kq=(t,s)=>{_l(s.element,"id").each(l=>Io(t.element,"aria-activedescendant",l))},Xq=t=>{const s=(v,w)=>(w.cut(),U.none()),l=(v,w)=>{const _={interactionEvent:w.event,eventType:w.event.raw.type};return $o(v,V5,_),U.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[gD]},components:[qh.sketch({inputClasses:[U5,"tox-textfield"],inputAttributes:{...t.placeholder.map(v=>({placeholder:t.i18n(v)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:On([hs(f,[Wt(kp(),v=>{Ys(v,fR)}),Wt(dc(),(v,w)=>{w.event.raw.key==="Escape"&&w.stop()})]),No.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:l,onEscape:l,onUp:l,onDown:l})]),eventOrder:{keydown:[f,No.name()]}})]}},k2="tox-collection--results__js",Z5=t=>t.dom?{...t,dom:{...t.dom,attributes:{...t.dom.attributes??{},id:_n("aria-item-search-result-id"),"aria-selected":"false"}}}:t,mR="Use arrow keys to navigate.",D2=(t,s)=>l=>{const f=Ds(l,s);return Yt(f,v=>({dom:t,components:v}))},q5=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":iu.translate(mR)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[db.parts.items({preprocess:t!=="auto"?D2({tag:"div",classes:["tox-swatches__row"]},t):mn})]}]}),Jq=t=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[db.parts.items({preprocess:t!=="auto"?D2({tag:"div",classes:["tox-image-selector__row"]},t):mn})]}]}),Qq=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[db.parts.items({preprocess:D2({tag:"div",classes:["tox-collection__group"]},t)})]}),Y5=(t,s)=>{const l=[];let f=[];return yt(t,(v,w)=>{s(v,w)?(f.length>0&&l.push(f),f=[],(go(v.dom,"innerHtml")||v.components&&v.components.length>0)&&f.push(v)):f.push(v)}),f.length>0&&l.push(f),Yt(l,v=>({dom:{tag:"div",classes:["tox-collection__group"]},components:v}))},pR=(t,s,l)=>db.parts.items({preprocess:f=>{const v=Yt(f,l);return t!=="auto"&&t>1?D2({tag:"div",classes:["tox-collection__group"]},t)(v):Y5(v,(w,_)=>s[_].type==="separator")}}),eY=t=>Er(t,s=>s.type==="widget"),A2=(t,s,l=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...eY(s)?{"aria-label":iu.translate(mR)}:{}}},components:[pR(t,s,mn)]}),zg=(t,s,l=!0)=>{const f=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",k2].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:f}},components:[pR(t,s,Z5)]}},G5=(t,s,l)=>{const f=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Xq({i18n:iu.translate,placeholder:l.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],k2],attributes:{id:f}},components:[pR(t,s,Z5)]}]}},Xh=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[db.parts.items({preprocess:l=>Y5(l,(f,v)=>t[v].type==="separator")})]}),O2=t=>Er(t,s=>"icon"in s&&s.icon!==void 0),sh=t=>(console.error(D(t)),console.log(t),U.none()),tY=(t,s,l,f,v)=>{const w=Xh(l);return{value:t,dom:w.dom,components:w.components,items:l}},mb=(t,s,l,f,v)=>{const w=()=>v.menuType!=="searchable"?A2(f,l):v.searchMode.searchMode==="search-with-field"?G5(f,l,v.searchMode):zg(f,l);if(v.menuType==="color"){const _=q5(f);return{value:t,dom:_.dom,components:_.components,items:l}}else if(v.menuType==="imageselector"&&f!=="auto"){const _=Jq(f);return{value:t,dom:_.dom,components:_.components,items:l}}else if(v.menuType==="normal"&&f==="auto"){const _=A2(f,l);return{value:t,dom:_.dom,components:_.components,items:l}}else if(v.menuType==="normal"||v.menuType==="searchable"){const _=w();return{value:t,dom:_.dom,components:_.components,items:l}}else if(v.menuType==="listpreview"&&f!=="auto"){const _=Qq(f);return{value:t,dom:_.dom,components:_.components,items:l}}else return{value:t,dom:bD(s,f,v.menuType),components:Kh,items:l}},cl=bt("type"),M2=bt("name"),qC=bt("label"),pb=bt("text"),K5=bt("title"),gb=bt("icon"),X5=bt("url"),yy=bt("value"),nY=An("fetch"),gR=An("getSubmenuItems"),wy=An("onAction"),vR=An("onItemAction"),E1=Dr("onSetup",()=>xe),J5=ws("name"),Qm=ws("text"),oY=ws("role"),Jh=ws("icon"),Cy=ws("tooltip"),sY=ws("chevronTooltip"),Sy=ws("label"),bR=ws("shortcut"),yR=Wi("select"),YC=Zi("active",!1),N2=Zi("borderless",!1),ep=Zi("enabled",!0),R2=Zi("primary",!1),Q5=t=>wt("columns",t),wR=wt("meta",{}),CR=Dr("onAction",xe),xy=t=>hr("type",t),GC=t=>se("name","name",Bl(()=>_n(`${t}-name`)),xa),eH=t=>se("value","value",Bl(()=>_n(`${t}-value`)),pn()),rY=[cl,pb,sn("level",["info","warn","error","success"]),gb,wt("url","")],SR=Yo(rY),_y=t=>[cl,t],tH=[cl,pb,ep,GC("button"),Jh,N2,_a("buttonType",["primary","secondary","toolbar"]),R2,hr("context","mode:design")],L2=Yo(tH),KC=[cl,M2],tp=KC.concat([Sy]),iY=KC.concat([qC,ep,hr("context","mode:design")]),aY=Yo(iY),Ty=Us,nH=tp.concat([Q5("auto"),hr("context","mode:design")]),lY=Yo(nH),oH=Hb([yy,pb,gb]),cY=tp.concat([hr("storageKey","default"),hr("context","mode:design")]),uY=Yo(cY),dY=xa,hY=Yo(tp),mY=xa,pY=KC.concat([hr("tag","textarea"),bt("scriptId"),bt("scriptUrl"),Wi("onFocus"),Oh("settings",void 0)]),gY=KC.concat([hr("tag","textarea"),An("init")]),vY=_m(t=>m("customeditor.old",Wr(gY),t).orThunk(()=>m("customeditor.new",Wr(pY),t))),bY=xa,k1=[ep,Qm,oY,bR,eH("menuitem"),wR,hr("context","mode:design")],yY=Yo([cl,M2].concat(k1)),sH=Us,xR=[GC("button"),Jh,Mi("align","end",["start","end"]),R2,ep,_a("buttonType",["primary","secondary"]),hr("context","mode:design")],rH=[...xR,pb],_R=[sn("type",["submit","cancel","custom"]),...rH],wY=[sn("type",["menu"]),Qm,Cy,Jh,lo("items",yY),...xR],CY=[...xR,sn("type",["togglebutton"]),Cy,Jh,Qm,Zi("active",!1)],SY=z("type",{submit:_R,cancel:_R,custom:_R,menu:wY,togglebutton:CY}),iH=tp.concat([hr("context","mode:design")]),aH=Yo(iH),xY=zb(),wD=t=>[cl,Ot("columns"),t],_Y=[cl,bt("html"),Mi("presets","presentation",["presentation","document"]),Dr("onInit",xe),Zi("stretched",!1)],TY=Yo(_Y),EY=tp.concat([Zi("border",!1),Zi("sandboxed",!0),Zi("streamContent",!1),Zi("transparent",!0)]),kY=Yo(EY),DY=xa,AY=Yo(KC.concat([ws("height")])),OY=Yo([bt("url"),Ps("zoom"),Ps("cachedWidth"),Ps("cachedHeight")]),MY=tp.concat([ws("inputMode"),ws("placeholder"),Zi("maximized",!1),ep,hr("context","mode:design")]),D1=Yo(MY),NY=xa,RY=t=>[cl,qC,t,Mi("align","start",["start","center","end"]),ws("for")],lH=[pb,yy],LY=[pb,lo("items",K("items",()=>cH))],cH=zd([Yo(lH),Yo(LY)]),PY=tp.concat([lo("items",cH),ep,hr("context","mode:design")]),IY=Yo(PY),TR=xa,uH=tp.concat([Go("items",[pb,yy]),al("size",1),ep,hr("context","mode:design")]),ER=Yo(uH),CD=xa,XC=tp.concat([Zi("constrain",!0),ep,hr("context","mode:design")]),FY=Yo(XC),kR=Yo([bt("width"),bt("height")]),BY=KC.concat([qC,al("min",0),al("max",0)]),JC=Yo(BY),$Y=Q1,SD=[cl,lo("header",xa),lo("cells",eu(xa))],DR=Yo(SD),HY=tp.concat([ws("placeholder"),Zi("maximized",!1),ep,hr("context","mode:design"),$l("spellcheck")]),zY=Yo(HY),VY=xa,AR=[hr("buttonType","default"),ws("text"),ws("tooltip"),ws("icon"),ji("search",!1,zd([Us,Yo([ws("placeholder")])],t=>ye(t)?t?U.some({placeholder:U.none()}):U.none():U.some(t))),An("fetch"),Dr("onSetup",()=>xe),hr("context","mode:design")],dH=Yo([cl,...AR]),fH=t=>m("menubutton",dH,t),hH=[sn("type",["directory","leaf"]),K5,bt("id"),xs("menu",dH),ws("customStateIcon"),ws("customStateIconTooltip")],xD=Yo(hH),WY=hH.concat([lo("children",K("children",()=>_p("type",{directory:mH,leaf:xD})))]),mH=Yo(WY),jY=_p("type",{directory:mH,leaf:xD}),pH=[cl,lo("items",jY),Wi("onLeafAction"),Wi("onToggleExpand"),ml("defaultExpandedIds",[],xa),ws("defaultSelectedId")],ZY=Yo(pH),OR=tp.concat([Mi("filetype","file",["image","media","file"]),ep,ws("picker_text"),hr("context","mode:design")]),gH=Yo(OR),vH=Yo([yy,wR]),MR=t=>se("items","items",md(),eu(_m(s=>m(`Checking item of ${t}`,NR,s).fold(l=>io.error(D(l)),l=>io.value(l))))),NR=Au(()=>_p("type",{alertbanner:SR,bar:Yo(_y(MR("bar"))),button:L2,checkbox:aY,colorinput:uY,colorpicker:hY,dropzone:aH,grid:Yo(wD(MR("grid"))),iframe:kY,input:D1,listbox:IY,selectbox:ER,sizeinput:FY,slider:JC,textarea:zY,urlinput:gH,customeditor:vY,htmlpanel:TY,imagepreview:AY,collection:lY,label:Yo(RY(MR("label"))),table:DR,tree:ZY,panel:_D})),bH=[cl,wt("classes",[]),lo("items",NR)],_D=Yo(bH),qY=[GC("tab"),K5,lo("items",NR)],YY=[cl,Go("tabs",qY)],GY=Yo(YY),KY=rH,XY=SY,JY=Yo([bt("title"),nt("body",_p("type",{panel:_D,tabpanel:GY})),hr("size","normal"),ml("buttons",[],XY),wt("initialData",{}),Dr("onAction",xe),Dr("onChange",xe),Dr("onSubmit",xe),Dr("onClose",xe),Dr("onCancel",xe),Dr("onTabChange",xe)]),QY=t=>m("dialog",JY,t),RR=Yo([sn("type",["cancel","custom"]),...KY]),eG=Yo([bt("title"),bt("url"),Ps("height"),Ps("width"),hu("buttons",RR),Dr("onAction",xe),Dr("onCancel",xe),Dr("onClose",xe),Dr("onMessage",xe)]),LR=t=>m("dialog",eG,t),PR=t=>Y(t)?[t].concat(vt(Ci(t),PR)):te(t)?vt(t,PR):[],tG=t=>H(t.type)&&H(t.name),IR={checkbox:Ty,colorinput:dY,colorpicker:mY,dropzone:xY,input:NY,iframe:DY,imagepreview:OY,selectbox:CD,sizeinput:kR,slider:$Y,listbox:TR,size:kR,textarea:VY,urlinput:vH,customeditor:bY,collection:oH,togglemenuitem:sH},nG=t=>U.from(IR[t.type]),oG=t=>fs(PR(t),tG),yH=t=>{const s=oG(t),l=vt(s,f=>nG(f).fold(()=>[],v=>[nt(f.name,v)]));return Yo(l)},wH=t=>{const s=x(QY(t)),l=yH(t),f=t.initialData??{};return{internalDialog:s,dataValidator:l,initialData:f}},Ey={open:(t,s)=>{const l=wH(s);return t(l.internalDialog,l.initialData,l.dataValidator)},openUrl:(t,s)=>{const l=x(LR(s));return t(l)},redial:t=>wH(t)},CH=Yo([cl,Qm]),sG=t=>m("separatormenuitem",CH,t),rG=Yo([xy("autocompleteitem"),YC,ep,wR,yy,Qm,Jh]),iG=t=>m("Autocompleter.Separator",CH,t),aG=t=>m("Autocompleter.Item",rG,t),ky=[ep,Cy,Jh,Qm,E1,hr("context","mode:design")],SH=Yo([cl,wy,bR].concat(ky)),FR=t=>m("toolbarbutton",SH,t),BR=[YC].concat(ky),lG=Yo(BR.concat([cl,wy,bR])),xH=t=>m("ToggleButton",lG,t),TD=[Dr("predicate",wn),Mi("scope","node",["node","editor"]),Mi("position","selection",["node","selection","line"])],cG=ky.concat([xy("contextformbutton"),hr("align","end"),R2,wy,ce("original",mn)]),_H=BR.concat([xy("contextformbutton"),hr("align","end"),R2,wy,ce("original",mn)]),TH=ky.concat([xy("contextformbutton")]),EH=BR.concat([xy("contextformtogglebutton")]),$R=z("type",{contextformbutton:cG,contextformtogglebutton:_H}),HR=[Sy,lo("commands",$R),xs("launch",z("type",{contextformbutton:TH,contextformtogglebutton:EH})),Dr("onInput",xe),Dr("onSetup",xe)],kH=[...TD,...HR,sn("type",["contextform"]),Dr("initValue",P("")),ws("placeholder")],uG=[...TD,...HR,sn("type",["contextsliderform"]),Dr("initValue",P(0)),Dr("min",P(0)),Dr("max",P(100))],dG=[...TD,...HR,sn("type",["contextsizeinputform"]),Dr("initValue",P({width:"",height:""}))],fG=z("type",{contextform:kH,contextsliderform:uG,contextsizeinputform:dG}),hG=t=>m("ContextForm",fG,t),zR=ky.concat([xy("contexttoolbarbutton")]),vb=Yo([xy("contexttoolbar"),Ta("launch",zR),nt("items",zd([xa,Hb([ws("name"),ws("label"),lo("items",xa)])]))].concat(TD)),mG=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),P2=t=>({...t,launch:t.launch.getOrUndefined(),items:H(t.items)?t.items:Yt(t.items,mG)}),pG=t=>m("ContextToolbar",vb,t),VR=[cl,bt("src"),ws("alt"),ml("classes",[],xa)],gG=Yo(VR),vG=[cl,pb,J5,ml("classes",["tox-collection__item-label"],xa)],bG=Yo(vG),UR=Au(()=>_p("type",{cardimage:gG,cardtext:bG,cardcontainer:yG})),yG=Yo([cl,hr("direction","horizontal"),hr("align","left"),hr("valign","middle"),lo("items",UR)]),WR=Yo([cl,Sy,lo("items",UR),E1,CR].concat(k1)),jR=t=>m("cardmenuitem",WR,t),ZR=Yo([cl,YC,Jh,Sy].concat(k1)),wG=t=>m("choicemenuitem",ZR,t),Xd=[cl,bt("fancytype"),CR],CG=[wt("initData",{})].concat(Xd),SG=[Wi("select"),Vd("initData",{},[Zi("allowCustomColors",!0),hr("storageKey","default"),hu("colors",pn())])].concat(Xd),DH=[Wi("select"),xo("initData",[Ot("columns"),ml("items",[],pn())])].concat(Xd),AH=z("fancytype",{inserttable:CG,colorswatch:SG,imageselect:DH}),xG=t=>m("fancymenuitem",AH,t),_G=Yo([cl,YC,X5,Sy,Cy].concat(k1)),TG=Yo([cl,YC,gb,qC,Cy,yy].concat(k1)),EG=t=>m("imagemenuitem",_G,t),kG=t=>m("resetimageitem",TG,t),DG=Yo([cl,E1,CR,Jh].concat(k1)),AG=t=>m("menuitem",DG,t),OH=Yo([cl,gR,E1,Jh].concat(k1)),OG=t=>m("nestedmenuitem",OH,t),MG=Yo([cl,Jh,YC,E1,wy].concat(k1)),NG=t=>m("togglemenuitem",MG,t),MH=Yo([Jh,Cy,Dr("onShow",xe),Dr("onHide",xe),E1]),qR=t=>m("sidebar",MH,t),YR=Yo([cl,nt("items",zd([Hb([M2,lo("items",xa)]),xa]))].concat(ky)),RG=t=>m("GroupToolbarButton",YR,t),GR=Yo([cl,Cy,sY,Jh,Qm,yR,nY,E1,Mi("presets","normal",["normal","color","listpreview"]),Q5(1),wy,vR,hr("context","mode:design")]),QC=t=>m("SplitButton",GR,t),KR=[Qm,Jh,ws("tooltip"),Mi("buttonType","secondary",["primary","secondary"]),Zi("borderless",!1),An("onAction"),hr("context","mode:design")],NH=[...KR,pb,sn("type",["button"])],RH=[...KR,Zi("active",!1),sn("type",["togglebutton"])],LH={button:NH,togglebutton:RH},LG=[sn("type",["group"]),ml("buttons",[],z("type",LH))],ED=z("type",{...LH,group:LG}),PG=Yo([ml("buttons",[],ED),An("onShow"),An("onHide")]),IG=t=>m("view",PG,t),kD=(t,s,l)=>{const f=fl(t.element,"."+l);if(f.length>0){const v=Ws(f,w=>{const _=w.dom.getBoundingClientRect().top,L=f[0].dom.getBoundingClientRect().top;return Math.abs(_-L)>s}).getOr(f.length);return U.some({numColumns:v,numRows:Math.ceil(f.length/v)})}else return U.none()},XR=(t,s)=>On([hs(t,s)]),eS={namedEvents:XR,unnamedEvents:t=>XR(_n("unnamed-events"),t)},np={item:t=>Ao.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Ao.config({disabled:t}),splitButton:t=>Ao.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Ao.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},I2=(t,s)=>{const l=t.getApi(s);return f=>{f(l)}},Vp=(t,s)=>ta(l=>{Ce(t.onBeforeSetup)&&t.onBeforeSetup(l),I2(t,l)(v=>{const w=t.onSetup(v);Ce(w)&&s.set(w)})}),Dy=(t,s)=>$h(l=>I2(t,l)(s.get())),DD=(t,s,l)=>$h(f=>(l.set(jn.getValue(f)),I2(t,f)(s.get()))),Up="silver.uistate",Ay="setDisabled",IH="setEnabled",F2="init",BG=["switchmode",F2],B2=(t,s)=>{const l=t.mainUi.outerContainer,f=[t.mainUi.mothership,...t.uiMotherships];s===Ay&&yt(f,v=>{v.broadcastOn([Pp()],{target:l.element})}),yt(f,v=>{v.broadcastOn([Up],s)})},BH=(t,s)=>{t.on("init SwitchMode",l=>{B2(s,l.type)}),t.on("DisabledStateChange",l=>{if(!l.isDefaultPrevented()){const f=l.state?Ay:F2;B2(s,f),l.state||t.nodeChanged()}}),t.on("NodeChange",l=>{const f=t.ui.isEnabled()?l.type:Ay;B2(s,f)}),Z$(t)&&t.mode.set("readonly")},Vl=t=>Cf.config({channels:{[Up]:{onReceive:(s,l)=>{if(l===Ay||l===IH){Ao.set(s,l===Ay);return}const{contextType:f,shouldDisable:v}=t();f==="mode"&&!us(BG,l)||Ao.set(s,v)}}}}),$G=(t,s)=>Rp((l,f)=>{I2(t,l)(t.onAction),!t.triggersSubmenu&&s===Jm.CLOSE_ON_EXECUTE&&(l.getSystem().isConnected()&&Ys(l,yw()),f.stop())}),HG={[pd()]:["disabling","alloy.base.behaviour","toggling","item-events"]},tS=gi,A1=(t,s,l,f)=>{const v=Pn(xe);return{type:"item",dom:s.dom,components:tS(s.optComponents),data:t.data,eventOrder:HG,hasSubmenu:t.triggersSubmenu,itemBehaviours:On([hs("item-events",[$G(t,l),Vp(t,v),Dy(t,v)]),np.item(()=>!t.enabled||f.checkUiComponentContext(t.context).shouldDisable),Vl(()=>f.checkUiComponentContext(t.context)),Cs.config({})].concat(t.itemBehaviours))}},Oy=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),Vg=(t,s)=>{const l=Tn.fromTag("div");Hr(l,"tox-image-selector-loading-spinner");const f=w=>{Hr(w,"tox-image-selector-loading-spinner-wrapper"),xl(w,l)},v=w=>{Ui(w,"tox-image-selector-loading-spinner-wrapper"),Kl(l)};return{dom:{tag:t.tag,attributes:t.attributes??{},classes:t.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...t.checkMark.toArray()],behaviours:On([...t.behaviours??[],hs("render-image-events",[ta(w=>{f(w.element),Ur(w.element,"img").each(_=>{xu(_).catch(L=>{console.error(L)}).finally(()=>{v(w.element)})})})])])}},AD=(t,s)=>Vg(s,t),JR=t=>{const s=VC.os.isMacOS()||VC.os.isiOS(),v=s?{alt:"â¥",ctrl:"â",shift:"â§",meta:"â",access:"ââ¥"}:{meta:"Ctrl",access:"Shift+Alt"},w=t.split("+"),_=Yt(w,L=>{const I=L.toLowerCase().trim();return go(v,I)?v[I]:L});return s?_.join(""):_.join("+")},QR=(t,s,l=[I5])=>oh(t,{tag:"div",classes:l},s),e3=t=>({dom:{tag:"div",classes:[cR]},components:[qi(iu.translate(t))]}),t3=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),n3=(t,s)=>({dom:{tag:"div",classes:[cR]},components:[{dom:{tag:t.tag,styles:t.styles},components:[qi(iu.translate(s))]}]}),OD=t=>({dom:{tag:"div",classes:[Uq]},components:[qi(JR(t))]}),My=t=>QR("checkmark",t,[Wq]),$2=t=>QR("chevron-right",t,[B5]),$H=t=>QR("chevron-down",t,[B5]),HH=(t,s)=>{const l=t.direction==="vertical"?$5:H5,f=t.align==="left"?Zq:jq;return{dom:{tag:"div",classes:[uR,l,f,(()=>{switch(t.valign){case"top":return qq;case"middle":return Yq;case"bottom":return z5}})()]},components:s}},o3=(t,s,l)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:l.getOr("")}}}),s3=(t,s,l)=>{const f="custom",v="remove",w=t.value,_=t.iconContent.map(W=>py(W,s.icons,l)),L=t.ariaLabel.map(W=>({"aria-label":s.translate(W),"data-mce-name":W})).getOr({});return{dom:(()=>{const W=lR,X=_.getOr(""),oe={tag:"div",attributes:L,classes:[W]};return w===f?{...oe,tag:"button",classes:[...oe.classes,"tox-swatches__picker-btn"],innerHtml:X}:w===v?{...oe,classes:[...oe.classes,"tox-swatch--remove"],innerHtml:X}:Ee(w)?{...oe,attributes:{...oe.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:X}:oe})(),optComponents:[]}},r3=(t,s)=>{const l=t.map(f=>({attributes:{id:_n("menu-item"),"aria-label":iu.translate(f)}})).getOr({});return{tag:"div",classes:[E2,gD].concat(s),...l}},zH=t=>({dom:{tag:"label"},components:[qi(t)]}),VH=(t,s,l,f)=>{const v={tag:"div",classes:[I5]},w=me=>oh(me,v,s.icons,f),_=()=>U.some({dom:v}),L=l?t.iconContent.map(w).orThunk(_):U.none(),I=t.checkMark,W=U.from(t.meta).fold(()=>e3,me=>go(me,"style")?ln(n3,me.style):e3),X=t.htmlContent.fold(()=>t.textContent.map(W),me=>U.some(t3(me,[cR])));return{dom:r3(t.ariaLabel,[]),optComponents:[L,X,t.shortcutContent.map(OD),I,t.caret,t.labelContent.map(zH)]}},UH=t=>({dom:r3(t.ariaLabel,[F5]),optComponents:[U.some(AD(t.iconContent.getOrDie(),{tag:"div",classes:[Vq],checkMark:t.checkMark})),t.labelContent.map(zH)]}),nS=(t,s,l,f=U.none())=>t.presets==="color"?s3(t,s,f):t.presets==="img"?UH(t):VH(t,s,l,f),i3=(t,s,l)=>Mn(t,"tooltipWorker").map(f=>[Gi.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:v=>({type:"submenu",item:v,overrides:{maxHeightFunction:Bv}}),mode:"follow-highlight",onShow:(v,w)=>{f(_=>{Gi.setComponents(v,[nb({element:Tn.fromDom(_)})])})}})]).getOrThunk(()=>l.map(f=>[Gi.config({...s.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),WH=t=>v2.DOM.encode(t),jH=(t,s)=>{const l=iu.translate(t),f=WH(l);if(s.length>0){const v=new RegExp(Uc(s),"gi");return f.replace(v,w=>`<span class="tox-autocompleter-highlight">${w}</span>`)}else return f},ZH=(t,s,l,f,v,w,_,L=!0)=>{const I=nS({presets:f,textContent:U.none(),htmlContent:l?t.text.map(X=>jH(X,s)):U.none(),ariaLabel:t.text,labelContent:U.none(),iconContent:t.icon,shortcutContent:U.none(),checkMark:U.none(),caret:U.none(),value:t.value},_.providers,L,t.icon),W=t.text.filter(X=>!l&&X!=="");return A1({context:"mode:design",data:Oy(t),enabled:t.enabled,getApi:P({}),onAction:X=>v(t.value,t.meta),onSetup:P(xe),triggersSubmenu:!1,itemBehaviours:i3(t,_,W)},I,w,_.providers)},qH=(t,s)=>Yt(t,l=>{switch(l.type){case"cardcontainer":return HH(l,qH(l.items,s));case"cardimage":return o3(l.src,l.classes,l.alt);case"cardtext":const v=l.name.exists(w=>us(s.cardText.highlightOn,w))?U.from(s.cardText.matchText).getOr(""):"";return t3(jH(l.text,v),l.classes)}}),YH=(t,s,l,f)=>{const v=_=>({isEnabled:()=>!Ao.isDisabled(_),setEnabled:L=>{Ao.set(_,!L),yt(fl(_.element,"*"),I=>{_.getSystem().getByDom(I).each(W=>{W.hasConfigured(Ao)&&Ao.set(W,!L)})})}}),w={dom:r3(t.label,[]),optComponents:[U.some({dom:{tag:"div",classes:[uR,H5]},components:qH(t.items,f)})]};return A1({context:"mode:design",data:Oy({text:U.none(),...t}),enabled:t.enabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:U.from(f.itemBehaviours).getOr([])},w,s,l.providers)},O1=(t,s,l,f,v,w,_,L=!0)=>{const I=oe=>({setActive:me=>{ur.set(oe,me)},isActive:()=>ur.isOn(oe),isEnabled:()=>!Ao.isDisabled(oe),setEnabled:me=>Ao.set(oe,!me)}),W=nS({presets:l,textContent:s?t.text:U.none(),htmlContent:U.none(),labelContent:t.label,ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:U.none(),checkMark:s?U.some(My(_.icons)):U.none(),caret:U.none(),value:t.value},_,L),X=t.text.filter(P(!s)).map(oe=>Gi.config(_.tooltips.getConfig({tooltipText:_.translate(oe)})));return Ls(A1({context:t.context,data:Oy(t),enabled:t.enabled,getApi:I,onAction:oe=>f(t.value),onSetup:oe=>(oe.setActive(v),xe),triggersSubmenu:!1,itemBehaviours:[...X.toArray()]},W,w,_),{toggling:{toggleClass:vD,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},GH=t=>({value:JH(t)}),a3=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,KH=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,XH=t=>a3.test(t)||KH.test(t),JH=t=>ut(t,"#").toUpperCase(),zG=t=>XH(t)?U.some({value:JH(t)}):U.none(),QH=t=>({value:t.value.replace(a3,(l,f,v,w)=>f+f+v+v+w+w)}),VG=t=>{const s=QH(t),l=KH.exec(s.value);return l===null?["FFFFFF","FF","FF","FF"]:l},MD=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Ny=t=>{const s=MD(t.red)+MD(t.green)+MD(t.blue);return GH(s)},rh=(t,s,l)=>({hue:t,saturation:s,value:l}),H2=t=>{let s=0,l=0,f=0;const v=t.red/255,w=t.green/255,_=t.blue/255,L=Math.min(v,Math.min(w,_)),I=Math.max(v,Math.max(w,_));if(L===I)return f=L,rh(0,0,f*100);const W=v===L?w-_:_===L?v-w:_-v;return s=v===L?3:_===L?1:5,s=60*(s-W/(I-L)),l=(I-L)/I,f=I,rh(Math.round(s),Math.round(l*100),Math.round(f*100))},l3=Math.min,c3=Math.max,z2=Math.round,e6=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,u3=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,M1=(t,s,l,f)=>({red:t,green:s,blue:l,alpha:f}),oS=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},d3=t=>{let s,l,f;const v=(t.hue||0)%360;let w=t.saturation/100,_=t.value/100;if(w=c3(0,l3(w,1)),_=c3(0,l3(_,1)),w===0)return s=l=f=z2(255*_),M1(s,l,f,1);const L=v/60,I=_*w,W=I*(1-Math.abs(L%2-1)),X=_-I;switch(Math.floor(L)){case 0:s=I,l=W,f=0;break;case 1:s=W,l=I,f=0;break;case 2:s=0,l=I,f=W;break;case 3:s=0,l=W,f=I;break;case 4:s=W,l=0,f=I;break;case 5:s=I,l=0,f=W;break;default:s=l=f=0}return s=z2(255*(s+X)),l=z2(255*(l+X)),f=z2(255*(f+X)),M1(s,l,f,1)},sS=t=>{const s=VG(t),l=parseInt(s[1],16),f=parseInt(s[2],16),v=parseInt(s[3],16);return M1(l,f,v,1)},t6=(t,s,l,f)=>{const v=parseInt(t,10),w=parseInt(s,10),_=parseInt(l,10),L=parseFloat(f);return M1(v,w,_,L)},f3=t=>{const s=e6.exec(t);if(s!==null)return U.some(t6(s[1],s[2],s[3],"1"));const l=u3.exec(t);return l!==null?U.some(t6(l[1],l[2],l[3],l[4])):U.none()},n6=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,o6=M1(255,0,0,1),UG=t=>H2(sS(t)),h3=t=>Ny(d3(t)),s6=t=>zG(t).orThunk(()=>f3(t).map(Ny)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),l.fillStyle="#FFFFFF",l.fillStyle=t,l.fillRect(0,0,1,1);const f=l.getImageData(0,0,1,1).data,v=f[0],w=f[1],_=f[2],L=f[3];return Ny(M1(v,w,_,L))}),WG=t=>{t.dispatch("SkinLoaded")},jG=(t,s)=>{t.dispatch("SkinLoadError",s)},ZG=t=>{t.dispatch("ResizeEditor")},rS=(t,s)=>{t.dispatch("ResizeContent",s)},qG=(t,s)=>{t.dispatch("ScrollContent",s)},r6=(t,s)=>{t.dispatch("TextColorChange",s)},i6=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},a6=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),YG=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},GG=(t,s)=>{t.dispatch("StylesTextUpdate",s)},m3=(t,s)=>{t.dispatch("AlignTextUpdate",s)},KG=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},l6=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},XG=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},JG=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},QG=t=>{t.dispatch("ToggleSidebar")},c6=t=>{t.dispatch("ToggleView")},ND=t=>{t.dispatch("ContextToolbarClose")},eK=t=>{t.dispatch("ContextFormSlideBack")},RD=(t,s)=>()=>{t(),s()},sd=(t,s=Ze)=>N1(t,"NodeChange",l=>{l.setEnabled(t.selection.isEditable()&&s())}),tK=(t,s)=>l=>{const f=Si(),v=()=>{l.setActive(t.formatter.match(s));const w=t.formatter.formatChanged(s,l.setActive);f.set(w)};return t.initialized?v():t.once("init",v),()=>{t.off("init",v),f.clear()}},V2=(t,s)=>l=>{const f=sd(t)(l),v=tK(t,s)(l);return()=>{f(),v()}},N1=(t,s,l)=>f=>{const v=()=>l(f),w=()=>{l(f),t.on(s,v)};return t.initialized?w():t.once("init",w),()=>{t.off("init",w),t.off(s,v)}},p3=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Tf=(t,s)=>()=>t.execCommand(s);var Ry=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const u6={},nK=(t,s=10)=>{const l=Ry.getItem(t),f=H(l)?JSON.parse(l):[],w=(W=>s-W.length<0?W.slice(0,s):W)(f),_=W=>{qt(w,W).each(L),w.unshift(W),w.length>s&&w.pop(),Ry.setItem(t,JSON.stringify(w))},L=W=>{w.splice(W,1)};return{add:_,state:()=>w.slice(0)}},d6=t=>Mn(u6,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,l=Ry.getItem(s);if(Le(l)){const v=Ry.getItem("tinymce-custom-colors");Ry.setItem(s,Ee(v)?v:"[]")}const f=nK(s,10);return u6[t]=f,f}),oK=t=>Yt(d6(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),f6=(t,s)=>{d6(t).add(s)},g3="forecolor",v3="hilitecolor",b3=5,sK=t=>h6(t.map((s,l)=>l%2===0?"#"+s6(s).value:s)),h6=t=>{const s=[];for(let l=0;l<t.length;l+=2)s.push({text:t[l+1],value:t[l],icon:"checkmark",type:"choiceitem"});return s},Wp=t=>s=>s.options.get(t),Ly="#000000",y3=t=>{const s=t.options.register,l=w=>Je(w,H)?{value:sK(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},f=w=>Je(w,H)?{value:h6(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},v=w=>at(w)&&w>0?{value:w,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:f}),s("color_map_background",{processor:l}),s("color_map_foreground",{processor:l}),s("color_cols",{processor:v,default:w3(t)}),s("color_cols_foreground",{processor:v,default:PD(t,g3)}),s("color_cols_background",{processor:v,default:PD(t,v3)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:Ly}),s("color_default_background",{processor:"string",default:Ly})},LD=(t,s)=>s===g3&&t.options.isSet("color_map_foreground")?Wp("color_map_foreground")(t):s===v3&&t.options.isSet("color_map_background")?Wp("color_map_background")(t):t.options.isSet("color_map_raw")?Wp("color_map_raw")(t):Wp("color_map")(t),w3=(t,s="default")=>Math.max(b3,Math.ceil(Math.sqrt(LD(t,s).length))),PD=(t,s)=>{const l=Wp("color_cols")(t),f=w3(t,s);return l===w3(t)?f:l},m6=(t,s="default")=>Math.round(s===g3?Wp("color_cols_foreground")(t):s===v3?Wp("color_cols_background")(t):Wp("color_cols")(t)),ID=Wp("custom_colors"),p6=Wp("color_default_foreground"),rK=Wp("color_default_background"),iK="rgba(0, 0, 0, 0)",g6=t=>f3(t).exists(s=>s.alpha!==0),aK=t=>Lc(t,s=>{if(Yl(s)){const l=ui(s,"background-color");return oa(g6(l),l)}else return U.none()}).getOr(iK),C3=(t,s)=>{const l=Tn.fromDom(t.selection.getStart()),f=s==="hilitecolor"?aK(l):ui(l,"color");return f3(f).map(v=>"#"+Ny(v).value)},lK=(t,s,l)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:l}),t.nodeChanged()})},v6=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},b6=t=>{t.addCommand("mceApplyTextcolor",(s,l)=>{lK(t,s,l)}),t.addCommand("mceRemoveTextcolor",s=>{v6(t,s)})},y6=t=>{const s="choiceitem",l={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[l,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[l]},FD=(t,s,l,f)=>{l==="custom"?S6(t)(w=>{w.each(_=>{f6(s,_),t.execCommand("mceApplyTextcolor",s,_),f(_)})},C3(t,s).getOr(Ly)):l==="remove"?(f(""),t.execCommand("mceRemoveTextcolor",s)):(f(l),t.execCommand("mceApplyTextcolor",s,l))},BD=(t,s,l)=>t.concat(oK(s).concat(y6(l))),w6=(t,s,l)=>f=>{f(BD(t,s,l))},U2=(t,s,l)=>{const f=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(f,l)},S3=(t,s)=>{t.setTooltip(s)},$D=(t,s)=>l=>{const f=C3(t,s);return pi(f,l.toUpperCase())},x3=(t,s,l)=>{if(ds(l))return s==="forecolor"?"Text color":"Background color";const f=s==="forecolor"?"Text color {0}":"Background color {0}",v=BD(LD(t,s),s,!1),w=fo(v,_=>_.value===l).getOr({text:""}).text;return t.translate([f,t.translate(w)])},C6=(t,s,l,f)=>{t.ui.registry.addSplitButton(s,{tooltip:x3(t,l,f.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:$D(t,l),columns:m6(t,l),fetch:w6(LD(t,l),l,ID(t)),onAction:v=>{FD(t,l,f.get(),xe)},onItemAction:(v,w)=>{FD(t,l,w,_=>{f.set(_),r6(t,{name:s,color:_})})},onSetup:v=>{U2(v,s,f.get());const w=_=>{_.name===s&&(U2(v,_.name,_.color),S3(v,x3(t,l,_.color)))};return t.on("TextColorChange",w),RD(sd(t)(v),()=>{t.off("TextColorChange",w)})}})},_3=(t,s,l,f,v)=>{t.ui.registry.addNestedMenuItem(s,{text:f,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:w=>(S3(w,x3(t,l,v.get())),U2(w,s,v.get()),sd(t)(w)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:$D(t,l),initData:{storageKey:l},onAction:w=>{FD(t,l,w.value,_=>{v.set(_),r6(t,{name:s,color:_})})}}]})},S6=t=>(s,l)=>{let f=!1;const v=L=>{const W=L.getData().colorpicker;f?(s(U.from(W)),L.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",W]))},w=(L,I)=>{I.name==="hex-valid"&&(f=I.value)},_={colorpicker:l};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_,onAction:w,onSubmit:v,onClose:xe,onCancel:()=>{s(U.none())}})},x6=t=>{b6(t);const s=p6(t),l=rK(t),f=Pn(s),v=Pn(l);C6(t,"forecolor","forecolor",f),C6(t,"backcolor","hilitecolor",v),_3(t,"forecolor","forecolor","Text color",f),_3(t,"backcolor","hilitecolor","Background color",v)},cK=(t,s,l,f,v)=>{const w=I=>({setActive:W=>{ur.set(I,W)},isActive:()=>ur.isOn(I),isEnabled:()=>!Ao.isDisabled(I),setEnabled:W=>Ao.set(I,!W)}),_=nS({presets:"img",textContent:U.none(),htmlContent:U.none(),ariaLabel:t.tooltip,iconContent:U.some(t.url),labelContent:t.label,shortcutContent:U.none(),checkMark:U.some(My(v.icons)),caret:U.none(),value:t.value},v,!0),L=t.tooltip.map(I=>Gi.config(v.tooltips.getConfig({tooltipText:v.translate(I)})));return Ls(A1({context:t.context,data:Oy(t),enabled:t.enabled,getApi:w,onAction:I=>{s(t.value),I.setActive(!0)},onSetup:I=>(I.setActive(l),xe),triggersSubmenu:!1,itemBehaviours:[...L.toArray()]},_,f,v),{toggling:{toggleClass:vD,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},HD=(t,s,l,f,v,w,_,L)=>{const I=O2(s),X=T3(s,l,f,v!=="color"?"normal":"color",w,_,L);return mb(t,I,X,f,{menuType:v})},T3=(t,s,l,f,v,w,_)=>gi(Yt(t,L=>L.type==="choiceitem"?wG(L).fold(sh,I=>U.some(O1(I,l===1,f,s,w(I.value),v,_,O2(t)))):L.type==="imageitem"?EG(L).fold(sh,I=>U.some(cK(I,s,w(I.value),v,_))):L.type==="resetimage"?kG(L).fold(sh,I=>U.some(O1({...I,text:I.tooltip,icon:U.some(I.icon),label:U.some(I.label)},l===1,f,s,w(I.value),v,_,O2(t)))):U.none())),W2=(t,s)=>{const l=T1(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+l.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:v=>s==="color"?Ur(v.element,"[aria-checked=true]"):U.none()}},uK=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${lR}`:`.${gD}`}},dK=(t,s)=>{const l=E3(t,s),f=s.colorinput.getColorCols(t.initData.storageKey),v="color",_={...HD(_n("menu-value"),l,L=>{t.onAction({value:L})},f,v,Jm.CLOSE_ON_EXECUTE,t.select.getOr(wn),s.shared.providers),markers:T1(v),movement:W2(f,v),showMenuRole:!1};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[r4.widget(db.sketch(_))]}},E3=(t,s)=>{const l=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>BD(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,l),f=>f.concat(y6(l)))},fK=(t,s)=>{const l="imageselector",f=t.initData.columns,w={...HD(_n("menu-value"),t.initData.items,_=>{t.onAction({value:_})},f,l,Jm.CLOSE_ON_EXECUTE,t.select.getOr(wn),s.shared.providers),markers:T1(l),movement:W2(f,l),showMenuRole:!1};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[r4.widget(db.sketch(w))]}},k3=_n("cell-over"),_6=_n("cell-execute"),T6=t=>(s,l)=>t.shared.providers.translate(["{0} columns, {1} rows",l,s]),hK=(t,s,l)=>{const f=_=>$o(_,k3,{row:t,col:s}),v=_=>$o(_,_6,{row:t,col:s}),w=(_,L)=>{L.stop(),v(_)};return T({dom:{tag:"div",attributes:{role:"button","aria-label":l}},behaviours:On([hs("insert-table-picker-cell",[Wt(zf(),ps.focus),Wt(pd(),v),Wt(km(),w),Wt(Av(),w)]),ur.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ps.config({onFocus:f})])})},mK=(t,s,l)=>{const f=[];for(let v=0;v<s;v++){const w=[];for(let _=0;_<l;_++){const L=t(v+1,_+1);w.push(hK(v,_,L))}f.push(w)}return f},pK=(t,s,l,f,v)=>{for(let w=0;w<f;w++)for(let _=0;_<v;_++)ur.set(t[w][_],w<=s&&_<=l)},gK=t=>vt(t,s=>Yt(s,N)),E6=(t,s)=>qi(`${s}x${t}`),bK={inserttable:(t,s)=>{const v=T6(s),w=mK(v,10,10),_=E6(0,0),L=Zr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[_],behaviours:On([Cs.config({})])});return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[r4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:gK(w).concat(L.asSpec()),behaviours:On([hs("insert-table-picker",[ta(I=>{Cs.set(L.get(I),[_])}),Hv(k3,(I,W,X)=>{const{row:oe,col:me}=X.event;pK(w,oe,me,10,10),Cs.set(L.get(I),[E6(oe+1,me+1)])}),Hv(_6,(I,W,X)=>{const{row:oe,col:me}=X.event;Ys(I,yw()),t.onAction({numRows:oe+1,numColumns:me+1})})]),No.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:dK,imageselect:fK},yK=(t,s)=>Mn(bK,t.fancytype).map(l=>l(t,s)),k6=(t,s,l,f=!0,v=!1)=>{const w=v?$H(l.icons):$2(l.icons),_=I=>({isEnabled:()=>!Ao.isDisabled(I),setEnabled:W=>Ao.set(I,!W),setIconFill:(W,X)=>{Ur(I.element,`svg path[class="${W}"], rect[class="${W}"]`).each(oe=>{Io(oe,"fill",X)})},setTooltip:W=>{const X=l.translate(W);Io(I.element,"aria-label",X)}}),L=nS({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:U.none(),ariaLabel:t.text,labelContent:U.none(),caret:U.some(w),checkMark:U.none(),shortcutContent:t.shortcut},l,f);return A1({context:t.context,data:Oy(t),getApi:_,enabled:t.enabled,onAction:xe,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},L,s,l)},wK=(t,s,l,f=!0)=>{const v=_=>({isEnabled:()=>!Ao.isDisabled(_),setEnabled:L=>Ao.set(_,!L)}),w=nS({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:U.none(),labelContent:U.none(),ariaLabel:t.text,caret:U.none(),checkMark:U.none(),shortcutContent:t.shortcut},l,f);return A1({context:t.context,data:Oy(t),getApi:v,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,l)},CK=t=>({type:"separator",dom:{tag:"div",classes:[gD,zq]},components:t.text.map(qi).toArray()}),SK=(t,s,l,f=!0)=>{const v=_=>({setActive:L=>{ur.set(_,L)},isActive:()=>ur.isOn(_),isEnabled:()=>!Ao.isDisabled(_),setEnabled:L=>Ao.set(_,!L)}),w=nS({iconContent:t.icon,textContent:t.text,htmlContent:U.none(),labelContent:U.none(),ariaLabel:t.text,checkMark:U.some(My(l.icons)),caret:U.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},l,f);return Ls(A1({context:t.context,data:Oy(t),enabled:t.enabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,l),{toggling:{toggleClass:vD,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},D6=ZH,A6=CK,xK=wK,_K=k6,O6=SK,M6=yK,N6=YH,zD=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},R6=t=>{const s=jn.getValue(t),l=yD(t).map(hR);Ed.refetch(s).get(()=>{const f=gs.getCoupled(s,"sandbox");l.each(v=>yD(f).each(w=>j5(w,v)))})},TK=(t,s)=>{EK(t).each(l=>{YO(t,l.element,s.event.eventType,s.event.interactionEvent)})},EK=t=>Br.getState(t).bind(zr.getHighlighted).bind(zr.getHighlighted),L6=t=>Ua(t.element,k2)?U.some(t.element):Ur(t.element,"."+k2),P6=(t,s,l)=>{W5(t).each(f=>{Kq(f,l),L6(s).each(w=>{_l(w,"id").each(_=>Io(f.element,"aria-controls",_))})}),Io(l.element,"aria-selected","true")},kK=(t,s,l)=>{Io(l.element,"aria-selected","false")},DK=t=>{W5(t).each(s=>ps.focus(s))},AK=t=>gs.getExistingCoupled(t,"sandbox").bind(yD).map(hR).map(l=>l.fetchPattern).getOr("");var j2;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(j2||(j2={}));const OK=(t,s,l,f,v)=>{const w=l.shared.providers,_=L=>v?{...L,shortcut:U.none(),icon:L.text.isSome()?U.none():L.icon}:L;switch(t.type){case"menuitem":return AG(t).fold(sh,L=>U.some(xK(_(L),s,w,f)));case"nestedmenuitem":return OG(t).fold(sh,L=>U.some(_K(_(L),s,w,f,v)));case"togglemenuitem":return NG(t).fold(sh,L=>U.some(O6(_(L),s,w,f)));case"separator":return sG(t).fold(sh,L=>U.some(A6(L)));case"fancymenuitem":return xG(t).fold(sh,L=>M6(L,l));default:return console.error("Unknown item in general menu",t),U.none()}},MK=(t,s,l,f,v,w,_)=>{const L=f===1,I=!L||O2(t);return gi(Yt(t,W=>{switch(W.type){case"separator":return iG(W).fold(sh,X=>U.some(A6(X)));case"cardmenuitem":return jR(W).fold(sh,X=>U.some(N6({...X,onAction:oe=>{X.onAction(oe),l(X.value,X.meta)}},v,w,{itemBehaviours:i3(X.meta,w,U.none()),cardText:{matchText:s,highlightOn:_}})));case"autocompleteitem":default:return aG(W).fold(sh,X=>U.some(D6(X,s,L,"normal",l,v,w,I)))}}))},I6=(t,s,l,f,v,w)=>{const _=O2(s),L=gi(Yt(s,X=>{const oe=Oe=>v?!go(Oe,"text"):_,me=Oe=>OK(Oe,l,f,oe(Oe),v);return X.type==="nestedmenuitem"&&X.getSubmenuItems().length<=0?me({...X,enabled:!1}):me(X)})),I=zD(w);return(v?tY:mb)(t,_,L,1,I)},VD=t=>g1.singleData(t.value,t),F6=(t,s,l,f)=>{const v=W2(s,f),w=T1(f);return{data:VD({...t,movement:v,menuBehaviours:eS.unnamedEvents(s!=="auto"?[]:[ta((_,L)=>{kD(_,4,w.item).each(({numColumns:I,numRows:W})=>{No.setGridSize(_,W,I)})})])}),menu:{markers:T1(f),fakeFocus:l===j2.ContentFocus}}},NK=t=>B.create(Tn.fromDom(t.startContainer),t.startOffset,Tn.fromDom(t.endContainer),t.endOffset),B6={register:(t,s)=>{const l=_n("autocompleter"),f=Pn(!1),v=Pn(!1),w=Po(),_=T(ka.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:l}},components:[],fireDismissalEventInstead:{},inlineBehaviours:On([hs("dismissAutocompleter",[Wt(Nv(),()=>oe()),Wt(Rv(),(ze,it)=>{_l(it.event.target,"id").each(ht=>Io(Tn.fromDom(t.getBody()),"aria-activedescendant",ht))})])]),lazySink:s.getSink})),L=()=>ka.isOpen(_),I=v.get,W=()=>{if(L()){ka.hide(_),t.dom.remove(l,!1);const ze=Tn.fromDom(t.getBody());_l(ze,"aria-owns").filter(it=>it===l).each(()=>{Di(ze,"aria-owns"),Di(ze,"aria-activedescendant")})}},X=()=>ka.getContent(_).bind(ze=>Gs(ze.components(),0)),oe=()=>t.execCommand("mceAutocompleterClose"),me=ze=>{const it=de(ze,ht=>U.from(ht.columns)).getOr(1);return vt(ze,ht=>{const Dt=ht.items;return MK(Dt,ht.matchText,(Rt,$n)=>{const rn={hide:()=>oe(),reload:bn=>{W(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:bn})}};t.execCommand("mceAutocompleterRefreshActiveRange"),w.get().each(bn=>{f.set(!0),ht.onAction(rn,bn,Rt,$n),f.set(!1)})},it,Jm.BUBBLE_TO_SANDBOX,s,ht.highlightOn)})},Oe=(ze,it)=>{const ht=de(ze,Dt=>U.from(Dt.columns)).getOr(1);ka.showMenuAt(_,{anchor:{type:"selection",getSelection:()=>w.get().map(NK),root:Tn.fromDom(t.getBody())}},F6(mb("autocompleter-value",!0,it,ht,{menuType:"normal"}),ht,j2.ContentFocus,"normal")),X().each(zr.highlightFirst)},Ne=ze=>{const it=me(ze);it.length>0?(Oe(ze,it),Io(Tn.fromDom(t.getBody()),"aria-owns",l),t.inline||Ue()):W()},Ue=()=>{t.dom.get(l)&&t.dom.remove(l,!1);const ze=t.getDoc().documentElement,it=t.selection.getNode(),ht=mp(_.element);xr(ht,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${it.offsetTop}px`,left:`${it.offsetLeft}px`}),t.dom.add(ze,ht.dom),Ur(ht,'[role="menu"]').each(Dt=>{qs(Dt,"position"),qs(Dt,"max-height")})};t.on("AutocompleterStart",({lookupData:ze})=>{v.set(!0),f.set(!1),Ne(ze)}),t.on("AutocompleterUpdate",({lookupData:ze})=>Ne(ze)),t.on("AutocompleterUpdateActiveRange",({range:ze})=>w.set(ze)),t.on("AutocompleterEnd",()=>{W(),v.set(!1),f.set(!1),w.clear()});const Xe={cancelIfNecessary:oe,isMenuOpen:L,isActive:I,isProcessingAction:f.get,getMenu:X};$q.setup(Xe,t)}},RK=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Yt(t.items,s.interpreter)});var LK=tinymce.util.Tools.resolve("tinymce.html.Entities");const ls=(t,s,l,f)=>{const v=$6(t,s,l,f);return tr.sketch(v)},Z2=(t,s)=>ls(t,s,[],[]),$6=(t,s,l,f)=>({dom:D3(l),components:t.toArray().concat([s]),fieldBehaviours:On(f)}),H6=()=>D3([]),D3=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),bb=(t,s)=>tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(t))]}),Qd=_n("form-component-change"),A3=_n("form-component-input"),q2=_n("form-close"),R1=_n("form-cancel"),Ug=_n("form-action"),iS=_n("form-submit"),UD=_n("form-block"),z6=_n("form-unblock"),aS=_n("form-tabchange"),WD=_n("form-resize"),V6=(t,s,l)=>{const f=t.label.map(Oe=>bb(Oe,s)),v=s.icons(),w=Oe=>v[Oe]??Oe,_=Oe=>(Ne,Ue)=>{ic(Ue.event.target,"[data-collection-item-value]").each(Xe=>{Oe(Ne,Ue,Xe,za(Xe,"data-collection-item-value"))})},L=(Oe,Ne)=>{const Xe=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",ze=Yt(Ne,Dt=>{const Rt=iu.translate(Dt.text),$n=t.columns===1?`<div class="tox-collection__item-label">${Rt}</div>`:"",rn=`<div class="tox-collection__item-icon">${w(Dt.icon)}</div>`,bn={_:" "," - ":" ","-":" "},hn=Rt.replace(/\_| \- |\-/g,zo=>bn[zo]);return`<div data-mce-tooltip="${hn}" class="tox-collection__item${Xe}" tabindex="-1" data-collection-item-value="${LK.encodeAllRaw(Dt.value)}" aria-label="${hn}">${rn}${$n}</div>`}),it=t.columns!=="auto"&&t.columns>1?Ds(ze,t.columns):[ze],ht=Yt(it,Dt=>`<div class="tox-collection__group">${Dt.join("")}</div>`);ju(Oe.element,ht.join(""))},I=_((Oe,Ne,Ue,Xe)=>{Ne.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||$o(Oe,Ug,{name:t.name,value:Xe})}),W=[Wt(zf(),_((Oe,Ne,Ue)=>{sl(Ue,!0)})),Wt(km(),I),Wt(Av(),I),Wt(Vf(),_((Oe,Ne,Ue)=>{Ur(Oe.element,"."+gy).each(Xe=>{Ui(Xe,gy)}),Hr(Ue,gy)})),Wt(bw(),_(Oe=>{Ur(Oe.element,"."+gy).each(Ne=>{Ui(Ne,gy),zi(Ne)})})),Rp(_((Oe,Ne,Ue,Xe)=>{$o(Oe,Ug,{name:t.name,value:Xe})}))],X=(Oe,Ne)=>Yt(fl(Oe.element,".tox-collection__item"),Ne),oe=tr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:mn},behaviours:On([Ao.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable,onDisabled:Oe=>{X(Oe,Ne=>{Hr(Ne,"tox-collection__item--state-disabled"),Io(Ne,"aria-disabled",!0)})},onEnabled:Oe=>{X(Oe,Ne=>{Ui(Ne,"tox-collection__item--state-disabled"),Di(Ne,"aria-disabled")})}}),Vl(()=>s.checkUiComponentContext(t.context)),Cs.config({}),Gi.config({...s.tooltips.getConfig({tooltipText:"",onShow:Oe=>{Ur(Oe.element,"."+gy+"[data-mce-tooltip]").each(Ne=>{_l(Ne,"data-mce-tooltip").each(Ue=>{Gi.setComponents(Oe,s.tooltips.getComponents({tooltipText:Ue}))})})}}),mode:"children-keyboard-focus",anchor:Oe=>({type:"node",node:Ur(Oe.element,"."+gy).orThunk(()=>cg(".tox-collection__item")),root:Oe.element,layouts:{onLtr:P([Al,fc,zl,Bc,aa,Jl]),onRtl:P([Al,fc,zl,Bc,aa,Jl])},bubble:Wd(0,-2,{})})}),jn.config({store:{mode:"memory",initialValue:l.getOr([])},onSetValue:(Oe,Ne)=>{L(Oe,Ne),t.columns==="auto"&&kD(Oe,5,"tox-collection__item").each(({numRows:Ue,numColumns:Xe})=>{No.setGridSize(Oe,Ue,Xe)}),Ys(Oe,WD)}}),Yi.config({}),No.config(uK(t.columns,"normal")),hs("collection-events",W)]),eventOrder:{[pd()]:["disabling","alloy.base.behaviour","collection-events"],[Vf()]:["collection-events","tooltipping"]}});return ls(f,oe,["tox-form__group--collection"],[])},PK=(t,s)=>Ed.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:On([np.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),Vl(()=>s.providers.checkUiComponentContext(t.context)),BC.config({}),Yi.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:l=>or.nu(f=>t.fetch(f)).map(f=>U.from(VD(Ls(HD(_n("menu-value"),f,v=>{t.onItemAction(l,v)},t.columns,t.presets,Jm.CLOSE_ON_EXECUTE,wn,s.providers),{movement:W2(t.columns,t.presets)})))),parts:{menu:by(!1,1,t.presets)}}),U6=_n("color-input-change"),W6=_n("color-swatch-change"),j6=_n("color-picker-cancel"),O3=(t,s,l,f)=>{const v=tr.parts.field({factory:qh,inputClasses:["tox-textfield"],data:f,onSetValue:W=>Td.run(W).get(xe),inputBehaviours:On([Ao.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable}),Vl(()=>s.providers.checkUiComponentContext(t.context)),Yi.config({}),Td.config({invalidClass:"tox-textbox-field-invalid",getRoot:W=>So(W.element),notify:{onValid:W=>{const X=jn.getValue(W);$o(W,U6,{color:X})}},validator:{validateOnLoad:!1,validate:W=>{const X=jn.getValue(W);if(X.length===0)return or.pure(io.value(!0));{const oe=Tn.fromTag("span");vo(oe,"background-color",X);const me=_i(oe,"background-color").fold(()=>io.error("blah"),Oe=>io.value(X));return or.pure(me)}}}})]),selectOnFocus:!1}),w=t.label.map(W=>bb(W,s.providers)),_=(W,X)=>{$o(W,W6,{value:X})},L=(W,X)=>{I.getOpt(W).each(oe=>{X==="custom"?l.colorPicker(me=>{me.fold(()=>Ys(oe,j6),Oe=>{_(oe,Oe),f6(t.storageKey,Oe)})},"#ffffff"):X==="remove"?_(oe,""):_(oe,X)})},I=Zr(PK({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[aa,zl,Al],onLtr:()=>[zl,aa,Al]},components:[],fetch:w6(l.getColors(t.storageKey),t.storageKey,l.hasCustomColors()),columns:l.getColorCols(t.storageKey),presets:"color",onItemAction:L,context:t.context},s));return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[v,I.asSpec()]}]),fieldBehaviours:On([hs("form-field-events",[Wt(U6,(W,X)=>{I.getOpt(W).each(oe=>{vo(oe.element,"background-color",X.event.color)}),$o(W,Qd,{name:t.name})}),Wt(W6,(W,X)=>{tr.getField(W).each(oe=>{jn.setValue(oe,X.event.value),zt.getCurrent(W).each(ps.focus)})}),Wt(j6,(W,X)=>{tr.getField(W).each(oe=>{zt.getCurrent(W).each(ps.focus)})})])])})},op={self:()=>zt.config({find:U.some}),memento:t=>zt.config({find:t.getOpt}),childAt:t=>zt.config({find:s=>fr(s.element,t).bind(l=>s.getSystem().getByDom(l).toOptional())})},BK=Yo([wt("preprocess",mn),wt("postprocess",mn)]),Z6=(t,s)=>{const l=S("RepresentingConfigs.memento processors",BK,s);return jn.config({store:{mode:"manual",getValue:f=>{const v=t.get(f),w=jn.getValue(v);return l.postprocess(w)},setValue:(f,v)=>{const w=l.preprocess(v),_=t.get(f);jn.setValue(_,w)}}})},Py=(t,s,l)=>jn.config({store:{mode:"manual",...t.map(f=>({initialValue:f})).getOr({}),getValue:s,setValue:l}}),q6=(t,s,l)=>Py(t,f=>s(f.element),(f,v)=>l(f.element,v)),M3=t=>q6(t,dd,ju),jD=t=>jn.config({store:{mode:"memory",initialValue:t}}),lS=_n("rgb-hex-update"),Y6=_n("slider-update"),N3=_n("palette-update"),$K=(t,s)=>{const l=Gm.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),f=Gm.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Gm.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:P(0)},components:[l,f],sliderBehaviours:On([ps.config({})]),onChange:(v,w,_)=>{Io(v.element,"aria-valuenow",Math.floor(360-_*3.6)),$o(v,Y6,{value:_})}})},G6=_n("valid-input"),HK=_n("invalid-input"),K6=_n("validating-input"),R3="colorcustom.rgb.",L3={isEnabled:Ze,setEnabled:xe,immediatelyShow:xe,immediatelyHide:xe},zK=(t,s,l,f,v,w)=>{const _=(Ue,Xe)=>{const ze=Xe.get();Ue!==ze.isEnabled()&&(ze.setEnabled(Ue),Ue?ze.immediatelyShow():ze.immediatelyHide())},L=(Ue,Xe,ze)=>Td.config({invalidClass:s("invalid"),notify:{onValidate:it=>{$o(it,K6,{type:Ue})},onValid:it=>{_(!1,ze),$o(it,G6,{type:Ue,value:jn.getValue(it)})},onInvalid:it=>{_(!0,ze),$o(it,HK,{type:Ue,value:jn.getValue(it)})}},validator:{validate:it=>{const ht=jn.getValue(it),Dt=Xe(ht)?io.value(!0):io.error(t("aria.input.invalid"));return or.pure(Dt)},validateOnLoad:!1}}),I=(Ue,Xe,ze,it,ht)=>{const Dt=Pn(L3),Rt=t(R3+"range"),$n=tr.parts.label({dom:{tag:"label"},components:[qi(ze)]}),rn=tr.parts.field({data:ht,factory:qh,inputAttributes:{type:"text","aria-label":it,...Xe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:On([L(Xe,Ue,Dt),Yi.config({}),Gi.config({...v({tooltipText:"",onSetup:As=>{Dt.set({isEnabled:()=>Gi.isEnabled(As),setEnabled:wo=>Gi.setEnabled(As,wo),immediatelyShow:()=>Gi.immediateOpenClose(As,!0),immediatelyHide:()=>Gi.immediateOpenClose(As,!1)}),Gi.setEnabled(As,!1)},onShow:(As,wo)=>{Gi.setComponents(As,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[qi(t(Xe==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:As=>{Td.isInvalid(As)&&Td.run(As).get(xe)}}),bn=_n("aria-invalid"),hn=Zr(w("invalid",U.some(bn),"warning")),zo=Zr({dom:{tag:"div",classes:[s("invalid-icon")]},components:[hn.asSpec()]}),_o=[$n,rn,zo.asSpec()],sr=Xe!=="hex"?[tr.parts["aria-descriptor"]({text:Rt})]:[],Zo=_o.concat(sr);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Zo}},W=(Ue,Xe)=>{const ze=Ny(Xe);return v1.getField(Ue,"hex").each(it=>{ps.isFocused(it)||jn.setValue(Ue,{hex:ze.value})}),ze},X=(Ue,Xe)=>{const ze=Xe.red,it=Xe.green,ht=Xe.blue;jn.setValue(Ue,{red:ze,green:it,blue:ht})},oe=Zr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),me=(Ue,Xe)=>{oe.getOpt(Ue).each(ze=>{vo(ze.element,"background-color","#"+Xe.value)})};return th({factory:()=>{const Ue={red:Pn(U.some(255)),green:Pn(U.some(255)),blue:Pn(U.some(255)),hex:Pn(U.some("ffffff"))},Xe=(wo,nn)=>{const Bn=sS(nn);X(wo,Bn),Dt(Bn)},ze=wo=>Ue[wo].get(),it=(wo,nn)=>{Ue[wo].set(nn)},ht=()=>ze("red").bind(wo=>ze("green").bind(nn=>ze("blue").map(Bn=>M1(wo,nn,Bn,1)))),Dt=wo=>{const nn=wo.red,Bn=wo.green,es=wo.blue;it("red",U.some(nn)),it("green",U.some(Bn)),it("blue",U.some(es))},Rt=(wo,nn)=>{const Bn=nn.event;Bn.type!=="hex"?it(Bn.type,U.none()):f(wo)},$n=(wo,nn)=>{l(wo);const Bn=GH(nn);it("hex",U.some(Bn.value));const es=sS(Bn);X(wo,es),Dt(es),$o(wo,lS,{hex:Bn}),me(wo,Bn)},rn=(wo,nn,Bn)=>{const es=parseInt(Bn,10);it(nn,U.some(es)),ht().each(Os=>{const Ro=W(wo,Os);$o(wo,lS,{hex:Ro}),me(wo,Ro)})},bn=wo=>wo.type==="hex",hn=(wo,nn)=>{const Bn=nn.event;bn(Bn)?$n(wo,Bn.value):rn(wo,Bn.type,Bn.value)},zo=wo=>({label:t(R3+wo+".label"),description:t(R3+wo+".description")}),_o=zo("red"),sr=zo("green"),Zo=zo("blue"),As=zo("hex");return Ls(v1.sketch(wo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[wo.field("red",tr.sketch(I(oS,"red",_o.label,_o.description,255))),wo.field("green",tr.sketch(I(oS,"green",sr.label,sr.description,255))),wo.field("blue",tr.sketch(I(oS,"blue",Zo.label,Zo.description,255))),wo.field("hex",tr.sketch(I(XH,"hex",As.label,As.description,"ffffff"))),oe.asSpec()],formBehaviours:On([Td.config({invalidClass:s("form-invalid")}),hs("rgb-form-events",[Wt(G6,hn),Wt(HK,Rt),Wt(K6,Rt)])])})),{apis:{updateHex:(wo,nn)=>{jn.setValue(wo,{hex:nn.value}),Xe(wo,nn),me(wo,nn)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Ue,Xe,ze)=>{Ue.updateHex(Xe,ze)}},extraApis:{}})},ZD=(t,s)=>{const l=Gm.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),f=Gm.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),v=(W,X)=>{const{width:oe,height:me}=W,Oe=W.getContext("2d");if(Oe===null)return;Oe.fillStyle=X,Oe.fillRect(0,0,oe,me);const Ne=Oe.createLinearGradient(0,0,oe,0);Ne.addColorStop(0,"rgba(255,255,255,1)"),Ne.addColorStop(1,"rgba(255,255,255,0)"),Oe.fillStyle=Ne,Oe.fillRect(0,0,oe,me);const Ue=Oe.createLinearGradient(0,0,0,me);Ue.addColorStop(0,"rgba(0,0,0,0)"),Ue.addColorStop(1,"rgba(0,0,0,1)"),Oe.fillStyle=Ue,Oe.fillRect(0,0,oe,me)},w=(W,X)=>{const oe=W.components()[0].element.dom,me=rh(X,100,100),Oe=d3(me);v(oe,n6(Oe))},_=(W,X)=>{const oe=H2(sS(X));Gm.setValue(W,{x:oe.saturation,y:100-oe.value}),Io(W.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",oe.saturation,oe.value]))};return th({factory:W=>{const X=P({x:0,y:0}),oe=(Ne,Ue,Xe)=>{at(Xe)||Io(Ne.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Xe.x),Math.floor(100-Xe.y)])),$o(Ne,N3,{value:Xe})},me=(Ne,Ue,Xe,ze)=>{v(Xe.element.dom,n6(o6))},Oe=On([zt.config({find:U.some}),ps.config({})]);return Gm.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:X},rounded:!1,components:[l,f],onChange:oe,onInit:me,sliderBehaviours:Oe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(W,X,oe)=>{w(X,oe)},setThumb:(W,X,oe)=>{_(X,oe)}},extraApis:{}})},X6=(t,s,l,f)=>{const v=_=>{const L=zK(t,s,_.onValidHex,_.onInvalidHex,l,f),I=ZD(t,s),W=bn=>(100-bn)/100*360,X=bn=>100-bn/360*100,oe={paletteRgba:Pn(o6),paletteHue:Pn(0)},me=Zr($K(t,s)),Oe=Zr(I.sketch({})),Ne=Zr(L.sketch({})),Ue=(bn,hn,zo)=>{Oe.getOpt(bn).each(_o=>{I.setHue(_o,zo)})},Xe=(bn,hn)=>{Ne.getOpt(bn).each(zo=>{L.updateHex(zo,hn)})},ze=(bn,hn,zo)=>{me.getOpt(bn).each(_o=>{Gm.setValue(_o,X(zo))})},it=(bn,hn)=>{Oe.getOpt(bn).each(zo=>{I.setThumb(zo,hn)})},ht=(bn,hn)=>{const zo=sS(bn);oe.paletteRgba.set(zo),oe.paletteHue.set(hn)},Dt=(bn,hn,zo,_o)=>{ht(hn,zo),yt(_o,sr=>{sr(bn,hn,zo)})},Rt=()=>{const bn=[Xe];return(hn,zo)=>{const _o=zo.event.value,sr=oe.paletteHue.get(),Zo=rh(sr,_o.x,100-_o.y),As=h3(Zo);Dt(hn,As,sr,bn)}},$n=()=>{const bn=[Ue,Xe];return(hn,zo)=>{const _o=W(zo.event.value),sr=oe.paletteRgba.get(),Zo=H2(sr),As=rh(_o,Zo.saturation,Zo.value),wo=h3(As);Dt(hn,wo,_o,bn)}},rn=()=>{const bn=[Ue,ze,it];return(hn,zo)=>{const _o=zo.event.hex,sr=UG(_o);Dt(hn,_o,sr.hue,bn)}};return{uid:_.uid,dom:_.dom,components:[Oe.asSpec(),me.asSpec(),Ne.asSpec()],behaviours:On([hs("colour-picker-events",[Wt(lS,rn()),Wt(N3,Rt()),Wt(Y6,$n())]),zt.config({find:bn=>Ne.getOpt(bn)}),No.config({mode:"acyclic"})])}};return th({name:"ColourPicker",configFields:[be("dom"),wt("onValidHex",xe),wt("onInvalidHex",xe)],factory:v})},J6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},P3=t=>s=>H(s)?t.translate(J6[s]):t.translate(s),VK=(t,s,l)=>{const f=W=>"tox-"+W,v=(W,X,oe=W,me=W)=>oh(oe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+W],attributes:{title:s.translate(me),"aria-live":"polite",...X.fold(()=>({}),Oe=>({id:Oe}))}},s.icons),w=X6(P3(s),f,s.tooltips.getConfig,v),_=W=>{$o(W,Ug,{name:"hex-valid",value:!0})},L=W=>{$o(W,Ug,{name:"hex-valid",value:!1})},I=Zr(w.sketch({dom:{tag:"div",classes:[f("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_,onInvalidHex:L}));return{dom:{tag:"div"},components:[I.asSpec()],behaviours:On([Py(l,W=>{const X=I.get(W);return zt.getCurrent(X).bind(Oe=>jn.getValue(Oe).hex).map(Oe=>"#"+ut(Oe,"#")).getOr("")},(W,X)=>{const oe=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,me=U.from(oe.exec(X)).bind(Ue=>Gs(Ue,1)),Oe=I.get(W);zt.getCurrent(Oe).fold(()=>{console.log("Can not find form")},Ue=>{jn.setValue(Ue,{hex:me.getOr("")}),v1.getField(Ue,"hex").each(Xe=>{Ys(Xe,kp())})})}),op.self()])}};var Q6=tinymce.util.Tools.resolve("tinymce.Resource");const Iy=t=>go(t,"init"),e8=t=>{const s=Po(),l=Zr({dom:{tag:t.tag}}),f=Po(),v=!Iy(t)&&t.onFocus.isSome()?[ps.config({onFocus:w=>{t.onFocus.each(_=>{_(w.element.dom)})}}),Yi.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:On([hs("custom-editor-events",[ta(w=>{l.getOpt(w).each(_=>{(Iy(t)?t.init(_.element.dom):Q6.load(t.scriptId,t.scriptUrl).then(L=>L(_.element.dom,t.settings))).then(L=>{f.on(I=>{L.setValue(I)}),f.clear(),s.set(L)})})})]),Py(U.none(),()=>s.get().fold(()=>f.get().getOr(""),w=>w.getValue()),(w,_)=>{s.get().fold(()=>f.set(_),L=>L.setValue(_))}),op.self()].concat(v)),components:[l.asSpec()]}};var yb=tinymce.util.Tools.resolve("tinymce.util.Tools");const I3=_n("browse.files.event"),UK=(t,s)=>{const l=yb.explode(s.getOption("images_file_types")),f=v=>Er(l,w=>ao(v.name.toLowerCase(),`.${w.toLowerCase()}`));return fs(J(t),f)},F3=(t,s,l)=>{const f=(me,Oe)=>{Oe.stop()},v=me=>(Oe,Ne)=>{yt(me,Ue=>{Ue(Oe,Ne)})},w=(me,Oe)=>{if(!Ao.isDisabled(me)){const Ne=Oe.event.raw;$o(me,I3,{files:Ne.dataTransfer?.files})}},_=(me,Oe)=>{const Ne=Oe.event.raw.target;$o(me,I3,{files:Ne.files})},L=(me,Oe)=>{Oe&&(jn.setValue(me,UK(Oe,s)),$o(me,Qd,{name:t.name}))},I=Zr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:On([hs("input-file-events",[zv(km()),zv(Av())])])}),W=t.label.map(me=>bb(me,s)),X=tr.parts.field({factory:su,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[qi(s.translate("Browse for an image")),I.asSpec()],action:me=>{I.get(me).element.dom.click()},buttonBehaviours:On([op.self(),jD(l.getOr([])),Yi.config({}),np.button(()=>s.checkUiComponentContext(t.context).shouldDisable),Vl(()=>s.checkUiComponentContext(t.context))])}),oe={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:On([Ao.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable}),Vl(()=>s.checkUiComponentContext(t.context)),ur.config({toggleClass:"dragenter",toggleOnExecute:!1}),hs("dropzone-events",[Wt("dragenter",v([f,ur.toggle])),Wt("dragleave",v([f,ur.toggle])),Wt("dragover",f),Wt("drop",v([f,w])),Wt(Tv(),_)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[qi(s.translate("Drop an image here"))]},X]}]};return ls(W,oe,["tox-form__group--stretched"],[hs("handle-files",[Wt(I3,(me,Oe)=>{tr.getField(me).each(Ne=>{L(Ne,Oe.event.files)})})])])},WK=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Yt(t.items,s.interpreter)}),B3=_n("alloy-fake-before-tabstop"),qD=_n("alloy-fake-after-tabstop"),t8=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:On([ps.config({ignore:!0}),Yi.config({})])}),n8=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[t8([B3]),s,t8([qD])],behaviours:On([op.childAt(1)])}),o8=(t,s)=>{$o(t,dc(),{raw:{which:9,shiftKey:s}})},s8=(t,s)=>{const l=s.element;Ua(l,B3)?o8(t,!0):Ua(l,qD)&&o8(t,!1)},Y2=t=>vm(t,["."+B3,"."+qD].join(","),wn),YD=_n("update-dialog"),r8=_n("update-title"),i8=_n("update-body"),a8=_n("update-footer"),l8=_n("body-send-message"),GD=_n("dialog-focus-shifted"),$3=xi().browser,G2=$3.isSafari(),jK=$3.isFirefox(),c8=G2||jK,u8=$3.isChromium(),ZK=({scrollTop:t,scrollHeight:s,clientHeight:l})=>Math.ceil(t)+l>=s,d8=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),qK=(t,s)=>{const l=t.body;return U.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!u8&&!G2||Ee(l)&&(l.scrollTop!==0||Math.abs(l.scrollHeight-l.clientHeight)>1))?l:t.documentElement)},f8=(t,s,l)=>{const f=t.dom;U.from(f.contentDocument).fold(l,v=>{let w=0;const _=qK(v,s).map(I=>(w=I.scrollTop,I)).forall(ZK),L=()=>{const I=f.contentWindow;Ee(I)&&(_?d8(I,"bottom"):!_&&c8&&w!==0&&d8(I,w))};G2&&f.addEventListener("load",L,{once:!0}),v.open(),v.write(s),v.close(),G2||L()})},YK=oa(c8,G2?500:200).map(t=>as(f8,t)),h8=(t,s)=>{const l=Pn(t.getOr(""));return{getValue:f=>l.get(),setValue:(f,v)=>{if(l.get()!==v){const w=f.element,_=()=>Io(w,"srcdoc",v);s?YK.fold(P(f8),L=>L.throttle)(w,v,_):_()}l.set(v)}}},GK=(t,s,l)=>{const f="tox-dialog__iframe",v=t.transparent?[]:[`${f}--opaque`],w=t.border?["tox-navobj-bordered"]:[],_={...t.label.map(oe=>({title:oe})).getOr({}),...l.map(oe=>({srcdoc:oe})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=h8(l,t.streamContent),I=t.label.map(oe=>bb(oe,s)),W=oe=>n8(U.from(w),{uid:oe.uid,dom:{tag:"iframe",attributes:_,classes:[f,...v]},behaviours:On([Yi.config({}),ps.config({}),Py(l,L.getValue,L.setValue),Cf.config({channels:{[GD]:{onReceive:(me,Oe)=>{Oe.newFocus.each(Ne=>{So(me.element).each(Ue=>{(fe(me.element,Ne)?Hr:Ui)(Ue,"tox-navobj-bordered-focus")})})}}}})])}),X=tr.parts.field({factory:{sketch:W}});return ls(I,X,["tox-form__group--stretched"],[])},m8=(t,s,l,f,v)=>{const w=l*v,_=f*v,L=Math.max(0,t/2-w/2),I=Math.max(0,s/2-_/2);return{left:L.toString()+"px",top:I.toString()+"px",width:w.toString()+"px",height:_.toString()+"px"}},KK=(t,s,l)=>{const f=rl(t),v=Ka(t);return Math.min(f/s,v/l,1)},p8=(t,s)=>{const l=Pn(s.getOr({url:""})),f=Zr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(I=>({src:I.url})).getOr({})}}),v=Zr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[f.asSpec()]}),w=(I,W)=>{const X={url:W.url};W.zoom.each(me=>X.zoom=me),W.cachedWidth.each(me=>X.cachedWidth=me),W.cachedHeight.each(me=>X.cachedHeight=me),l.set(X);const oe=()=>{const{cachedWidth:me,cachedHeight:Oe,zoom:Ne}=X;if(!je(me)&&!je(Oe)){if(je(Ne)){const Xe=KK(I.element,me,Oe);X.zoom=Xe}const Ue=m8(rl(I.element),Ka(I.element),me,Oe,X.zoom);v.getOpt(I).each(Xe=>{xr(Xe.element,Ue)})}};f.getOpt(I).each(me=>{const Oe=me.element;W.url!==za(Oe,"src")&&(Io(Oe,"src",W.url),Ui(I.element,"tox-imagepreview__loaded")),oe(),xu(Oe).then(Ne=>{I.getSystem().isConnected()&&(Hr(I.element,"tox-imagepreview__loaded"),X.cachedWidth=Ne.dom.naturalWidth,X.cachedHeight=Ne.dom.naturalHeight,oe())})})},_={};t.height.each(I=>_.height=I);const L=s.map(I=>({url:I.url,zoom:U.from(I.zoom),cachedWidth:U.from(I.cachedWidth),cachedHeight:U.from(I.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:_,attributes:{role:"presentation"}},components:[v.asSpec()],behaviours:On([op.self(),Py(L,()=>l.get(),w)])}},g8=(t,s,l)=>{const f="tox-label",v=t.align==="center"?[`${f}--center`]:[],w=t.align==="end"?[`${f}--end`]:[],_=Zr({dom:{tag:"label",classes:[f,...v,...w]},components:[qi(s.providers.translate(t.label))]}),L=Yt(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[_.asSpec(),...L],behaviours:On([op.self(),Cs.config({}),M3(U.none()),No.config({mode:"acyclic"}),hs("label",[ta(I=>{t.for.each(W=>{l(W).each(X=>{_.getOpt(I).each(oe=>{const me=za(X.element,"id")??_n("form-field");Io(X.element,"id",me),Io(oe.element,"for",me)})})})})])])}},K2=_n("toolbar.button.execute"),XK=t=>Rp((s,l)=>{I2(t,s)(f=>{$o(s,K2,{buttonApi:f}),t.onAction(f)})}),L1=_n("common-button-display-events"),H3={[pd()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Nh()]:["toolbar-button-events",L1],[Dp()]:["toolbar-button-events","dropdown-events","tooltipping"],[Mu()]:["focusing","alloy.base.behaviour",L1]},z3=t=>vo(t.element,"width",ui(t.element,"width")),V3=(t,s,l)=>oh(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:l},s),U3=(t,s)=>V3(t,s,[]),jp=(t,s)=>V3(t,s,[Cs.config({})]),v8=(t,s,l)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[qi(l.translate(t))],behaviours:On([Cs.config({})])}),ih=_n("update-menu-text"),Fy=_n("update-menu-icon"),b8=_n("update-tooltip-text"),Qh=(t,s,l,f)=>{const v=Pn(xe),w=Pn(t.tooltip),_=t.text.map(Xe=>Zr(v8(Xe,s,l.providers))),L=t.icon.map(Xe=>Zr(jp(Xe,l.providers.icons))),I=(Xe,ze)=>{const it=jn.getValue(Xe);return ps.focus(it),$o(it,"keydown",{raw:ze.event.raw}),Ed.close(it),U.some(!0)},W=t.role.fold(()=>({}),Xe=>({role:Xe})),X=U.from(t.listRole).map(Xe=>({listRole:Xe})).getOr({}),oe=t.ariaLabel.fold(()=>({}),Xe=>({"aria-label":l.providers.translate(Xe)})),me=oh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},l.providers.icons),Oe=_n("common-button-display-events"),Ne="dropdown-events";return Zr(Ed.sketch({...t.uid?{uid:t.uid}:{},...W,...X,dom:{tag:"button",classes:[s,`${s}--select`].concat(Yt(t.classes,Xe=>`${s}--${Xe}`)),attributes:{...oe,...Ee(f)?{"data-mce-name":f}:{}}},components:tS([L.map(Xe=>Xe.asSpec()),_.map(Xe=>Xe.asSpec()),U.some(me)]),matchWidth:!0,useMinWidth:!0,onOpen:(Xe,ze,it)=>{t.searchable&&DK(it)},dropdownBehaviours:On([...t.dropdownBehaviours,np.button(()=>t.disabled||l.providers.checkUiComponentContext(t.context).shouldDisable),Vl(()=>l.providers.checkUiComponentContext(t.context)),BC.config({}),Cs.config({}),...t.tooltip.map(Xe=>Gi.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(Xe),onShow:ze=>{if(fa(w.get(),t.tooltip,(it,ht)=>ht!==it).getOr(!1)){const it=l.providers.translate(w.get().getOr(""));Gi.setComponents(ze,l.providers.tooltips.getComponents({tooltipText:it}))}}}))).toArray(),hs(Ne,[Vp(t,v),Dy(t,v)]),hs(Oe,[ta((Xe,ze)=>{t.listRole!=="listbox"&&z3(Xe)})]),hs("update-dropdown-width-variable",[Wt(Mv(),(Xe,ze)=>Ed.close(Xe))]),hs("menubutton-update-display-text",[Wt(ih,(Xe,ze)=>{_.bind(it=>it.getOpt(Xe)).each(it=>{Cs.set(it,[qi(l.providers.translate(ze.event.text))])})}),Wt(Fy,(Xe,ze)=>{L.bind(it=>it.getOpt(Xe)).each(it=>{Cs.set(it,[jp(ze.event.icon,l.providers.icons)])})}),Wt(b8,(Xe,ze)=>{const it=l.providers.translate(ze.event.text);Io(Xe.element,"aria-label",it),w.set(U.some(ze.event.text))})])]),eventOrder:Ls(H3,{[Mu()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Nh()]:["toolbar-button-events",Gi.name(),Ne,Oe]}),sandboxBehaviours:On([No.config({mode:"special",onLeft:I,onRight:I}),hs("dropdown-sandbox-events",[Wt(fR,(Xe,ze)=>{R6(Xe),ze.stop()}),Wt(V5,(Xe,ze)=>{TK(Xe,ze),ze.stop()})])]),lazySink:l.getSink,toggleClass:`${s}--active`,parts:{menu:{...by(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:P6,onCollapseMenu:(Xe,ze,it)=>{zr.getHighlighted(it).each(ht=>{P6(Xe,it,ht)})},onDehighlightItem:kK}}},getAnchorOverrides:()=>({maxHeightFunction:(Xe,ze)=>{yT()(Xe,ze-10)}}),fetch:Xe=>or.nu(ln(t.fetch,Xe))})).asSpec()},KD=t=>H(t),X2=t=>t.type==="separator",JK=t=>go(t,"getSubmenuItems"),W3={type:"separator"},QK=(t,s)=>{const l=js(t,(f,v)=>KD(v)?v===""?f:v==="|"?f.length>0&&!X2(f[f.length-1])?f.concat([W3]):f:go(s,v.toLowerCase())?f.concat([s[v.toLowerCase()]]):f:f.concat([v]),[]);return l.length>0&&X2(l[l.length-1])&&l.pop(),l},j3=(t,s)=>{const l=t.getSubmenuItems(),f=XD(l,s),v=Ls(f.menus,{[t.value]:f.items}),w=Ls(f.expansions,{[t.value]:t.value});return{item:t,menus:v,expansions:w}},y8=t=>{const s=Mn(t,"value").getOrThunk(()=>_n("generated-menu-item"));return Ls({value:s},t)},XD=(t,s)=>{const l=QK(H(t)?t.split(" "):t,s);return ns(l,(f,v)=>{if(JK(v)){const w=y8(v),_=j3(w,s);return{menus:Ls(f.menus,_.menus),items:[_.item,...f.items],expansions:Ls(f.expansions,_.expansions)}}else return{...f,items:[v,...f.items]}},{menus:{},expansions:{},items:[]})},eX=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),tX=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),By=(t,s,l,f)=>{const v=_n("primary-menu"),w=XD(t,l.shared.providers.menuItems());if(w.items.length===0)return U.none();const _=eX(f),L=I6(v,w.items,s,l,f.isHorizontalMenu,_),I=tX(f),W=Tt(w.menus,(oe,me)=>I6(me,oe,s,l,!1,I)),X=Ls(W,Ou(v,L));return U.from(g1.tieredData(v,X,w.expansions))},JD=t=>!go(t,"items"),w8="data-value",QD=(t,s,l,f,v)=>Yt(l,w=>JD(w)?{type:"togglemenuitem",...v?{}:{role:"option"},text:w.text,value:w.value,active:w.value===f,onAction:()=>{jn.setValue(t,w.value),$o(t,Qd,{name:s}),ps.focus(t)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>QD(t,s,w.items,f,v)}),Z3=(t,s)=>de(t,l=>JD(l)?oa(l.value===s,l):Z3(l.items,s)),nX=(t,s,l)=>{const f=Er(t.items,W=>!JD(W)),v=s.shared.providers,w=l.bind(W=>Z3(t.items,W)).orThunk(()=>Vn(t.items).filter(JD)),_=t.label.map(W=>bb(W,v)),L=tr.parts.field({dom:{},factory:{sketch:W=>Qh({context:t.context,uid:W.uid,text:w.map(X=>X.text),icon:U.none(),tooltip:U.none(),role:oa(!f,"combobox"),...f?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(X,oe)=>{const me=QD(X,t.name,t.items,jn.getValue(X),f);oe(By(me,Jm.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:U.none()}))},onSetup:P(xe),getApi:P({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Yi.config({}),Py(w.map(X=>X.value),X=>za(X.element,w8),(X,oe)=>{Z3(t.items,oe).each(me=>{Io(X.element,w8,me.value),$o(X,ih,{text:me.text})})})]},"tox-listbox",s.shared)}}),I={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:In([_.toArray(),[I]]),fieldBehaviours:On([Ao.config({disabled:()=>!t.enabled||v.checkUiComponentContext(t.context).shouldDisable,onDisabled:W=>{tr.getField(W).each(Ao.disable)},onEnabled:W=>{tr.getField(W).each(Ao.enable)}})])})},C8=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Yt(t.items,s.shared.interpreter)}),S8=(t,s,l)=>{const f=Yt(t.items,I=>({text:s.translate(I.text),value:I.value})),v=t.label.map(I=>bb(I,s)),w=tr.parts.field({dom:{},...l.map(I=>({data:I})).getOr({}),selectAttributes:{size:t.size},options:f,factory:Ij,selectBehaviours:On([Ao.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),Yi.config({}),hs("selectbox-change",[Wt(Tv(),(I,W)=>{$o(I,Qd,{name:t.name})})])])}),_=t.size>1?U.none():U.some(oh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:In([[w],_.toArray()])};return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:In([v.toArray(),[L]]),fieldBehaviours:On([Ao.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:I=>{tr.getField(I).each(Ao.disable)},onEnabled:I=>{tr.getField(I).each(Ao.enable)}}),Vl(()=>s.checkUiComponentContext(t.context))])})},x8=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},l=v=>v in s?s[v]:1;let f=t.value.toFixed(l(t.unit));return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+t.unit},eA=t=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(l!==null){const f=parseFloat(l[1]),v=l[2];return io.value({value:f,unit:v})}else return io.error(t)},_8=(t,s)=>{const l={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=v=>go(l,v);return t.unit===s?U.some(t.value):f(t.unit)&&f(s)?l[t.unit]===l[s]?U.some(t.value):U.some(t.value/l[t.unit]*l[s]):U.none()},tA=t=>U.none(),T8=(t,s)=>l=>_8(l,s).map(f=>({value:f*t,unit:s})),sp=(t,s)=>{const l=eA(t).toOptional(),f=eA(s).toOptional();return fa(l,f,(v,w)=>_8(v,w.unit).map(_=>w.value/_).map(_=>T8(_,w.unit)).getOr(tA)).getOr(tA)},q3=(t,s)=>{let l=tA;const f=_n("ratio-event"),v=Ue=>oh(Ue,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Ue]},s.icons),w=()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,_=Vl(()=>s.checkUiComponentContext(t.context)),L=t.label.getOr("Constrain proportions"),I=s.translate(L),W=gl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":I,"data-mce-name":L}},components:[v("lock"),v("unlock")],buttonBehaviours:On([Ao.config({disabled:w}),_,Yi.config({}),Gi.config(s.tooltips.getConfig({tooltipText:I}))])}),X=Ue=>({dom:{tag:"div",classes:["tox-form__group"]},components:Ue}),oe=Ue=>tr.parts.field({factory:qh,inputClasses:["tox-textfield"],inputBehaviours:On([Ao.config({disabled:w}),_,Yi.config({}),hs("size-input-events",[Wt(Vf(),(Xe,ze)=>{$o(Xe,f,{isField1:Ue})}),Wt(Tv(),(Xe,ze)=>{$o(Xe,Qd,{name:t.name})})])]),selectOnFocus:!1}),me=Ue=>({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(Ue))]}),Oe=gl.parts.field1(X([tr.parts.label(me("Width")),oe(!0)])),Ne=gl.parts.field2(X([tr.parts.label(me("Height")),oe(!1)]));return gl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Oe,Ne,X([me(Fa),W])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Ue,Xe,ze)=>{eA(jn.getValue(Ue)).each(it=>{l(it).each(ht=>{jn.setValue(Xe,x8(ht))})})},coupledFieldBehaviours:On([Ao.config({disabled:w,onDisabled:Ue=>{gl.getField1(Ue).bind(tr.getField).each(Ao.disable),gl.getField2(Ue).bind(tr.getField).each(Ao.disable),gl.getLock(Ue).each(Ao.disable)},onEnabled:Ue=>{gl.getField1(Ue).bind(tr.getField).each(Ao.enable),gl.getField2(Ue).bind(tr.getField).each(Ao.enable),gl.getLock(Ue).each(Ao.enable)}}),Vl(()=>s.checkUiComponentContext("mode:design")),hs("size-input-events2",[Wt(f,(Ue,Xe)=>{const ze=Xe.event.isField1,it=ze?gl.getField1(Ue):gl.getField2(Ue),ht=ze?gl.getField2(Ue):gl.getField1(Ue),Dt=it.map(jn.getValue).getOr(""),Rt=ht.map(jn.getValue).getOr("");l=sp(Dt,Rt)})])])})},oX=(t,s,l)=>{const f=Gm.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(t.label))]}),v=Gm.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=Gm.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Gm.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:P(l.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[f,v,w],sliderBehaviours:On([op.self(),ps.config({})]),onChoose:(_,L,I)=>{$o(_,Qd,{name:t.name,value:I})},onChange:(_,L,I)=>{$o(_,Qd,{name:t.name,value:I})}})},sX=(t,s)=>{const l=L=>({dom:{tag:"th",innerHtml:s.translate(L)}}),f=L=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Yt(L,l)}]}),v=L=>({dom:{tag:"td",innerHtml:s.translate(L)}}),w=L=>({dom:{tag:"tr"},components:Yt(L,v)}),_=L=>({dom:{tag:"tbody"},components:Yt(L,w)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[f(t.header),_(t.cells)],behaviours:On([Yi.config({}),ps.config({})])}},E8=(t,s)=>{const l=t.label.map(Ne=>bb(Ne,s)),f=[Ao.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable}),Vl(()=>s.checkUiComponentContext(t.context)),No.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:Ne=>(Ys(Ne,iS),U.some(!0))}),hs("textfield-change",[Wt(kp(),(Ne,Ue)=>{$o(Ne,Qd,{name:t.name})}),Wt(WS(),(Ne,Ue)=>{$o(Ne,Qd,{name:t.name})})]),Yi.config({})],v=t.validation.map(Ne=>Td.config({getRoot:Ue=>So(Ue.element),invalidClass:"tox-invalid",validator:{validate:Ue=>{const Xe=jn.getValue(Ue),ze=Ne.validator(Xe);return or.pure(ze===!0?io.value(Xe):io.error(ze))},validateOnLoad:Ne.validateOnLoad}})).toArray(),w=t.placeholder.fold(P({}),Ne=>({placeholder:s.translate(Ne)})),_=t.inputMode.fold(P({}),Ne=>({inputmode:Ne})),I={...t.spellcheck.fold(P({}),Ne=>({spellcheck:Ne})),...w,..._,"data-mce-name":t.name},W=tr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(Ne=>({data:Ne})).getOr({}),inputAttributes:I,inputClasses:[t.classname],inputBehaviours:On(In([f,v])),selectOnFocus:!1,factory:qh}),X=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[W]}:W,me=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),Oe=[Ao.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:Ne=>{tr.getField(Ne).each(Ao.disable)},onEnabled:Ne=>{tr.getField(Ne).each(Ao.enable)}}),Vl(()=>s.checkUiComponentContext(t.context))];return ls(l,X,me,Oe)},rX=(t,s,l)=>E8({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:U.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:U.none()},s),iX=(t,s,l)=>E8({name:t.name,multiline:!0,label:t.label,inputMode:U.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:U.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:t.spellcheck},s),Y3=t=>({isEnabled:()=>!Ao.isDisabled(t),setEnabled:s=>Ao.set(t,!s),setActive:s=>{const l=t.element;s?(Hr(l,"tox-tbtn--enabled"),Io(l,"aria-pressed",!0)):(Ui(l,"tox-tbtn--enabled"),Di(l,"aria-pressed"))},isActive:()=>Ua(t.element,"tox-tbtn--enabled"),setTooltip:s=>{$o(t,b8,{text:s})},setText:s=>{$o(t,ih,{text:s})},setIcon:s=>$o(t,Fy,{icon:s})}),cS=(t,s,l,f,v=!0,w)=>{const _=t.buttonType==="bordered"?["bordered"]:[];return Qh({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:f,fetch:(L,I)=>{const W={pattern:t.search.isSome()?AK(L):""};t.fetch(X=>{I(By(X,Jm.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:t.search}))},W,Y3(L))},onSetup:t.onSetup,getApi:L=>Y3(L),columns:1,presets:"normal",classes:_,dropdownBehaviours:[...v?[Yi.config({})]:[]],context:t.context},s,l.shared,w)},vse=(t,s,l)=>{const f=w=>_=>{const L=!_.isActive();_.setActive(L),w.storage.set(L),l.shared.getSink().each(I=>{s().getOpt(I).each(W=>{sl(W.element),$o(W,Ug,{name:w.name,value:w.storage.get()})})})},v=w=>_=>{_.setActive(w.storage.get())};return w=>{w(Yt(t,_=>{const L=_.text.fold(()=>({}),I=>({text:I}));return{type:_.type,active:!1,...L,context:_.context,onAction:f(_),onSetup:v(_)}}))}},aX=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[qi(t)]}),rd=(t,s,l)=>{t.customStateIcon.each(f=>s.push(X3(f,l.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],v=>[Gi.config(l.shared.providers.tooltips.getConfig({tooltipText:v}))]),["tox-icon-custom-state"])))},G3=_n("leaf-label-event-id"),K3=({leaf:t,onLeafAction:s,visible:l,treeId:f,selectedId:v,backstage:w})=>{const _=t.menu.map(I=>cS(I,"tox-mbtn",w,U.none(),l)),L=[aX(t.title)];return rd(t,L,w),_.each(I=>L.push(I)),su.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(l?["tox-tree--leaf__label--visible"]:[])},components:L,role:"treeitem",action:I=>{s(t.id),I.getSystem().broadcastOn([`update-active-item-${f}`],{value:t.id})},eventOrder:{[dc()]:[G3,"keying"]},buttonBehaviours:On([...l?[Yi.config({})]:[],ur.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Cf.config({channels:{[`update-active-item-${f}`]:{onReceive:(I,W)=>{(W.value===t.id?ur.on:ur.off)(I)}}}}),hs(G3,[ta((I,W)=>{v.each(X=>{(X===t.id?ur.on:ur.off)(I)})}),Wt(dc(),(I,W)=>{const X=W.event.raw.code==="ArrowLeft",oe=W.event.raw.code==="ArrowRight";X?(ku(I.element,".tox-tree--directory").each(me=>{I.getSystem().getByDom(me).each(Oe=>{cf(me,".tox-tree--directory__label").each(Ne=>{Oe.getSystem().getByDom(Ne).each(ps.focus)})})}),W.stop()):oe&&W.stop()})])])})},X3=(t,s,l,f,v)=>oh(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(f||[]),behaviours:l,attributes:v},s),lX=(t,s)=>X3(t,s,[]),k8=_n("directory-label-event-id"),D8=({directory:t,visible:s,noChildren:l,backstage:f})=>{const v=t.menu.map(L=>cS(L,"tox-mbtn",f,U.none())),w=[{dom:{tag:"div",classes:["tox-chevron"]},components:[lX("chevron-right",f.shared.providers.icons)]},aX(t.title)];rd(t,w,f),v.each(L=>{w.push(L)});const _=L=>{ku(L.element,".tox-tree--directory").each(I=>{L.getSystem().getByDom(I).each(W=>{const X=!ur.isOn(W);ur.toggle(W),$o(L,"expand-tree-node",{expanded:X,node:t.id})})})};return su.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:w,action:_,eventOrder:{[dc()]:[k8,"keying"]},buttonBehaviours:On([...s?[Yi.config({})]:[],hs(k8,[Wt(dc(),(L,I)=>{const W=I.event.raw.code==="ArrowRight",X=I.event.raw.code==="ArrowLeft";W&&l&&I.stop(),(W||X)&&ku(L.element,".tox-tree--directory").each(oe=>{L.getSystem().getByDom(oe).each(me=>{!ur.isOn(me)&&W||ur.isOn(me)&&X?(_(L),I.stop()):X&&!ur.isOn(me)&&(ku(me.element,".tox-tree--directory").each(Oe=>{cf(Oe,".tox-tree--directory__label").each(Ne=>{me.getSystem().getByDom(Ne).each(ps.focus)})}),I.stop())})})})])])})},cX=({children:t,onLeafAction:s,visible:l,treeId:f,expandedIds:v,selectedId:w,backstage:_})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(L=>L.type==="leaf"?K3({leaf:L,selectedId:w,onLeafAction:s,visible:l,treeId:f,backstage:_}):J2({directory:L,expandedIds:v,selectedId:w,onLeafAction:s,labelTabstopping:l,treeId:f,backstage:_})),behaviours:On([mc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:l}),Cs.config({})])}),J3=_n("directory-event-id"),J2=({directory:t,onLeafAction:s,labelTabstopping:l,treeId:f,backstage:v,expandedIds:w,selectedId:_})=>{const{children:L}=t,I=Pn(w),W=oe=>L.map(me=>me.type==="leaf"?K3({leaf:me,selectedId:_,onLeafAction:s,visible:oe,treeId:f,backstage:v}):J2({directory:me,expandedIds:I.get(),selectedId:_,onLeafAction:s,labelTabstopping:oe,treeId:f,backstage:v})),X=w.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[D8({directory:t,visible:l,noChildren:t.children.length===0,backstage:v}),cX({children:L,expandedIds:w,selectedId:_,onLeafAction:s,visible:X,treeId:f,backstage:v})],behaviours:On([hs(J3,[ta((oe,me)=>{ur.set(oe,X)}),Wt("expand-tree-node",(oe,me)=>{const{expanded:Oe,node:Ne}=me.event;I.set(Oe?[...I.get(),Ne]:I.get().filter(Ue=>Ue!==Ne))})]),ur.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(oe,me)=>{const Oe=oe.components()[1],Ne=W(me);me?mc.grow(Oe):mc.shrink(Oe),Cs.set(Oe,Ne)}})])}},uX=_n("tree-event-id"),Q3=(t,s)=>{const l=t.onLeafAction.getOr(xe),f=t.onToggleExpand.getOr(xe),v=t.defaultExpandedIds,w=Pn(v),_=Pn(t.defaultSelectedId),L=_n("tree-id"),I=(W,X)=>t.items.map(oe=>oe.type==="leaf"?K3({leaf:oe,selectedId:W,onLeafAction:l,visible:!0,treeId:L,backstage:s}):J2({directory:oe,selectedId:W,onLeafAction:l,expandedIds:X,labelTabstopping:!0,treeId:L,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:I(_.get(),w.get()),behaviours:On([No.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),hs(uX,[Wt("expand-tree-node",(W,X)=>{const{expanded:oe,node:me}=X.event;w.set(oe?[...w.get(),me]:w.get().filter(Oe=>Oe!==me)),f(w.get(),{expanded:oe,node:me})})]),Cf.config({channels:{[`update-active-item-${L}`]:{onReceive:(W,X)=>{_.set(U.some(X.value)),Cs.set(W,I(U.some(X.value),w.get()))}}}}),Cs.config({})])}},Q2=(t,s,l=[],f,v,w,_)=>{const L=s.fold(()=>({}),X=>({action:X})),I={buttonBehaviours:On([np.item(()=>!t.enabled||_.checkUiComponentContext(t.context).shouldDisable),Vl(()=>_.checkUiComponentContext(t.context)),Yi.config({}),...w.map(X=>Gi.config(_.tooltips.getConfig({tooltipText:_.translate(X)}))).toArray(),hs("button press",[$v("click")])].concat(l)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...L},W=Ls(I,{dom:f});return Ls(W,{components:v})},A8=(t,s,l,f=[],v)=>{const w=t.tooltip.map(W=>({"aria-label":l.translate(W)})).getOr({}),_={tag:"button",classes:["tox-tbtn"],attributes:{...w,"data-mce-name":v}},L=t.icon.map(W=>U3(W,l.icons)),I=tS([L]);return Q2(t,s,f,_,I,t.tooltip,l)},eL=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},tL=(t,s,l,f=[],v=[])=>{const w=l.translate(t.text),_=t.icon.map(Oe=>U3(Oe,l.icons)),L=[_.getOrThunk(()=>qi(w))],I=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),oe={tag:"button",classes:[...eL(I),..._.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...v],attributes:{"aria-label":w,"data-mce-name":t.text}},me=t.icon.map(P(w));return Q2(t,s,f,oe,L,me,l)},nL=(t,s,l,f=[],v=[])=>{const w=tL(t,U.some(s),l,f,v);return su.sketch(w)},O8=(t,s)=>l=>{s==="custom"?$o(l,Ug,{name:t,value:{}}):s==="submit"?Ys(l,iS):s==="cancel"?Ys(l,R1):console.error("Unknown button type: ",s)},M8=(t,s)=>s==="menu",dX=(t,s)=>s==="custom"||s==="cancel"||s==="submit",N8=(t,s)=>s==="togglebutton",bse=(t,s,l)=>{const f=t.icon.map(ze=>jp(ze,s.icons)).map(Zr),v=ze=>{$o(ze,Ug,{name:t.name,value:{setIcon:it=>{f.map(ht=>ht.getOpt(ze).each(Dt=>{Cs.set(Dt,[jp(it,s.icons)])}))}}})},w=t.buttonType.getOr(t.primary?"primary":"secondary"),_={...t,name:t.name??"",tooltip:t.tooltip,enabled:t.enabled??!1},L=_.tooltip.or(t.text).map(ze=>({"aria-label":s.translate(ze)})).getOr({}),I=eL(w??"secondary"),W=t.icon.isSome()&&t.text.isSome(),X={tag:"button",classes:[...I.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...W?["tox-button--icon-and-text"]:[]],attributes:{...L,...Ee(l)?{"data-mce-name":l}:{}}},oe=[],me=s.translate(t.text.getOr("")),Oe=qi(me),Ue=[...tS([f.map(ze=>ze.asSpec())]),...t.text.isSome()?[Oe]:[]],Xe=Q2(_,U.some(v),oe,X,Ue,t.tooltip,s);return su.sketch(Xe)},oL=(t,s,l)=>{if(M8(t,s)){const f=()=>_,v=t,w={...t,buttonType:"default",type:"menubutton",search:U.none(),onSetup:L=>(L.setEnabled(t.enabled),xe),fetch:vse(v.items,f,l)},_=Zr(cS(w,"tox-tbtn",l,U.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return _.asSpec()}else if(dX(t,s)){const f=O8(t.name,s),v={...t,context:s==="cancel"?"any":t.context,borderless:!1};return nL(v,f,l.shared.providers,[])}else{if(N8(t,s))return bse(t,l.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},fX=(t,s)=>{const l=O8(t.name,"custom");return Z2(U.none(),tr.parts.field({factory:su,...tL(t,U.some(l),s,[jD(""),op.self()])}))},hX={type:"separator"},R8=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:xe}),sL=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:xe}),mX=t=>Yt(t,R8),pX=(t,s)=>fs(s,l=>l.type===t),L8=(t,s)=>mX(pX(t,s)),P8=t=>L8("header",t.targets),gX=t=>L8("anchor",t.targets),vX=t=>U.from(t.anchorTop).map(s=>sL("<top>",s)).toArray(),I8=t=>U.from(t.anchorBottom).map(s=>sL("<bottom>",s)).toArray(),F8=t=>Yt(t,s=>sL(s,s)),uS=t=>js(t,(s,l)=>s.length===0||l.length===0?s.concat(l):s.concat(hX,l),[]),rL=(t,s)=>{const l=t.toLowerCase();return fs(s,f=>{const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=f.value??"";return Lt(v.toLowerCase(),l)||Lt(w.toLowerCase(),l)})},B8=(t,s,l)=>{const f=jn.getValue(s),v=f?.meta?.text??f.value;return l.getLinkInformation().fold(()=>[],_=>{const L=rL(v,F8(l.getHistory(t)));return t==="file"?uS([L,rL(v,P8(_)),rL(v,In([vX(_),gX(_),I8(_)]))]):L})},iL=_n("aria-invalid"),$8=(t,s,l,f)=>{const v=s.shared.providers,w=it=>{const ht=jn.getValue(it);l.addToHistory(ht.value,t.filetype)},_={...f.map(it=>({initialData:it})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:it=>{const ht=B8(t.filetype,it,l),Dt=By(ht,Jm.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:U.none()});return or.pure(Dt)},getHotspot:it=>Ne.getOpt(it),onSetValue:(it,ht)=>{it.hasConfigured(Td)&&Td.run(it).get(xe)},typeaheadBehaviours:On([...l.getValidationHandler().map(it=>Td.config({getRoot:ht=>So(ht.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ht,Dt)=>{X.getOpt(ht).each(Rt=>{Io(Rt.element,"title",v.translate(Dt))})}},validator:{validate:ht=>{const Dt=jn.getValue(ht);return jo.nu(Rt=>{it({type:t.filetype,url:Dt.value},$n=>{if($n.status==="invalid"){Io(ht.element,"aria-errormessage",iL);const rn=io.error($n.message);Rt(rn)}else{Di(ht.element,"aria-errormessage");const rn=io.value($n.message);Rt(rn)}})})},validateOnLoad:!1}})).toArray(),Ao.config({disabled:()=>!t.enabled||v.checkUiComponentContext(t.context).shouldDisable}),Yi.config({}),hs("urlinput-events",[Wt(kp(),it=>{const ht=ac(it.element),Dt=ht.trim();Dt!==ht&&Gu(it.element,Dt),t.filetype==="file"&&$o(it,Qd,{name:t.name})}),Wt(Tv(),it=>{$o(it,Qd,{name:t.name}),w(it)}),Wt(WS(),it=>{$o(it,Qd,{name:t.name}),w(it)})])]),eventOrder:{[kp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:it=>it.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:by(!1,1,"normal")},onExecute:(it,ht,Dt)=>{$o(ht,iS,{})},onItemExecute:(it,ht,Dt,Rt)=>{w(it),$o(it,Qd,{name:t.name})}},L=tr.parts.field({..._,factory:gq}),I=t.label.map(it=>bb(it,v)),X=Zr(((it,ht,Dt=it,Rt=it)=>oh(Dt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+it],attributes:{title:v.translate(Rt),"aria-live":"polite",...ht.fold(()=>({}),$n=>({id:$n}))}},v.icons))("invalid",U.some(iL),"warning")),oe=Zr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[X.asSpec()]}),me=l.getUrlPicker(t.filetype),Oe=_n("browser.url.event"),Ne=Zr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,oe.asSpec()],behaviours:On([Ao.config({disabled:()=>!t.enabled||v.checkUiComponentContext(t.context).shouldDisable})])}),Ue=Zr(nL({context:t.context,name:t.name,icon:U.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:U.none(),borderless:!0},it=>Ys(it,Oe),v,[],["tox-browse-url"])),Xe=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:In([[Ne.asSpec()],me.map(()=>Ue.asSpec()).toArray()])}),ze=it=>{zt.getCurrent(it).each(ht=>{const Dt=jn.getValue(ht),Rt={fieldname:t.name,...Dt};me.each($n=>{$n(Rt).get(rn=>{jn.setValue(ht,rn),$o(it,Qd,{name:t.name})})})})};return tr.sketch({dom:H6(),components:I.toArray().concat([Xe()]),fieldBehaviours:On([Ao.config({disabled:()=>!t.enabled||v.checkUiComponentContext(t.context).shouldDisable,onDisabled:it=>{tr.getField(it).each(Ao.disable),Ue.getOpt(it).each(Ao.disable)},onEnabled:it=>{tr.getField(it).each(Ao.enable),Ue.getOpt(it).each(Ao.enable)}}),Vl(()=>v.checkUiComponentContext(t.context)),hs("url-input-events",[Wt(Oe,ze)])])})},bX=(t,s)=>{const l=Hg(t.icon,s.icons);return zp.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:l},components:t.url?[su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:l,attributes:{title:s.translate(t.iconTooltip)}},action:f=>$o(f,Ug,{name:"alert-banner",value:t.url}),buttonBehaviours:On([L5()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},H8=(t,s,l)=>{const f=I=>(I.element.dom.click(),U.some(!0)),v=tr.parts.field({factory:{sketch:mn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:On([op.self(),Ao.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:I=>{So(I.element).each(W=>Hr(W,"tox-checkbox--disabled"))},onEnabled:I=>{So(I.element).each(W=>Ui(W,"tox-checkbox--disabled"))}}),Yi.config({}),ps.config({}),q6(l,ug,Du),No.config({mode:"special",onEnter:f,onSpace:f,stopSpaceKeyup:!0}),hs("checkbox-events",[Wt(Tv(),(I,W)=>{$o(I,Qd,{name:t.name})})])])}),w=tr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[qi(s.translate(t.label))],behaviours:On([BC.config({})])}),_=I=>oh(I==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+I]},s.icons),L=Zr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return tr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,L.asSpec(),w],fieldBehaviours:On([Ao.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),Vl(()=>s.checkUiComponentContext(t.context))])})},z8=(t,s)=>{const l=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],f=hs("htmlpanel",[ta(v=>{t.onInit(v.element.dom)})]);return t.presets==="presentation"?zp.sketch({dom:{tag:"div",classes:l,innerHtml:t.html},containerBehaviours:On([Gi.config({...s.tooltips.getConfig({tooltipText:"",onShow:v=>{Ur(v.element,"[data-mce-tooltip]:hover").orThunk(()=>Ma(v.element)).each(w=>{_l(w,"data-mce-tooltip").each(_=>{Gi.setComponents(v,s.tooltips.getComponents({tooltipText:_}))})})}}),mode:"children-normal",anchor:v=>({type:"node",node:Ur(v.element,"[data-mce-tooltip]:hover").orThunk(()=>Ma(v.element).filter(w=>_l(w,"data-mce-tooltip").isSome())),root:v.element,layouts:{onLtr:P([Al,fc,zl,Bc,aa,Jl]),onRtl:P([Al,fc,zl,Bc,aa,Jl])},bubble:Wd(0,-2,{})})}),f])}):zp.sketch({dom:{tag:"div",classes:l,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:On([Yi.config({}),ps.config({}),f])})},vc=t=>(s,l,f,v,w)=>Mn(l,"name").fold(()=>t(l,v,U.none(),w),_=>s.field(_,t(l,v,Mn(f,_),w))),yX=t=>(s,l,f,v,w)=>{const _=Ls(l,{source:"dynamic"});return vc(t)(s,_,f,v,w)},V8={bar:vc((t,s)=>RK(t,s.shared)),collection:vc((t,s,l)=>V6(t,s.shared.providers,l)),alertbanner:vc((t,s)=>bX(t,s.shared.providers)),input:vc((t,s,l)=>rX(t,s.shared.providers,l)),textarea:vc((t,s,l)=>iX(t,s.shared.providers,l)),label:vc((t,s,l,f)=>g8(t,s.shared,f)),iframe:yX((t,s,l)=>GK(t,s.shared.providers,l)),button:vc((t,s)=>fX(t,s.shared.providers)),checkbox:vc((t,s,l)=>H8(t,s.shared.providers,l)),colorinput:vc((t,s,l)=>O3(t,s.shared,s.colorinput,l)),colorpicker:vc((t,s,l)=>VK(t,s.shared.providers,l)),dropzone:vc((t,s,l)=>F3(t,s.shared.providers,l)),grid:vc((t,s)=>WK(t,s.shared)),listbox:vc((t,s,l)=>nX(t,s,l)),selectbox:vc((t,s,l)=>S8(t,s.shared.providers,l)),sizeinput:vc((t,s)=>q3(t,s.shared.providers)),slider:vc((t,s,l)=>oX(t,s.shared.providers,l)),urlinput:vc((t,s,l)=>$8(t,s,s.urlinput,l)),customeditor:vc(e8),htmlpanel:vc((t,s)=>z8(t,s.shared.providers)),imagepreview:vc((t,s,l)=>p8(t,l)),table:vc((t,s)=>sX(t,s.shared.providers)),tree:vc((t,s)=>Q3(t,s)),panel:vc((t,s)=>C8(t,s))},U8={field:(t,s)=>s,record:P([])},W8=(t,s,l,f,v)=>{const w=Ls(f,{shared:{interpreter:_=>aL(t,_,l,w,v)}});return aL(t,s,l,w,v)},aL=(t,s,l,f,v)=>Mn(V8,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),w=>w(t,s,l,f,v)),j8=(t,s,l,f)=>aL(U8,t,s,l,f),e_={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},wX=(t,s,l)=>{const v={maxHeightFunction:Bv()},w=()=>({type:"node",root:ma(Ii(t())),node:U.from(t()),bubble:Wd(12,12,e_),layouts:{onRtl:()=>[It],onLtr:()=>[Kb]},overrides:v}),_=()=>({type:"hotspot",hotspot:s(),bubble:Wd(-12,12,e_),layouts:{onRtl:()=>[zl,aa,Al],onLtr:()=>[aa,zl,Al]},overrides:v});return()=>l()?w():_()},CX=(t,s,l,f)=>{const w={maxHeightFunction:Bv()},_=()=>({type:"node",root:ma(Ii(s())),node:U.from(s()),bubble:Wd(12,12,e_),layouts:{onRtl:()=>[ed],onLtr:()=>[ed]},overrides:w}),L=()=>t?{type:"node",root:ma(Ii(s())),node:U.from(s()),bubble:Wd(0,-Ra(s()),e_),layouts:{onRtl:()=>[fc],onLtr:()=>[fc]},overrides:w}:{type:"hotspot",hotspot:l(),bubble:Wd(0,0,e_),layouts:{onRtl:()=>[fc],onLtr:()=>[fc]},overrides:w};return()=>f()?_():L()},SX=(t,s,l)=>{const f=()=>({type:"node",root:ma(Ii(t())),node:U.from(t()),layouts:{onRtl:()=>[ed],onLtr:()=>[ed]}}),v=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Al],onLtr:()=>[Al]}});return()=>l()?f():v()},xX=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const l=t.selection.getRng(),f=t.model.table.getSelectedCells();if(f.length>1){const v=f[0],w=f[f.length-1],_={firstCell:Tn.fromDom(v),lastCell:Tn.fromDom(w)};return U.some(_)}return U.some(Ku.range(Tn.fromDom(l.startContainer),l.startOffset,Tn.fromDom(l.endContainer),l.endOffset))}}),_X=t=>s=>({type:"node",root:t(),node:s}),TX=(t,s,l,f)=>{const v=WC(t),w=()=>Tn.fromDom(t.getBody()),_=()=>Tn.fromDom(t.getContentAreaContainer()),L=()=>v||!f();return{inlineDialog:wX(_,s,L),inlineBottomDialog:CX(t.inline,_,l,L),banner:SX(_,s,L),cursor:xX(t,w),node:_X(w)}},EX=t=>(s,l)=>{S6(t)(s,l)},yse=t=>()=>ID(t),kX=t=>s=>LD(t,s),Z8=t=>s=>m6(t,s),q8=t=>({colorPicker:EX(t),hasCustomColors:yse(t),getColors:kX(t),getColorCols:Z8(t)}),nA=t=>()=>c5(t),Y8=t=>({isDraggableModal:nA(t)}),DX=t=>{const s=Pn(U4(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},G8=t=>Mo(t,"items"),K8=t=>Mo(t,"format"),X8=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],AX=t=>go(t,"items"),OX=t=>go(t,"block"),MX=t=>go(t,"inline"),J8=t=>go(t,"selector"),lL=t=>js(t,(s,l)=>{if(AX(l)){const f=lL(l.items);return{customFormats:s.customFormats.concat(f.customFormats),formats:s.formats.concat([{title:l.title,items:f.formats}])}}else if(MX(l)||OX(l)||J8(l)){const v=`custom-${H(l.name)?l.name:l.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:v,format:l}]),formats:s.formats.concat([{title:l.title,format:v,icon:l.icon}])}}else return{...s,formats:s.formats.concat(l)}},{customFormats:[],formats:[]}),NX=(t,s)=>{const l=lL(s),f=v=>{yt(v,w=>{t.formatter.has(w.name)||t.formatter.register(w.name,w.format)})};return t.formatter?f(l.customFormats):t.on("init",()=>{f(l.customFormats)}),l.formats},cL=t=>q$(t).map(s=>{const l=NX(t,s);return Y$(t)?X8.concat(l):l}).getOr(X8),RX=t=>{const s=_e(t);return s.length===1&&us(s,"title")},Q8=(t,s,l)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:l(t.format)}),e7=(t,s,l,f)=>{const v=I=>Q8(I,l,f),w=I=>{const W=L(I.items);return{...I,type:"submenu",getStyleItems:P(W)}},_=I=>{const W=H(I.name)?I.name:_n(I.title),X=`custom-${W}`,oe={...I,type:"formatter",format:X,isSelected:l(X),getStylePreview:f(X)};return t.formatter.register(W,oe),oe},L=I=>Yt(I,W=>G8(W)?w(W):K8(W)?v(W):RX(W)?{...W,type:"separator"}:_(W));return L(s)},$y=t=>{const s=L=>()=>t.formatter.match(L),l=L=>()=>{const I=t.formatter.get(L);return I!==void 0?U.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(L))}):U.none()},f=Pn([]),v=Pn([]),w=Pn(!1);return t.on("PreInit",L=>{const I=cL(t),W=e7(t,I,s,l);f.set(W)}),t.on("addStyleModifications",L=>{const I=e7(t,L.items,s,l);v.set(I),w.set(L.replace)}),{getData:()=>{const L=w.get()?[]:f.get(),I=v.get();return L.concat(I)}}},t7=t=>{let f=0;const v=()=>f>0,w=L=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[qi(L.tooltipText)]}];return{getConfig:L=>({delayForShow:()=>v()?60:300,delayForHide:P(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:w(L),onShow:(I,W)=>{f++,L.onShow&&L.onShow(I,W)},onHide:(I,W)=>{f--,L.onHide&&L.onHide(I,W)},onSetup:L.onSetup}),getComponents:w}},t_=t=>Ee(t)&&t.nodeType===1,oA=yb.trim,uL=t=>s=>!!(t_(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),n7=uL("true"),o7=uL("false"),LX=(t,s,l,f,v)=>({type:t,title:s,url:l,level:f,attach:v}),PX=t=>{let s=t;for(;s=s.parentNode;){const l=s.contentEditable;if(l&&l!=="inherit")return n7(s)}return!1},IX=(t,s)=>Yt(fl(Tn.fromDom(s),t),l=>l.dom),s7=t=>t.innerText||t.textContent,FX=t=>t.id?t.id:_n("h"),BX=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,$X=t=>BX(t)&&dS(t),Hy=t=>t&&/^(H[1-6])$/.test(t.nodeName),dS=t=>PX(t)&&!o7(t),dL=t=>Hy(t)&&dS(t),HX=t=>Hy(t)?parseInt(t.nodeName.substr(1),10):0,zX=t=>{const s=FX(t),l=()=>{t.id=s};return LX("header",s7(t)??"","#"+s,HX(t),l)},fL=t=>{const s=t.id||t.name,l=s7(t);return LX("anchor",l||"#"+s,"#"+s,0,xe)},VX=t=>Yt(fs(t,dL),zX),n_=t=>Yt(fs(t,$X),fL),r7=t=>IX("h1,h2,h3,h4,h5,h6,a:not([href])",t),UX=t=>oA(t.title).length>0,WX={find:t=>{const s=r7(t);return fs(VX(s).concat(n_(s)),UX)}},sA="tinymce-url-history",i7=5,a7=t=>H(t)&&/^https?/.test(t),l7=t=>te(t)&&t.length<=i7&&Un(t,a7),hL=t=>Y(t)&&Co(t,s=>!l7(s)).isNone(),rA=()=>{const t=Ry.getItem(sA);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(l){if(l instanceof SyntaxError)return console.log("Local storage "+sA+" was not valid JSON",l),{};throw l}return hL(s)?s:(console.log("Local storage "+sA+" was not valid format",s),{})},jX=t=>{if(!hL(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Ry.setItem(sA,JSON.stringify(t))},iA=t=>{const s=rA();return Mn(s,t).getOr([])},aA=(t,s)=>{if(!a7(t))return;const l=rA(),f=Mn(l,s).getOr([]),v=fs(f,w=>w!==t);l[s]=[t].concat(v).slice(0,i7),jX(l)},mL=t=>!!t,ZX=t=>Tt(yb.makeMap(t,/[, ]/),mL),pL=t=>U.from(n5(t)),qX=t=>{const s=U.from(r5(t)).filter(mL).map(ZX);return pL(t).fold(wn,l=>s.fold(Ze,f=>_e(f).length>0?f:!1))},YX=(t,s)=>{const l=qX(t);return ye(l)?l?pL(t):U.none():l[s]?pL(t):U.none()},gL=(t,s)=>YX(t,s).map(l=>f=>or.nu(v=>{const w=(L,I)=>{if(!H(L))throw new Error("Expected value to be string");if(I!==void 0&&!Y(I))throw new Error("Expected meta to be a object");v({value:L,meta:I})},_={filetype:s,fieldname:f.fieldname,...U.from(f.meta).getOr({})};l.call(t,w,f.value,_)})),c7=t=>U.from(t).filter(H).getOrUndefined(),vL=t=>i5(t)?U.some({targets:WX.find(t.getBody()),anchorTop:c7(a5(t)),anchorBottom:c7(l5(t))}):U.none(),GX=t=>U.from(o5(t)),bL=t=>({getHistory:iA,addToHistory:aA,getLinkInformation:()=>vL(t),getValidationHandler:()=>GX(t),getUrlPicker:s=>gL(t,s)}),KX=(t,s,l,f)=>{const v=Pn(!1),w=DX(s),_={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:iu.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:t7(t.dialog),checkUiComponentContext:ze=>{if(Gh(s))return{contextType:"disabled",shouldDisable:!0};const[it,ht=""]=ze.split(":"),Dt=s.ui.registry.getAll().contexts,Rt=Mn(Dt,it).fold(()=>Mn(Dt,"mode").map($n=>$n("design")).getOr(!1),$n=>ht.charAt(0)==="!"?!$n(ht.slice(1)):$n(ht));return{contextType:it,shouldDisable:!Rt}}},L=bL(s),I=$y(s),W=q8(s),X=Y8(s),oe=()=>v.get(),me=ze=>v.set(ze),Oe={shared:{providers:_,anchors:TX(s,l,f,w.isPositionedAtTop),header:w},urlinput:L,styles:I,colorinput:W,dialog:X,isContextMenuOpen:oe,setContextMenuState:me},Ne=ze=>U.none(),Ue={...Oe,shared:{...Oe.shared,interpreter:ze=>j8(ze,{},Ue,Ne),getSink:t.popup}},Xe={...Oe,shared:{...Oe.shared,interpreter:ze=>j8(ze,{},Xe,Ne),getSink:t.dialog}};return{popup:Ue,dialog:Xe}},XX={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},JX=t=>{console.warn(XX[t],new Error().stack)},QX=(t,s,l)=>{const f=(hn,zo)=>{yt([s,...l],_o=>{_o.broadcastEvent(hn,zo)})},v=(hn,zo)=>{yt([s,...l],_o=>{_o.broadcastOn([hn],zo)})},w=hn=>v(Pp(),{target:hn.target}),_=hn=>{v(E0(),{closedTooltip:()=>{hn.preventDefault()}})},L=Sl(),I=kr(L,"touchstart",w),W=kr(L,"touchmove",hn=>f(ZS(),hn)),X=kr(L,"touchend",hn=>f(U_(),hn)),oe=kr(L,"mousedown",w),me=kr(L,"mouseup",hn=>{hn.raw.button===0&&v(Im(),{target:hn.target})}),Oe=hn=>v(Pp(),{target:Tn.fromDom(hn.target)}),Ne=hn=>{hn.button===0&&v(Im(),{target:Tn.fromDom(hn.target)})},Ue=()=>{yt(t.editorManager.get(),hn=>{t!==hn&&hn.dispatch("DismissPopups",{relatedTarget:t})})},Xe=hn=>f(Ov(),rc(hn)),ze=hn=>{v(nu(),{}),f(Mv(),rc(hn))},it=Ii(Tn.fromDom(t.getElement())),ht=Su(it,"scroll",hn=>{requestAnimationFrame(()=>{const zo=t.getContainer();if(zo!=null){const sr=x1(t,s.element).map(Zo=>[Zo.element,...Zo.others]).getOr([]);Er(sr,Zo=>fe(Zo,hn.target))&&(t.dispatch("ElementScroll",{target:hn.target.dom}),f(j_(),hn))}})}),Dt=()=>v(nu(),{}),Rt=hn=>{hn.state&&v(Pp(),{target:Tn.fromDom(t.getContainer())})},$n=hn=>{v(Pp(),{target:Tn.fromDom(hn.relatedTarget.getContainer())})},rn=hn=>t.dispatch("focusin",hn),bn=hn=>t.dispatch("focusout",hn);t.on("PostRender",()=>{t.on("click",Oe),t.on("tap",Oe),t.on("mouseup",Ne),t.on("mousedown",Ue),t.on("ScrollWindow",Xe),t.on("ResizeWindow",ze),t.on("ResizeEditor",Dt),t.on("AfterProgressState",Rt),t.on("DismissPopups",$n),t.on("CloseActiveTooltips",_),yt([s,...l],hn=>{hn.element.dom.addEventListener("focusin",rn),hn.element.dom.addEventListener("focusout",bn)})}),t.on("remove",()=>{t.off("click",Oe),t.off("tap",Oe),t.off("mouseup",Ne),t.off("mousedown",Ue),t.off("ScrollWindow",Xe),t.off("ResizeWindow",ze),t.off("ResizeEditor",Dt),t.off("AfterProgressState",Rt),t.off("DismissPopups",$n),t.off("CloseActiveTooltips",_),yt([s,...l],hn=>{hn.element.dom.removeEventListener("focusin",rn),hn.element.dom.removeEventListener("focusout",bn)}),oe.unbind(),I.unbind(),W.unbind(),X.unbind(),me.unbind(),ht.unbind()}),t.on("detach",()=>{yt([s,...l],gE),yt([s,...l],hn=>hn.destroy())})},Sse=xe,xse=wn,yL=P([]);var eJ=Object.freeze({__proto__:null,setup:Sse,isDocked:xse,getBehaviours:yL});const lA=P(_n("toolbar-height-change")),Wg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},u7="tox-tinymce--toolbar-sticky-on",d7="tox-tinymce--toolbar-sticky-off",tJ=(t,s)=>{const l=Ke(s),v=tn(s).dom.innerHeight,w=ai(l),_=Tn.fromDom(t.elm),L=Xu(_),I=Ka(_),W=L.y,X=W+I,oe=ra(s),me=Ka(s),Oe=oe.top,Ne=Oe+me,Ue=Math.abs(Oe-w.top)<2,Xe=Math.abs(Ne-(w.top+v))<2;if(Ue&&W<Ne)Rc(w.left,W-me,l);else if(Xe&&X>Oe){const ze=W-v+I+me;Rc(w.left,ze,l)}},cA=(t,s)=>us(Ea.getModes(t),s),uA=t=>{const s=f=>Ra(f)+(parseInt(ui(f,"margin-top"),10)||0)+(parseInt(ui(f,"margin-bottom"),10)||0),l=t.element;So(l).each(f=>{const v="padding-"+Ea.getModes(t)[0];if(Ea.isDocked(t)){const w=rl(f);vo(l,"width",w+"px"),vo(f,v,s(l)+"px")}else qs(l,"width"),qs(f,v)})},f7=(t,s)=>{s?(Ui(t,Wg.fadeOutClass),fd(t,[Wg.transitionClass,Wg.fadeInClass])):(Ui(t,Wg.fadeInClass),fd(t,[Wg.fadeOutClass,Wg.transitionClass]))},h7=(t,s)=>{const l=Tn.fromDom(t.getContainer());s?(Hr(l,u7),Ui(l,d7)):(Hr(l,d7),Ui(l,u7))},nJ=(t,s)=>{const l=Ke(s);qa(l).filter(f=>!fe(s,f)).filter(f=>fe(f,Tn.fromDom(l.dom.body))||ge(t,f)).each(()=>sl(s))},_se=(t,s)=>Ma(t).orThunk(()=>s().toOptional().bind(l=>Ma(l.element))),Tse=(t,s,l)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{l().each(Ea.reset)}),t.on("ResizeWindow ResizeEditor",()=>{l().each(uA)}),t.on("SkinLoaded",()=>{l().each(f=>{Ea.isDocked(f)?Ea.reset(f):Ea.refresh(f)})}),t.on("FullscreenStateChanged",()=>{l().each(Ea.reset)})),t.on("AfterScrollIntoView",f=>{l().each(v=>{Ea.refresh(v);const w=v.element;Fd(w)&&tJ(f,w)})}),t.on("PostRender",()=>{h7(t,!1)})},m7=t=>t().map(Ea.isDocked).getOr(!1),p7=()=>[Cf.config({channels:{[lA()]:{onReceive:uA}}})],g7=(t,s)=>{const l=Po(),f=s.getSink,v=L=>{f().each(I=>L(I.element))},w=L=>{t.inline||uA(L),h7(t,Ea.isDocked(L)),L.getSystem().broadcastOn([nu()],{}),f().each(I=>I.getSystem().broadcastOn([nu()],{}))},_=t.inline?[]:p7();return[ps.config({}),Ea.config({contextual:{lazyContext:L=>{const I=Ra(L.element),W=t.inline?t.getContentAreaContainer():t.getContainer();return U.from(W).map(X=>{const oe=Xa(Tn.fromDom(X));return x1(t,L.element).fold(()=>{const Oe=oe.height-I,Ne=oe.y+(cA(L,"top")?0:I);return il(oe.x,Ne,oe.width,Oe)},Oe=>{const Ne=hf(oe,fy(Oe)),Ue=cA(L,"top")?Ne.y:Ne.y+I;return il(Ne.x,Ue,Ne.width,Ne.height-I)})})},onShow:()=>{v(L=>f7(L,!0))},onShown:L=>{v(I=>Ai(I,[Wg.transitionClass,Wg.fadeInClass])),l.get().each(I=>{nJ(L.element,I),l.clear()})},onHide:L=>{_se(L.element,f).fold(l.clear,l.set),v(I=>f7(I,!1))},onHidden:()=>{v(L=>Ai(L,[Wg.transitionClass]))},...Wg},lazyViewport:L=>x1(t,L.element).fold(()=>{const W=cc(),X=e5(t),oe=W.y+(cA(L,"top")&&!S2(t)?X:0),me=W.height-(cA(L,"bottom")?X:0);return{bounds:il(W.x,oe,W.width,me),optScrollEnv:U.none()}},W=>({bounds:fy(W),optScrollEnv:U.some({currentScrollTop:W.element.dom.scrollTop,scrollElmTop:ra(W.element).top})})),modes:[s.header.getDockingMode()],onDocked:w,onUndocked:w}),..._]};var oJ=Object.freeze({__proto__:null,setup:Tse,isDocked:m7,getBehaviours:g7});const ah=t=>{const s=t.editor,l=t.sticky?g7:yL;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:On(l(s,t.sharedBackstage))}};var dA=th({factory:(t,s)=>{const l=(v,w)=>{const _=Yt(w,L=>{const I={type:"menubutton",text:L.text,fetch:X=>{X(L.getItems())},context:"any"},W=fH(I).mapError(X=>D(X)).getOrDie();return cS(W,"tox-mbtn",s.backstage,U.some("menuitem"))});Cs.set(v,_)},f={focus:No.focusIn,setMenus:l};return{uid:t.uid,dom:t.dom,components:[],behaviours:On([Cs.config({}),hs("menubar-events",[ta(v=>{t.onSetup(v)}),Wt(zf(),(v,w)=>{Ur(v.element,".tox-mbtn--active").each(_=>{ic(w.event.target,".tox-mbtn").each(L=>{fe(_,L)||v.getSystem().getByDom(_).each(I=>{v.getSystem().getByDom(L).each(W=>{Ed.expand(W),Ed.close(I),ps.focus(W)})})})})}),Wt(a0(),(v,w)=>{w.event.prevFocus.bind(_=>v.getSystem().getByDom(_).toOptional()).each(_=>{w.event.newFocus.bind(L=>v.getSystem().getByDom(L).toOptional()).each(L=>{Ed.isOpen(_)&&(Ed.expand(L),Ed.close(_))})})})]),No.config({mode:"flow",selector:".tox-mbtn",onEscape:v=>(t.onEscape(v),U.some(!0))}),Yi.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[be("dom"),be("uid"),be("onEscape"),be("backstage"),wt("onSetup",xe)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,l)=>{t.setMenus(s,l)}}});const v7="ð Get all features",sJ="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",o_=t=>{const s=t.promotionLink?[{dom:{tag:"a",attributes:{href:sJ,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:v7}}]:[];return{uid:t.uid,dom:t.dom,components:s}},rJ=t=>{const{sidebars:s}=t.ui.registry.getAll();yt(_e(s),l=>{const f=s[l],v=()=>pi(U.from(t.queryCommandValue("ToggleSidebar")),l);t.ui.registry.addToggleButton(l,{icon:f.icon,tooltip:f.tooltip,onAction:w=>{t.execCommand("ToggleSidebar",!1,l),w.setActive(v())},onSetup:w=>{w.setActive(v());const _=()=>w.setActive(v());return t.on("ToggleSidebar",_),()=>{t.off("ToggleSidebar",_)}},context:"any"})})},fA=t=>({element:()=>t.element.dom}),iJ=(t,s)=>{const l=Yt(_e(s),f=>{const v=s[f],w=x(qR(v));return{name:f,getApi:fA,onSetup:w.onSetup,onShow:w.onShow,onHide:w.onHide}});return Yt(l,f=>{const v=Pn(xe);return t.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:eS.unnamedEvents([Vp(f,v),Dy(f,v),Wt(l0(),(w,_)=>{const L=_.event;fo(l,W=>W.name===L.name).each(W=>{(L.visible?W.onShow:W.onHide)(W.getApi(w))})})])})})},hA=t=>yu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:iJ(s,t),slotBehaviours:eS.unnamedEvents([ta(l=>yu.hideAllSlots(l))])})),aJ=(t,s,l)=>{zt.getCurrent(t).each(v=>{Cs.set(v,[hA(s)]);const w=l?.toLowerCase();H(w)&&go(s,w)&&zt.getCurrent(v).each(_=>{yu.showSlot(_,w),mc.immediateGrow(v),qs(v.element,"width"),mA(t.element,"region")})})},mA=(t,s)=>{Io(t,"role",s)},em=(t,s)=>{zt.getCurrent(t).each(f=>{zt.getCurrent(f).each(w=>{mc.hasGrown(f)?yu.isShowing(w,s)?(mc.shrink(f),mA(t.element,"presentation")):(yu.hideAllSlots(w),yu.showSlot(w,s),mA(t.element,"region")):(yu.hideAllSlots(w),yu.showSlot(w,s),mc.grow(f),mA(t.element,"region"))})})},lJ=t=>zt.getCurrent(t).bind(l=>mc.isGrowing(l)||mc.hasGrown(l)?zt.getCurrent(l).bind(w=>fo(yu.getSlotNames(w),_=>yu.isShowing(w,_))):U.none()),fS=_n("FixSizeEvent"),pA=_n("AutoSizeEvent"),b7=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:On([Yi.config({}),ps.config({}),mc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{zt.getCurrent(s).each(yu.hideAllSlots),Ys(s,pA)},onGrown:s=>{Ys(s,pA)},onStartGrow:s=>{$o(s,fS,{width:_i(s.element,"width").getOr("")})},onStartShrink:s=>{$o(s,fS,{width:rl(s.element)+"px"})}}),Cs.config({}),zt.config({find:s=>{const l=Cs.contents(s);return Vn(l)}})])}],behaviours:On([op.childAt(0),hs("sidebar-sliding-events",[Wt(fS,(s,l)=>{vo(s.element,"width",l.event.width)}),Wt(pA,(s,l)=>{qs(s.element,"width")})])])}),cJ=t=>(s,l)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ub('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),wL=t=>zt.getCurrent(t).each(s=>sl(s.element,!0)),uJ=(t,s)=>{const l="tabindex",f=`data-mce-${l}`;U.from(t.iframeElement).map(Tn.fromDom).each(v=>{s?(_l(v,l).each(w=>Io(v,f,w)),Io(v,l,-1)):(Di(v,l),_l(v,f).each(w=>{Io(v,l,w),Di(v,f)}))})},dJ=(t,s,l,f)=>{const v=s.element;if(uJ(t,l),l)dn.block(s,cJ(f)),qs(v,"display"),Di(v,"aria-hidden"),t.hasFocus()&&wL(s);else{const w=zt.getCurrent(s).exists(_=>wc(_.element));dn.unblock(s),vo(v,"display","none"),Io(v,"aria-hidden","true"),w&&t.focus()}},fJ=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:On([Cs.config({}),dn.config({focus:!1}),zt.config({find:s=>Vn(s.components())})]),components:[]}),hJ=t=>t.type==="focusin",mJ=t=>hJ(t)?(t.composed?Vn(t.composedPath()):U.from(t.target)).map(Tn.fromDom).filter(Yl).exists(l=>Ua(l,"mce-pastebin")):!1,pJ=(t,s,l)=>{const f=Pn(!1),v=Po(),w=L=>{f.get()&&!mJ(L)&&(L.preventDefault(),wL(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",w),t.on("BeforeExecCommand",L=>{L.command.toLowerCase()==="mcefocus"&&L.value!==!0&&w(L)})});const _=L=>{L!==f.get()&&(f.set(L),dJ(t,s(),L,l.providers),i6(t,L))};t.on("ProgressState",L=>{if(v.on(clearTimeout),at(L.time)){const I=tD.setEditorTimeout(t,()=>_(L.state),L.time);v.set(I)}else _(L.state),v.clear()})},y7=t=>{const s=t.label.isNone()?t.title.fold(()=>({}),l=>({attributes:{"aria-label":l}})):t.label.fold(()=>({}),l=>({attributes:{"aria-label":l}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...t.label.map(l=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[qi(l)]})).toArray(),g2.parts.items({})],items:t.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:On([Yi.config({}),ps.config({ignore:!0})])}},s_=t=>g2.sketch(y7(t)),CL=(t,s)=>{const l=ta(f=>{const v=Yt(t.initGroups,s_);ru.setGroups(f,v)});return On([np.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),Vl(()=>t.providers.checkUiComponentContext("any")),No.config({mode:s,onEscape:t.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),hs("toolbar-events",[l])])},SL=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":y7({title:U.none(),label:U.none(),items:[]}),"overflow-button":A8({context:"any",icon:U.some("more-drawer"),enabled:!0,tooltip:U.some("Reveal or hide additional toolbar items")},U.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:CL(t,s)}},gJ=t=>{const s=SL(t),l=4,f=z$.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return z$.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const v=t.moreDrawerData.lazyHeader().element,w=Xu(v),_=Xt(v),L=Xu(_),I=Math.max(_.dom.scrollHeight,L.height);return il(w.x+l,L.y,w.width-l*2,I)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:v=>t.onToggled(v,!0),onClosed:v=>t.onToggled(v,!1)})},w7=t=>{const s=Gk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),l=Gk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=SL(t);return Gk.sketch({...f,components:[s,l],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:v=>{v.getSystem().broadcastOn([lA()],{type:"opened"}),t.onToggled(v,!0)},onClosed:v=>{v.getSystem().broadcastOn([lA()],{type:"closed"}),t.onToggled(v,!1)}})},gA=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return ru.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===nh.scrolling?["tox-toolbar--scrolling"]:[])},components:[ru.parts.groups({})],toolbarBehaviours:CL(t,s)})},vJ=(t,s)=>{const l=t.type==="togglebutton",f=t.icon.map(ze=>jp(ze,s.icons)).map(Zr),w=ze=>{const it=$n=>{f.map(rn=>rn.getOpt(ze).each(bn=>{Cs.set(bn,[jp($n,s.icons)])}))},ht=$n=>{const rn=ze.element;$n?(Hr(rn,"tox-button--enabled"),Io(rn,"aria-pressed",!0)):(Ui(rn,"tox-button--enabled"),Di(rn,"aria-pressed"))},Dt=()=>Ua(ze.element,"tox-button--enabled"),Rt=()=>sl(ze.element);if(l)return t.onAction({setIcon:it,setActive:ht,isActive:Dt,focus:Rt});if(t.type==="button")return t.onAction({setIcon:it})},_={...t,name:l?t.text.getOr(t.icon.getOr("")):t.text??t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:U.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},L=eL(t.buttonType??"secondary"),I=l?t.text.map(s.translate):U.some(s.translate(t.text)),W=I.map(qi),X=_.tooltip.or(I).map(ze=>({"aria-label":s.translate(ze)})).getOr({}),oe=f.map(ze=>ze.asSpec()),me=tS([oe,W]),Oe=t.icon.isSome()&&W.isSome(),Ne={tag:"button",classes:L.concat(...t.icon.isSome()&&!Oe?["tox-button--icon"]:[]).concat(...Oe?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:X},Ue=[],Xe=Q2(_,U.some(w),Ue,Ne,me,t.tooltip,s);return su.sketch(Xe)},xL=(t,s)=>vJ(t,s),C7=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Yt(t.buttons,l=>xL(l,s))}),_L=xi().deviceType,bJ=_L.isPhone(),yJ=_L.isTablet(),wJ=t=>{let s=!1;const l=Yt(t.buttons,f=>f.type==="group"?(s=!0,C7(f,t.providers)):xL(f,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...bJ||yJ?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:On([ps.config({}),No.config({mode:"flow",selector:"button, .tox-button",focusInside:Zf.OnEnterOrSpaceMode})]),components:s?l:[zp.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),zp.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:l})]}},S7=t=>({uid:t.uid,behaviours:On([ps.config({}),Yi.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),CJ=(t,s,l,f)=>{const v={getPane:w=>pc.getPart(w,t,"pane"),getOnShow:w=>t.viewConfig.onShow,getOnHide:w=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:On([ps.config({}),No.config({mode:"cyclic",focusInside:Zf.OnEnterOrSpaceMode})]),apis:v}};var hS=_d({name:"silver.View",configFields:[be("viewConfig")],partFields:[bd({factory:{sketch:wJ},schema:[be("buttons"),be("providers")],name:"header"}),bd({factory:{sketch:S7},schema:[],name:"pane"})],factory:CJ,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const SJ=(t,s,l)=>zs(s,(f,v)=>{const w=x(IG(f));return t.slot(v,hS.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:w,components:[...w.buttons.length>0?[hS.parts.header({buttons:w.buttons,providers:l})]:[],hS.parts.pane({})]}))}),xJ=(t,s)=>yu.sketch(l=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:SJ(l,t,s),slotBehaviours:eS.unnamedEvents([ta(f=>yu.hideAllSlots(f))])})),x7=t=>fo(yu.getSlotNames(t),s=>yu.isShowing(t,s)),_J=t=>{const s=t.element;vo(s,"display","none"),Io(s,"aria-hidden","true")},TJ=t=>{const s=t.element;qs(s,"display"),Di(s,"aria-hidden")},EJ=t=>({getContainer:P(t)}),_7=(t,s,l)=>{yu.getSlot(t,s).each(f=>{hS.getPane(f).each(v=>{l(f)(EJ(v.element.dom))})})},kJ=(t,s)=>_7(t,s,hS.getOnShow),TL=(t,s)=>_7(t,s,hS.getOnHide);var vA=th({factory:(t,s)=>{const w={setViews:(_,L)=>{Cs.set(_,[xJ(L,s.backstage.shared.providers)])},whichView:_=>zt.getCurrent(_).bind(x7),toggleView:(_,L,I,W)=>zt.getCurrent(_).exists(X=>{const oe=x7(X),me=oe.exists(Ne=>W===Ne),Oe=yu.getSlot(X,W).isSome();return Oe&&(yu.hideAllSlots(X),me?(_J(_),L()):(I(),TJ(_),yu.showSlot(X,W),kJ(X,W)),oe.each(Ne=>TL(X,Ne))),Oe})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:On([Cs.config({}),zt.config({find:_=>{const L=Cs.contents(_);return Vn(L)}})]),apis:w}},name:"silver.ViewWrapper",configFields:[be("backstage")],apis:{setViews:(t,s,l)=>t.setViews(s,l),toggleView:(t,s,l,f,v)=>t.toggleView(s,l,f,v),whichView:(t,s)=>t.whichView(s)}});const T7=(t,s,l)=>{let f=!1;const v=_=>{Y1(_,".tox-statusbar").each(L=>{ui(L,"display")==="none"&&za(L,"aria-hidden")==="true"?(qs(L,"display"),Di(L,"aria-hidden")):(vo(L,"display","none"),Io(L,"aria-hidden","true"))})},w={getSocket:_=>pc.getPart(_,t,"socket"),setSidebar:(_,L,I)=>{pc.getPart(_,t,"sidebar").each(W=>aJ(W,L,I))},toggleSidebar:(_,L)=>{pc.getPart(_,t,"sidebar").each(I=>em(I,L))},whichSidebar:_=>pc.getPart(_,t,"sidebar").bind(lJ).getOrNull(),getHeader:_=>pc.getPart(_,t,"header"),getToolbar:_=>pc.getPart(_,t,"toolbar"),setToolbar:(_,L)=>{pc.getPart(_,t,"toolbar").each(I=>{const W=Yt(L,s_);I.getApis().setGroups(I,W)})},setToolbars:(_,L)=>{pc.getPart(_,t,"multiple-toolbar").each(I=>{const W=Yt(L,X=>Yt(X,s_));kB.setItems(I,W)})},refreshToolbar:_=>{pc.getPart(_,t,"toolbar").each(I=>I.getApis().refresh(I))},toggleToolbarDrawer:_=>{pc.getPart(_,t,"toolbar").each(L=>{rs(L.getApis().toggle,I=>I(L))})},toggleToolbarDrawerWithoutFocusing:_=>{pc.getPart(_,t,"toolbar").each(L=>{rs(L.getApis().toggleWithoutFocusing,I=>I(L))})},isToolbarDrawerToggled:_=>pc.getPart(_,t,"toolbar").bind(L=>U.from(L.getApis().isOpen).map(I=>I(L))).getOr(!1),getThrobber:_=>pc.getPart(_,t,"throbber"),focusToolbar:_=>{pc.getPart(_,t,"toolbar").orThunk(()=>pc.getPart(_,t,"multiple-toolbar")).each(I=>{No.focusIn(I)})},setMenubar:(_,L)=>{pc.getPart(_,t,"menubar").each(I=>{dA.setMenus(I,L)})},focusMenubar:_=>{pc.getPart(_,t,"menubar").each(L=>{dA.focus(L)})},setViews:(_,L)=>{pc.getPart(_,t,"viewWrapper").each(I=>{vA.setViews(I,L)})},toggleView:(_,L)=>pc.getPart(_,t,"viewWrapper").exists(I=>vA.toggleView(I,()=>w.showMainView(_),()=>w.hideMainView(_),L)),whichView:_=>pc.getPart(_,t,"viewWrapper").bind(vA.whichView).getOrNull(),hideMainView:_=>{f=w.isToolbarDrawerToggled(_),f&&w.toggleToolbarDrawer(_),pc.getPart(_,t,"editorContainer").each(L=>{const I=L.element;v(I),vo(I,"display","none"),Io(I,"aria-hidden","true")})},showMainView:_=>{f&&w.toggleToolbarDrawer(_),pc.getPart(_,t,"editorContainer").each(L=>{const I=L.element;v(I),qs(I,"display"),Di(I,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:w,behaviours:t.behaviours}},E7=qd.optional({factory:dA,name:"menubar",schema:[be("backstage")]}),DJ=t=>t.type===nh.sliding?w7:t.type===nh.floating?gJ:gA,AJ=qd.optional({factory:{sketch:t=>kB.sketch({uid:t.uid,dom:t.dom,listBehaviours:On([No.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>gA({type:t.type,uid:_n("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),U.some(!0))}),setupItem:(s,l,f,v)=>{ru.setGroups(l,f)},shell:!0})},name:"multiple-toolbar",schema:[be("dom"),be("onEscape")]}),OJ=qd.optional({factory:{sketch:t=>{const s=DJ(t),l={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),U.some(!0)),onToggled:(f,v)=>t.onToolbarToggled(v),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(l)}},name:"toolbar",schema:[be("dom"),be("onEscape"),be("getSink")]}),MJ=qd.optional({factory:{sketch:ah},name:"header",schema:[be("dom")]}),NJ=qd.optional({factory:{sketch:o_},name:"promotion",schema:[be("dom"),be("promotionLink")]}),RJ=qd.optional({name:"socket",schema:[be("dom")]}),k7=qd.optional({factory:{sketch:b7},name:"sidebar",schema:[be("dom")]}),bA=qd.optional({factory:{sketch:fJ},name:"throbber",schema:[be("dom")]}),EL=qd.optional({factory:vA,name:"viewWrapper",schema:[be("backstage")]}),LJ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),PJ=qd.optional({factory:{sketch:LJ},name:"editorContainer",schema:[]});var Ei=_d({name:"OuterContainer",factory:T7,configFields:[be("dom"),be("behaviours")],partFields:[MJ,E7,OJ,AJ,RJ,k7,NJ,bA,EL,PJ],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,l,f)=>{t.setSidebar(s,l,f)},toggleSidebar:(t,s,l)=>{t.toggleSidebar(s,l)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,l)=>{t.setToolbar(s,l)},setToolbars:(t,s,l)=>{t.setToolbars(s,l)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,l)=>{t.setMenubar(s,l)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,l)=>{t.setViews(s,l)},toggleView:(t,s,l)=>t.toggleView(s,l),whichView:(t,s)=>t.whichView(s)}});const IJ="file edit view insert format tools table help",D7={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},FJ=(t,s,l)=>{const f=X$(l).split(/[ ,]/);return{text:t.title,getItems:()=>vt(t.items,v=>{const w=v.toLowerCase();return w.trim().length===0?[]:Er(f,_=>_===w)?[]:w==="separator"||w==="|"?[{type:"separator"}]:s.menuItems[w]?[s.menuItems[w]]:[]})}},yA=t=>t.split(" "),A7=(t,s)=>{const l={...D7,...s.menus},f=_e(s.menus).length>0,v=s.menubar===void 0||s.menubar===!0?yA(IJ):yA(s.menubar===!1?"":s.menubar),w=fs(v,L=>{const I=go(D7,L);return f?I||Mn(s.menus,L).exists(W=>go(W,"items")):I}),_=Yt(w,L=>{const I=l[L];return FJ({title:I.title,items:yA(I.items)},s,t)});return fs(_,L=>{const I=W=>H(W)||W.type!=="separator";return L.getItems().length>0&&Er(L.getItems(),I)})},BJ=t=>{const s=()=>{t._skinLoaded=!0,WG(t)};return()=>{t.initialized?s():t.on("init",s)}},kL=(t,s)=>()=>jG(t,{message:s}),$J=t=>{const s=m5(t);return s?U.from(s):U.none()},O7=(t,s,l)=>(t.on("remove",()=>l.unload(s)),l.load(s)),r_=(t,s,l,f)=>(t.on("remove",()=>f.unloadRawCss(s)),f.loadRawCss(s,l)),HJ=(t,s)=>"ui/"+t+"/"+s,M7=t=>U.from(tinymce.Resource.get(t)).filter(H),DL=(t,s,l="")=>{const f=$J(t).map(w=>HJ(w,`${s}.css`)),v=f.bind(M7);return fa(f,v,(w,_)=>({_kind:"load-raw",key:w,css:_})).getOrThunk(()=>{const w=t.editorManager.suffix;return{_kind:"load-stylesheet",url:l+`/${s}${w}.css`}})},N7=(t,s)=>{const l=t.ui.styleSheetLoader,f=DL(t,"skin",s);switch(f._kind){case"load-raw":const{key:v,css:w}=f;return r_(t,v,w,l),Promise.resolve();case"load-stylesheet":const{url:_}=f;return O7(t,_,l);default:return Promise.resolve()}},zJ=(t,s)=>{if(Vu(Tn.fromDom(t.getElement()))){const f=v2.DOM.styleSheetLoader,v=DL(t,"skin.shadowdom",s);switch(v._kind){case"load-raw":const{key:w,css:_}=v;return r_(t,w,_,f),Promise.resolve();case"load-stylesheet":const{url:L}=v;return O7(t,L,f);default:return Promise.resolve()}}else return Promise.resolve()},VJ=(t,s,l)=>{const v=DL(t,s?"content.inline":"content",l);switch(v._kind){case"load-raw":const{key:w,css:_}=v;return s?r_(t,w,_,t.ui.styleSheetLoader):t.on("PostRender",()=>{r_(t,w,_,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:L}=v;return l&&t.contentCSS.push(L),Promise.resolve();default:return Promise.resolve()}},UJ=async(t,s)=>{const l=p5(s);if(await VJ(s,t,l),!z4(s)&&H(l))return Promise.all([N7(s,l),zJ(s,l)]).then()},AL=(t,s)=>UJ(t,s).then(BJ(s),kL(s,"Skin could not be loaded")),WJ=ln(AL,!1),jJ=ln(AL,!0),R7=t=>({isEnabled:()=>!Ao.isDisabled(t),setEnabled:s=>Ao.set(t,!s),setText:s=>$o(t,ih,{text:s}),setIcon:s=>$o(t,Fy,{icon:s})}),OL=t=>({setActive:s=>{ur.set(t,s)},isActive:()=>ur.isOn(t),isEnabled:()=>!Ao.isDisabled(t),setEnabled:s=>Ao.set(t,!s),setText:s=>$o(t,ih,{text:s}),setIcon:s=>$o(t,Fy,{icon:s})}),ML=(t,s)=>t.map(l=>({"aria-label":s.translate(l)})).getOr({}),ZJ=_n("focus-button"),NL=(t,s,l,f,v,w,_)=>{const L=s.map(W=>Zr(v8(W,"tox-tbtn",v))),I=t.map(W=>Zr(jp(W,v.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...ML(l,v),...Ee(_)?{"data-mce-name":_}:{}}},components:tS([I.map(W=>W.asSpec()),L.map(W=>W.asSpec())]),eventOrder:{[Mu()]:["focusing","alloy.base.behaviour",L1],[Nh()]:[L1,"toolbar-group-button-events"],[Dp()]:[L1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:On([np.toolbarButton(()=>v.checkUiComponentContext(w).shouldDisable),Vl(()=>v.checkUiComponentContext(w)),hs(L1,[ta((W,X)=>z3(W)),Wt(ih,(W,X)=>{L.bind(oe=>oe.getOpt(W)).each(oe=>{Cs.set(oe,[qi(v.translate(X.event.text))])})}),Wt(Fy,(W,X)=>{I.bind(oe=>oe.getOpt(W)).each(oe=>{Cs.set(oe,[jp(X.event.icon,v.icons)])})}),Wt(Mu(),(W,X)=>{X.event.prevent(),Ys(W,ZJ)})])].concat(f.getOr([])))}},qJ=(t,s,l,f,v)=>{const w=s.shared,_=Pn(xe),L={toolbarButtonBehaviours:[],getApi:R7,onSetup:t.onSetup},I=[hs("toolbar-group-button-events",[Vp(L,_),Dy(L,_)]),...t.tooltip.map(W=>Gi.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(W)}))).toArray()];return Fg.sketch({lazySink:w.getSink,fetch:()=>or.nu(W=>{W(Yt(l(t.items),s_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:NL(t.icon,t.text,t.tooltip,U.some(I),w.providers,t.context,v),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:f}}}})},L7=(t,s,l,f)=>{const v=Pn(xe),w=NL(t.icon,t.text,t.tooltip,U.none(),l,t.context,f);return su.sketch({dom:w.dom,components:w.components,eventOrder:H3,buttonBehaviours:{...On([hs("toolbar-button-events",[XK({onAction:t.onAction,getApi:s.getApi}),Vp(s,v),Dy(s,v)]),...t.tooltip.map(_=>Gi.config(l.tooltips.getConfig({tooltipText:l.translate(_)+t.shortcut.map(L=>` (${JR(L)})`).getOr("")}))).toArray(),np.toolbarButton(()=>!t.enabled||l.checkUiComponentContext(t.context).shouldDisable),Vl(()=>l.checkUiComponentContext(t.context))].concat(s.toolbarButtonBehaviours)),[L1]:w.buttonBehaviours?.[L1]}})},YJ=(t,s,l)=>RL(t,s,[],l),RL=(t,s,l,f)=>L7(t,{toolbarButtonBehaviours:l.length>0?[hs("toolbarButtonWith",l)]:[],getApi:R7,onSetup:t.onSetup},s,f),GJ=(t,s,l)=>P7(t,s,[],l),P7=(t,s,l,f)=>L7(t,{toolbarButtonBehaviours:[Cs.config({}),ur.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(l.length>0?[hs("toolbarToggleButtonWith",l)]:[]),getApi:OL,onSetup:t.onSetup},s,f),KJ=(t,s,l)=>f=>or.nu(v=>s.fetch(v)).map(v=>U.from(VD(Ls(HD(_n("menu-value"),v,w=>{s.onItemAction(t(f),w)},s.columns,s.presets,Jm.CLOSE_ON_EXECUTE,s.select.getOr(wn),l),{movement:W2(s.columns,s.presets),menuBehaviours:eS.unnamedEvents(s.columns!=="auto"?[]:[ta((w,_)=>{kD(w,4,vy(s.presets)).each(({numRows:L,numColumns:I})=>{No.setGridSize(w,L,I)})})])})))),I7=(t,s,l)=>f=>{const v=f.getSystem(),w=f.element,_=()=>{const I=Ua(w,"tox-split-button__chevron"),W=I?Zs(w).bind(oe=>v.getByDom(oe).toOptional()):U.some(f),X=I?U.some(f):Js(w).bind(oe=>v.getByDom(oe).toOptional().filter(me=>Ua(me.element,"tox-split-button__chevron")));return{mainOpt:W,chevronOpt:X}},L=I=>{const{mainOpt:W,chevronOpt:X}=_();W.each(I),X.each(I)};return{isEnabled:()=>{const{mainOpt:I}=_();return I.exists(W=>!Ao.isDisabled(W))},setEnabled:I=>L(W=>Ao.set(W,!I)),setText:I=>{const{mainOpt:W}=_();W.each(X=>$o(X,ih,{text:I}))},setIcon:I=>{const{mainOpt:W}=_();W.each(X=>$o(X,Fy,{icon:I}))},setIconFill:(I,W)=>L(X=>{Ur(X.element,`svg path[class="${I}"], rect[class="${I}"]`).each(oe=>{Io(oe,"fill",W)})}),isActive:()=>{const{mainOpt:I}=_();return I.exists(W=>ur.isOn(W))},setActive:I=>{const{mainOpt:W}=_();W.each(X=>ur.set(X,I))},setTooltip:I=>{t.set(I);const{mainOpt:W,chevronOpt:X}=_();W.each(me=>Io(me.element,"aria-label",s.providers.translate(I)));const oe=l.chevronTooltip.map(me=>s.providers.translate(me)).getOr(s.providers.translate(`${I} menu`));X.each(me=>Io(me.element,"aria-label",oe))}}},wA=(t,s,l)=>{const f=Pn(xe),v=Pn(t.tooltip.getOr("")),w=I7(v,s,t),_=_n("tox-split-menu"),L=Pn(!1),I=()=>({"aria-haspopup":"menu","aria-expanded":String(L.get()),"aria-controls":_}),W=()=>t.tooltip.map(Ue=>s.providers.translate(Ue)).getOr(s.providers.translate("Text color")),X=()=>t.chevronTooltip.map(Ue=>s.providers.translate(Ue)).getOrThunk(()=>{const Ue=W();return s.providers.translate(["{0} menu",Ue])}),oe=(Ue,Xe)=>{L.set(Ue),Io(Xe.element,"aria-expanded",String(Ue))},me=Ed.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Hg("chevron-down",s.providers.icons),attributes:{"aria-label":X(),...Ee(l)?{"data-mce-name":l+"-chevron"}:{},...I()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:On([hs("split-dropdown-events",[ta((Ue,Xe)=>z3(Ue)),Vp({getApi:w,onSetup:t.onSetup},f),Wt("alloy-dropdown-open",Ue=>oe(!0,Ue)),Wt("alloy-dropdown-close",Ue=>oe(!1,Ue))]),np.toolbarButton(()=>s.providers.checkUiComponentContext(t.context).shouldDisable),Vl(()=>s.providers.checkUiComponentContext(t.context)),BC.config({}),Gi.config(s.providers.tooltips.getConfig({tooltipText:X(),onShow:Ue=>{if(v.get()!==t.tooltip.getOr("")){const Xe=t.chevronTooltip.map(ze=>s.providers.translate(ze)).getOr(`${s.providers.translate(v.get())} menu`);Gi.setComponents(Ue,s.providers.tooltips.getComponents({tooltipText:Xe}))}}}))]),lazySink:s.getSink,fetch:KJ(w,t,s.providers),getHotspot:Ue=>Zs(Ue.element).bind(Xe=>Ue.getSystem().getByDom(Xe).toOptional()),onOpen:(Ue,Xe,ze)=>{zr.highlightBy(ze,it=>Ua(it.element,"tox-collection__item--active")),zr.getHighlighted(ze).each(No.focusIn)},parts:{menu:{...by(!1,t.columns,t.presets),dom:{...by(!1,t.columns,t.presets).dom,tag:"div",attributes:{id:_}}}}}),Oe=NL(t.icon,t.text,U.none(),U.some([ur.config({toggleClass:"tox-tbtn--enabled",aria:t.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...t.tooltip.isSome()?[Gi.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(t.tooltip.getOr("")),onShow:Ue=>{if(v.get()!==t.tooltip.getOr("")){const Xe=s.providers.translate(v.get());Gi.setComponents(Ue,s.providers.tooltips.getComponents({tooltipText:Xe}))}}}))]:[]]),s.providers,t.context,l);return[su.sketch({dom:{...Oe.dom,classes:["tox-tbtn","tox-split-button__main"].concat(t.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":W(),...Ee(l)?{"data-mce-name":l}:{}}},components:Oe.components,eventOrder:Oe.eventOrder,buttonBehaviours:Oe.buttonBehaviours,action:Ue=>{if(t.onAction){const Xe=w(Ue);Xe.isEnabled()&&t.onAction(Xe)}}}),me]},LL=".tox-toolbar-slider__input,.tox-toolbar-textfield",PL=t=>{ka.getContent(t).each(s=>{Ur(s.element,LL).fold(()=>No.focusIn(s),sl)})},P1=t=>Ma(t.element).each(s=>{ku(s,'[tabindex="-1"]').each(l=>{sl(l)})}),IL=_n("forward-slide"),CA=_n("backward-slide"),FL=_n("change-slide-event"),BL="tox-pop--resizing",XJ=t=>{const s=Pn([]);return{sketch:ka.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{s.set([]),ka.getContent(f).each(v=>{qs(v.element,"visibility")}),Ui(f.element,BL),qs(f.element,"width")},onHide:()=>{s.set([]),t.onHide()},inlineBehaviours:On([hs("context-toolbar-events",[Vv(Ud(),(f,v)=>{v.event.raw.propertyName==="width"&&(Ui(f.element,BL),qs(f.element,"width"))}),Wt(FL,(f,v)=>{const w=f.element;qs(w,"width");const _=rl(w),L=Ma(f.element).isSome();qs(w,"left"),qs(w,"right"),qs(w,"max-width"),ka.setContent(f,v.event.contents),Hr(w,BL);const I=rl(w);vo(w,"transition","none"),ka.reposition(f),qs(w,"transition"),vo(w,"width",_+"px"),v.event.focus.fold(()=>{L&&PL(f)},W=>{qa(Ii(f.element)).fold(()=>sl(W),X=>{fe(X,W)||t.focusElement(W)})}),setTimeout(()=>{vo(f.element,"width",I+"px")},0)}),Wt(IL,(f,v)=>{ka.getContent(f).each(w=>{s.set(s.get().concat([{bar:w,focus:qa(Ii(f.element))}]))}),$o(f,FL,{contents:v.event.forwardContents,focus:U.none()})}),Wt(CA,(f,v)=>{t.onBack(),Vt(s.get()).each(w=>{s.set(s.get().slice(0,s.get().length-1)),$o(f,FL,{contents:N(w.bar),focus:w.focus})})})]),No.config({mode:"special",onEscape:f=>Vt(s.get()).fold(()=>t.onEscape(),v=>(Ys(f,CA),U.some(!0)))})]),lazySink:()=>io.value(t.sink)}),inSubtoolbar:()=>s.get().length>0}},JJ=(t,s)=>{const l=x(FR({type:"button",icon:"chevron-left",tooltip:"Back",onAction:xe}));return RL(l,s.shared.providers,[Wt(K2,f=>{Ys(f,CA)})])},mS=(t,s,l)=>ds(l)?t.translate(s):t.translate([s,t.translate(l)]),QJ=(t,s)=>{const l=(_,L,I,W)=>{const X=t.shared.providers.translate(_.title);if(_.type==="separator")return U.some({type:"separator",text:X});if(_.type==="submenu"){const oe=vt(_.getStyleItems(),me=>f(me,L,W));return L===0&&oe.length<=0?U.none():U.some({type:"nestedmenuitem",text:X,enabled:oe.length>0,getSubmenuItems:()=>vt(_.getStyleItems(),me=>f(me,L,W))})}else return U.some({type:"togglemenuitem",text:X,icon:_.icon,active:_.isSelected(W),enabled:!I,onAction:s.onAction(_),..._.getStylePreview().fold(()=>({}),oe=>({meta:{style:oe}}))})},f=(_,L,I)=>{const W=_.type==="formatter"&&s.isInvalid(_);return L===0?W?[]:l(_,L,!1,I).toArray():l(_,L,W,I).toArray()},v=_=>{const L=s.getCurrentValue(),I=s.shouldHide?0:1;return vt(_,W=>f(W,I,L))};return{validateItems:v,getFetch:(_,L)=>(I,W)=>{const X=L(),oe=v(X),me=By(oe,Jm.CLOSE_ON_EXECUTE,_,{isHorizontalMenu:!1,search:U.none()});W(me)}}},zy=(t,s)=>{const l=s.dataset,f=l.type==="basic"?()=>Yt(l.data,v=>Q8(v,s.isSelectedFor,s.getPreviewFor)):l.getData;return{items:QJ(t,s),getStyleItems:f}},i_=(t,s,l,f,v,w)=>{const{items:_,getStyleItems:L}=zy(s,l),I=Pn(l.tooltip),W=oe=>({getComponent:P(oe),setTooltip:me=>{const Oe=s.shared.providers.translate(me);Io(oe.element,"aria-label",Oe),I.set(me)}}),X=oe=>{const me=Oe=>oe.setTooltip(mS(t,f(Oe.value),Oe.value));return t.on(v,me),RD(N1(t,"NodeChange",Oe=>{const Ne=Oe.getComponent();l.updateText(Ne),Ao.set(Oe.getComponent(),!t.selection.isEditable()||L().length===0)})(oe),()=>t.off(v,me))};return Qh({context:"mode:design",text:l.icon.isSome()?U.none():l.text,icon:l.icon,ariaLabel:U.some(l.tooltip),tooltip:U.none(),role:U.none(),fetch:_.getFetch(s,L),onSetup:X,getApi:W,columns:1,presets:"normal",classes:l.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Gi.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(l.tooltip),onShow:oe=>{if(l.tooltip!==I.get()){const me=s.shared.providers.translate(I.get());Gi.setComponents(oe,s.shared.providers.tooltips.getComponents({tooltipText:me}))}}})})]},"tox-tbtn",s.shared,w)},eQ=t=>Yt(t,s=>{let l=s,f=s;const v=s.split("=");return v.length>1&&(l=v[0],f=v[1]),{title:l,format:f}}),$L=t=>({type:"basic",data:t});var pS;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(pS||(pS={}));const tQ=(t,s)=>s===pS.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),HL=(t,s,l)=>{const f=t.options.get(s);return{type:"basic",data:eQ(tQ(f,l))}},nQ="Align",F7=P("Alignment {0}"),B7="left",SA=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],zL=t=>{const s=()=>fo(SA,L=>t.formatter.match(L.format)),l=L=>()=>t.formatter.match(L),f=L=>U.none,v=L=>{const W=s().fold(P(B7),X=>X.title.toLowerCase());$o(L,Fy,{icon:`align-${W}`}),m3(t,{value:W})},w=$L(SA),_=L=>()=>fo(SA,I=>I.format===L.format).each(I=>t.execCommand(I.command));return{tooltip:mS(t,F7(),B7),text:U.none(),icon:U.some("align-left"),isSelectedFor:l,getCurrentValue:U.none,getPreviewFor:f,onAction:_,updateText:v,dataset:w,shouldHide:!1,isInvalid:L=>!t.formatter.canApply(L.format)}},$7=(t,s)=>i_(t,s,zL(t),F7,"AlignTextUpdate","align"),oQ=(t,s)=>{const l=zy(s,zL(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(nQ),onSetup:sd(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},VL=(t,s)=>{const l=s(),f=Yt(l,v=>v.format);return U.from(t.formatter.closest(f)).bind(v=>fo(l,w=>w.format===v))},sQ="Blocks",H7=P("Block {0}"),UL="Paragraph",WL=t=>{const s=w=>()=>t.formatter.match(w),l=w=>()=>{const _=t.formatter.get(w);return _?U.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):U.none()},f=w=>{const L=VL(t,()=>v.data).fold(P(UL),I=>I.title);$o(w,ih,{text:L}),XG(t,{value:L})},v=HL(t,"block_formats",pS.SemiColon);return{tooltip:mS(t,H7(),UL),text:U.some(UL),icon:U.none(),isSelectedFor:s,getCurrentValue:U.none,getPreviewFor:l,onAction:p3(t),updateText:f,dataset:v,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},rQ=(t,s)=>i_(t,s,WL(t),H7,"BlocksTextUpdate","blocks"),z7=(t,s)=>{const l=zy(s,WL(t));t.ui.registry.addNestedMenuItem("blocks",{text:sQ,onSetup:sd(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},iQ="Fonts",V7=P("Font {0}"),jL="System Font",aQ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],U7=t=>{const s=t.split(/\s*,\s*/);return Yt(s,l=>l.replace(/^['"]+|['"]+$/g,""))},W7=(t,s)=>s.length>0&&Un(s,l=>t.indexOf(l.toLowerCase())>-1),lQ=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const l=U7(t.toLowerCase());return W7(l,aQ)||W7(l,s)}else return!1},ZL=t=>{const s=()=>{const I=Ne=>Ne?U7(Ne)[0]:"",W=t.queryCommandValue("FontName"),X=L.data,oe=W?W.toLowerCase():"",me=h5(t);return{matchOpt:fo(X,Ne=>{const Ue=Ne.format;return Ue.toLowerCase()===oe||I(Ue).toLowerCase()===I(oe).toLowerCase()}).orThunk(()=>oa(lQ(oe,me),{title:jL,format:oe})),font:W}},l=I=>W=>W.exists(X=>X.format===I),f=()=>{const{matchOpt:I}=s();return I},v=I=>()=>U.some({tag:"div",styles:I.indexOf("dings")===-1?{"font-family":I}:{}}),w=I=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,I.format)})},_=I=>{const{matchOpt:W,font:X}=s(),oe=W.fold(P(X),me=>me.title);$o(I,ih,{text:oe}),JG(t,{value:oe})},L=HL(t,"font_family_formats",pS.SemiColon);return{tooltip:mS(t,V7(),jL),text:U.some(jL),icon:U.none(),isSelectedFor:l,getCurrentValue:f,getPreviewFor:v,onAction:w,updateText:_,dataset:L,shouldHide:!1,isInvalid:wn}},cQ=(t,s)=>i_(t,s,ZL(t),V7,"FontFamilyTextUpdate","fontfamily"),uQ=(t,s)=>{const l=zy(s,ZL(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(iQ),onSetup:sd(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})};var xA=tinymce.util.Tools.resolve("tinymce.util.VK");const dQ=(t,s,l,f)=>{let v=U.none();const w=ht=>ht.map(Dt=>jn.getValue(Dt)).getOr(""),_=N1(t,"NodeChange SwitchMode DisabledStateChange",ht=>{const Dt=ht.getComponent();v=U.some(Dt),l.updateInputValue(Dt),Ao.set(Dt,!t.selection.isEditable()||Gh(t))}),L=ht=>({getComponent:P(ht)}),I=Pn(xe),W=_n("custom-number-input-events"),X=(ht,Dt,Rt)=>{const $n=w(v),rn=l.getNewValue($n,ht),bn=$n.length-`${rn}`.length,hn=v.map(_o=>_o.element.dom.selectionStart-bn),zo=v.map(_o=>_o.element.dom.selectionEnd-bn);l.onAction(rn,Rt),v.each(_o=>{jn.setValue(_o,rn),Dt&&(hn.each(sr=>_o.element.dom.selectionStart=sr),zo.each(sr=>_o.element.dom.selectionEnd=sr))})},oe=(ht,Dt)=>X((Rt,$n)=>Rt-$n,ht,Dt),me=(ht,Dt)=>X((Rt,$n)=>Rt+$n,ht,Dt),Oe=ht=>So(ht.element).fold(U.none,Dt=>(sl(Dt),U.some(!0))),Ne=ht=>wc(ht.element)?(no(ht.element).each(Dt=>sl(Dt)),U.some(!0)):U.none(),Ue=(ht,Dt,Rt,$n)=>{const rn=Pn(xe),bn=s.shared.providers.translate(Rt),hn=_n("altExecuting"),zo=N1(t,"NodeChange SwitchMode DisabledStateChange",sr=>{Ao.set(sr.getComponent(),!t.selection.isEditable()||Gh(t))}),_o=sr=>{Ao.isDisabled(sr)||ht(!0)};return su.sketch({dom:{tag:"button",attributes:{"aria-label":bn,"data-mce-name":Dt},classes:$n.concat(Dt)},components:[U3(Dt,s.shared.providers.icons)],buttonBehaviours:On([Ao.config({}),Gi.config(s.shared.providers.tooltips.getConfig({tooltipText:bn})),hs(hn,[Vp({onSetup:zo,getApi:L},rn),Dy({getApi:L},rn),Wt(dc(),(sr,Zo)=>{(Zo.event.raw.keyCode===xA.SPACEBAR||Zo.event.raw.keyCode===xA.ENTER)&&(Ao.isDisabled(sr)||ht(!1))}),Wt(km(),_o),Wt(_v(),_o)])]),eventOrder:{[dc()]:[hn,"keying"],[km()]:[hn,"alloy.base.behaviour"],[_v()]:[hn,"alloy.base.behaviour"],[Nh()]:["alloy.base.behaviour",hn,"tooltipping"],[Dp()]:[hn,"tooltipping"]}})},Xe=Zr(Ue(ht=>oe(!1,ht),"minus","Decrease font size",[])),ze=Zr(Ue(ht=>me(!1,ht),"plus","Increase font size",[])),it=Zr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[qh.sketch({inputBehaviours:On([Ao.config({}),hs(W,[Vp({onSetup:_,getApi:L},I),Dy({getApi:L},I)]),hs("input-update-display-text",[Wt(ih,(ht,Dt)=>{jn.setValue(ht,Dt.event.text)}),Wt(bw(),ht=>{l.onAction(jn.getValue(ht))}),Wt(Tv(),ht=>{l.onAction(jn.getValue(ht))})]),No.config({mode:"special",onEnter:ht=>(X(mn,!0,!0),U.some(!0)),onEscape:Oe,onUp:ht=>(me(!0,!1),U.some(!0)),onDown:ht=>(oe(!0,!1),U.some(!0)),onLeft:(ht,Dt)=>(Dt.cut(),U.none()),onRight:(ht,Dt)=>(Dt.cut(),U.none())})])})],behaviours:On([ps.config({}),No.config({mode:"special",onEnter:Ne,onSpace:Ne,onEscape:Oe}),hs("input-wrapper-events",[Wt(zf(),ht=>{yt([Xe,ze],Dt=>{const Rt=Tn.fromDom(Dt.get(ht).element.dom);wc(Rt)&&zi(Rt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ee(f)?{"data-mce-name":f}:{}}},components:[Xe.asSpec(),it.asSpec(),ze.asSpec()],behaviours:On([ps.config({}),No.config({mode:"flow",focusInside:Zf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ht=>wc(ht.element)?U.none():(sl(ht.element),U.some(!0))})])}},fQ="Font sizes",j7=P("Font size {0}"),Z7="12pt",q7={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},hQ={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},mQ=(t,s)=>{const l=Math.pow(10,s);return Math.round(t*l)/l},Y7=(t,s)=>/[0-9.]+px$/.test(t)?mQ(parseInt(t,10)*72/96,s||0)+"pt":Mn(hQ,t).getOr(t),pQ=t=>Mn(q7,t).getOr(""),qL=t=>{const s=()=>{let I=U.none();const W=L.data,X=t.queryCommandValue("FontSize");if(X)for(let oe=3;I.isNone()&&oe>=0;oe--){const me=Y7(X,oe),Oe=pQ(me);I=fo(W,Ne=>Ne.format===X||Ne.format===me||Ne.format===Oe)}return{matchOpt:I,size:X}},l=I=>W=>W.exists(X=>X.format===I),f=()=>{const{matchOpt:I}=s();return I},v=P(U.none),w=I=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,I.format)})},_=I=>{const{matchOpt:W,size:X}=s(),oe=W.fold(P(X),me=>me.title);$o(I,ih,{text:oe}),KG(t,{value:oe})},L=HL(t,"font_size_formats",pS.Space);return{tooltip:mS(t,j7(),Z7),text:U.some(Z7),icon:U.none(),isSelectedFor:l,getPreviewFor:v,getCurrentValue:f,onAction:w,updateText:_,dataset:L,shouldHide:!1,isInvalid:wn}},G7=(t,s)=>i_(t,s,qL(t),j7,"FontSizeTextUpdate","fontsize"),gQ=t=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t]??s},vQ=16,bQ=t=>t>=0,gS=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:f=>$o(f,ih,{text:s()}),onAction:(f,v)=>t.execCommand("FontSize",!1,f,{skip_focus:!v}),getNewValue:(f,v)=>{br(f,["unsupportedLength","empty"]);const w=s(),_=br(f,["unsupportedLength","empty"]).or(br(w,["unsupportedLength","empty"])),L=_.map(me=>me.value).getOr(vQ),I=s5(t),W=_.map(me=>me.unit).filter(me=>me!=="").getOr(I),X=v(L,gQ(W).step),oe=`${bQ(X)?X:L}${W}`;return oe!==w&&l6(t,{value:oe}),oe}}},yQ=(t,s)=>dQ(t,s,gS(t),"fontsizeinput"),wQ=(t,s)=>{const l=zy(s,qL(t));t.ui.registry.addNestedMenuItem("fontsize",{text:fQ,onSetup:sd(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},CQ="Formats",K7=t=>ds(t)?"Formats":"Format {0}",X7=(t,s)=>{const l="Formats",f=_=>()=>t.formatter.match(_),v=_=>()=>{const L=t.formatter.get(_);return L!==void 0?U.some({tag:L.length>0&&(L[0].inline||L[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(_))}):U.none()},w=_=>{const L=oe=>G8(oe)?vt(oe.items,L):K8(oe)?[{title:oe.title,format:oe.format}]:[],I=vt(cL(t),L),X=VL(t,P(I)).fold(P({title:l,tooltipLabel:""}),oe=>({title:oe.title,tooltipLabel:oe.title}));$o(_,ih,{text:X.title}),GG(t,{value:X.tooltipLabel})};return{tooltip:mS(t,K7(""),""),text:U.some(l),icon:U.none(),isSelectedFor:f,getCurrentValue:U.none,getPreviewFor:v,onAction:p3(t),updateText:w,shouldHide:G$(t),isInvalid:_=>!t.formatter.canApply(_.format),dataset:s}},SQ=(t,s)=>{const l={type:"advanced",...s.styles};return i_(t,s,X7(t,l),K7,"StylesTextUpdate","styles")},xQ=(t,s)=>{const l={type:"advanced",...s.styles},f=zy(s,X7(t,l));t.ui.registry.addNestedMenuItem("styles",{text:CQ,onSetup:sd(t,()=>f.getStyleItems().length>0),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},_Q=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Vy=(t,s)=>(l,f,v,w)=>{const _=t(l).mapError(L=>D(L)).getOrDie();return s(_,f,v,w)},TQ={button:Vy(FR,(t,s,l,f)=>YJ(t,s.shared.providers,f)),togglebutton:Vy(xH,(t,s,l,f)=>GJ(t,s.shared.providers,f)),menubutton:Vy(fH,(t,s,l,f)=>cS(t,"tox-tbtn",s,U.none(),!1,f)),splitbutton:Vy(QC,(t,s,l,f)=>wA(t,s.shared,f)),grouptoolbarbutton:Vy(RG,(t,s,l,f)=>{const v=l.ui.registry.getAll().buttons,w=L=>_A(l,{buttons:v,toolbar:L,allowToolbarGroups:!1},s,U.none()),_={[cx]:s.shared.header.isPositionedAtTop()?Pm.TopToBottom:Pm.BottomToTop};switch(dy(l)){case nh.floating:return qJ(t,s,w,_,f);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},EQ=(t,s,l,f)=>Mn(TQ,t.type).fold(()=>(console.error("skipping button defined by",t),U.none()),v=>U.some(v(t,s,l,f))),YL={styles:SQ,fontsize:G7,fontsizeinput:yQ,fontfamily:cQ,blocks:rQ,align:$7,navigateback:JJ},J7=t=>{const s=Yt(_Q,l=>{const f=fs(l.items,v=>go(t,v)||go(YL,v));return{name:l.name,items:f}});return fs(s,l=>l.items.length>0)},kQ=t=>{const s=t.split("|");return Yt(s,l=>({items:l.trim().split(" ")}))},DQ=t=>Je(t,s=>(go(s,"name")||go(s,"label"))&&go(s,"items")),AQ=t=>{const s=t.toolbar,l=t.buttons;return s===!1?[]:s===void 0||s===!0?J7(l):H(s)?kQ(s):DQ(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},OQ=(t,s,l,f,v,w)=>Mn(s,l.toLowerCase()).orThunk(()=>w.bind(_=>de(_,L=>Mn(s,L+l.toLowerCase())))).fold(()=>Mn(YL,l.toLowerCase()).map(_=>_(t,v)),_=>_.type==="grouptoolbarbutton"&&!f?(console.warn(`Ignoring the '${l}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),U.none()):EQ(_,v,t,l.toLowerCase())),_A=(t,s,l,f)=>{const v=AQ(s),w=Yt(v,_=>{const L=vt(_.items,I=>I.trim().length===0?[]:OQ(t,s.buttons,I,s.allowToolbarGroups,l,f).map(W=>Array.isArray(W)?W:[W]).getOr([]));return{title:U.from(t.translate(_.name)),label:oa(_.label!==void 0,t.translate(_.label)),items:L}});return fs(w,_=>_.items.length>0)},Q7=(t,s,l,f)=>{const v=s.mainUi.outerContainer,w=l.toolbar,_=l.buttons;if(Je(w,H)){const L=w.map(I=>{const W={toolbar:I,buttons:_,allowToolbarGroups:l.allowToolbarGroups};return _A(t,W,f,U.none())});Ei.setToolbars(v,L)}else Ei.setToolbar(v,_A(t,l,f,U.none()))},GL=xi(),MQ=GL.os.isiOS()&&GL.os.version.major<=12,NQ=(t,s)=>{const{uiMotherships:l}=s,f=t.dom;let v=t.getWin();const w=t.getDoc().documentElement,_=Pn($r(v.innerWidth,v.innerHeight)),L=Pn($r(w.offsetWidth,w.offsetHeight)),I=()=>{const me=_.get();(me.left!==v.innerWidth||me.top!==v.innerHeight)&&(_.set($r(v.innerWidth,v.innerHeight)),rS(t))},W=()=>{const me=t.getDoc().documentElement,Oe=L.get();(Oe.left!==me.offsetWidth||Oe.top!==me.offsetHeight)&&(L.set($r(me.offsetWidth,me.offsetHeight)),rS(t))},X=me=>{qG(t,me)};f.bind(v,"resize",I),f.bind(v,"scroll",X);const oe=Su(Tn.fromDom(t.getBody()),"load",W);t.on("hide",()=>{yt(l,me=>{vo(me.element,"display","none")})}),t.on("show",()=>{yt(l,me=>{qs(me.element,"display")})}),t.on("NodeChange",W),t.on("remove",()=>{oe.unbind(),f.unbind(v,"resize",I),f.unbind(v,"scroll",X),v=null})},RQ=(t,s,l)=>{S1(t)&&Um(l.mainUi.mothership.element,l.popupUi.mothership),Y0(s,l.dialogUi.mothership)};var TA=Object.freeze({__proto__:null,render:(t,s,l,f,v)=>{const{mainUi:w,uiMotherships:_}=s,L=Pn(0),I=w.outerContainer;WJ(t);const W=Tn.fromDom(v.targetNode),X=ma(Ii(W));Um(W,w.mothership),RQ(t,X,s),t.on("PostRender",()=>{Ei.setSidebar(I,l.sidebar,$4(t))}),t.on("SkinLoaded",()=>{Q7(t,s,l,f),L.set(t.getWin().innerWidth),Ei.setMenubar(I,A7(t,l)),Ei.setViews(I,l.views),NQ(t,s)});const oe=Ei.getSocket(I).getOrDie("Could not find expected socket element");if(MQ){xr(oe.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Ue=vi(()=>{t.dispatch("ScrollContent")},20),Xe=kr(oe.element,"scroll",Ue.throttle);t.on("remove",Xe.unbind)}BH(t,s),t.addCommand("ToggleSidebar",(Ue,Xe)=>{Ei.toggleSidebar(I,Xe),QG(t)}),t.addQueryValueHandler("ToggleSidebar",()=>Ei.whichSidebar(I)??""),t.addCommand("ToggleView",(Ue,Xe)=>{if(Ei.toggleView(I,Xe)){const ze=I.element;w.mothership.broadcastOn([Pp()],{target:ze}),yt(_,it=>{it.broadcastOn([Pp()],{target:ze})}),Se(Ei.whichView(I))&&(t.focus(),t.nodeChanged(),Ei.refreshToolbar(I)),c6(t)}}),t.addQueryValueHandler("ToggleView",()=>Ei.whichView(I)??"");const me=dy(t),Oe=()=>{Ei.refreshToolbar(s.mainUi.outerContainer)};(me===nh.sliding||me===nh.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Ue=t.getWin().innerWidth;Ue!==L.get()&&(Oe(),L.set(Ue))});const Ne={setEnabled:Ue=>{B2(s,Ue?"setEnabled":"setDisabled")},isEnabled:()=>!Ao.isDisabled(I)};return{iframeContainer:oe.element.dom,editorContainer:I.element.dom,api:Ne}}});const LQ=t=>/^[0-9\.]+(|px)$/i.test(""+t)?U.some(parseInt(""+t,10)):U.none(),vS=t=>at(t)?t+"px":t,Uy=(t,s,l)=>{const f=s.filter(w=>t<w),v=l.filter(w=>t>w);return f.or(v).getOr(t)},ez=(t,s)=>{if(typeof s=="number")return U.from(s);const l=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(l){const f=l[2],v=Number.parseFloat(l[1]);if(Number.isNaN(v)||v<0)return U.none();if(f==="em")return U.from(v*Number.parseFloat(window.getComputedStyle(t.dom).fontSize));if(f==="pt")return U.from(v*(72/96));if(f==="px")return U.from(v)}return U.none()},PQ=t=>{const s=ez(Tn.fromDom(t.targetElm),N4(t)),l=Ql(t),f=L4(t);return s.map(v=>Uy(v,l,f))},IQ=t=>PQ(t).getOr(N4(t)),tz=t=>{const s=R4(t),l=y2(t),f=nD(t);return LQ(s).map(v=>Uy(v,l,f))},FQ=t=>tz(t).getOr(R4(t)),{ToolbarLocation:KL,ToolbarMode:a_}=Sq,nz=40,oz=(t,s,l,f,v)=>{const{mainUi:w,uiMotherships:_}=l,L=v2.DOM,I=WC(t),W=jC(t),X=nD(t).or(tz(t)),oe=f.shared.header,me=oe.isPositionedAtTop,Oe=150,Ne=dy(t),Ue=Ne===a_.sliding||Ne===a_.floating,Xe=Pn(!1),ze=()=>Xe.get()&&!t.removed,it=wo=>Ue?wo.fold(P(0),nn=>nn.components().length>1?Ka(nn.components()[1].element):0):0,ht=wo=>{switch(P4(t)){case KL.auto:const nn=Ei.getToolbar(w.outerContainer),Bn=it(nn),es=Ka(wo.element)-Bn,Os=Xa(s);if(Os.y>es)return"top";{const Es=Xt(s),oi=Math.max(Es.dom.scrollHeight,Ka(Es));return Os.bottom<oi-es||cc().bottom<Os.bottom-es?"bottom":"top"}case KL.bottom:return"bottom";case KL.top:default:return"top"}},Dt=wo=>{v.on(nn=>{Ea.setModes(nn,[wo]),oe.setDockingMode(wo);const Bn=me()?Pm.TopToBottom:Pm.BottomToTop;Io(nn.element,cx,Bn)})},Rt=()=>{v.on(wo=>{const nn=X.getOrThunk(()=>hd().width-_r(s).left-10);vo(wo.element,"max-width",nn+"px")})},$n=(wo,nn)=>{v.on(Bn=>{const es=Ei.getToolbar(w.outerContainer),Os=it(es),Ro=Xa(s),Es=rn(t,w.outerContainer.element),oi=()=>Es.fold(()=>Ro.x,Dc=>{const lh=Xa(Dc);return fe(Dc,uu())?Ro.x:Ro.x-lh.x}),Xr=()=>Es.fold(()=>me()?Math.max(Ro.y-Ka(Bn.element)+Os,0):Ro.bottom,Dc=>{const lh=Xa(Dc),tf=Dc.dom.scrollTop??0,qg=fe(Dc,uu())?Math.max(Ro.y-Ka(Bn.element)+Os,0):Ro.y-lh.y+tf-Ka(Bn.element)+Os;return me()?qg:Ro.bottom}),id=oi(),wa=oa(wo,Math.ceil(w.outerContainer.element.dom.getBoundingClientRect().width)).filter(Dc=>Dc>Oe).map(Dc=>{const lh=nn.getOr(ai()),tf=window.innerWidth-(id-lh.left),tm=Math.max(Math.min(Dc,tf),Oe);return tf<Dc&&vo(w.outerContainer.element,"width",tm+"px"),{width:tm+"px"}}).getOr({width:"max-content"}),ef={position:"absolute",left:Math.round(id)+"px",top:Xr()+"px"};xr(w.outerContainer.element,{...ef,...wa})})},rn=(wo,nn)=>S1(wo)?Cm(nn):U.none(),bn=()=>{yt(_,wo=>{wo.broadcastOn([nu()],{})})},hn=()=>!I&&(ra(w.outerContainer.element).left+af(w.outerContainer.element)>=window.innerWidth-nz||_i(w.outerContainer.element,"width").isSome())?(vo(w.outerContainer.element,"position","absolute"),vo(w.outerContainer.element,"left","0px"),qs(w.outerContainer.element,"width"),!0):!1,zo=wo=>{if(!ze())return;I||Rt();const nn=ai(),Bn=I?!1:hn();if(Ue&&Ei.refreshToolbar(w.outerContainer),!I){const es=ai(),Os=oa(nn.left!==es.left,nn);$n(Bn,Os),Os.each(Ro=>{Rc(Ro.left,es.top)})}W&&v.on(wo),bn()},_o=()=>I||!W||!ze()?!1:v.get().exists(wo=>{const nn=oe.getDockingMode(),Bn=ht(wo);return Bn!==nn?(Dt(Bn),!0):!1});return{isVisible:ze,isPositionedAtTop:me,show:()=>{Xe.set(!0),vo(w.outerContainer.element,"display","flex"),L.addClass(t.getBody(),"mce-edit-focus"),yt(_,wo=>{qs(wo.element,"display")}),_o(),S1(t)?zo(wo=>Ea.isDocked(wo)?Ea.reset(wo):Ea.refresh(wo)):zo(Ea.refresh)},hide:()=>{Xe.set(!1),vo(w.outerContainer.element,"display","none"),L.removeClass(t.getBody(),"mce-edit-focus"),yt(_,wo=>{vo(wo.element,"display","none")})},update:zo,updateMode:()=>{_o()&&zo(Ea.reset)},repositionPopups:bn}},XL=(t,s)=>{const l=Xa(t);return{pos:s?l.y:l.bottom,bounds:l}},sz=(t,s,l,f)=>{const v=Pn(XL(s,l.isPositionedAtTop())),w=W=>{const{pos:X,bounds:oe}=XL(s,l.isPositionedAtTop()),{pos:me,bounds:Oe}=v.get(),Ne=oe.height!==Oe.height||oe.width!==Oe.width;v.set({pos:X,bounds:oe}),Ne&&rS(t,W),l.isVisible()&&(me!==X?l.update(Ea.reset):Ne&&(l.updateMode(),l.repositionPopups()))};f||(t.on("activate",l.show),t.on("deactivate",l.hide)),t.on("SkinLoaded ResizeWindow",()=>l.update(Ea.reset)),t.on("NodeChange keydown",W=>{requestAnimationFrame(()=>w(W))});let _=0;const L=dr(()=>l.update(Ea.refresh),33);t.on("ScrollWindow",()=>{const W=ai().left;W!==_&&(_=W,L.throttle()),l.updateMode()}),S1(t)&&t.on("ElementScroll",W=>{l.update(Ea.refresh)});const I=Si();I.set(Su(Tn.fromDom(t.getBody()),"load",W=>w(W.raw))),t.on("remove",()=>{I.clear()})};var rz=Object.freeze({__proto__:null,render:(t,s,l,f,v)=>{const{mainUi:w}=s,_=Po(),L=Tn.fromDom(v.targetNode),I=oz(t,L,s,f,_),W=Q$(t);jJ(t);const X=()=>{if(_.isSet()){I.show();return}_.set(Ei.getHeader(w.outerContainer).getOrDie());const me=iD(t);S1(t)?(Um(L,w.mothership),Um(L,s.popupUi.mothership)):Y0(me,w.mothership),Y0(me,s.dialogUi.mothership);const Oe=()=>{Q7(t,s,l,f),Ei.setMenubar(w.outerContainer,A7(t,l)),I.show(),sz(t,L,I,W),t.nodeChanged()};W?t.once("SkinLoaded",Oe):Oe()};t.on("show",X),t.on("hide",I.hide),W||(t.on("focus",X),t.on("blur",I.hide)),t.on("init",()=>{(t.hasFocus()||W)&&X()}),BH(t,s);const oe={show:X,hide:I.hide,setEnabled:me=>{B2(s,me?"setEnabled":"setDisabled")},isEnabled:()=>!Ao.isDisabled(w.outerContainer)};return{editorContainer:w.outerContainer.element.dom,api:oe}}});const BQ=()=>{const t=Po(),s=Po(),l=Po();return{dialogUi:t,popupUi:s,mainUi:l,getUiMotherships:()=>{const w=t.get().map(L=>L.mothership),_=s.get().map(L=>L.mothership);return w.fold(()=>_.toArray(),L=>_.fold(()=>[L],I=>fe(L.element,I.element)?[L]:[L,I]))},lazyGetInOuterOrDie:(w,_)=>()=>l.get().bind(L=>_(L.outerContainer)).getOrDie(`Could not find ${w} element in OuterContainer`)}},$Q="contexttoolbar-show",iz="contexttoolbar-hide",JL=(t,s,l)=>({setInputEnabled:f=>{!f&&l&&sl(l),Ao.set(t,!f)},isInputEnabled:()=>!Ao.isDisabled(t),hide:()=>{Ys(t,yw())},back:()=>{Ys(t,CA)},getValue:()=>s.get().getOrThunk(()=>jn.getValue(t)),setValue:f=>{t.getSystem().isConnected()?jn.setValue(t,f):s.set(f)}}),EA=(t,s,l)=>{const v=vn(t.element).bind(w=>t.getSystem().getByDom(w).toOptional());return JL(v.getOr(t),s,l)},bS=(t,s,l)=>Wt(K2,(f,v)=>{const w=t.get(f),_=JL(w,l,f.element);s.onAction(_,v.event.buttonApi)}),HQ=(t,s,l,f)=>{const{primary:v,...w}=s.original,_=x(FR({...w,type:"button",onAction:xe}));return RL(_,l,[bS(t,s,f)])},zQ=(t,s,l,f)=>{const{primary:v,...w}=s.original,_=x(xH({...w,type:"togglebutton",onAction:xe}));return P7(_,l,[bS(t,s,f)])},VQ=t=>t.type==="contextformtogglebutton",az=(t,s,l,f)=>VQ(s)?zQ(t,s,l,f):HQ(t,s,l,f),lz=(t,s,l,f)=>{const v=Yt(s,L=>Zr(az(t,L,l,f)));return{asSpecs:()=>Yt(v,L=>L.asSpec()),findPrimary:L=>de(s,(I,W)=>I.primary?U.from(v[W]).bind(X=>X.getOpt(L)).filter(et(Ao.isDisabled)):U.none())}},cz=(t,s,l,f)=>{const{width:v,height:w}=t.initValue();let _=tA;const L=_n("ratio-event"),I=rn=>JL(rn,f),W=rn=>oh(rn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+rn]},s.icons),X=()=>!1,oe=t.label.getOr("Constrain proportions"),me=s.translate(oe),Oe=gl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":me,"data-mce-name":oe}},components:[W("lock"),W("unlock")],buttonBehaviours:On([Ao.config({disabled:X}),Yi.config({}),Gi.config(s.tooltips.getConfig({tooltipText:me}))])}),Ne=rn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:rn}),Ue=rn=>ku(rn.element,"div.tox-focusable-wrapper").fold(U.none,hn=>(sl(hn),U.some(!0))),Xe=rn=>tr.parts.field({factory:qh,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:rn?v:w,inputBehaviours:On([Ao.config({disabled:X}),Yi.config({}),hs("size-input-toolbar-events",[Wt(Vf(),(bn,hn)=>{$o(bn,L,{isField1:rn})})]),No.config({mode:"special",onEnter:l,onEscape:Ue})]),selectOnFocus:!1}),ze=rn=>({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(rn))]}),it=rn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[rn],behaviours:On([Yi.config({}),ps.config({}),No.config({mode:"special",onEnter:bn=>Ur(bn.element,"input").fold(U.none,zo=>(sl(zo),U.some(!0)))})])}),ht=it(gl.parts.field1(Ne([tr.parts.label(ze("Width:")),Xe(!0)]))),Dt=it(gl.parts.field2(Ne([tr.parts.label(ze("Height:")),Xe(!1)]))),Rt=Pn(xe),$n=[Vp({onBeforeSetup:rn=>Ur(rn.element,"input").each(sl),onSetup:t.onSetup,getApi:I},Rt),DD({getApi:I},Rt,f)];return gl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[ht,Ne([Oe]),Dt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(rn,bn,hn)=>{eA(jn.getValue(rn)).each(zo=>{_(zo).each(_o=>{jn.setValue(bn,x8(_o))})})},onInput:rn=>Ys(rn,A3),coupledFieldBehaviours:On([ps.config({}),No.config({mode:"flow",focusInside:Zf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Ao.config({disabled:X,onDisabled:rn=>{gl.getField1(rn).bind(tr.getField).each(Ao.disable),gl.getField2(rn).bind(tr.getField).each(Ao.disable),gl.getLock(rn).each(Ao.disable)},onEnabled:rn=>{gl.getField1(rn).bind(tr.getField).each(Ao.enable),gl.getField2(rn).bind(tr.getField).each(Ao.enable),gl.getLock(rn).each(Ao.enable)}}),Vl(()=>s.checkUiComponentContext("mode:design")),hs("size-input-toolbar-events2",[Wt(L,(rn,bn)=>{const hn=bn.event.isField1,zo=hn?gl.getField1(rn):gl.getField2(rn),_o=hn?gl.getField2(rn):gl.getField1(rn),sr=zo.map(jn.getValue).getOr(""),Zo=_o.map(jn.getValue).getOr("");_=sp(sr,Zo)}),Wt(A3,rn=>t.onInput(I(rn))),...$n])])})},uz=(t,s,l)=>tr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),s],fieldBehaviours:On([Ao.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable,onDisabled:f=>{P1(f),tr.getField(f).each(Ao.disable)},onEnabled:f=>{tr.getField(f).each(Ao.enable)}})])}),UQ=(t,s,l,f)=>{const v=Pn(xe),w=I=>EA(I,f),_=t.label.map(I=>tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(I))]})),L=tr.parts.field({factory:qh,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:I=>Rr(I).getOr(t.min()),toInputValue:I=>String(I),inputBehaviours:On([Ao.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Vl(()=>s.checkUiComponentContext("mode:design")),No.config({mode:"special",onEnter:l,onLeft:(I,W)=>(W.cut(),U.none()),onRight:(I,W)=>(W.cut(),U.none())}),hs("slider-events",[Vp({onSetup:t.onSetup,getApi:w,onBeforeSetup:No.focusIn},v),DD({getApi:w},v,f),Wt(kp(),I=>{t.onInput(w(I))})])])});return uz(_,L,s)},WQ=(t,s,l,f)=>{const v=Pn(xe),w=X=>EA(X,f),_=t.label.map(X=>tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qi(s.translate(X))]})),I={...t.placeholder.map(X=>({placeholder:s.translate(X)})).getOr({})},W=tr.parts.field({factory:qh,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:I,data:t.initValue(),selectOnFocus:!0,inputBehaviours:On([Ao.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Vl(()=>s.checkUiComponentContext("mode:design")),No.config({mode:"special",onEnter:l,onLeft:(X,oe)=>(oe.cut(),U.none()),onRight:(X,oe)=>(oe.cut(),U.none())}),hs("input-events",[Vp({onSetup:t.onSetup,getApi:X=>ku(X.element,".tox-toolbar").bind(me=>Ur(me,"button:enabled")).fold(()=>EA(X,f),me=>EA(X,f,me)),onBeforeSetup:No.focusIn},v),DD({getApi:w},v,f),Wt(kp(),X=>{t.onInput(w(X))})])])});return uz(_,W,s)},QL=(t,s,l)=>{const f=Po(),w=Zr(t(l,W=>L.findPrimary(W).orThunk(()=>I.findPrimary(W)).map(X=>(S0(X),!0)),f)),_=hi(s.commands,W=>W.align==="start"),L=lz(w,_.pass,l,f),I=lz(w,_.fail,l,f);return fs([{title:U.none(),label:U.none(),items:L.asSpecs()},{title:U.none(),label:U.none(),items:[w.asSpec()]},{title:U.none(),label:U.none(),items:I.asSpecs()}],W=>W.items.length>0)},dz=(t,s)=>{switch(t.type){case"contextform":return QL(ln(WQ,t),t,s);case"contextsliderform":return QL(ln(UQ,t),t,s);case"contextsizeinputform":return QL(ln(cz,t),t,s)}},fz={renderContextForm:(t,s,l)=>gA({type:t,uid:_n("context-toolbar"),initGroups:dz(s,l),onEscape:U.none,cyclicKeying:!0,providers:l}),buildInitGroups:dz},hz=(t,s,l)=>s.bottom-t.y>=l&&t.bottom-s.y>=l,jQ=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const l=Cl(Tn.fromDom(t.startContainer),t.startOffset).element;return(zu(l)?vn(l):U.some(l)).filter(Yl).map(v=>v.dom.getBoundingClientRect()).getOr(s)}else return s},DA=t=>{const s=t.selection.getRng(),l=jQ(s);if(t.inline){const f=ai();return il(f.left+l.left,f.top+l.top,l.width,l.height)}else{const f=Xu(Tn.fromDom(t.getBody()));return il(f.x+l.left,f.y+l.top,l.width,l.height)}},eP=(t,s)=>s.filter(l=>Sr(l)&&Ve(l)).map(Xu).getOrThunk(()=>DA(t)),mz=(t,s,l)=>{const f=Math.max(t.x+l,s.x),v=Math.min(t.right-l,s.right);return{x:f,width:v-f}},pz=(t,s,l,f,v,w)=>{const _=Tn.fromDom(t.getContainer()),L=Ur(_,".tox-editor-header").getOr(_),I=Xa(L),W=I.y>=s.bottom,X=f&&!W;if(t.inline&&X)return{y:Math.max(I.bottom+w,l.y),bottom:l.bottom};if(t.inline&&!X)return{y:l.y,bottom:Math.min(I.y-w,l.bottom)};const oe=v==="line"?Xa(_):s;return X?{y:Math.max(I.bottom+w,l.y),bottom:Math.min(oe.bottom-w,l.bottom)}:{y:Math.max(oe.y+w,l.y),bottom:Math.min(I.y-w,l.bottom)}},gz=(t,s,l,f=0)=>{const v=hd(window),w=Xa(Tn.fromDom(t.getContentAreaContainer())),_=sD(t)||rD(t)||w2(t),{x:L,width:I}=mz(w,v,f);if(t.inline&&!_)return il(L,v.y,I,v.height);{const W=s.header.isPositionedAtTop(),{y:X,bottom:oe}=pz(t,w,v,W,l,f);return il(L,X,I,oe-X)}},wb=12,l_={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},c_={maxHeightFunction:Bv(),maxWidthFunction:lx()},tP=(t,s)=>{const l=t.selection.getRng(),f=Cl(Tn.fromDom(l.startContainer),l.startOffset);return l.startContainer===l.endContainer&&l.startOffset===l.endOffset-1&&fe(f.element,s)},nP=(t,s,l)=>{const f=_i(t,"position");vo(t,"position",s);const v=l(t);return f.each(w=>vo(t,"position",w)),v},oP=t=>t==="node",AA=(t,s,l,f,v)=>{const w=DA(t),_=f.lastElement().exists(L=>fe(l,L));if(tP(t,l))return _?pu:ed;if(_)return nP(s,f.getMode(),()=>hz(w,Xa(s),-20)&&!f.isReposition()?bT:pu);{const L=f.getMode()==="fixed"?v.y+ai().top:v.y,I=Ka(s)+wb;return L+I<=w.y?ed:Xb}},vz=(t,s,l,f)=>{const v=I=>(W,X,oe,me,Oe)=>{const Ne=AA(t,me,I,l,Oe),Ue={...W,y:Oe.y,height:Oe.height};return{...Ne(Ue,X,oe,me,Oe),alwaysFit:!0}},w=I=>oP(f)?[v(I)]:[];return s?{onLtr:I=>[Al,zl,aa,Bc,Jl,fc].concat(w(I)),onRtl:I=>[Al,aa,zl,Jl,Bc,fc].concat(w(I))}:{onLtr:I=>[fc,Al,Bc,zl,Jl,aa].concat(w(I)),onRtl:I=>[fc,Al,Jl,aa,Bc,zl].concat(w(I))}},bz=(t,s,l,f)=>s==="line"?{bubble:Wd(wb,0,l_),layouts:{onLtr:()=>[$w],onRtl:()=>[Hw]},overrides:c_}:{bubble:Wd(0,wb,l_,1/wb),layouts:vz(t,l,f,s),overrides:c_},u_=(t,s)=>{const l=fs(s,w=>w.predicate(t.dom)),{pass:f,fail:v}=hi(l,w=>w.type==="contexttoolbar");return{contextToolbars:f,contextForms:v}},ZQ=t=>{if(t.length<=1)return t;{const s=w=>Er(t,_=>_.position===w),l=w=>fs(t,_=>_.position===w),f=s("selection"),v=s("node");if(f||v)if(v&&f){const w=l("node"),_=Yt(l("selection"),L=>({...L,position:"node"}));return w.concat(_)}else return l(f?"selection":"node");else return l("line")}},yz=t=>{if(t.length<=1)return t;{const s=f=>fo(t,v=>v.position===f);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(f=>f.position).fold(()=>[],f=>fs(t,v=>v.position===f))}},qQ=(t,s,l)=>{const f=u_(t,s);if(f.contextForms.length>0)return U.some({elem:t,toolbars:[f.contextForms[0]]});{const v=u_(t,l);if(v.contextForms.length>0)return U.some({elem:t,toolbars:[v.contextForms[0]]});if(f.contextToolbars.length>0||v.contextToolbars.length>0){const w=ZQ(f.contextToolbars.concat(v.contextToolbars));return U.some({elem:t,toolbars:w})}else return U.none()}},YQ=(t,s,l)=>t(s)?U.none():gv(s,f=>{if(Yl(f)){const{contextToolbars:v,contextForms:w}=u_(f,l.inNodeScope),_=w.length>0?w:yz(v);return _.length>0?U.some({elem:f,toolbars:_}):U.none()}else return U.none()},t),OA=(t,s)=>{const l=Tn.fromDom(s.getBody()),f=_=>fe(_,l),v=_=>!f(_)&&!ge(l,_),w=Tn.fromDom(s.selection.getNode());return v(w)?U.none():qQ(w,t.inNodeScope,t.inEditorScope).orThunk(()=>YQ(f,w,t))},wz=(t,s)=>{const l={},f=[],v=[],w={},_={},L=(X,oe)=>{const me=x(hG(oe));l[X]=me,me.launch.map(Oe=>{w["form:"+X]={...oe.launch,type:Oe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(me)}}}),me.scope==="editor"?v.push(me):f.push(me),_[X]=me},I=(X,oe)=>{pG(oe).each(me=>{me.launch.isSome()&&(w["toolbar:"+X]={...oe.launch,type:"button",onAction:()=>{s(me)}}),oe.scope==="editor"?v.push(me):f.push(me),_[X]=me})},W=_e(t);return yt(W,X=>{const oe=t[X];oe.type==="contextform"||oe.type==="contextsliderform"||oe.type==="contextsizeinputform"?L(X,oe):oe.type==="contexttoolbar"&&I(X,oe)}),{forms:l,inNodeScope:f,inEditorScope:v,lookupTable:_,formNavigators:w}},sP="tox-pop--transition",GQ=t=>t===xA.ENTER||t===xA.SPACEBAR,KQ=(t,s,l,f)=>{const v=f.backstage,w=v.shared,_=xi().deviceType.isTouch,L=Po(),I=Po(),W=Po(),X=XJ({sink:l,onEscape:()=>(t.focus(),ND(t),U.some(!0)),onHide:()=>{ND(t)},onBack:()=>{eK(t)},focusElement:Zo=>{t.getBody().contains(Zo.dom)?t.focus():sl(Zo)}}),oe=T(X.sketch),me=()=>{const Zo=W.get().getOr("node"),As=oP(Zo)?1:0;return gz(t,w,Zo,As)},Oe=()=>!t.removed&&!(_()&&v.isContextMenuOpen()),Ne=Zo=>pi(fa(Zo,L.get(),fe),!0),Ue=()=>{if(Oe()){const Zo=me(),As=pi(W.get(),"node")?eP(t,L.get()):DA(t);return Zo.height<=0||!hz(As,Zo,.01)}else return!0},Xe=()=>{L.clear(),I.clear(),W.clear(),ka.hide(oe)},ze=()=>{if(ka.isOpen(oe)){const Zo=oe.element;qs(Zo,"display"),Ue()?vo(Zo,"display","none"):(I.set(0),ka.reposition(oe))}},it=Zo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Zo],behaviours:On([No.config({mode:"acyclic"}),hs("pop-dialog-wrap-events",[ta(As=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>No.focusIn(As))}),$h(As=>{t.shortcuts.remove("ctrl+F9")})])])}),ht=Zo=>{const As=rn([Zo]);$o(oe,IL,{forwardContents:it(As)})},Dt=Sa(()=>wz(s,ht)),Rt=(Zo,As)=>_A(t,{buttons:Zo,toolbar:As.items,allowToolbarGroups:!1},f.backstage,U.some(["form:","toolbar:"])),$n=(Zo,As)=>fz.buildInitGroups(Zo,As),rn=Zo=>{const{buttons:As}=t.ui.registry.getAll(),wo=Dt(),nn={...As,...wo.formNavigators},Bn=dy(t)===nh.scrolling?nh.scrolling:nh.default,es=In(Yt(Zo,Os=>Os.type==="contexttoolbar"?Rt(nn,P2(Os)):$n(Os,w.providers)));return gA({type:Bn,uid:_n("context-toolbar"),initGroups:es,onEscape:U.none,cyclicKeying:!0,providers:w.providers})},bn=(Zo,As)=>{const wo=Zo==="node"?w.anchors.node(As):w.anchors.cursor(),nn=bz(t,Zo,_(),{lastElement:L.get,isReposition:()=>pi(I.get(),0),getMode:()=>bu.getMode(l)});return Ls(wo,nn)},hn=(Zo,As)=>{if(sr.cancel(),!Oe())return;const wo=rn(Zo),nn=Zo[0].position,Bn=bn(nn,As);W.set(nn),I.set(1);const es=oe.element;qs(es,"display"),Ne(As)||(Ui(es,sP),bu.reset(l,oe)),ka.showWithinBounds(oe,it(wo),{anchor:Bn,transition:{classes:[sP],mode:"placement"}},()=>U.some(me())),As.fold(L.clear,L.set),Ue()&&vo(es,"display","none")},zo=()=>{vo(oe.element,"transition","none"),ze(),qs(oe.element,"transition")};let _o=!1;const sr=dr(()=>{if(!(!t.hasFocus()||t.removed||_o))if(Ua(oe.element,sP))sr.throttle();else{const Zo=Dt();OA(Zo,t).fold(Xe,As=>{hn(As.toolbars,U.some(As.elem))})}},17);t.on("init",()=>{t.on("remove",Xe),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ze),t.on("click focus SetContent",sr.throttle),t.on("keyup",Zo=>{(!GQ(Zo.keyCode)||!X.inSubtoolbar())&&sr.throttle()}),t.on(iz,Xe),t.on($Q,Zo=>{const As=Dt();Mn(As.lookupTable,Zo.toolbarKey).each(wo=>{hn([wo],oa(Zo.target!==t,Zo.target)),PL(oe)})}),t.on("focusout",Zo=>{tD.setEditorTimeout(t,()=>{Ma(l.element).isNone()&&Ma(oe.element).isNone()&&!t.hasFocus()&&Xe()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Xe()}),t.on("DisabledStateChange",Zo=>{Zo.state&&Xe()}),t.on("ExecCommand",({command:Zo})=>{Zo.toLowerCase()==="toggleview"&&Xe()}),t.on("AfterProgressState",Zo=>{Zo.state?Xe():t.hasFocus()&&sr.throttle()}),t.on("dragstart",()=>{_o=!0}),t.on("dragend drop",()=>{_o=!1}),t.on("NodeChange",Zo=>{X.inSubtoolbar()?zo():Ma(oe.element).fold(sr.throttle,xe)})})},XQ=t=>{yt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{t.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Tf(t,l.cmd),onSetup:V2(t,l.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:sd(t),onAction:Tf(t,"JustifyNone")})},Cz=(t,s)=>{const l=()=>{const f=s.getOptions(t),v=s.getCurrent(t).map(s.hash),w=Po();return Yt(f,_=>({type:"togglemenuitem",text:s.display(_),onSetup:L=>{const I=X=>{X&&(w.on(oe=>oe.setActive(!1)),w.set(L)),L.setActive(X)};I(pi(v,s.hash(_)));const W=s.watcher(t,_,I);return()=>{w.clear(),W()}},onAction:()=>s.setCurrent(t,_)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:f=>f(l()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:l,onSetup:s.onMenuSetup})},Sz=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:g5,hash:s=>yi(s,["fixed","relative","empty"]).getOr(s),display:mn,watcher:(s,l,f)=>s.formatter.formatChanged("lineheight",f,!1,{value:l}).unbind,getCurrent:s=>U.from(s.queryCommandValue("LineHeight")),setCurrent:(s,l)=>s.execCommand("LineHeight",!1,l),onToolbarSetup:sd(t),onMenuSetup:sd(t)}),xz=t=>U.from(K$(t)).map(l=>({name:"language",text:"Language",icon:"language",getOptions:P(l),hash:f=>je(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,v,w)=>f.formatter.formatChanged("lang",w,!1,{value:v.code,customValue:v.customCode??null}).unbind,getCurrent:f=>{const v=Tn.fromDom(f.selection.getNode());return Lc(v,w=>U.some(w).filter(Yl).bind(_=>_l(_,"lang").map(I=>{const W=_l(_,"data-mce-lang").getOrUndefined();return{code:I,customCode:W,title:""}})))},setCurrent:(f,v)=>f.execCommand("Lang",!1,v),onToolbarSetup:f=>{const v=Si();return f.setActive(t.formatter.match("lang",{},void 0,!0)),v.set(t.formatter.formatChanged("lang",f.setActive,!0)),RD(v.clear,sd(t)(f))},onMenuSetup:sd(t)})),_z=t=>{Cz(t,Sz(t)),xz(t).each(s=>Cz(t,s))},Tz=(t,s)=>{oQ(t,s),uQ(t,s),xQ(t,s),z7(t,s),wQ(t,s)},JQ=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",s=>t.mode.get()===s),t.ui.registry.addContext("any",Ze),t.ui.registry.addContext("formatting",s=>t.formatter.canApply(s)),t.ui.registry.addContext("insert",s=>t.schema.isValidChild(t.selection.getNode().tagName,s))},Ez=t=>N1(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),kz=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Ez(t),onAction:Tf(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:sd(t,()=>t.queryCommandState("indent")),onAction:Tf(t,"indent")})},QQ=t=>{kz(t)},eee=(t,s)=>l=>{l.setActive(s.get());const f=v=>{s.set(v.state),l.setActive(v.state)};return t.on("PastePlainTextToggle",f),RD(()=>t.off("PastePlainTextToggle",f),sd(t)(l))},tee=t=>{const s=Pn(d5(t)),l=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:l,onSetup:eee(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:l,onSetup:eee(t,s)})},rP=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},nee=t=>{yb.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,l)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:V2(t,s.name),onAction:rP(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const l="h"+s,f=`Access+${s}`;t.ui.registry.addToggleButton(l,{text:l.toUpperCase(),tooltip:"Heading "+s,onSetup:V2(t,l),onAction:rP(t,l),shortcut:f})}},oee=t=>{yb.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Tf(t,s.action),shortcut:s.shortcut,context:s.context})}),yb.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:sd(t),onAction:Tf(t,s.action)})})},see=t=>{yb.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Tf(t,s.action),onSetup:V2(t,s.name)})})},ree=t=>{nee(t),oee(t),see(t)},iee=t=>{yb.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Tf(t,s.action),context:s.context})}),yb.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:sd(t),onAction:Tf(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:sd(t),onAction:rP(t,"code")})},aee=t=>{ree(t),iee(t)},MA=(t,s)=>N1(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",l=>{l.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),lee=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:MA(t,"hasUndo"),onAction:Tf(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:MA(t,"hasRedo"),onAction:Tf(t,"redo")})},cee=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:MA(t,"hasUndo"),onAction:Tf(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:MA(t,"hasRedo"),onAction:Tf(t,"redo"),shortcut:"Meta+Y"})},uee=t=>{lee(t),cee(t)},dee=t=>N1(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),Dz=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:dee(t),onAction:Tf(t,"mceToggleVisualAid"),context:"any"})},fee=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Tf(t,"mceToggleVisualAid"),context:"any"})},hee=t=>{fee(t),Dz(t)},mee=(t,s)=>{XQ(t),aee(t),Tz(t,s),uee(t),x6(t),hee(t),QQ(t),_z(t),tee(t),JQ(t)},pee=t=>H(t)?t.split(/[ ,]/):t,Az=t=>s=>s.options.get(t),Oz=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:H(l)||Je(l,H)?{value:pee(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},NA=Az("contextmenu_never_use_native"),gee=Az("contextmenu_avoid_overlap"),Mz=t=>Nz(t).length===0,Nz=t=>{const s=t.ui.registry.getAll().contextMenus,l=t.options.get("contextmenu");return t.options.isSet("contextmenu")?l:fs(l,f=>go(s,f))},d_=(t,s)=>({type:"makeshift",x:t,y:s}),vee=(t,s,l)=>d_(t.x+s,t.y+l),Rz=t=>t.type==="longpress"||t.type.indexOf("touch")===0,bee=t=>{if(Rz(t)){const s=t.touches[0];return d_(s.pageX,s.pageY)}else return d_(t.pageX,t.pageY)},iP=t=>{if(Rz(t)){const s=t.touches[0];return d_(s.clientX,s.clientY)}else return d_(t.clientX,t.clientY)},yee=(t,s)=>{const l=v2.DOM.getPos(t);return vee(s,l.x,l.y)},wee=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?bee(s):yee(t.getContentAreaContainer(),iP(s)):RA(t),RA=t=>({type:"selection",root:Tn.fromDom(t.selection.getNode())}),Lz=t=>({type:"node",node:U.some(Tn.fromDom(t.selection.getNode())),root:Tn.fromDom(t.getBody())}),aP=(t,s,l)=>{switch(l){case"node":return Lz(t);case"point":return wee(t,s);case"selection":return RA(t)}},Cee=(t,s,l,f,v,w)=>{const _=l(),L=aP(t,s,w);By(_,Jm.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:U.none()}).map(I=>{s.preventDefault(),ka.showMenuAt(v,{anchor:L},{menu:{markers:T1("normal")},data:I})})},See={onLtr:()=>[Al,zl,aa,Bc,Jl,fc,ed,Xb,It,Lm,Kb,qf],onRtl:()=>[Al,aa,zl,Jl,Bc,fc,ed,Xb,Kb,qf,It,Lm]},xee=12,_ee={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Tee=(t,s)=>{const l=t.selection;if(l.isCollapsed()||s.touches.length<1)return!1;{const f=s.touches[0],v=l.getRng();return ym(t.getWin(),Ku.domRange(v)).exists(_=>_.left<=f.clientX&&_.right>=f.clientX&&_.top<=f.clientY&&_.bottom>=f.clientY)}},lP=t=>{const s=t.selection.getRng(),l=()=>{tD.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),w()};t.once("touchend",l);const f=_=>{_.preventDefault(),_.stopImmediatePropagation()};t.on("mousedown",f,!0);const v=()=>w();t.once("longpresscancel",v);const w=()=>{t.off("touchend",l),t.off("longpresscancel",v),t.off("mousedown",f)}},Eee=(t,s,l)=>{const f=aP(t,s,l);return{bubble:Wd(0,l==="point"?xee:0,_ee),layouts:See,overrides:{maxWidthFunction:lx(),maxHeightFunction:Bv()},...f}},Pz=(t,s,l,f,v,w,_)=>{const L=Eee(t,s,w);By(l,Jm.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!0,search:U.none()}).map(I=>{s.preventDefault();const W=_?gu.HighlightMenuAndItem:gu.HighlightNone;ka.showMenuWithinBounds(v,{anchor:L},{menu:{markers:T1("normal"),highlightOnOpen:W},data:I,type:"horizontal"},()=>U.some(gz(t,f.shared,w==="node"?"node":"selection"))),t.dispatch(iz)})},kee=(t,s,l,f,v,w)=>{const _=xi(),L=_.os.isiOS(),I=_.os.isMacOS(),W=_.os.isAndroid(),X=_.deviceType.isTouch(),oe=()=>!(W||L||I&&X),me=()=>{const Oe=l();Pz(t,s,Oe,f,v,w,oe())};if((I||L)&&w!=="node"){const Oe=()=>{lP(t),me()};Tee(t,s)?Oe():(t.once("selectionchange",Oe),t.once("touchend",()=>t.off("selectionchange",Oe)))}else me()},Iz=t=>H(t)?t==="|":t.type==="separator",f_={type:"separator"},Fz=t=>{const s=l=>({text:l.text,icon:l.icon,enabled:l.enabled,shortcut:l.shortcut});if(H(t))return t;switch(t.type){case"separator":return f_;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const f=t.getSubmenuItems();return H(f)?f:Yt(f,Fz)}};default:const l=t;return{type:"menuitem",...s(l),onAction:dt(l.onAction)}}},cP=(t,s)=>{if(s.length===0)return t;const f=Vt(t).filter(v=>!Iz(v)).fold(()=>[],v=>[f_]);return t.concat(f).concat(s).concat([f_])},uP=(t,s,l)=>{const f=js(s,(v,w)=>Mn(t,w.toLowerCase()).map(_=>{const L=_.update(l);if(H(L)&&is(Ft(L)))return cP(v,L.split(" "));if(te(L)&&L.length>0){const I=Yt(L,Fz);return cP(v,I)}else return v}).getOrThunk(()=>v.concat([w])),[]);return f.length>0&&Iz(f[f.length-1])&&f.pop(),f},Dee=(t,s)=>s.ctrlKey&&!NA(t),Aee=t=>t.type==="longpress"||go(t,"touches"),Bz=(t,s)=>!Aee(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),$z=(t,s)=>Bz(t,s)?t.selection.getStart(!0):s.target,Oee=(t,s)=>{const l=gee(t),f=Bz(t,s)?"selection":"point";if(is(l)){const v=$z(t,s);return vm(Tn.fromDom(v),l)?"node":f}else return f},Hz=(t,s,l)=>{const v=xi().deviceType.isTouch,w=T(ka.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>l.setContextMenuState(!0),onHide:()=>l.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:On([hs("dismissContextMenu",[Wt(Nv(),(I,W)=>{Br.close(I),t.focus()})])])})),_=()=>ka.hide(w),L=I=>{if(NA(t)&&I.preventDefault(),Dee(t,I)||Mz(t))return;const W=Oee(t,I),X=()=>{const me=$z(t,I),Oe=t.ui.registry.getAll(),Ne=Nz(t);return uP(Oe.contextMenus,Ne,me)};(v()?kee:Cee)(t,I,X,l,w,W)};t.on("init",()=>{const I="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(I,_),t.on("longpress contextmenu",L)})},dP=40,LA=dP/2,zz=(t,s,l,f,v,w)=>t.fold(()=>ny.snap({sensor:sb(l-LA,f-LA),range:$r(v,w),output:sb(U.some(l),U.some(f)),extra:{td:s}}),_=>{const L=l-LA,I=f-LA,W=dP,X=dP,oe=_.element.dom.getBoundingClientRect();return ny.snap({sensor:sb(L,I),range:$r(W,X),output:sb(U.some(l-oe.width/2),U.some(f-oe.height/2)),extra:{td:s}})}),Vz=(t,s,l)=>{const f=(v,w)=>v.exists(_=>fe(_,w));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(v,w)=>{const _=w.td;f(s.get(),_)||(s.set(_),l(_))},mustSnap:!0}},Uz=t=>Zr(su.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:On([ny.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),BC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Mee=(t,s)=>{const l=Pn([]),f=Pn([]),v=Pn(!1),w=Po(),_=Po(),L=rn=>{const bn=Xu(rn);return zz(Oe.getOpt(s),rn,bn.x,bn.y,bn.width,bn.height)},I=()=>Yt(l.get(),rn=>L(rn)),W=rn=>{const bn=Xu(rn);return zz(Ne.getOpt(s),rn,bn.right,bn.bottom,bn.width,bn.height)},X=()=>Yt(f.get(),rn=>W(rn)),oe=Vz(I,w,rn=>{_.get().each(bn=>{t.dispatch("TableSelectorChange",{start:rn,finish:bn})})}),me=Vz(X,_,rn=>{w.get().each(bn=>{t.dispatch("TableSelectorChange",{start:bn,finish:rn})})}),Oe=Uz(oe),Ne=Uz(me),Ue=T(Oe.asSpec()),Xe=T(Ne.asSpec()),ze=(rn,bn,hn,zo)=>{const _o=bn.dom.getBoundingClientRect();qs(rn.element,"display");const sr=tn(Tn.fromDom(t.getBody())).dom.innerHeight,Zo=hn(_o),As=zo(_o,sr);(Zo||As)&&vo(rn.element,"display","none")},it=(rn,bn,hn,zo)=>{const _o=hn(bn);ny.snapTo(rn,_o),ze(rn,bn,As=>As[zo]<0,(As,wo)=>As[zo]>wo)},ht=rn=>it(Ue,rn,L,"top"),Dt=()=>w.get().each(ht),Rt=rn=>it(Xe,rn,W,"bottom"),$n=()=>_.get().each(Rt);if(xi().deviceType.isTouch()){const rn=bn=>Yt(bn,Tn.fromDom);t.on("TableSelectionChange",bn=>{v.get()||(zm(s,Ue),zm(s,Xe),v.set(!0));const hn=Tn.fromDom(bn.start),zo=Tn.fromDom(bn.finish);w.set(hn),_.set(zo),U.from(bn.otherCells).each(_o=>{l.set(rn(_o.upOrLeftCells)),f.set(rn(_o.downOrRightCells)),ht(hn),Rt(zo)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{Dt(),$n()}),t.on("TableSelectionClear",()=>{v.get()&&(Vm(Ue),Vm(Xe),v.set(!1)),w.clear(),_.clear()})}};var Nee=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const Ree=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",Lee=(t,s,l)=>{const f=s.delimiter??"âº",v=(I,W,X)=>su.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":X}},components:[qi(I)],action:oe=>{t.focus(),t.selection.select(W),t.nodeChanged()},buttonBehaviours:On([Gi.config({...l.tooltips.getConfig({tooltipText:l.translate(["Select the {0} element",W.nodeName.toLowerCase()]),onShow:(oe,me)=>{fu(oe.element,me.element)},onHide:oe=>{G1(oe.element)}})}),np.button(l.isDisabled),Vl(()=>l.checkUiComponentContext("any"))])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[qi(` ${f} `)]}),_=I=>js(I,(W,X,oe)=>{const me=v(X.name,X.element,oe);return oe===0?W.concat([me]):W.concat([w(),me])},[]),L=I=>{const W=[];let X=I.length;for(;X-- >0;){const oe=I[X];if(oe.nodeType===1&&!Ree(oe)){const me=a6(t,oe);if(me.isDefaultPrevented()||W.push({name:me.name,element:oe}),me.isPropagationStopped())break}}return W};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:On([No.config({mode:"flow",selector:"div[role=button]"}),Ao.config({disabled:l.isDisabled}),Vl(()=>l.checkUiComponentContext("any")),Yi.config({}),Cs.config({}),hs("elementPathEvents",[ta((I,W)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>No.focusIn(I)),t.on("NodeChange",X=>{const oe=L(X.parents),me=oe.length>0?_(oe):[];Cs.set(I,me)})})])]),components:[]}};var jg;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(jg||(jg={}));const fP=t=>{const s=Tn.fromDom(t.getContainer()),l=Ka(s),f=rl(s);return{height:l,width:f}},Pee=(t,s,l,f)=>({height:Uy(f.height+s.top,Ql(t),L4(t)),width:l===jg.Both?Uy(f.width+s.left,y2(t),nD(t)):f.width}),hP=(t,s,l)=>{const f=Tn.fromDom(t.getContainer()),v=fP(t),w=Pee(t,s,l,v);return ot(w,(_,L)=>{at(_)&&vo(f,L,vS(_))}),ZG(t),w},Iee=t=>{const s=B4(t);return s===!1?jg.None:s==="both"?jg.Both:jg.Vertical},Fee=(t,s)=>s===jg.Both?iu.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",t.height,t.width]):iu.translate(["Editor's height: {0} pixels",t.height]),mP=(t,s,l)=>{Io(t.element,"aria-valuetext",Fee(s,l))},Zg=(t,s,l,f,v)=>{const _=$r(f*20,v*20),L=hP(t,_,l);return mP(s,L,l),U.some(!0)},Wz=(t,s)=>{const l=Iee(t);if(l===jg.None)return U.none();const f=l===jg.Both?iu.translate("Press the arrow keys to resize the editor."):iu.translate("Press the Up and Down arrow keys to resize the editor."),v=l===jg.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return U.some(oh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",v],attributes:{"aria-label":s.translate(f),"data-mce-name":"resize-handle",role:"separator"},behaviours:[ny.config({mode:"mouse",repositionTarget:!1,onDrag:(w,_,L)=>{const I=hP(t,L,l);mP(w,I,l)},blockerClass:"tox-blocker"}),No.config({mode:"special",onLeft:w=>Zg(t,w,l,-1,0),onRight:w=>Zg(t,w,l,1,0),onUp:w=>Zg(t,w,l,0,-1),onDown:w=>Zg(t,w,l,0,1)}),Yi.config({}),ps.config({}),Gi.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),hs("set-aria-valuetext",[ta(w=>{const _=()=>{mP(w,fP(t),l)};t._skinLoaded?_():t.once("SkinLoaded",_)})])],eventOrder:{[Nh()]:["add-focusable","set-aria-valuetext"]}},s.icons))},Bee=(t,s)=>{const l=(f,v,w)=>Cs.set(f,[qi(s.translate(["{0} "+w,v[w]]))]);return su.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:On([np.button(s.isDisabled),Vl(()=>s.checkUiComponentContext("any")),Yi.config({}),Cs.config({}),jn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),hs("wordcount-events",[Rp(f=>{const v=jn.getValue(f),w=v.mode==="words"?"characters":"words";jn.setValue(f,{mode:w,count:v.count}),l(f,v.count,w)}),ta(f=>{t.on("wordCountUpdate",v=>{const{mode:w}=jn.getValue(f);jn.setValue(f,{mode:w,count:v.wordCount}),l(f,v.wordCount,w)})})])]),eventOrder:{[pd()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},$ee=(t,s)=>{const l=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",Nee.trim()])},behaviours:On([ps.config({})])}]}),f=()=>{const L=JR("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[qi(iu.translate(["Press {0} for help",L]))]}},v=()=>{const L=[];return t.hasPlugin("wordcount")&&L.push(Bee(t,s)),F4(t)&&L.push(l()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:L}},w=()=>{const L=[],I=H4(t),W=I4(t),X=F4(t)||t.hasPlugin("wordcount"),oe=()=>{const me="tox-statusbar__text-container--flex-start",Oe="tox-statusbar__text-container--flex-end",Ne="tox-statusbar__text-container--space-around";if(I){const Ue="tox-statusbar__text-container-3-cols";return!X&&!W?[Ue,Ne]:X&&!W?[Ue,Oe]:[Ue,me]}return[X&&!W?Oe:me]};return W&&L.push(Lee(t,{},s)),I&&L.push(f()),X&&L.push(v()),L.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...oe()]},components:L}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const L=w(),I=Wz(t,s);return L.concat(I.toArray())})()}},jz=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),Hee=(t,s)=>{const l=t.inline,f=l?rz:TA,v=jC(t)?oJ:eJ,w=BQ(),_=Po(),L=Po(),I=Po(),me=xi().deviceType.isTouch()?["tox-platform-touch"]:[],Oe=U4(t),Ne=dy(t),Ue=Zr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Xe=Zr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ze=()=>w.mainUi.get().map(Ro=>Ro.outerContainer).bind(Ei.getHeader),it=()=>io.fromOption(w.dialogUi.get().map(Ro=>Ro.sink),"UI has not been rendered"),ht=()=>io.fromOption(w.popupUi.get().map(Ro=>Ro.sink),"(popup) UI has not been rendered"),Dt=w.lazyGetInOuterOrDie("anchor bar",Ue.getOpt),Rt=w.lazyGetInOuterOrDie("bottom anchor bar",Xe.getOpt),$n=w.lazyGetInOuterOrDie("toolbar",Ei.getToolbar),rn=w.lazyGetInOuterOrDie("throbber",Ei.getThrobber),bn=KX({popup:ht,dialog:it},t,Dt,Rt),hn=()=>{const Ro={attributes:{[cx]:Oe?Pm.BottomToTop:Pm.TopToBottom}},Es=Ei.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:bn.popup,onEscape:()=>{t.focus()}}),oi=Ei.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:bn.popup.shared.getSink,providers:bn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:rp=>{YG(t,rp)},type:Ne,lazyToolbar:$n,lazyHeader:()=>ze().getOrDie("Could not find header element"),...Ro}),Xr=Ei.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:bn.popup.shared.providers,onEscape:()=>{t.focus()},type:Ne}),id=w2(t),wa=rD(t),ef=sD(t),Dc=f5(t),lh=zo(Dc),tf=id||wa||ef,tm=()=>id?[Xr]:wa?[oi]:[],qg=[lh,Es];return Ei.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(tf?[]:["tox-editor-header--empty"]),...Ro},components:In([ef?qg:[],tm(),WC(t)?[]:[Ue.asSpec()]]),sticky:jC(t),editor:t,sharedBackstage:bn.popup.shared})},zo=Ro=>Ei.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Ro}),_o=()=>{const Ro=Ei.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Es=Ei.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ro,Es]}},sr=()=>{const Ro=iD(t),Es=fe(uu(),Ro)&&ui(Ro,"display")==="grid",oi={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(me),attributes:{...iu.isRtl()?{dir:"rtl"}:{}}},behaviours:On([bu.config({useFixed:()=>v.isDocked(ze)})])},Xr={dom:{styles:{width:document.body.clientWidth+"px"}},events:la([Wt(Mv(),ef=>{vo(ef.element,"width",document.body.clientWidth+"px")})])},id=T(Ls(oi,Es?Xr:{})),wa=VN(id);return L.set(wa),{sink:id,mothership:wa}},Zo=()=>{const Ro={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(me),attributes:{...iu.isRtl()?{dir:"rtl"}:{}}},behaviours:On([bu.config({useFixed:()=>v.isDocked(ze),getBounds:()=>s.getPopupSinkBounds()})])},Es=T(Ro),oi=VN(Es);return I.set(oi),{sink:Es,mothership:oi}},As=()=>{const Ro=hn(),Es=_o(),oi=Ei.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:bn.popup}),Xr=Ei.parts.viewWrapper({backstage:bn.popup}),id=u5(t)&&!l?U.some($ee(t,bn.popup.shared.providers)):U.none(),wa=In([Oe?[]:[Ro],l?[]:[Es],Oe?[Ro]:[]]),ef=Ei.parts.editorContainer({components:In([wa,l?[]:[Xe.asSpec()]])}),Dc=W4(t),lh={role:"application",...iu.isRtl()?{dir:"rtl"}:{},...Dc?{"aria-hidden":"true"}:{}},tf=T(Ei.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(l?["tox-tinymce-inline"]:[]).concat(Oe?["tox-tinymce--toolbar-bottom"]:[]).concat(me),styles:{visibility:"hidden",...Dc?{opacity:"0",border:"0"}:{}},attributes:lh},components:[ef,...l?[]:[Xr,...id.toArray()],oi],behaviours:On([Vl(()=>bn.popup.shared.providers.checkUiComponentContext("any")),Ao.config({disableClass:"tox-tinymce--disabled"}),No.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),tm=VN(tf);return _.set(tm),{mothership:tm,outerContainer:tf}},wo=Ro=>{const Es=vS(IQ(t)),oi=vS(FQ(t));return t.inline||(fm("div","width",oi)&&vo(Ro.element,"width",oi),fm("div","height",Es)?vo(Ro.element,"height",Es):vo(Ro.element,"height","400px")),Es},nn=Ro=>{t.addShortcut("alt+F9","focus menubar",()=>{Ei.focusMenubar(Ro)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ei.focusToolbar(Ro)}),t.addCommand("ToggleToolbarDrawer",(Es,oi,Xr)=>{oi?.skipFocus?(JX("skipFocus"),Ei.toggleToolbarDrawerWithoutFocusing(Ro)):Xr?.skip_focus?Ei.toggleToolbarDrawerWithoutFocusing(Ro):Ei.toggleToolbarDrawer(Ro)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ei.isToolbarDrawerToggled(Ro)),t.on("blur",()=>{dy(t)===nh.floating&&Ei.isToolbarDrawerToggled(Ro)&&Ei.toggleToolbarDrawerWithoutFocusing(Ro)})},Bn=Ro=>{const{mainUi:Es,popupUi:oi,uiMotherships:Xr}=Ro;Tt(J$(t),(Yg,m_)=>{t.ui.registry.addGroupToolbarButton(m_,Yg)});const{buttons:id,menuItems:wa,contextToolbars:ef,sidebars:Dc,views:lh}=t.ui.registry.getAll(),tf=V4(t),tm={menuItems:wa,menus:b5(t),menubar:t5(t),toolbar:tf.getOrThunk(()=>oD(t)),allowToolbarGroups:Ne===nh.floating,buttons:id,sidebar:Dc,views:lh};nn(Es.outerContainer),QX(t,Es.mothership,Xr),v.setup(t,bn.popup.shared,ze),mee(t,bn.popup),Hz(t,bn.popup.shared.getSink,bn.popup),rJ(t),pJ(t,rn,bn.popup.shared),KQ(t,ef,oi.sink,{backstage:bn.popup}),Mee(t,oi.sink);const qg=t.getElement(),rp=wo(Es.outerContainer),wS={targetNode:qg,height:rp};return f.render(t,Ro,tm,bn.popup,wS)},es=Ro=>(I.set(Ro.mothership),Ro),Os=()=>{const Ro=As(),Es=sr(),oi=S1(t)?Zo():es(Es);w.dialogUi.set(Es),w.popupUi.set(oi),w.mainUi.set(Ro);const Xr={popupUi:oi,dialogUi:Es,mainUi:Ro,uiMotherships:w.getUiMotherships()};return Bn(Xr)};return{popups:{backstage:bn.popup,getMothership:()=>jz("popups",I)},dialogs:{backstage:bn.dialog,getMothership:()=>jz("dialogs",L)},renderUI:Os}},Zz=t=>{const s=[],l={};return ot(t,(f,v)=>{f.fold(()=>{s.push(v)},w=>{l[v]=w})}),s.length>0?io.error(s):io.value(l)},qz=(t,s,l,f)=>{const v=Zr(v1.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Yt(t.items,_=>W8(w,_,s,l,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[v.asSpec()]}],behaviours:On([No.config({mode:"acyclic",useTabstopAt:et(Y2)}),op.memento(v),Z6(v,{postprocess:w=>Zz(w).fold(_=>(console.error(_),{}),mn)}),hs("dialog-body-panel",[Wt(Vf(),(w,_)=>{w.getSystem().broadcastOn([GD],{newFocus:U.some(_.event.target)})})])])}},zee=(t,s,l)=>Yt(t,(f,v)=>{Cs.set(l,t[v].view());const w=s.dom.getBoundingClientRect();return Cs.set(l,[]),w.height}),Vee=t=>Vn(ir(t,(s,l)=>s>l?-1:s<l?1:0)),Uee=(t,s,l)=>{const f=Xt(t).dom,v=ku(t,".tox-dialog-wrap").getOr(t),w=ui(v,"position")==="fixed";let _;w?_=Math.max(f.clientHeight,window.innerHeight):_=Math.max(f.offsetHeight,f.scrollHeight);const L=Ka(s),W=s.dom.offsetLeft>=l.dom.offsetLeft+rl(l)?Math.max(Ka(l),L):L,X=parseInt(ui(t,"margin-top"),10)||0,oe=parseInt(ui(t,"margin-bottom"),10)||0,Oe=Ka(t)+X+oe-W;return _-Oe},Wee=(t,s)=>{Vn(t).each(l=>zC.showTab(s,l.value))},Yz=(t,s)=>{vo(t,"height",s+"px"),vo(t,"flex-basis",s+"px")},PA=(t,s,l)=>{ku(t,'[role="dialog"]').each(f=>{Ur(f,'[role="tablist"]').each(v=>{l.get().map(w=>(vo(s,"height","0"),vo(s,"flex-basis","0"),Math.min(w,Uee(f,s,v)))).each(w=>{Yz(s,w)})})})},pP=t=>Ur(t,'[role="tabpanel"]'),Gz=t=>{const s=Po();return{extraEvents:[ta(v=>{const w=v.element;pP(w).each(_=>{vo(_,"visibility","hidden"),v.getSystem().getByDom(_).toOptional().each(L=>{const I=zee(t,_,L);Vee(I).fold(s.clear,s.set)}),PA(w,_,s),qs(_,"visibility"),Wee(t,v),requestAnimationFrame(()=>{PA(w,_,s)})})}),Wt(Mv(),v=>{const w=v.element;pP(w).each(_=>{PA(w,_,s)})}),Wt(WD,(v,w)=>{const _=v.element;pP(_).each(L=>{const I=qa(Ii(L));vo(L,"visibility","hidden");const W=_i(L,"height").map(me=>parseInt(me,10));qs(L,"height"),qs(L,"flex-basis");const X=L.dom.getBoundingClientRect().height;W.forall(me=>X>me)?(s.set(X),PA(_,L,s)):W.each(me=>{Yz(L,me)}),qs(L,"visibility"),I.each(sl)})})],selectFirst:!1}},Kz="send-data-to-section",Xz="send-data-to-view",jee=(t,s,l,f)=>{const v=Pn({}),w=X=>{const oe=jn.getValue(X),me=Zz(oe).getOr({}),Oe=v.get(),Ne=Ls(Oe,me);v.set(Ne)},_=X=>{const oe=v.get();jn.setValue(X,oe)},L=Pn(null),I=Yt(t.tabs,X=>({value:X.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[qi(l.shared.providers.translate(X.title))],view:()=>[v1.sketch(oe=>({dom:{tag:"div",classes:["tox-form"]},components:Yt(X.items,me=>W8(oe,me,s,l,f)),formBehaviours:On([No.config({mode:"acyclic",useTabstopAt:et(Y2)}),hs("TabView.form.events",[ta(_),$h(w)]),Cf.config({channels:uc([{key:Kz,value:{onReceive:w}},{key:Xz,value:{onReceive:_}}])})])}))]})),W=Gz(I);return zC.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(X,oe,me)=>{const Oe=jn.getValue(oe);$o(X,aS,{name:Oe,oldName:L.get()}),L.set(Oe)},tabs:I,components:[zC.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[V$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:On([Yi.config({})])}),zC.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:W.selectFirst,tabSectionBehaviours:On([hs("tabpanel",W.extraEvents),No.config({mode:"acyclic"}),zt.config({find:X=>Vn(zC.getViewItems(X))}),Py(U.none(),X=>(X.getSystem().broadcastOn([Kz],{}),v.get()),(X,oe)=>{v.set(oe),X.getSystem().broadcastOn([Xz],{})})])})},Jz=(t,s,l,f,v,w)=>{const _=W=>{const X=W.body;switch(X.type){case"tabpanel":return[jee(X,W.initialData,f,w)];default:return[qz(X,W.initialData,f,w)]}},L=(W,X)=>U.some({isTabPanel:()=>X.body.type==="tabpanel"}),I={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...l.map(W=>({id:W})).getOr({}),...v?I:{}}},components:[],behaviours:On([op.childAt(0),Sf.config({channel:`${i8}-${s}`,updateState:L,renderComponents:_,initialData:t})])}},Zee=(t,s,l,f,v,w)=>Jz(t,s,U.some(l),f,v,w),gP=(t,s,l,f)=>{const v=Jz(t,s,U.none(),l,!1,f);return gc.parts.body(v)},qee=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[n8(U.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:On([Yi.config({}),ps.config({})])})]}],behaviours:On([No.config({mode:"acyclic",useTabstopAt:et(Y2)})])};return gc.parts.body(s)},Yee=VC.deviceType.isTouch(),Qz=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),eV=(t,s)=>gc.parts.close(su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:On([Yi.config({})])})),tV=()=>gc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),nV=(t,s)=>gc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ub(`<p>${N5(s.translate(t))}</p>`)}]}]}),oV=t=>gc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),sV=(t,s)=>[zp.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),zp.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],IA=t=>{const s="tox-dialog",l=s+"-wrap",f=l+"__backdrop",v=s+"__disable-scroll";return gc.sketch({lazySink:t.lazySink,onEscape:w=>(t.onEscape(w),U.some(!0)),useTabstopAt:w=>!Y2(w),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:ub(`<div class="${l}"></div>`),components:[{dom:{tag:"div",classes:Yee?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:l,modalBehaviours:On([ps.config({}),hs("dialog-events",t.dialogEvents.concat([Vv(Vf(),(w,_)=>{dn.isBlocked(w)?xe():No.focusIn(w)}),Wt(a0(),(w,_)=>{w.getSystem().broadcastOn([GD],{newFocus:_.event.newFocus})})])),hs("scroll-lock",[ta(()=>{Hr(uu(),v)}),$h(()=>{Ui(uu(),v)})]),...t.extraBehaviours]),eventOrder:{[pd()]:["dialog-events"],[Nh()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Dp()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},vP=t=>su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:On([Yi.config({}),Gi.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[oh("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Ys(s,R1)}}),rV=(t,s,l,f)=>{const v=w=>[qi(f.translate(w.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...l.map(w=>({id:w})).getOr({})}},components:[],behaviours:On([Sf.config({channel:`${r8}-${s}`,initialData:t,renderComponents:v})])}},yS=()=>({dom:ub('<div class="tox-dialog__draghandle"></div>')}),Gee=(t,s,l,f)=>zp.sketch({dom:ub('<div class="tox-dialog__header"></div>'),components:[rV(t,s,U.some(l),f),yS(),vP(f)],containerBehaviours:On([ny.config({mode:"mouse",blockerClass:"blocker",getTarget:v=>ic(v,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(v,w)=>{v.getSystem().broadcastOn([nu()],{target:w})}})])}),Kee=(t,s,l)=>{const f=gc.parts.title(rV(t,s,U.none(),l)),v=gc.parts.draghandle(yS()),w=gc.parts.close(vP(l)),_=[f].concat(t.draggable?[v]:[]).concat([w]);return zp.sketch({dom:ub('<div class="tox-dialog__header"></div>'),components:_})},FA=(t,s,l)=>Kee({title:l.shared.providers.translate(t),draggable:l.dialog.isDraggableModal()},s,l.shared.providers),iV=(t,s,l,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":l.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:ub('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),aV=(t,s,l)=>({onClose:()=>l.closeWindow(),onBlock:f=>{const v=Ur(t().element,".tox-dialog__header").map(w=>Ka(w));gc.setBusy(t(),(w,_)=>iV(f.message,_,s,v))},onUnblock:()=>{gc.setIdle(t())}}),lV="tox-dialog--fullscreen",bP="tox-dialog--width-lg",yP="tox-dialog--width-md",BA=t=>{switch(t){case"large":return U.some(bP);case"medium":return U.some(yP);default:return U.none()}},cV=(t,s)=>{const l=Tn.fromDom(s.element.dom);Ua(l,lV)||(Ai(l,[bP,yP]),BA(t).each(f=>Hr(l,f)))},uV=(t,s)=>{const l=Tn.fromDom(t.element.dom),f=fg(l),v=fo(f,w=>w===bP||w===yP).or(BA(s));Yu(l,[lV,...v.toArray()])},dV=(t,s,l)=>T(IA({...t,firstTabstop:1,lazySink:l.shared.getSink,extraBehaviours:[jD({}),...t.extraBehaviours],onEscape:f=>{Ys(f,R1)},dialogEvents:s,eventOrder:{[kv()]:[Sf.name(),Cf.name()],[Nh()]:["scroll-lock",Sf.name(),"messages","dialog-events","alloy.base.behaviour"],[Dp()]:["alloy.base.behaviour","dialog-events","messages",Sf.name(),"scroll-lock"]}})),wP=(t,s={})=>{const l=f=>{const v=Yt(f.items,w=>{const _=Mn(s,w.name).getOr(Pn(!1));return{...w,storage:_}});return{...f,items:v}};return Yt(t,f=>f.type==="menu"?l(f):f)},fV=t=>js(t,(s,l)=>l.type==="menu"?js(l.items,(v,w)=>(v[w.name]=w.storage,v),s):s,{}),hV=(t,s)=>[Hv(Vf(),s8),t(q2,(l,f,v,w)=>{wc(w.element)&&qa(Ii(w.element)).each(zi),s.onClose(),f.onClose()}),t(R1,(l,f,v,w)=>{f.onCancel(l),Ys(w,q2)}),Wt(z6,(l,f)=>s.onUnblock()),Wt(UD,(l,f)=>s.onBlock(f.event))],Xee=(t,s)=>{const l=(v,w)=>Wt(v,(_,L)=>{f(_,(I,W)=>{w(t(),I,L.event,_)})}),f=(v,w)=>{Sf.getState(v).get().each(_=>{w(_,v)})};return[...hV(l,s),l(Ug,(v,w,_)=>{w.onAction(v,{name:_.name})})]},mV=(t,s,l)=>{const f=(w,_)=>Wt(w,(L,I)=>{v(L,(W,X)=>{_(t(),W,I.event,L)})}),v=(w,_)=>{Sf.getState(w).get().each(L=>{_(L.internalDialog,w)})};return[...hV(f,s),f(iS,(w,_)=>_.onSubmit(w)),f(Qd,(w,_,L)=>{_.onChange(w,{name:L.name})}),f(Ug,(w,_,L,I)=>{const W=()=>I.getSystem().isConnected()?No.focusIn(I):void 0,X=Oe=>Ya(Oe,"disabled")||_l(Oe,"aria-disabled").exists(Ne=>Ne==="true"),oe=Ii(I.element),me=qa(oe);_.onAction(w,{name:L.name,value:L.value}),qa(oe).fold(W,Oe=>{X(Oe)||me.exists(Ne=>ge(Oe,Ne)&&X(Ne))?W():l().toOptional().filter(Ne=>!ge(Ne.element,Oe)).each(W)})}),f(aS,(w,_,L)=>{_.onTabChange(w,{newTabName:L.name,oldTabName:L.oldName})}),$h(w=>{const _=t();jn.setValue(w,_.getData())})]},Jee=(t,s)=>oL(t,t.type,s),Qee=(t,s,l)=>fo(s,f=>f.name===l).bind(f=>f.memento.getOpt(t)),ete=(t,s)=>{const l=s.map(L=>L.footerButtons).getOr([]),f=hi(l,L=>L.align==="start"),v=(L,I)=>zp.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${L}`]},components:Yt(I,W=>W.memento.asSpec())}),w=v("start",f.pass),_=v("end",f.fail);return[w,_]},h_=(t,s,l)=>{const f=(v,w)=>{const _=Yt(w.buttons,I=>{const W=Zr(Jee(I,l));return{name:I.name,align:I.align,memento:W}}),L=I=>Qee(v,_,I);return U.some({lookupByName:L,footerButtons:_})};return{dom:ub('<div class="tox-dialog__footer"></div>'),components:[],behaviours:On([Sf.config({channel:`${a8}-${s}`,initialData:t,updateState:f,renderComponents:ete})])}},tte=(t,s,l)=>h_(t,s,l),pV=(t,s,l)=>gc.parts.footer(h_(t,s,l)),$A=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const f=zt.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return v1.getField(f,s).orThunk(()=>t.getFooter().bind(_=>Sf.getState(_).get()).bind(_=>_.lookupByName(s)))}else return U.none()},nte=(t,s)=>{const l=t.getRoot();return Sf.getState(l).get().map(f=>x(m("data",f.dataValidator,s))).getOr(s)},gV=(t,s,l)=>{const f=Ne=>{const Ue=t.getRoot();Ue.getSystem().isConnected()&&Ne(Ue)},Oe={getData:()=>{const Ne=t.getRoot(),Ue=Ne.getSystem().isConnected()?t.getFormWrapper():Ne,Xe=jn.getValue(Ue),ze=Tt(l,it=>it.get());return{...Xe,...ze}},setData:Ne=>{f(Ue=>{const Xe=Oe.getData(),ze=Ls(Xe,Ne),it=nte(t,ze),ht=t.getFormWrapper();jn.setValue(ht,it),ot(l,(Dt,Rt)=>{go(ze,Rt)&&Dt.set(ze[Rt])})})},setEnabled:(Ne,Ue)=>{$A(t,Ne).each(Ue?Ao.enable:Ao.disable)},focus:Ne=>{$A(t,Ne).each(ps.focus)},block:Ne=>{if(!H(Ne))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(Ue=>{$o(Ue,UD,{message:Ne})})},unblock:()=>{f(Ne=>{Ys(Ne,z6)})},showTab:Ne=>{f(Ue=>{const Xe=t.getBody();Sf.getState(Xe).get().exists(it=>it.isTabPanel())&&zt.getCurrent(Xe).each(it=>{zC.showTab(it,Ne)})})},redial:Ne=>{f(Ue=>{const Xe=t.getId(),ze=s(Ne),it=wP(ze.internalDialog.buttons,l);Ue.getSystem().broadcastOn([`${YD}-${Xe}`],ze),Ue.getSystem().broadcastOn([`${r8}-${Xe}`],ze.internalDialog),Ue.getSystem().broadcastOn([`${i8}-${Xe}`],ze.internalDialog),Ue.getSystem().broadcastOn([`${a8}-${Xe}`],{...ze.internalDialog,buttons:it}),Oe.setData(ze.initialData)})},close:()=>{f(Ne=>{Ys(Ne,q2)})},toggleFullscreen:t.toggleFullscreen};return Oe},ote=(t,s,l)=>{const f=_n("dialog"),v=t.internalDialog,w=FA(v.title,f,l),_=Pn(v.size),L=ht=>$A(ze,ht),I=BA(_.get()).toArray(),W=(ht,Dt)=>(_.set(Dt.internalDialog.size),cV(Dt.internalDialog.size,ht),U.some(Dt)),X=gP({body:v.body,initialData:v.initialData},f,l,L),oe=wP(v.buttons),me=fV(oe),Oe=oa(oe.length!==0,pV({buttons:oe},f,l)),Ne=mV(()=>it,aV(()=>Xe,l.shared.providers,s),l.shared.getSink),Ue={id:f,header:w,body:X,footer:Oe,extraClasses:I,extraBehaviours:[Sf.config({channel:`${YD}-${f}`,updateState:W,initialData:t})],extraStyles:{}},Xe=dV(Ue,Ne,l),ze=(()=>{const ht=()=>{const Rt=gc.getBody(Xe);return zt.getCurrent(Rt).getOr(Rt)},Dt=()=>{uV(Xe,_.get())};return{getId:P(f),getRoot:P(Xe),getBody:()=>gc.getBody(Xe),getFooter:()=>gc.getFooter(Xe),getFormWrapper:ht,toggleFullscreen:Dt}})(),it=gV(ze,s.redial,me);return{dialog:Xe,instanceApi:it}},CP=(t,s,l,f=!1,v)=>{const w=_n("dialog"),_=_n("dialog-label"),L=_n("dialog-content"),I=t.internalDialog,W=hn=>$A(rn,hn),X=Pn(I.size),oe=BA(X.get()).toArray(),me=(hn,zo)=>(X.set(zo.internalDialog.size),cV(zo.internalDialog.size,hn),v(),U.some(zo)),Oe=Zr(Gee({title:I.title,draggable:!0},w,_,l.shared.providers)),Ne=Zr(Zee({body:I.body,initialData:I.initialData},w,L,l,f,W)),Ue=wP(I.buttons),Xe=fV(Ue),ze=oa(Ue.length!==0,Zr(tte({buttons:Ue},w,l))),it=mV(()=>bn,{onBlock:hn=>{dn.block(Rt,(zo,_o)=>{const sr=Oe.getOpt(Rt).map(Zo=>Ka(Zo.element));return iV(hn.message,_o,l.shared.providers,sr)})},onUnblock:()=>{dn.unblock(Rt)},onClose:()=>s.closeWindow()},l.shared.getSink),ht="tox-dialog-inline",Dt=xi().os,Rt=T({dom:{tag:"div",classes:["tox-dialog",ht,...oe],attributes:{role:"dialog",...Dt.isMacOS()?{"aria-label":I.title}:{"aria-labelledby":_}}},eventOrder:{[kv()]:[Sf.name(),Cf.name()],[pd()]:["execute-on-form"],[Nh()]:["reflecting","execute-on-form"]},behaviours:On([No.config({mode:"cyclic",onEscape:hn=>(Ys(hn,q2),U.some(!0)),useTabstopAt:hn=>!Y2(hn)&&(Oa(hn)!=="button"||za(hn,"disabled")!=="disabled"),firstTabstop:1}),Sf.config({channel:`${YD}-${w}`,updateState:me,initialData:t}),ps.config({}),hs("execute-on-form",it.concat([Vv(Vf(),(hn,zo)=>{No.focusIn(hn)}),Wt(a0(),(hn,zo)=>{hn.getSystem().broadcastOn([GD],{newFocus:zo.event.newFocus})})])),dn.config({getRoot:()=>U.some(Rt)}),Cs.config({}),jD({})]),components:[Oe.asSpec(),Ne.asSpec(),...ze.map(hn=>hn.asSpec()).toArray()]}),$n=()=>{uV(Rt,X.get())},rn={getId:P(w),getRoot:P(Rt),getFooter:()=>ze.map(hn=>hn.get(Rt)),getBody:()=>Ne.get(Rt),getFormWrapper:()=>{const hn=Ne.get(Rt);return zt.getCurrent(hn).getOr(hn)},toggleFullscreen:$n},bn=gV(rn,s.redial,Xe);return{dialog:Rt,instanceApi:bn}};var SP=tinymce.util.Tools.resolve("tinymce.util.URI");const ste=t=>{const s=_=>{t.getSystem().isConnected()&&_(t)};return{block:_=>{if(!H(_))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(L=>{$o(L,UD,{message:_})})},unblock:()=>{s(_=>{Ys(_,z6)})},close:()=>{s(_=>{Ys(_,q2)})},sendMessage:_=>{s(L=>{L.getSystem().broadcastOn([l8],_)})}}},rte=["insertContent","setContent","execCommand","close","block","unblock"],vV=t=>Y(t)&&rte.indexOf(t.mceAction)!==-1,ite=t=>!vV(t)&&Y(t)&&go(t,"mceAction"),xP=(t,s,l)=>{switch(l.mceAction){case"insertContent":t.insertContent(l.content);break;case"setContent":t.setContent(l.content);break;case"execCommand":const f=ye(l.ui)?l.ui:!1;t.execCommand(l.cmd,f,l.value);break;case"close":s.close();break;case"block":s.block(l.message);break;case"unblock":s.unblock();break}},bV=(t,s,l,f)=>{const v=_n("dialog"),w=FA(t.title,v,f),_=qee(t),L=t.buttons.bind(ht=>ht.length===0?U.none():U.some(pV({buttons:ht},v,f))),I=Xee(()=>it,aV(()=>ze,f.shared.providers,s)),W={...t.height.fold(()=>({}),ht=>({height:ht+"px","max-height":ht+"px"})),...t.width.fold(()=>({}),ht=>({width:ht+"px","max-width":ht+"px"}))},X=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],oe=new SP(t.url,{base_uri:new SP(window.location.href)}),me=`${oe.protocol}://${oe.host}${oe.port?":"+oe.port:""}`,Oe=Si(),Ne=(ht,Dt)=>U.some(Dt),Ue=[Sf.config({channel:`${YD}-${v}`,updateState:Ne,initialData:t}),hs("messages",[ta(()=>{const ht=kr(Tn.fromDom(window),"message",Dt=>{if(oe.isSameOrigin(new SP(Dt.raw.origin))){const Rt=Dt.raw.data;vV(Rt)?xP(l,it,Rt):ite(Rt)&&t.onMessage(it,Rt)}});Oe.set(ht)}),$h(Oe.clear)]),Cf.config({channels:{[l8]:{onReceive:(ht,Dt)=>{Ur(ht.element,"iframe").each(Rt=>{const $n=Rt.dom.contentWindow;Ee($n)&&$n.postMessage(Dt,me)})}}}})],ze=dV({id:v,header:w,body:_,footer:L,extraClasses:X,extraBehaviours:Ue,extraStyles:W},I,f),it=ste(ze);return{dialog:ze,instanceApi:it}},ate=t=>{const s=t.shared;return{open:(f,v)=>{const w=()=>{gc.hide(W),v()},_=Zr(oL({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"cancel",t)),L=tV(),I=eV(w,s.providers),W=T(IA({lazySink:()=>s.getSink(),header:Qz(L,I),body:nV(f,s.providers),footer:U.some(oV(sV([],[_.asSpec()]))),onEscape:w,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wt(R1,w)],eventOrder:{}}));gc.show(W);const X=_.get(W);ps.focus(X)}}},lte=t=>{const s=t.shared;return{open:(f,v)=>{const w=me=>{gc.hide(X),v(me)},_=Zr(oL({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"submit",t)),L=oL({context:"any",name:"no",text:"No",primary:!1,buttonType:U.some("secondary"),align:"end",enabled:!0,icon:U.none()},"cancel",t),I=tV(),W=eV(()=>w(!1),s.providers),X=T(IA({lazySink:()=>s.getSink(),header:Qz(I,W),body:nV(f,s.providers),footer:U.some(oV(sV([],[L,_.asSpec()]))),onEscape:()=>w(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wt(R1,()=>w(!1)),Wt(iS,()=>w(!0))],eventOrder:{}}));gc.show(X);const oe=_.get(X);ps.focus(oe)}}},yV=(t,s)=>x(m("data",s,t)),wV=t=>vm(t,".tox-alert-dialog")||vm(t,".tox-confirm-dialog"),cte=(t,s,l,f)=>s&&l?[]:[Ea.config({contextual:{lazyContext:()=>U.some(Xa(Tn.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:f},modes:["top"],lazyViewport:v=>x1(t,v.element).map(_=>({bounds:fy(_),optScrollEnv:U.some({currentScrollTop:_.element.dom.scrollTop,scrollElmTop:ra(_.element).top})})).getOrThunk(()=>({bounds:cc(),optScrollEnv:U.none()}))})],ute=t=>{const s=t.editor,l=jC(s),f=ate(t.backstages.dialog),v=lte(t.backstages.dialog),w=(Ne,Ue,Xe)=>{if(!je(Ue)){if(Ue.inline==="toolbar")return W(Ne,t.backstages.popup.shared.anchors.inlineDialog(),Xe,Ue);if(Ue.inline==="bottom")return X(Ne,t.backstages.popup.shared.anchors.inlineBottomDialog(),Xe,Ue);if(Ue.inline==="cursor")return W(Ne,t.backstages.popup.shared.anchors.cursor(),Xe,Ue)}return I(Ne,Xe)},_=(Ne,Ue)=>L(Ne,Ue),L=(Ne,Ue)=>{const Xe=ze=>{const it=bV(ze,{closeWindow:()=>{gc.hide(it.dialog),Ue(it.instanceApi)}},s,t.backstages.dialog);return gc.show(it.dialog),it.instanceApi};return Ey.openUrl(Xe,Ne)},I=(Ne,Ue)=>{const Xe=(ze,it,ht)=>{const Dt=it,$n=ote({dataValidator:ht,initialData:Dt,internalDialog:ze},{redial:Ey.redial,closeWindow:()=>{gc.hide($n.dialog),Ue($n.instanceApi)}},t.backstages.dialog);return gc.show($n.dialog),$n.instanceApi.setData(Dt),$n.instanceApi};return Ey.open(Xe,Ne)},W=(Ne,Ue,Xe,ze)=>{const it=(ht,Dt,Rt)=>{const $n=yV(Dt,Rt),rn=Po(),bn=t.backstages.popup.shared.header.isPositionedAtTop(),hn={dataValidator:Rt,initialData:$n,internalDialog:ht},zo=()=>rn.on(nn=>{ka.reposition(nn),(!l||!bn)&&Ea.refresh(nn)}),_o=CP(hn,{redial:Ey.redial,closeWindow:()=>{rn.on(ka.hide),s.off("ResizeEditor",zo),s.off("ScrollWindow",sr),rn.clear(),Xe(_o.instanceApi)}},t.backstages.popup,ze.ariaAttrs,zo),sr=()=>_o.dialog.getSystem().broadcastOn([nu()],{target:_o.dialog.element}),Zo=()=>_o.dialog.getSystem().broadcastOn([Pp()],{target:_o.dialog.element}),As=T(ka.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ze.persistent?{event:"doNotDismissYet"}:{},...bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:On([hs("window-manager-inline-events",[Wt(Nv(),(nn,Bn)=>{Ys(_o.dialog,R1)})]),...cte(s,l,bn,Zo)]),isExtraPart:(nn,Bn)=>wV(Bn)}));rn.set(As);const wo=()=>{const nn=s.inline?uu():Tn.fromDom(s.getContainer()),Bn=Xa(nn);return U.some(Bn)};return ka.showWithinBounds(As,N(_o.dialog),{anchor:Ue},wo),(!l||!bn)&&(Ea.refresh(As),s.on("ResizeEditor",zo)),s.on("ScrollWindow",sr),_o.instanceApi.setData($n),No.focusIn(_o.dialog),_o.instanceApi};return Ey.open(it,Ne)},X=(Ne,Ue,Xe,ze)=>{const it=(ht,Dt,Rt)=>{const $n=yV(Dt,Rt),rn=Po(),bn=t.backstages.popup.shared.header.isPositionedAtTop(),hn={dataValidator:Rt,initialData:$n,internalDialog:ht},zo=()=>rn.on(As=>{ka.reposition(As),Ea.refresh(As)}),_o=CP(hn,{redial:Ey.redial,closeWindow:()=>{rn.on(ka.hide),s.off("ResizeEditor ScrollWindow ElementScroll",zo),rn.clear(),Xe(_o.instanceApi)}},t.backstages.popup,ze.ariaAttrs,zo),sr=T(ka.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ze.persistent?{event:"doNotDismissYet"}:{},...bn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:On([hs("window-manager-inline-events",[Wt(Nv(),(As,wo)=>{Ys(_o.dialog,R1)})]),Ea.config({contextual:{lazyContext:()=>U.some(Xa(Tn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:As=>x1(s,As.element).map(nn=>({bounds:fy(nn),optScrollEnv:U.some({currentScrollTop:nn.element.dom.scrollTop,scrollElmTop:ra(nn.element).top})})).getOrThunk(()=>({bounds:cc(),optScrollEnv:U.none()}))})]),isExtraPart:(As,wo)=>wV(wo)}));rn.set(sr);const Zo=()=>t.backstages.popup.shared.getSink().toOptional().bind(As=>{const wo=x1(s,As.element),nn=15,Bn=wo.map(Ro=>fy(Ro)).getOr(cc()),es=Xa(Tn.fromDom(s.getContentAreaContainer())),Os=hf(es,Bn);return U.some(il(Os.x,Os.y,Os.width,Os.height-nn))});return ka.showWithinBounds(sr,N(_o.dialog),{anchor:Ue},Zo),Ea.refresh(sr),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",zo),_o.instanceApi.setData($n),No.focusIn(_o.dialog),_o.instanceApi};return Ey.open(it,Ne)};return{open:w,openUrl:_,alert:(Ne,Ue)=>{f.open(Ne,Ue)},close:Ne=>{Ne.close()},confirm:(Ne,Ue)=>{v.open(Ne,Ue)}}},dte=t=>{j$(t),y3(t),Oz(t)};var fte=()=>{vq.add("silver",t=>{dte(t);let s=()=>cc();const{dialogs:l,popups:f,renderUI:v}=Hee(t,{getPopupSinkBounds:()=>s()}),w=()=>{const X=v();return x1(t,f.getMothership().element).each(me=>{s=()=>fy(me)}),X};B6.register(t,f.backstage.shared);const _=ute({editor:t,backstages:{popup:f.backstage,dialog:l.backstage}}),L=Po(),I=()=>Bq(t,{backstage:f.backstage},f.getMothership(),L),W=()=>Ur(Tn.fromDom(t.getContainer()),".tox-promotion").map(X=>X.dom).getOrNull();return{renderUI:w,getWindowManagerImpl:P(_),getNotificationManagerImpl:I,getPromotionElement:W}})};fte()})()),Tie}$ye();var kie={},Die;function Hye(){return Die||(Die=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const a=(h,b,T)=>T(h,b.prototype)?!0:h.constructor?.name===b.name,d=h=>{const b=typeof h;return h===null?"null":b==="object"&&Array.isArray(h)?"array":b==="object"&&a(h,String,(T,N)=>N.isPrototypeOf(T))?"string":b},g=h=>b=>d(b)===h,C=h=>b=>typeof b===h,k=h=>b=>h===b,M=g("string"),H=g("object"),Y=g("array"),V=k(null),te=C("boolean"),Se=k(void 0),ye=h=>h==null,je=h=>!ye(h),Le=C("function"),Ee=C("number"),Ce=()=>{},at=(h,b)=>(...T)=>h(b.apply(null,T)),Je=(h,b)=>T=>h(b(T)),xe=h=>()=>h,dt=h=>h,Qt=(h,b)=>h===b;function Et(h,...b){return(...T)=>{const N=b.concat(T);return h.apply(null,N)}}const P=h=>b=>!h(b),mn=h=>()=>{throw new Error(h)},Ln=h=>h(),ln=xe(!1),et=xe(!0);class Fe{tag;value;static singletonNone=new Fe(!1);constructor(b,T){this.tag=b,this.value=T}static some(b){return new Fe(!0,b)}static none(){return Fe.singletonNone}fold(b,T){return this.tag?T(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?Fe.some(b(this.value)):Fe.none()}bind(b){return this.tag?b(this.value):Fe.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:Fe.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b??"Called getOrDie on None")}static from(b){return je(b)?Fe.some(b):Fe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const En=Array.prototype.slice,wn=Array.prototype.indexOf,Ze=Array.prototype.push,U=(h,b)=>wn.call(h,b),en=(h,b)=>U(h,b)>-1,xt=(h,b)=>{for(let T=0,N=h.length;T<N;T++){const j=h[T];if(b(j,T))return!0}return!1},Eo=(h,b)=>{const T=[];for(let N=0;N<h;N++)T.push(b(N));return T},eo=(h,b)=>{const T=h.length,N=new Array(T);for(let j=0;j<T;j++){const ee=h[j];N[j]=b(ee,j)}return N},qt=(h,b)=>{for(let T=0,N=h.length;T<N;T++){const j=h[T];b(j,T)}},us=(h,b)=>{for(let T=h.length-1;T>=0;T--){const N=h[T];b(N,T)}},Er=(h,b)=>{const T=[],N=[];for(let j=0,ee=h.length;j<ee;j++){const ue=h[j];(b(ue,j)?T:N).push(ue)}return{pass:T,fail:N}},Oo=(h,b)=>{const T=[];for(let N=0,j=h.length;N<j;N++){const ee=h[N];b(ee,N)&&T.push(ee)}return T},Ds=(h,b,T)=>(us(h,(N,j)=>{T=b(T,N,j)}),T),Yt=(h,b,T)=>(qt(h,(N,j)=>{T=b(T,N,j)}),T),yt=(h,b,T)=>{for(let N=0,j=h.length;N<j;N++){const ee=h[N];if(b(ee,N))return Fe.some(ee);if(T(ee,N))break}return Fe.none()},le=(h,b)=>yt(h,b,ln),hi=(h,b)=>{for(let T=0,N=h.length;T<N;T++){const j=h[T];if(b(j,T))return Fe.some(T)}return Fe.none()},fs=h=>{const b=[];for(let T=0,N=h.length;T<N;++T){if(!Y(h[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+h);Ze.apply(b,h[T])}return b},ns=(h,b)=>fs(eo(h,b)),js=(h,b)=>{for(let T=0,N=h.length;T<N;++T){const j=h[T];if(b(j,T)!==!0)return!1}return!0},Vr=h=>{const b=En.call(h,0);return b.reverse(),b},fo=(h,b)=>{const T={};for(let N=0,j=h.length;N<j;N++){const ee=h[N];T[String(ee)]=b(ee,N)}return T},Ws=(h,b)=>{const T=En.call(h,0);return T.sort(b),T},In=(h,b)=>b>=0&&b<h.length?Fe.some(h[b]):Fe.none(),vt=h=>In(h,0),Un=h=>In(h,h.length-1),Ns=(h,b)=>{for(let T=0;T<h.length;T++){const N=b(h[T],T);if(N.isSome())return N}return Fe.none()},At=Object.keys,Bs=Object.hasOwnProperty,rr=(h,b)=>{const T=At(h);for(let N=0,j=T.length;N<j;N++){const ee=T[N],ue=h[ee];b(ue,ee)}},ir=(h,b)=>Gs(h,(T,N)=>({k:N,v:b(T,N)})),Gs=(h,b)=>{const T={};return rr(h,(N,j)=>{const ee=b(N,j);T[ee.k]=ee.v}),T},Vn=h=>(b,T)=>{h[T]=b},Vt=(h,b,T,N)=>{rr(h,(j,ee)=>{(b(j,ee)?T:N)(j,ee)})},J=(h,b)=>{const T={};return Vt(h,b,Vn(T),Ce),T},de=(h,b)=>{const T=[];return rr(h,(N,j)=>{T.push(b(N,j))}),T},_e=h=>de(h,dt),Ie=(h,b)=>ot(h,b)?Fe.from(h[b]):Fe.none(),ot=(h,b)=>Bs.call(h,b),Tt=(h,b)=>ot(h,b)&&h[b]!==void 0&&h[b]!==null,Cn=h=>{for(const b in h)if(Bs.call(h,b))return!1;return!0},Gn={generate:h=>{if(!Y(h))throw new Error("cases must be an array");if(h.length===0)throw new Error("there must be at least one case");const b=[],T={};return qt(h,(N,j)=>{const ee=At(N);if(ee.length!==1)throw new Error("one and only one name per case");const ue=ee[0],Te=N[ue];if(T[ue]!==void 0)throw new Error("duplicate key detected:"+ue);if(ue==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(Te))throw new Error("case arguments must be an array");b.push(ue),T[ue]=(...$e)=>{const tt=$e.length;if(tt!==Te.length)throw new Error("Wrong number of arguments to case "+ue+". Expected "+Te.length+" ("+Te+"), got "+tt);return{fold:(...dn)=>{if(dn.length!==h.length)throw new Error("Wrong number of arguments to fold. Expected "+h.length+", got "+dn.length);return dn[j].apply(null,$e)},match:dn=>{const Wn=At(dn);if(b.length!==Wn.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+Wn.join(","));if(!js(b,Fo=>en(Wn,Fo)))throw new Error("Not all branches were specified when using match. Specified: "+Wn.join(", ")+`
Required: `+b.join(", "));return dn[ue].apply(null,$e)},log:dn=>{console.log(dn,{constructors:b,constructor:ue,params:$e})}}}}),T}},yn=h=>{let b=h;return{get:()=>b,set:j=>{b=j}}},Uo=h=>h.slice(0).sort(),zs=(h,b)=>{throw new Error("All required keys ("+Uo(h).join(", ")+") were not specified. Specified keys were: "+Uo(b).join(", ")+".")},Co=h=>{throw new Error("Unsupported keys for object: "+Uo(h).join(", "))},Ci=(h,b)=>{if(!Y(b))throw new Error("The "+h+" fields must be an array. Was: "+b+".");qt(b,T=>{if(!M(T))throw new Error("The value "+T+" in the "+h+" fields was not a string.")})},Mn=(h,b)=>{throw new Error("All values need to be of type: "+b+". Keys ("+Uo(h).join(", ")+") were not.")},go=h=>{const b=Uo(h);le(b,(N,j)=>j<b.length-1&&N===b[j+1]).each(N=>{throw new Error("The field: "+N+" occurs more than once in the combined fields: ["+b.join(", ")+"].")})},Mo=(h,b)=>Wa(h,b,{validate:Le,label:"function"}),Wa=(h,b,T)=>{if(b.length===0)throw new Error("You must specify at least one required field.");return Ci("required",b),go(b),N=>{const j=At(N);js(b,Te=>en(j,Te))||zs(b,j),h(b,j);const ue=Oo(b,Te=>!T.validate(N[Te],Te));return ue.length>0&&Mn(ue,T.label),N}},pr=(h,b)=>{const T=Oo(b,N=>!en(h,N));T.length>0&&Co(T)},Pn=h=>Mo(pr,h),Cr=h=>{const b=ee=>ee(h),T=xe(h),N=()=>j,j={tag:!0,inner:h,fold:(ee,ue)=>ue(h),isValue:et,isError:ln,map:ee=>ba.value(ee(h)),mapError:N,bind:b,exists:b,forall:b,getOr:T,or:N,getOrThunk:T,orThunk:N,getOrDie:T,each:ee=>{ee(h)},toOptional:()=>Fe.some(h)};return j},Lr=h=>{const b=()=>T,T={tag:!1,inner:h,fold:(N,j)=>N(h),isValue:ln,isError:et,map:b,mapError:N=>ba.error(N(h)),bind:b,exists:ln,forall:et,getOr:dt,or:dt,getOrThunk:Ln,orThunk:Ln,getOrDie:mn(String(h)),each:Ce,toOptional:Fe.none};return T},ba={value:Cr,error:Lr,fromOption:(h,b)=>h.fold(()=>Lr(b),Cr)},Xi=typeof window<"u"?window:Function("return this;")(),Ks=h=>{const b=h.replace(/\./g,"-");return{resolve:N=>b+"-"+N}},qo=(h,b,T=Qt)=>h.exists(N=>T(N,b)),or=h=>{const b=[],T=N=>{b.push(N)};for(let N=0;N<h.length;N++)h[N].each(T);return b},tc=(h,b)=>h!=null?b(h):Fe.none(),nc=(h,b)=>h?Fe.some(b):Fe.none(),Zl=(h,b)=>{let T=b??Xi;for(let N=0;N<h.length&&T!==void 0&&T!==null;++N)T=T[h[N]];return T},io=(h,b)=>{const T=h.split(".");return Zl(T,b)},Ia=h=>{const b=yn(Fe.none()),T=()=>b.get().each(h);return{clear:()=>{T(),b.set(Fe.none())},isSet:()=>b.get().isSome(),get:()=>b.get(),set:Te=>{T(),b.set(Fe.some(Te))}}},na=()=>{const h=Ia(Ce);return{...h,on:T=>h.get().each(T)}},yc=(h,b)=>h.substring(b),Ge=(h,b,T)=>b===""||h.length>=b.length&&h.substr(T,T+b.length)===b,Qe=(h,b)=>Rn(h,b)?yc(h,b.length):h,qe=(h,b,T=0,N)=>{const j=h.indexOf(b,T);return j!==-1?Se(N)?!0:j+b.length<=N:!1},Rn=(h,b)=>Ge(h,b,0),jo=(h,b)=>Ge(h,b,h.length-b.length),Rs=(h=>b=>b.replace(h,""))(/^\s+|\s+$/g),er=h=>h.length>0,os=h=>{const b=parseFloat(h);return isNaN(b)?Fe.none():Fe.some(b)},gr=(h,b)=>{let T=null;const N=()=>{V(T)||(clearTimeout(T),T=null)};return{cancel:N,throttle:(...ee)=>{N(),T=setTimeout(()=>{T=null,h.apply(null,ee)},b)}}},_n=h=>{let b=!1,T;return(...N)=>(b||(b=!0,T=h.apply(null,N)),T)},da="Â ",vr=["tfoot","thead","tbody","colgroup"],Ho=h=>en(vr,h),Ls=(h,b)=>({rows:h,columns:b}),mi=(h,b)=>({row:h,column:b}),pi=(h,b,T)=>({element:h,rowspan:b,colspan:T}),Xo=(h,b,T,N)=>({element:h,rowspan:b,colspan:T,isNew:N}),gi=(h,b,T,N,j,ee)=>({element:h,rowspan:b,colspan:T,row:N,column:j,isLocked:ee}),ya=(h,b,T)=>({element:h,cells:b,section:T}),fa=(h,b,T,N)=>({element:h,cells:b,section:T,isNew:N}),un=(h,b,T)=>({element:h,isNew:b,isLocked:T}),rs=(h,b,T,N)=>({element:h,cells:b,section:T,isNew:N}),oa=(h,b,T,N)=>({startRow:h,startCol:b,finishRow:T,finishCol:N}),Uc=(h,b,T)=>({element:h,colspan:b,column:T}),au=(h,b)=>({element:h,columns:b}),Da=(h,b,T)=>{const N=h.cells,j=N.slice(0,b),ee=N.slice(b),ue=j.concat(T).concat(ee);return wu(h,ue)},yl=(h,b,T)=>Da(h,b,[T]),Ss=(h,b,T)=>{const N=h.cells;N[b]=T},wu=(h,b)=>rs(h.element,b,h.section,h.isNew),Si=(h,b)=>{const T=h.cells,N=eo(T,b);return rs(h.element,N,h.section,h.isNew)},Po=(h,b)=>h.cells[b],ie=(h,b)=>Po(h,b).element,Re=h=>h.cells.length,ke=h=>{const b=Er(h,T=>T.section==="colgroup");return{rows:b.fail,cols:b.pass}},ut=(h,b,T)=>{const N=eo(h.cells,T);return rs(b(h.element),N,h.section,!0)},Nt=(h,b)=>{const N=(b||document).createElement("div");if(N.innerHTML=h,!N.hasChildNodes()||N.childNodes.length>1){const j="HTML does not have a single root node";throw console.error(j,h),new Error(j)}return ao(N.childNodes[0])},Lt=(h,b)=>{const N=(b||document).createElement(h);return ao(N)},fn=(h,b)=>{const N=(b||document).createTextNode(h);return ao(N)},ao=h=>{if(h==null)throw new Error("Node cannot be null or undefined");return{dom:h}},Ft={fromHtml:Nt,fromTag:Lt,fromText:fn,fromDom:ao,fromPoint:(h,b,T)=>Fe.from(h.dom.elementFromPoint(b,T)).map(ao)},is=(h,b)=>{const T=h.document.createRange();return T.selectNode(b.dom),T},ds=(h,b)=>{const T=h.document.createRange();return Rr(T,b),T},Rr=(h,b)=>h.selectNodeContents(b.dom),as=(h,b)=>{b.fold(T=>{h.setStartBefore(T.dom)},(T,N)=>{h.setStart(T.dom,N)},T=>{h.setStartAfter(T.dom)})},vi=(h,b)=>{b.fold(T=>{h.setEndBefore(T.dom)},(T,N)=>{h.setEnd(T.dom,N)},T=>{h.setEndAfter(T.dom)})},dr=(h,b,T)=>{const N=h.document.createRange();return as(N,b),vi(N,T),N},Sa=(h,b,T,N,j)=>{const ee=h.document.createRange();return ee.setStart(b.dom,T),ee.setEnd(N.dom,j),ee},ha=h=>({left:h.left,top:h.top,right:h.right,bottom:h.bottom,width:h.width,height:h.height}),Fa=h=>{const b=h.getClientRects(),T=b.length>0?b[0]:h.getBoundingClientRect();return T.width>0||T.height>0?Fe.some(T).map(ha):Fe.none()},sa=Gn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),oc=(h,b,T)=>b(Ft.fromDom(T.startContainer),T.startOffset,Ft.fromDom(T.endContainer),T.endOffset),ul=(h,b)=>b.match({domRange:T=>({ltr:xe(T),rtl:Fe.none}),relative:(T,N)=>({ltr:_n(()=>dr(h,T,N)),rtl:_n(()=>Fe.some(dr(h,N,T)))}),exact:(T,N,j,ee)=>({ltr:_n(()=>Sa(h,T,N,j,ee)),rtl:_n(()=>Fe.some(Sa(h,j,ee,T,N)))})}),wl=(h,b)=>{const T=b.ltr();return T.collapsed?b.rtl().filter(j=>j.collapsed===!1).map(j=>sa.rtl(Ft.fromDom(j.endContainer),j.endOffset,Ft.fromDom(j.startContainer),j.startOffset)).getOrThunk(()=>oc(h,sa.ltr,T)):oc(h,sa.ltr,T)},ql=(h,b)=>{const T=ul(h,b);return wl(h,T)},Tn=(h,b)=>ql(h,b).match({ltr:(N,j,ee,ue)=>{const Te=h.document.createRange();return Te.setStart(N.dom,j),Te.setEnd(ee.dom,ue),Te},rtl:(N,j,ee,ue)=>{const Te=h.document.createRange();return Te.setStart(ee.dom,ue),Te.setEnd(N.dom,j),Te}});sa.ltr,sa.rtl;const Aa=8,Nl=9,we=11,We=1,ft=3,Bt=(h,b)=>{const T=h.dom;if(T.nodeType!==We)return!1;{const N=T;if(N.matches!==void 0)return N.matches(b);if(N.msMatchesSelector!==void 0)return N.msMatchesSelector(b);if(N.webkitMatchesSelector!==void 0)return N.webkitMatchesSelector(b);if(N.mozMatchesSelector!==void 0)return N.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},kn=h=>h.nodeType!==We&&h.nodeType!==Nl&&h.nodeType!==we||h.childElementCount===0,Kn=(h,b)=>{const T=b===void 0?document:b.dom;return kn(T)?[]:eo(T.querySelectorAll(h),Ft.fromDom)},_s=(h,b)=>{const T=b===void 0?document:b.dom;return kn(T)?Fe.none():Fe.from(T.querySelector(h)).map(Ft.fromDom)},bs=(h,b)=>h.dom===b.dom,ar=(h,b)=>{const T=h.dom,N=b.dom;return T===N?!1:T.contains(N)},ae=Bt,Ae=(h,b,T,N)=>{const j=h.isiOS()&&/ipad/i.test(T)===!0,ee=h.isiOS()&&!j,ue=h.isiOS()||h.isAndroid(),Te=ue||N("(pointer:coarse)"),$e=j||!ee&&ue&&N("(min-device-width:768px)"),tt=ee||ue&&!$e,St=b.isSafari()&&h.isiOS()&&/safari/i.test(T)===!1,dn=!tt&&!$e&&!St;return{isiPad:xe(j),isiPhone:xe(ee),isTablet:xe($e),isPhone:xe(tt),isTouch:xe(Te),isAndroid:h.isAndroid,isiOS:h.isiOS,isWebView:xe(St),isDesktop:xe(dn)}},Ye=(h,b)=>{for(let T=0;T<h.length;T++){const N=h[T];if(N.test(b))return N}},Ut=(h,b)=>{const T=Ye(h,b);if(!T)return{major:0,minor:0};const N=j=>Number(b.replace(T,"$"+j));return O(N(1),N(2))},co=(h,b)=>{const T=String(b).toLowerCase();return h.length===0?Is():Ut(h,T)},Is=()=>O(0,0),O=(h,b)=>({major:h,minor:b}),F={nu:O,detect:co,unknown:Is},G=(h,b)=>Ns(b.brands,T=>{const N=T.brand.toLowerCase();return le(h,j=>N===j.brand?.toLowerCase()).map(j=>({current:j.name,version:F.nu(parseInt(T.version,10),0)}))}),ne=(h,b)=>{const T=String(b).toLowerCase();return le(h,N=>N.search(T))},fe=(h,b)=>ne(h,b).map(T=>{const N=F.detect(T.versionRegexes,b);return{current:T.name,version:N}}),ge=(h,b)=>ne(h,b).map(T=>{const N=F.detect(T.versionRegexes,b);return{current:T.name,version:N}}),Me=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pt=h=>b=>qe(b,h),lt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:h=>qe(h,"edge/")&&qe(h,"chrome")&&qe(h,"safari")&&qe(h,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Me],search:h=>qe(h,"chrome")&&!qe(h,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:h=>qe(h,"msie")||qe(h,"trident")},{name:"Opera",versionRegexes:[Me,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pt("firefox")},{name:"Safari",versionRegexes:[Me,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:h=>(qe(h,"safari")||qe(h,"mobile/"))&&qe(h,"applewebkit")}],kt=[{name:"Windows",search:pt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:h=>qe(h,"iphone")||qe(h,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:pt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pt("linux"),versionRegexes:[]},{name:"Solaris",search:pt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],on={browsers:xe(lt),oses:xe(kt)},Nn="Edge",Jt="Chromium",ho="IE",lr="Opera",Qr="Firefox",Pr="Safari",ol=()=>Pi({current:void 0,version:F.unknown()}),Pi=h=>{const b=h.current,T=h.version,N=j=>()=>b===j;return{current:b,version:T,isEdge:N(Nn),isChromium:N(Jt),isIE:N(ho),isOpera:N(lr),isFirefox:N(Qr),isSafari:N(Pr)}},sc={unknown:ol,nu:Pi},Cu="Windows",qr="iOS",Rl="Android",Yr="Linux",Ir="macOS",mh="Solaris",Wc="FreeBSD",Mc="ChromeOS",ph=()=>jc({current:void 0,version:F.unknown()}),jc=h=>{const b=h.current,T=h.version,N=j=>()=>b===j;return{current:b,version:T,isWindows:N(Cu),isiOS:N(qr),isAndroid:N(Rl),isMacOS:N(Ir),isLinux:N(Yr),isSolaris:N(mh),isFreeBSD:N(Wc),isChromeOS:N(Mc)}},Bu={unknown:ph,nu:jc},Zc={detect:(h,b,T)=>{const N=on.browsers(),j=on.oses(),ee=b.bind($e=>G(N,$e)).orThunk(()=>fe(N,h)).fold(sc.unknown,sc.nu),ue=ge(j,h).fold(Bu.unknown,Bu.nu),Te=Ae(ue,ee,h,T);return{browser:ee,os:ue,deviceType:Te}}},gh=h=>window.matchMedia(h).matches;let Ll=_n(()=>Zc.detect(window.navigator.userAgent,Fe.from(window.navigator.userAgentData),gh));const ja=()=>Ll(),Rd=(h,b)=>io(h,b),cv=(h,b)=>{const T=Rd(h,b);if(T==null)throw new Error(h+" not available on this browser");return T},Xs=Object.getPrototypeOf,ei=h=>cv("HTMLElement",h),$u=h=>{const b=io("ownerDocument.defaultView",h);return H(h)&&(ei(b).prototype.isPrototypeOf(h)||/^HTML\w*Element$/.test(Xs(h).constructor.name))},Gr=h=>h.dom.nodeName.toLowerCase(),Af=h=>h.dom.nodeType,lu=h=>b=>Af(b)===h,Of=h=>Af(h)===Aa||Gr(h)==="#comment",vh=h=>xi(h)&&$u(h.dom),xi=lu(We),Hu=lu(ft),Ld=lu(Nl),gn=lu(we),dl=h=>b=>xi(b)&&Gr(b)===h,qc=h=>Ft.fromDom(h.dom.ownerDocument),Oa=h=>Ld(h)?h:qc(h),ld=h=>Ft.fromDom(Oa(h).dom.documentElement),cm=h=>Ft.fromDom(Oa(h).dom.defaultView),Ve=h=>Fe.from(h.dom.parentNode).map(Ft.fromDom),Yl=h=>Fe.from(h.dom.parentElement).map(Ft.fromDom),zu=(h,b)=>{const T=Le(b)?b:ln;let N=h.dom;const j=[];for(;N.parentNode!==null&&N.parentNode!==void 0;){const ee=N.parentNode,ue=Ft.fromDom(ee);if(j.push(ue),T(ue)===!0)break;N=ee}return j},um=h=>Fe.from(h.dom.previousSibling).map(Ft.fromDom),cd=h=>Fe.from(h.dom.nextSibling).map(Ft.fromDom),Ba=h=>eo(h.dom.childNodes,Ft.fromDom),Ke=(h,b)=>{const T=h.dom.childNodes;return Fe.from(T[b]).map(Ft.fromDom)},Ct=h=>Ke(h,0),Xt=(h,b,T,N)=>{const ee=qc(h).dom.createRange();return ee.setStart(h.dom,b),ee.setEnd(T.dom,N),ee},tn=(h,b,T,N)=>{const j=Xt(h,b,T,N),ee=bs(h,T)&&b===N;return j.collapsed&&!ee},vn=h=>gn(h)&&je(h.dom.host),ko=h=>Ft.fromDom(h.dom.getRootNode()),So=h=>vn(h)?h:Ft.fromDom(Oa(h).dom.body),ys=h=>{const b=ko(h);return vn(b)?Fe.some(b):Fe.none()},Jo=h=>Ft.fromDom(h.dom.host),Zs=h=>{if(je(h.target)){const b=Ft.fromDom(h.target);if(xi(b)&&Js(b)&&h.composed&&h.composedPath){const T=h.composedPath();if(T)return vt(T)}}return Fe.from(h.target)},Js=h=>je(h.dom.shadowRoot),$s=(h,b,T,N,j,ee,ue)=>({target:h,x:b,y:T,stop:N,prevent:j,kill:ee,raw:ue}),fr=h=>{const b=Ft.fromDom(Zs(h).getOr(h.target)),T=()=>h.stopPropagation(),N=()=>h.preventDefault(),j=at(N,T);return $s(b,h.clientX,h.clientY,T,N,j,h)},no=(h,b)=>T=>{h(T)&&b(fr(T))},Fr=(h,b,T,N,j)=>{const ee=no(T,N);return h.dom.addEventListener(b,ee,j),{unbind:Et($a,h,b,ee,j)}},Cl=(h,b,T,N)=>Fr(h,b,T,N,!1),$a=(h,b,T,N)=>{h.dom.removeEventListener(b,T,N)},Qo=et,Ha=(h,b,T)=>Cl(h,b,Qo,T),Ii=fr,ma=(h,b)=>{Ve(h).each(N=>{N.dom.insertBefore(b.dom,h.dom)})},Vu=(h,b)=>{cd(h).fold(()=>{Ve(h).each(j=>{cr(j,b)})},N=>{ma(N,b)})},Ji=(h,b)=>{Ct(h).fold(()=>{cr(h,b)},N=>{h.dom.insertBefore(b.dom,N.dom)})},cr=(h,b)=>{h.dom.appendChild(b.dom)},bh=(h,b,T)=>{Ke(h,T).fold(()=>{cr(h,b)},N=>{ma(N,b)})},Yc=(h,b)=>{ma(h,b),cr(b,h)},Qi=(h,b)=>{qt(b,(T,N)=>{const j=N===0?h:b[N-1];Vu(j,T)})},Gl=(h,b)=>{qt(b,T=>{cr(h,T)})},Gc=(h,b,T)=>{if(M(T)||te(T)||Ee(T))h.setAttribute(b,T+"");else throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",T,":: Element ",h),new Error("Attribute value was not simple")},Za=(h,b,T)=>{Gc(h.dom,b,T)},Uu=(h,b)=>{const T=h.dom;rr(b,(N,j)=>{Gc(T,j,N)})},Pl=(h,b)=>{rr(b,(T,N)=>{T.fold(()=>{kr(h,N)},j=>{Gc(h.dom,N,j)})})},Kc=(h,b)=>{const T=h.dom.getAttribute(b);return T===null?void 0:T},Il=(h,b)=>Fe.from(Kc(h,b)),kr=(h,b)=>{h.dom.removeAttribute(b)},Su=h=>Yt(h.dom.attributes,(b,T)=>(b[T.name]=T.value,b),{}),rc=h=>{h.dom.textContent="",qt(Ba(h),b=>{Sl(b)})},Sl=h=>{const b=h.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},sl=h=>{const b=Ba(h);b.length>0&&Qi(h,b),Sl(h)},zi=(h,b)=>Ft.fromDom(h.dom.cloneNode(b)),wc=h=>zi(h,!1),qa=h=>zi(h,!0),Ma=(h,b)=>{const T=Ft.fromTag(b),N=Su(h);return Uu(T,N),T},ud=(h,b)=>{const T=Ma(h,b),N=Ba(qa(h));return Gl(T,N),T},uv=(h,b)=>{const T=Ma(h,b);Vu(h,T);const N=Ba(h);return Gl(T,N),Sl(h),T},sg=(h,b)=>{const N=document.createElement("div");return N.innerHTML=h,Ba(Ft.fromDom(N))},xl=h=>eo(h,Ft.fromDom),hp=h=>h.dom.innerHTML,rg=h=>{const b=Ft.fromTag("div"),T=Ft.fromDom(h.dom.cloneNode(!0));return cr(b,T),hp(b)},Wu=h=>h.style!==void 0&&Le(h.style.getPropertyValue),Io=h=>{const b=Hu(h)?h.dom.parentNode:h.dom;if(b==null||b.ownerDocument===null)return!1;const T=b.ownerDocument;return ys(Ft.fromDom(b)).fold(()=>T.body.contains(b),Je(Io,Jo))},dv=h=>{const b=h.dom.body;if(b==null)throw new Error("Body is not available yet");return Ft.fromDom(b)},za=(h,b,T)=>{if(!M(T))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",T,":: Element ",h),new Error("CSS value must be a string: "+T);Wu(h)&&h.style.setProperty(b,T)},_l=(h,b)=>{Wu(h)&&h.style.removeProperty(b)},Ya=(h,b,T)=>{const N=h.dom;za(N,b,T)},Di=(h,b)=>{const T=h.dom;rr(b,(N,j)=>{za(T,j,N)})},cu=(h,b)=>{const T=h.dom,j=window.getComputedStyle(T).getPropertyValue(b);return j===""&&!Io(h)?Mf(T,b):j},Mf=(h,b)=>Wu(h)?h.style.getPropertyValue(b):"",Kl=(h,b)=>{const T=h.dom,N=Mf(T,b);return Fe.from(N).filter(j=>j.length>0)},Xc=(h,b)=>{const T=h.dom;_l(T,b),qo(Il(h,"style").map(Rs),"")&&kr(h,"style")},Pd=(h,b)=>{const T=h.dom,N=b.dom;Wu(T)&&Wu(N)&&(N.style.cssText=T.style.cssText)},mp=(h,b)=>{const T=(Te,$e)=>{if(!Ee($e)&&!$e.match(/^[0-9]+$/))throw new Error(h+".set accepts only positive integer values. Value was "+$e);const tt=Te.dom;Wu(tt)&&(tt.style[h]=$e+"px")},N=Te=>{const $e=b(Te);if($e<=0||$e===null){const tt=cu(Te,h);return parseFloat(tt)||0}return $e},j=N,ee=(Te,$e)=>Yt($e,(tt,St)=>{const dn=cu(Te,St),Wn=dn===void 0?0:parseInt(dn,10);return isNaN(Wn)?tt:tt+Wn},0);return{set:T,get:N,getOuter:j,aggregate:ee,max:(Te,$e,tt)=>{const St=ee(Te,tt);return $e>St?$e-St:0}}},dm=(h,b)=>os(h).getOr(b),dd=(h,b,T)=>dm(cu(h,b),T),ju=(h,b,T,N)=>{const j=dd(h,`padding-${T}`,0),ee=dd(h,`padding-${N}`,0),ue=dd(h,`border-${T}-width`,0),Te=dd(h,`border-${N}-width`,0);return b-j-ee-ue-Te},sf=(h,b)=>{const T=h.dom,N=T.getBoundingClientRect().width||T.offsetWidth;return ju(h,N,"left","right")},Va=h=>dd(h,"height",h.dom.offsetHeight),xu=h=>dd(h,"width",h.dom.offsetWidth),Id=h=>sf(h),Sr=mp("height",h=>{const b=h.dom;return Io(h)?b.getBoundingClientRect().height:b.offsetHeight}),uu=h=>Sr.get(h),Mb=h=>Sr.getOuter(h),pp=Va,Na=mp("width",h=>{const b=h.dom;return Io(h)?b.getBoundingClientRect().width:b.offsetWidth}),vo=h=>Na.get(h),xr=h=>Na.getOuter(h),ri=Id,ui=xu,_u=(h,b)=>({left:h,top:b,translate:(N,j)=>_u(h+N,b+j)}),_i=_u,Ga=h=>{const b=h.getBoundingClientRect();return _i(b.left,b.top)},fm=(h,b)=>h!==void 0?h:b!==void 0?b:0,qs=h=>{const b=h.dom.ownerDocument,T=b.body,N=b.defaultView,j=b.documentElement;if(T===h.dom)return _i(T.offsetLeft,T.offsetTop);const ee=fm(N?.pageYOffset,j.scrollTop),ue=fm(N?.pageXOffset,j.scrollLeft),Te=fm(j.clientTop,T.clientTop),$e=fm(j.clientLeft,T.clientLeft);return du(h).translate(ue-$e,ee-Te)},du=h=>{const b=h.dom,N=b.ownerDocument.body;return N===b?_i(N.offsetLeft,N.offsetTop):Io(h)?Ga(b):_i(0,0)},ii=h=>{const b=h!==void 0?h.dom:document,T=b.body.scrollLeft||b.documentElement.scrollLeft,N=b.body.scrollTop||b.documentElement.scrollTop;return _i(T,N)},Cc=(h,b,T)=>{const j=(T!==void 0?T.dom:document).defaultView;j&&j.scrollBy(h,b)},Ra=((h,b)=>{const T=ee=>{if(!h(ee))throw new Error("Can only get "+b+" value of a "+b+" node");return N(ee).getOr("")},N=ee=>h(ee)?Fe.from(ee.dom.nodeValue):Fe.none();return{get:T,getOption:N,set:(ee,ue)=>{if(!h(ee))throw new Error("Can only set raw "+b+" value of a "+b+" node");ee.dom.nodeValue=ue}}})(Hu,"text"),Zu=h=>Ra.get(h),yh=h=>Ra.getOption(h),Fd=(h,b)=>Ra.set(h,b),Bd=(h,b)=>T=>rf(T)==="rtl"?b:h,rf=h=>cu(h,"direction")==="rtl"?"rtl":"ltr",rl=(h,b)=>{const T=Kc(h,b);return T===void 0||T===""?[]:T.split(" ")},af=(h,b,T)=>{const j=rl(h,b).concat([T]);return Za(h,b,j.join(" ")),!0},ig=(h,b,T)=>{const N=Oo(rl(h,b),j=>j!==T);return N.length>0?Za(h,b,N.join(" ")):kr(h,b),!1};var Nc=(h,b,T,N,j)=>h(T,N)?Fe.some(T):Le(j)&&j(T)?Fe.none():b(T,N,j);const $r=(h,b,T)=>{let N=h.dom;const j=Le(T)?T:ln;for(;N.parentNode;){N=N.parentNode;const ee=Ft.fromDom(N);if(b(ee))return Fe.some(ee);if(j(ee))break}return Fe.none()},fv=(h,b,T)=>Nc((j,ee)=>ee(j),$r,h,b,T),wh=(h,b)=>{const T=j=>b(Ft.fromDom(j));return le(h.dom.childNodes,T).map(Ft.fromDom)},ra=(h,b)=>{const T=N=>{for(let j=0;j<N.childNodes.length;j++){const ee=Ft.fromDom(N.childNodes[j]);if(b(ee))return Fe.some(ee);const ue=T(N.childNodes[j]);if(ue.isSome())return ue}return Fe.none()};return T(h.dom)},_r=(h,b,T)=>$r(h,N=>Bt(N,b),T),ai=(h,b)=>wh(h,T=>Bt(T,b)),Rc=(h,b)=>_s(b,h),Vi=(h,b,T)=>Nc((j,ee)=>Bt(j,ee),_r,h,b,T),Ch=h=>h.dom.classList!==void 0,hm=h=>rl(h,"class"),ag=(h,b)=>af(h,"class",b),dw=(h,b)=>ig(h,"class",b),Tu=(h,b)=>{Ch(h)?h.dom.classList.add(b):ag(h,b)},gp=h=>{(Ch(h)?h.dom.classList:hm(h)).length===0&&kr(h,"class")},lg=(h,b)=>{Ch(h)?h.dom.classList.remove(b):dw(h,b),gp(h)},Eu=(h,b)=>Ch(h)&&h.dom.classList.contains(b),lf=(h,b)=>{qt(b,T=>{lg(h,T)})},Sh=h=>Vi(h,"[contenteditable]"),mm=(h,b=!1)=>Io(h)?h.dom.isContentEditable:Sh(h).fold(xe(b),T=>vp(T)==="true"),vp=h=>h.dom.contentEditable,pm=h=>b=>{Tu(b,h)},cg=h=>b=>{lf(b,h)},ku=(h,b,T)=>Oo(zu(h,T),b),Y1=(h,b)=>Oo(Ba(h),b),cf=(h,b)=>{let T=[];return qt(Ba(h),N=>{b(N)&&(T=T.concat([N])),T=T.concat(cf(N,b))}),T},Ur=(h,b,T)=>ku(h,N=>Bt(N,b),T),ic=(h,b)=>Y1(h,T=>Bt(T,b)),Du=(h,b)=>Kn(b,h),ug=(h,b,T,N)=>({parent:h,children:b,element:T,index:N}),Nf=h=>Ve(h).bind(b=>{const T=Ba(b);return hv(T,h).map(N=>ug(b,T,h,N))}),hv=(h,b)=>hi(h,Et(bs,b)),mv=(h,b,T)=>$r(h,b,T).isSome(),Jc=h=>Gr(h)==="img"?1:yh(h).fold(()=>Ba(h).length,b=>b.length),qu=h=>yh(h).filter(b=>b.trim().length!==0||b.indexOf(da)>-1).isSome(),Hr=h=>vh(h)&&Kc(h,"contenteditable")==="false",pv=["img","br"],Ui=h=>qu(h)||en(pv,Gr(h))||Hr(h),xh=h=>ra(h,Ui),Ua=h=>fd(h,Ui),fd=(h,b)=>{const T=N=>{const j=Ba(N);for(let ee=j.length-1;ee>=0;ee--){const ue=j[ee];if(b(ue))return Fe.some(ue);const Te=T(ue);if(Te.isSome())return Te}return Fe.none()};return T(h)},Yu={create:(h,b,T,N)=>({start:h,soffset:b,finish:T,foffset:N})},bp=Gn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dg=(h,b,T,N)=>h.fold(b,T,N),fg=h=>h.fold(dt,dt,dt),gm=bp.before,ac=bp.on,Gu=bp.after,La={before:gm,on:ac,after:Gu,cata:dg,getStart:fg},fl=Gn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uf=h=>fl.exact(h.start,h.soffset,h.finish,h.foffset),vm=h=>h.match({domRange:b=>Ft.fromDom(b.startContainer),relative:(b,T)=>La.getStart(b),exact:(b,T,N,j)=>b}),_h=fl.domRange,gv=fl.relative,Lc=fl.exact,fw=h=>{const b=vm(h);return cm(b)},B=Yu.create,Z={domRange:_h,relative:gv,exact:Lc,exactFromRange:uf,getWin:fw,range:B},he=(h,b,T)=>Fe.from(h.caretPositionFromPoint?.(b,T)).bind(N=>{if(N.offsetNode===null)return Fe.none();const j=h.createRange();return j.setStart(N.offsetNode,N.offset),j.collapse(),Fe.some(j)}),Pe=(h,b,T)=>Fe.from(h.caretRangeFromPoint?.(b,T)),rt=(h,b,T)=>h.caretPositionFromPoint?he(h,b,T):h.caretRangeFromPoint?Pe(h,b,T):Fe.none(),Ht=(h,b,T)=>{const N=h.document;return rt(N,b,T).map(j=>Yu.create(Ft.fromDom(j.startContainer),j.startOffset,Ft.fromDom(j.endContainer),j.endOffset))},Fn=(h,b)=>{const T=Gr(h);return T==="input"?La.after(h):en(["br","img"],T)?b===0?La.before(h):La.after(h):La.on(h,b)},bo=(h,b)=>{const T=h.fold(La.before,Fn,La.after),N=b.fold(La.before,Fn,La.after);return Z.relative(T,N)},ms=(h,b,T,N)=>{const j=Fn(h,b),ee=Fn(T,N);return Z.relative(j,ee)},Vs=h=>Fe.from(h.getSelection()),bi=(h,b)=>{Vs(h).each(T=>{T.removeAllRanges(),T.addRange(b)})},ti=(h,b,T,N,j)=>{const ee=Sa(h,b,T,N,j);bi(h,ee)},pa=(h,b,T,N,j,ee)=>{b.collapse(T.dom,N),b.extend(j.dom,ee)},Fl=(h,b)=>ql(h,b).match({ltr:(T,N,j,ee)=>{ti(h,T,N,j,ee)},rtl:(T,N,j,ee)=>{Vs(h).each(ue=>{if(ue.setBaseAndExtent)ue.setBaseAndExtent(T.dom,N,j.dom,ee);else if(ue.extend)try{pa(h,ue,T,N,j,ee)}catch{ti(h,j,ee,T,N)}else ti(h,j,ee,T,N)})}}),df=(h,b,T,N,j)=>{const ee=ms(b,T,N,j);Fl(h,ee)},$d=(h,b,T)=>{const N=bo(b,T);Fl(h,N)},Ku=h=>{if(h.rangeCount>0){const b=h.getRangeAt(0),T=h.getRangeAt(h.rangeCount-1);return Fe.some(Yu.create(Ft.fromDom(b.startContainer),b.startOffset,Ft.fromDom(T.endContainer),T.endOffset))}else return Fe.none()},vv=h=>{if(h.anchorNode===null||h.focusNode===null)return Ku(h);{const b=Ft.fromDom(h.anchorNode),T=Ft.fromDom(h.focusNode);return tn(b,h.anchorOffset,T,h.focusOffset)?Fe.some(Yu.create(b,h.anchorOffset,T,h.focusOffset)):Ku(h)}},bm=(h,b,T=!0)=>{const j=(T?ds:is)(h,b);bi(h,j)},lc=h=>Vs(h).filter(b=>b.rangeCount>0).bind(vv),Rf=h=>lc(h).map(b=>Z.exact(b.start,b.soffset,b.finish,b.foffset)),ym=(h,b)=>{const T=Tn(h,b);return Fa(T)},hg=(h,b,T)=>Ht(h,b,T),mg=h=>{Vs(h).each(b=>b.removeAllRanges())},Nb={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Rb=(()=>{const h="[0-9]+",T="[eE]"+("[+-]?"+h),N="\\.",j=Te=>`(?:${Te})?`,ue=`[+-]?(?:${["Infinity",h+N+j(h)+j(T),N+h+j(T),h+j(T)].join("|")})`;return new RegExp(`^(${ue})(.*)$`)})(),br=(h,b)=>xt(b,T=>xt(Nb[T],N=>h===N)),yi=(h,b)=>Fe.from(Rb.exec(h)).bind(N=>{const j=Number(N[1]),ee=N[2];return br(ee,b)?Fe.some({value:j,unit:ee}):Fe.none()}),hl=h=>eo(h,xe(0)),Qc=(h,b,T,N,j)=>j(h.slice(0,b)).concat(N).concat(j(h.slice(T))),hd=h=>(b,T,N,j)=>{if(h(N)){const ee=Math.max(j,b[T]-Math.abs(N)),ue=Math.abs(ee-b[T]);return N>=0?ue:-ue}else return N},ff=hd(h=>h<0),Th=hd(et),Lf=()=>{const h=(Te,$e,tt,St,dn)=>{const Wn=ff(Te,$e,St,dn);return Qc(Te,$e,tt+1,[Wn,0],hl)},b=(Te,$e,tt,St)=>{const dn=(100+tt)/100,Wn=Math.max(St,(Te[$e]+tt)/dn);return eo(Te,(Jn,Fo)=>(Fo===$e?Wn:Jn/dn)-Jn)},T=(Te,$e,tt,St,dn,Wn)=>Wn?b(Te,$e,St,dn):h(Te,$e,tt,St,dn);return{resizeTable:(Te,$e)=>Te($e),clampTableDelta:ff,calcLeftEdgeDeltas:T,calcMiddleDeltas:(Te,$e,tt,St,dn,Wn,Jn)=>T(Te,tt,St,dn,Wn,Jn),calcRightEdgeDeltas:(Te,$e,tt,St,dn,Wn)=>{if(Wn)return b(Te,tt,St,dn);{const Jn=ff(Te,tt,St,dn);return hl(Te.slice(0,tt)).concat([Jn])}},calcRedestributedWidths:(Te,$e,tt,St)=>{if(St){const Wn=($e+tt)/$e,Jn=eo(Te,Fo=>Fo/Wn);return{delta:Wn*100-100,newSizes:Jn}}else return{delta:tt,newSizes:Te}}}},Pf=()=>{const h=(ue,Te,$e,tt,St)=>{const dn=tt>=0?$e:Te,Wn=Th(ue,dn,tt,St);return Qc(ue,Te,$e+1,[Wn,-Wn],hl)};return{resizeTable:(ue,Te,$e)=>{$e&&ue(Te)},clampTableDelta:(ue,Te,$e,tt,St)=>{if(St){if($e>=0)return $e;{const dn=Yt(ue,(Wn,Jn)=>Wn+Jn-tt,0);return Math.max(-dn,$e)}}else return ff(ue,Te,$e,tt)},calcLeftEdgeDeltas:h,calcMiddleDeltas:(ue,Te,$e,tt,St,dn)=>h(ue,$e,tt,St,dn),calcRightEdgeDeltas:(ue,Te,$e,tt,St,dn)=>{if(dn)return hl(ue);{const Wn=tt/ue.length;return eo(ue,xe(Wn))}},calcRedestributedWidths:(ue,Te,$e,tt)=>({delta:0,newSizes:ue})}},Eh=(h,b,T=0)=>Il(h,b).map(N=>parseInt(N,10)).getOr(T),If=(h,b)=>Eh(h,b,1),wm=h=>dl("col")(h)?Eh(h,"span",1)>1:If(h,"colspan")>1,hw=h=>If(h,"rowspan")>1,il=(h,b)=>parseInt(cu(h,b),10),Xa=xe(10),Xu=xe(10),hf=(h,b)=>pg(h,b,et),pg=(h,b,T)=>ns(Ba(h),N=>Bt(N,b)?T(N)?[N]:[]:pg(N,b,T)),cc=(h,b,T=ln)=>{if(T(b))return Fe.none();if(en(h,Gr(b)))return Fe.some(b);const N=j=>Bt(j,"table")||T(j);return _r(b,h.join(","),N)},bv=(h,b)=>cc(["td","th"],h,b),Cm=h=>hf(h,"th,td"),Sm=h=>Bt(h,"colgroup")?ic(h,"col"):ns(Ti(h),b=>ic(b,"col")),fu=(h,b)=>Vi(h,"table",b),G1=h=>hf(h,"tr"),Ti=h=>fu(h).fold(xe([]),b=>ic(b,"colgroup")),kh=dl("th"),Dh=h=>js(h,b=>kh(b.element)),US=(h,b)=>h&&b?"sectionCells":h?"section":"cells",gg=h=>{const b=h.section==="thead",T=qo(yv(h.cells),"th");return h.section==="tfoot"?{type:"footer"}:b||T?{type:"header",subType:US(b,T)}:{type:"body"}},yv=h=>{const b=Oo(h,T=>kh(T.element));return b.length===0?Fe.some("td"):b.length===h.length?Fe.some("th"):Fe.none()},mw=h=>{const b=eo(h,j=>gg(j).type),T=en(b,"header"),N=en(b,"footer");if(!T&&!N)return Fe.some("body");{const j=en(b,"body");return T&&!j&&!N?Fe.some("header"):!T&&!j&&N?Fe.some("footer"):Fe.none()}},K1=h=>Ns(h.all,b=>{const T=gg(b);return T.type==="header"?Fe.from(T.subType):Fe.none()}),mf=(h,b)=>eo(h,T=>{if(Gr(T)==="colgroup"){const N=eo(Sm(T),j=>{const ee=Eh(j,"span",1);return pi(j,1,ee)});return ya(T,N,"colgroup")}else{const N=eo(Cm(T),j=>{const ee=Eh(j,"rowspan",1),ue=Eh(j,"colspan",1);return pi(j,ee,ue)});return ya(T,N,b(T))}}),Lb=h=>Ve(h).map(b=>{const T=Gr(b);return Ho(T)?T:"tbody"}).getOr("tbody"),yo=h=>{const b=G1(h),N=[...Ti(h),...b];return mf(N,Lb)},Fi=(h,b)=>mf(h,()=>b),yp="data-snooker-locked-cols",wp=h=>Il(h,yp).bind(b=>Fe.from(b.match(/\d+/g))).map(b=>fo(b,et)),Tl=h=>{const b=Yt(ke(h).rows,(N,j)=>(qt(j.cells,(ee,ue)=>{ee.isLocked&&(N[ue]=!0)}),N),{}),T=de(b,(N,j)=>parseInt(j,10));return Ws(T)},Ff=(h,b)=>h+","+b,wv=(h,b,T)=>Fe.from(h.access[Ff(b,T)]),Cp=(h,b,T)=>{const N=X1(h,j=>T(b,j.element));return N.length>0?Fe.some(N[0]):Fe.none()},X1=(h,b)=>{const T=ns(h.all,N=>N.cells);return Oo(T,b)},Bf=h=>{const b={};let T=0;return qt(h.cells,N=>{const j=N.colspan;Eo(j,ee=>{const ue=T+ee;b[ue]=Uc(N.element,j,ue)}),T+=j}),b},xm=h=>{const b={},T=[],j=vt(h).map(Jn=>Jn.element).bind(fu).bind(wp).getOr({});let ee=0,ue=0,Te=0;const{pass:$e,fail:tt}=Er(h,Jn=>Jn.section==="colgroup");qt(tt,Jn=>{const Fo=[];qt(Jn.cells,zt=>{let Kt=0;for(;b[Ff(Te,Kt)]!==void 0;)Kt++;const Ko=Tt(j,Kt.toString()),Ts=gi(zt.element,zt.rowspan,zt.colspan,Te,Kt,Ko);for(let po=0;po<zt.colspan;po++)for(let ni=0;ni<zt.rowspan;ni++){const Kr=Te+ni,gs=Kt+po,pl=Ff(Kr,gs);b[pl]=Ts,ue=Math.max(ue,gs+1)}Fo.push(Ts)}),ee++,T.push(ya(Jn.element,Fo,Jn.section)),Te++});const{columns:St,colgroups:dn}=Un($e).map(Jn=>{const Fo=Bf(Jn);return{colgroups:[au(Jn.element,_e(Fo))],columns:Fo}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ls(ee,ue),access:b,all:T,columns:St,colgroups:dn}},Us={fromTable:h=>{const b=yo(h);return xm(b)},generate:xm,getAt:wv,findItem:Cp,filterItems:X1,justCells:h=>ns(h.all,b=>b.cells),justColumns:h=>_e(h.columns),hasColumns:h=>At(h.columns).length>0,getColumnAt:(h,b)=>Fe.from(h.columns[b])},Ah=(h,b,T)=>un(T(h.element,b),!0,h.isLocked),ea=(h,b)=>h.section!==b?rs(h.element,h.cells,b,h.isNew):h,e0=()=>({transformRow:ea,transformCell:(h,b,T)=>{const N=T(h.element,b),j=Gr(N)!=="td"?uv(N,"td"):N;return un(j,h.isNew,h.isLocked)}}),md=()=>({transformRow:ea,transformCell:Ah}),Bl=()=>({transformRow:(h,b)=>ea(h,b==="thead"?"tbody":b),transformCell:Ah}),$f={getTableSectionType:(h,b)=>{const T=Us.fromTable(h);switch(K1(T).getOr(b)){case"section":return e0();case"sectionCells":return md();case"cells":return Bl()}},section:e0,sectionCells:md,cells:Bl,fallback:()=>({transformRow:dt,transformCell:Ah})},t0=(h,b=et)=>{const T=h.grid,N=Eo(T.columns,dt),j=Eo(T.rows,dt);return eo(N,ee=>Ib(()=>ns(j,tt=>Us.getAt(h,tt,ee).filter(St=>St.column===ee).toArray()),tt=>tt.colspan===1&&b(tt.element),()=>Us.getAt(h,0,ee)))},Ib=(h,b,T)=>{const N=h();return le(N,b).orThunk(()=>Fe.from(N[0]).orThunk(T)).map(ue=>ue.element)},Oi=h=>{const b=h.grid,T=Eo(b.rows,dt),N=Eo(b.columns,dt);return eo(T,j=>Ib(()=>ns(N,$e=>Us.getAt(h,j,$e).filter(tt=>tt.row===j).fold(xe([]),tt=>[tt])),$e=>$e.rowspan===1,()=>Us.getAt(h,j,0)))},n0=(h,b)=>{if(b<0||b>=h.length-1)return Fe.none();const T=h[b].fold(()=>{const j=Vr(h.slice(0,b));return Ns(j,(ee,ue)=>ee.map(Te=>({value:Te,delta:ue+1})))},j=>Fe.some({value:j,delta:0})),N=h[b+1].fold(()=>{const j=h.slice(b+1);return Ns(j,(ee,ue)=>ee.map(Te=>({value:Te,delta:ue+1})))},j=>Fe.some({value:j,delta:1}));return T.bind(j=>N.map(ee=>{const ue=ee.delta+j.delta;return Math.abs(ee.value-j.value)/ue}))},vg=(h,b)=>({row:h,y:b}),xp=(h,b)=>({col:h,x:b}),Hd=h=>qs(h).left+xr(h),Fb=h=>qs(h).left,Cv=(h,b)=>xp(h,Fb(b)),o0=(h,b)=>xp(h,Hd(b)),Sv=h=>qs(h).top,pw=(h,b)=>vg(h,Sv(b)),s0=(h,b)=>vg(h,Sv(b)+Mb(b)),Bb=(h,b,T)=>{if(T.length===0)return[];const N=eo(T.slice(1),(ee,ue)=>ee.map(Te=>h(ue,Te))),j=T[T.length-1].map(ee=>b(T.length-1,ee));return N.concat([j])},r0=h=>-h,Au={delta:dt,positions:h=>Bb(pw,s0,h),edge:Sv},Yo=Bd({delta:dt,edge:Fb,positions:h=>Bb(Cv,o0,h)},{delta:r0,edge:Hd,positions:h=>Bb(o0,Cv,h)}),eu={delta:(h,b)=>Yo(b).delta(h,b),positions:(h,b)=>Yo(b).positions(h,b),edge:h=>Yo(h).edge(h)},zd=/(\d+(\.\d+)?)%/,gw=/(\d+(\.\d+)?)px|em/,$b=dl("col"),Hb=dl("tr"),Ja=(h,b,T)=>{const N=Yl(h).getOrThunk(()=>dv(qc(h)));return b(h)/T(N)*100},_p=(h,b)=>{Ya(h,"width",b+"px")},zb=(h,b)=>{Ya(h,"width",b+"%")},_m=(h,b)=>{Ya(h,"height",b+"px")},bg=h=>{Xc(h,"height")},u=h=>pp(h)+"px",m=(h,b,T,N)=>{const j=fu(h).map(ee=>{const ue=T(ee);return Math.floor(b/100*ue)}).getOr(b);return N(h,j),j},x=(h,b,T,N)=>{const j=parseFloat(h);return jo(h,"%")&&Gr(b)!=="table"?m(b,j,T,N):j},S=h=>{const b=u(h);return b?x(b,h,uu,_m):uu(h)},D=(h,b,T)=>{const N=T(h),j=If(h,b);return N/j},z=(h,b)=>Kl(h,b).orThunk(()=>Il(h,b).map(T=>T+"px")),K=h=>z(h,"width"),se=h=>z(h,"height"),ce=h=>Ja(h,vo,ri),ve=h=>$b(h)?Math.round(vo(h)):ui(h),be=h=>Hb(h)?uu(h):D(h,"rowspan",S),nt=h=>K(h).bind(T=>yi(T,["fixed","relative","empty"])),Ot=(h,b,T)=>{Ya(h,"width",b+T)},bt=h=>vo(h)+"px",sn=h=>uu(h)+"px",An=h=>Ja(h,vo,ri)+"%",mo=h=>K(h).exists(b=>zd.test(b)),xo=h=>K(h).exists(b=>gw.test(b)),Go=h=>K(h).isNone(),lo=xe(zd),qn=dl("col"),xs=h=>K(h).getOrThunk(()=>ve(h)+"px"),Ps=h=>se(h).getOrThunk(()=>be(h)+"px"),ws=h=>eo(Us.justColumns(h),b=>Fe.from(b.element)),_a=h=>{const b=ja().browser,T=b.isChromium()||b.isFirefox();return qn(h)?T:!0},$l=(h,b,T,N,j,ee)=>h.filter(N).fold(()=>ee(n0(T,b)),ue=>j(ue)),Wi=(h,b,T,N)=>{const j=t0(h),ee=Us.hasColumns(h)?ws(h):j,ue=[Fe.some(eu.edge(b))].concat(eo(eu.positions(j,b),$e=>$e.map(tt=>tt.x))),Te=P(wm);return eo(ee,($e,tt)=>$l($e,tt,ue,Te,St=>{if(_a(St))return T(St);{const dn=tc(j[tt],dt);return $l(dn,tt,ue,Te,Wn=>N(Fe.some(Math.round(vo(Wn)))),N)}},N))},hu=h=>h.map(b=>b+"px").getOr(""),Ta=(h,b)=>Wi(h,b,xs,hu),El=(h,b,T)=>Wi(h,b,ce,N=>N.fold(()=>T.minCellWidth(),j=>j/T.pixelWidth()*100)),wt=(h,b,T)=>Wi(h,b,ve,N=>N.getOrThunk(T.minCellWidth)),ji=(h,b,T,N)=>{const j=Oi(h),ee=eo(h.all,Te=>Fe.some(Te.element)),ue=[Fe.some(Au.edge(b))].concat(eo(Au.positions(j,b),Te=>Te.map($e=>$e.y)));return eo(ee,(Te,$e)=>$l(Te,$e,ue,et,T,N))},al=(h,b)=>ji(h,b,be,T=>T.getOrThunk(Xu)),hr=(h,b)=>ji(h,b,Ps,hu),Mi=(h,b)=>()=>Io(h)?b(h):parseFloat(Kl(h,"width").getOr("0")),Zi=h=>{const b=Mi(h,vo),T=xe(0);return{width:b,pixelWidth:b,getWidths:(j,ee)=>wt(j,h,ee),getCellDelta:T,singleColumnWidth:xe([0]),minCellWidth:T,setElementWidth:Ce,adjustTableWidth:Ce,isRelative:!0,label:"none"}},Dr=h=>{const b=Mi(h,$e=>parseFloat(An($e))),T=Mi(h,vo);return{width:b,pixelWidth:T,getWidths:($e,tt)=>El($e,h,tt),getCellDelta:$e=>$e/T()*100,singleColumnWidth:($e,tt)=>[100-$e],minCellWidth:()=>Xa()/T()*100,setElementWidth:zb,adjustTableWidth:$e=>{const tt=b(),St=$e/100*tt,dn=tt+St;zb(h,dn)},isRelative:!0,label:"percent"}},Oh=h=>{const b=Mi(h,vo);return{width:b,pixelWidth:b,getWidths:(ue,Te)=>wt(ue,h,Te),getCellDelta:dt,singleColumnWidth:(ue,Te)=>[Math.max(Xa(),ue+Te)-ue],minCellWidth:Xa,setElementWidth:_p,adjustTableWidth:ue=>{const Te=b()+ue;_p(h,Te)},isRelative:!1,label:"pixel"}},ml=(h,b)=>lo().exec(b)!==null?Dr(h):Oh(h),Qa={getTableSize:h=>K(h).fold(()=>Zi(h),T=>ml(h,T)),pixelSize:Oh,percentageSize:Dr,noneSize:Zi},Tm=(h,b,T,N)=>{T===N?kr(h,b):Za(h,b,T)},Hf=(h,b,T)=>{Un(ic(h,b)).fold(()=>Ji(h,T),N=>Vu(N,T))},Em=(h,b)=>{const T=ai(h,b).getOrThunk(()=>{const N=Ft.fromTag(b,qc(h).dom);return b==="thead"?Hf(h,"caption,colgroup",N):b==="colgroup"?Hf(h,"caption",N):cr(h,N),N});return rc(T),T},Ou=(h,b)=>{const T=[],N=[],j=Jn=>eo(Jn,Fo=>{Fo.isNew&&T.push(Fo.element);const zt=Fo.element;return rc(zt),qt(Fo.cells,Kt=>{Kt.isNew&&N.push(Kt.element),Tm(Kt.element,"colspan",Kt.colspan,1),Tm(Kt.element,"rowspan",Kt.rowspan,1),cr(zt,Kt.element)}),zt}),ee=Jn=>ns(Jn,Fo=>eo(Fo.cells,zt=>(Tm(zt.element,"span",zt.colspan,1),zt.element))),ue=(Jn,Fo)=>{const zt=Em(h,Fo),Ko=(Fo==="colgroup"?ee:j)(Jn);Gl(zt,Ko)},Te=Jn=>{ai(h,Jn).each(Sl)},$e=(Jn,Fo)=>{Jn.length>0?ue(Jn,Fo):Te(Fo)},tt=[],St=[],dn=[],Wn=[];return qt(b,Jn=>{switch(Jn.section){case"thead":tt.push(Jn);break;case"tbody":St.push(Jn);break;case"tfoot":dn.push(Jn);break;case"colgroup":Wn.push(Jn);break}}),$e(Wn,"colgroup"),$e(tt,"thead"),$e(St,"tbody"),$e(dn,"tfoot"),{newRows:T,newCells:N}},uc=h=>eo(h,b=>{const T=wc(b.element);return qt(b.cells,N=>{const j=qa(N.element);Tm(j,"colspan",N.colspan,1),Tm(j,"rowspan",N.rowspan,1),cr(T,j)}),T}),xv=(h,b)=>eo(h,T=>Po(T,b)),Mh=(h,b)=>h[b],Ic=(h,b)=>{if(h.length===0)return 0;const T=h[0];return hi(h,j=>!b(T.element,j.element)).getOr(h.length)},Sc=(h,b,T,N)=>{const j=Mh(h,b),ee=j.section==="colgroup",ue=Ic(j.cells.slice(T),N),Te=ee?1:Ic(xv(h.slice(b),T),N);return{colspan:ue,rowspan:Te}},Tp=(h,b)=>{const T=eo(h,j=>eo(j.cells,ln)),N=(j,ee,ue,Te)=>{for(let $e=j;$e<j+ue;$e++)for(let tt=ee;tt<ee+Te;tt++)T[$e][tt]=!0};return eo(h,(j,ee)=>{const ue=ns(j.cells,(Te,$e)=>{if(T[ee][$e]===!1){const tt=Sc(h,ee,$e,b);return N(ee,$e,tt.rowspan,tt.colspan),[Xo(Te.element,tt.rowspan,tt.colspan,Te.isNew)]}else return[]});return fa(j.element,ue,j.section,j.isNew)})},Ep=(h,b,T)=>{const N=[];qt(h.colgroups,j=>{const ee=[];for(let ue=0;ue<h.grid.columns;ue++){const Te=Us.getColumnAt(h,ue).map($e=>un($e.element,T,!1)).getOrThunk(()=>un(b.colGap(),!0,!1));ee.push(Te)}N.push(rs(j.element,ee,"colgroup",T))});for(let j=0;j<h.grid.rows;j++){const ee=[];for(let $e=0;$e<h.grid.columns;$e++){const tt=Us.getAt(h,j,$e).map(St=>un(St.element,T,St.isLocked)).getOrThunk(()=>un(b.gap(),!0,!1));ee.push(tt)}const ue=h.all[j],Te=rs(ue.element,ee,ue.section,T);N.push(Te)}return N},_v=(h,b)=>Ep(h,b,!1),Vb=h=>Tp(h,bs),Mu=(h,b)=>Ns(h.all,T=>le(T.cells,N=>bs(b,N.element))),yg=(h,b,T)=>{const N=eo(b.selection,ee=>bv(ee).bind(ue=>Mu(h,ue)).filter(T)),j=or(N);return nc(j.length>0,j)},Xl=(h,b,T,N,j,ee,ue,Te,$e)=>{const tt=Us.fromTable(ee),St=Fe.from($e?.section).getOrThunk($f.fallback);return b(tt,ue).map(Wn=>{const Jn=_v(tt,Te),Fo=h(Jn,Wn,bs,j(Te),St),zt=Tl(Fo.grid),Kt=Vb(Fo.grid);return{info:Wn,grid:Kt,cursor:Fo.cursor,lockedColumns:zt}}).bind(Wn=>{const Jn=Ou(ee,Wn.grid),Fo=Fe.from($e?.sizing).getOrThunk(()=>Qa.getTableSize(ee)),zt=Fe.from($e?.resize).getOrThunk(Pf);return T(ee,Wn.grid,Wn.info,{sizing:Fo,resize:zt,section:St}),N(ee),kr(ee,yp),Wn.lockedColumns.length>0&&Za(ee,yp,Wn.lockedColumns.join(",")),Fe.some({cursor:Wn.cursor,newRows:Jn.newRows,newCells:Jn.newCells})})},vw=(h,b)=>bv(b.element).bind(T=>Mu(h,T).map(N=>({...N,generators:b.generators,clipboard:b.clipboard}))),zf=(h,b)=>yg(h,b,et).map(T=>({cells:T,generators:b.generators,clipboard:b.clipboard})),Vf=(h,b)=>b.mergable,bw=(h,b)=>b.unmergable,dc=(h,b)=>yg(h,b,et),Ub=(h,b)=>yg(h,b,T=>!T.isLocked),kp=(h,b)=>Mu(h,b).exists(T=>!T.isLocked),Tv=(h,b)=>js(b,T=>kp(h,T)),km=(h,b)=>Vf(h,b).filter(T=>Tv(h,T.cells)),i0=(h,b)=>bw(h,b).filter(T=>Tv(h,T)),Ev={...Gn.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},z_=(h,b)=>h.length===0?Ev.none():h.length===1?Ev.only(0):b===0?Ev.left(0,1):b===h.length-1?Ev.right(b-1,b):b>0&&b<h.length-1?Ev.middle(b-1,b,b+1):Ev.none(),ll=(h,b,T,N,j)=>{const ee=h.slice(0),ue=z_(h,b),Te=xe(eo(ee,xe(0))),$e=Wn=>N.singleColumnWidth(ee[Wn],T),tt=(Wn,Jn)=>j.calcLeftEdgeDeltas(ee,Wn,Jn,T,N.minCellWidth(),N.isRelative),St=(Wn,Jn,Fo)=>j.calcMiddleDeltas(ee,Wn,Jn,Fo,T,N.minCellWidth(),N.isRelative),dn=(Wn,Jn)=>j.calcRightEdgeDeltas(ee,Wn,Jn,T,N.minCellWidth(),N.isRelative);return ue.fold(Te,$e,tt,St,dn)},V_=(h,b,T)=>{let N=0;for(let j=h;j<b;j++)N+=T[j]!==void 0?T[j]:0;return N},Dm=(h,b)=>{const T=Us.justCells(h);return eo(T,N=>{const j=V_(N.column,N.column+N.colspan,b);return{element:N.element,width:j,colspan:N.colspan}})},Uf=(h,b)=>{const T=Us.justColumns(h);return eo(T,(N,j)=>({element:N.element,width:b[j],colspan:N.colspan}))},WS=(h,b)=>eo(h.all,(T,N)=>({element:T.element,height:b[N]})),kv=h=>Ds(h,(b,T)=>b+T,0),pd=(h,b)=>Us.hasColumns(h)?Uf(h,b):Dm(h,b),Dv=(h,b,T)=>{const N=pd(h,b);qt(N,j=>{T.setElementWidth(j.element,j.width)})},Av=(h,b,T,N,j)=>{const ee=Us.fromTable(h),ue=j.getCellDelta(b),Te=j.getWidths(ee,j),$e=T===ee.grid.columns-1,tt=N.clampTableDelta(Te,T,ue,j.minCellWidth(),$e),St=ll(Te,T,tt,j,N),dn=eo(St,(Wn,Jn)=>Wn+Te[Jn]);Dv(ee,dn,j),N.resizeTable(j.adjustTableWidth,tt,$e)},jS=(h,b,T)=>{const N=Us.fromTable(h),j=al(N,h),ee=eo(j,($e,tt)=>T===tt?Math.max(b+$e,Xu()):$e),ue=WS(N,ee);qt(ue,$e=>{_m($e.element,$e.height)}),qt(Us.justCells(N),$e=>{bg($e.element)});const Te=kv(ee);_m(h,Te)},yw=(h,b,T,N,j)=>{const ee=Us.generate(b),ue=N.getWidths(ee,N),Te=N.pixelWidth(),{newSizes:$e,delta:tt}=j.calcRedestributedWidths(ue,Te,T.pixelDelta,N.isRelative);Dv(ee,$e,N),N.adjustTableWidth(tt)},ww=(h,b,T,N)=>{const j=Us.generate(b),ee=N.getWidths(j,N);Dv(j,ee,N)},Cw=(h,b)=>{wm(h)||nt(h).each(N=>{const j=N.value/2;Ot(h,j,N.unit),Ot(b,j,N.unit)})},ZS=(h,b,T)=>{const N=Eh(h,b,1);T===1||N<=1?kr(h,b):Za(h,b,Math.min(T,N))},U_=(h,b)=>T=>{const N=T.column+T.colspan-1,j=T.column;return N>=h&&j<b},Ov=(h,b,T)=>{if(Us.hasColumns(h)){const N=Oo(Us.justColumns(h),U_(b,T)),j=eo(N,ue=>{const Te=qa(ue.element);return ZS(Te,"span",T-b),Te}),ee=Ft.fromTag("colgroup");return Gl(ee,j),[ee]}else return[]},Mv=(h,b,T)=>eo(h.all,N=>{const j=Oo(N.cells,U_(b,T)),ee=eo(j,Te=>{const $e=qa(Te.element);return ZS($e,"colspan",T-b),$e}),ue=Ft.fromTag("tr");return Gl(ue,ee),ue}),Nh=(h,b)=>{const T=Us.fromTable(h);return Ub(T,b).map(j=>{const ee=j[j.length-1],ue=j[0].column,Te=ee.column+ee.colspan,$e=Ov(T,ue,Te),tt=Mv(T,ue,Te);return[...$e,...tt]})},Dp=(h,b,T)=>{const N=Us.fromTable(h);return dc(N,b).bind(ee=>{const ue=Ep(N,T,!1),$e=ke(ue).rows.slice(ee[0].row,ee[ee.length-1].row+ee[ee.length-1].rowspan),tt=ns($e,dn=>{const Wn=Oo(dn.cells,Jn=>!Jn.isLocked);return Wn.length>0?[{...dn,cells:Wn}]:[]}),St=Vb(tt);return nc(St.length>0,St)}).map(ee=>uc(ee))},Nv=(h,b,T,N,j,ee)=>({minRow:h,minCol:b,maxRow:T,maxCol:N,allCells:j,selectedCells:ee}),W_=(h,b)=>{const T=h.grid.columns;let j=h.grid.rows,ee=T,ue=0,Te=0;const $e=[],tt=[];return rr(h.access,St=>{if($e.push(St),b(St)){tt.push(St);const dn=St.row,Wn=dn+St.rowspan-1,Jn=St.column,Fo=Jn+St.colspan-1;dn<j?j=dn:Wn>ue&&(ue=Wn),Jn<ee?ee=Jn:Fo>Te&&(Te=Fo)}}),Nv(j,ee,ue,Te,$e,tt)},a0=(h,b,T)=>{const N=h[T].element,j=Ft.fromTag("td");cr(j,Ft.fromTag("br")),(b?cr:Ji)(N,j)},l0=(h,b,T,N)=>{const j=Oo(h,Te=>Te.section!=="colgroup"),ee=b.grid.columns,ue=b.grid.rows;for(let Te=0;Te<ue;Te++){let $e=!1;for(let tt=0;tt<ee;tt++)Te<T.minRow||Te>T.maxRow||tt<T.minCol||tt>T.maxCol||(Us.getAt(b,Te,tt).filter(N).isNone()?a0(j,$e,Te):$e=!0)}},j_=(h,b,T,N)=>{rr(T.columns,ue=>{(ue.column<b.minCol||ue.column>b.maxCol)&&Sl(ue.element)});const j=Oo(hf(h,"tr"),ue=>ue.dom.childElementCount===0);qt(j,Sl),(b.minCol===b.maxCol||b.minRow===b.maxRow)&&qt(hf(h,"th,td"),ue=>{kr(ue,"rowspan"),kr(ue,"colspan")}),kr(h,yp),kr(h,"data-snooker-col-series"),Qa.getTableSize(h).adjustTableWidth(N)},Z_=(h,b,T,N)=>{if(N.minCol===0&&b.grid.columns===N.maxCol+1)return 0;const j=wt(b,h,T),ee=Yt(j,(tt,St)=>tt+St,0),$e=Yt(j.slice(N.minCol,N.maxCol+1),(tt,St)=>tt+St,0)/ee*T.pixelWidth()-T.pixelWidth();return T.getCellDelta($e)},Sw=(h,b)=>{const T=Wn=>Bt(Wn.element,b),N=qa(h),j=yo(N),ee=Qa.getTableSize(h),ue=Us.generate(j),Te=W_(ue,T),$e="th:not("+b+"),td:not("+b+")",tt=pg(N,"th,td",Wn=>Bt(Wn,$e));qt(tt,Sl),l0(j,ue,Te,T);const St=Us.fromTable(h),dn=Z_(h,St,ee,Te);return j_(N,Te,ue,dn),N},Rv=dl("col"),xw=dl("colgroup"),pf=h=>Gr(h)==="tr"||xw(h),q_=h=>{const b=Eh(h,"colspan",1),T=Eh(h,"rowspan",1);return{element:h,colspan:b,rowspan:T}},Wf=(h,b=q_)=>{const T=Te=>Rv(Te.element)?h.col(Te):h.cell(Te),N=Te=>xw(Te.element)?h.colgroup(Te):h.row(Te),j=Te=>{if(pf(Te))return N({element:Te});{const $e=Te,tt=T(b($e));return ee=Fe.some({item:$e,replacement:tt}),tt}};let ee=Fe.none();return{getOrInit:(Te,$e)=>ee.fold(()=>j(Te),tt=>$e(Te,tt.item)?tt.replacement:j(Te))}},c0=h=>b=>{const T=[],N=(ue,Te)=>le(T,$e=>Te($e.item,ue)),j=ue=>{const Te=h==="td"?{scope:null}:{},$e=b.replace(ue,h,Te);return T.push({item:ue,sub:$e}),$e};return{replaceOrInit:(ue,Te)=>{if(pf(ue)||Rv(ue))return ue;{const $e=ue;return N($e,Te).fold(()=>j($e),tt=>Te(ue,tt.item)?tt.sub:j($e))}}}},Y_=h=>Il(h,"scope").map(b=>b.substr(0,3)),gd={modification:Wf,transform:c0,merging:h=>({unmerge:N=>{const j=Y_(N);return j.each(ee=>Za(N,"scope",ee)),()=>{const ee=h.cell({element:N,colspan:1,rowspan:1});return Xc(ee,"width"),Xc(N,"width"),j.each(ue=>Za(ee,"scope",ue)),ee}},merge:N=>{const j=()=>{const ee=or(eo(N,Y_));if(ee.length===0)return Fe.none();{const ue=ee[0],Te=["row","col"];return xt(ee,tt=>tt!==ue&&en(Te,tt))?Fe.none():Fe.from(ue)}};return Xc(N[0],"width"),j().fold(()=>kr(N[0],"scope"),ee=>Za(N[0],"scope",ee+"group")),xe(N[0])}})},u0=(h,b)=>{const T=h.slice(0,b[b.length-1].row+1),N=Vb(T);return ns(N,j=>{const ee=j.cells.slice(0,b[b.length-1].column+1);return eo(ee,ue=>ue.element)})},K_=(h,b)=>{const T=h.slice(b[0].row+b[0].rowspan-1,h.length),N=Vb(T);return ns(N,j=>{const ee=j.cells.slice(b[0].column+b[0].colspan-1,j.cells.length);return eo(ee,ue=>ue.element)})},wg=(h,b,T)=>{const N=Us.fromTable(h);return dc(N,b).map(ee=>{const ue=Ep(N,T,!1),{rows:Te}=ke(ue),$e=u0(Te,ee),tt=K_(Te,ee);return{upOrLeftCells:$e,downOrRightCells:tt}})},HO={only:(h,b)=>{const T=Ld(h)?ld(h):h;return{parent:xe(T),view:xe(h),dragContainer:xe(T),origin:xe(_i(0,0)),isResizable:b}},detached:(h,b,T)=>{const N=()=>qs(b);return{parent:xe(b),view:xe(h),dragContainer:xe(b),origin:N,isResizable:T}},body:(h,b)=>({parent:xe(h),view:xe(h),dragContainer:xe(h),origin:()=>qs(h),isResizable:b})},li=Gn.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),X_=(h,b,T)=>{const N=T.substring(0,T.length-h.length),j=parseFloat(N);return N===j.toString()?b(j):li.invalid(T)},gf={...li,from:h=>jo(h,"%")?X_("%",li.percent,h):jo(h,"px")?X_("px",li.pixels,h):li.invalid(h)},Lv=(h,b)=>eo(h,T=>gf.from(T).fold(()=>T,j=>j/b*100+"%",j=>j+"%")),Ar=(h,b,T)=>{const N=T/b;return eo(h,j=>gf.from(j).fold(()=>j,ue=>ue*N+"px",ue=>ue/100*T+"px"))},kl=(h,b)=>{const T=h.fold(()=>xe(""),N=>{const j=N/b;return xe(j+"px")},()=>{const N=100/b;return xe(N+"%")});return Eo(b,T)},d0=(h,b,T)=>h.fold(()=>b,N=>Ar(b,T,N),N=>Lv(b,T)),_w=(h,b,T)=>{const N=gf.from(T),j=js(h,ee=>ee==="0px")?kl(N,h.length):d0(N,h,b);return Q_(j)},ia=(h,b)=>h.length===0?b:Ds(h,(T,N)=>gf.from(N).fold(xe(0),dt,dt)+T,0),Wb=(h,b)=>{const T=Math.floor(h);return{value:T+b,remainder:h-T}},Tw=(h,b)=>gf.from(h).fold(xe(h),T=>T+b+"px",T=>T+b+"%"),Q_=h=>{if(h.length===0)return h;const b=Ds(h,(N,j)=>{const ee=gf.from(j).fold(()=>({value:j,remainder:0}),ue=>Wb(ue,"px"),ue=>({value:ue+"%",remainder:0}));return{output:[ee.value].concat(N.output),remainder:N.remainder+ee.remainder}},{output:[],remainder:0}),T=b.output;return T.slice(0,T.length-1).concat([Tw(T[T.length-1],Math.round(b.remainder))])},eT=gf.from,tT=(h,b,T)=>{qt(b,N=>{const j=h.slice(N.column,N.colspan+N.column),ee=ia(j,Xa());Ya(N.element,"width",ee+T)})},bI=(h,b,T)=>{qt(b,(N,j)=>{const ee=ia([h[j]],Xa());Ya(N.element,"width",ee+T)})},zO=(h,b,T)=>{qt(T,N=>{Xc(N.element,"height")}),qt(b,(N,j)=>{Ya(N.element,"height",h[j])})},VO=h=>eT(h).fold(xe("px"),xe("px"),xe("%")),nT=(h,b,T)=>{const N=Us.fromTable(h),j=N.all,ee=Us.justCells(N),ue=Us.justColumns(N);b.each(Te=>{const $e=VO(Te),tt=vo(h),St=Ta(N,h),dn=_w(St,tt,Te);Us.hasColumns(N)?bI(dn,ue,$e):tT(dn,ee,$e),Ya(h,"width",Te)}),T.each(Te=>{const $e=uu(h),tt=hr(N,h),St=_w(tt,$e,Te);zO(St,j,ee),Ya(h,"height",Te)})},oT=mo,jf=xo,tu=Go;var Zf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Rh=()=>{const h=tt=>Ft.fromDom(tt.dom.cloneNode(!1)),b=tt=>Oa(tt).dom,T=tt=>xi(tt)?Gr(tt)==="body"?!0:en(Zf,Gr(tt)):!1,N=tt=>xi(tt)?en(["br","img","hr","input"],Gr(tt)):!1,j=tt=>xi(tt)&&Kc(tt,"contenteditable")==="false",ee=(tt,St)=>tt.dom.compareDocumentPosition(St.dom),ue=(tt,St)=>{const dn=Su(tt);Uu(St,dn)},Te=tt=>{const St=Gr(tt);return en(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],St)},$e=tt=>xi(tt)?Il(tt,"lang"):Fe.none();return{up:xe({selector:_r,closest:Vi,predicate:$r,all:zu}),down:xe({selector:Du,predicate:cf}),styles:xe({get:cu,getRaw:Kl,set:Ya,remove:Xc}),attrs:xe({get:Kc,set:Za,remove:kr,copyTo:ue}),insert:xe({before:ma,after:Vu,afterAll:Qi,append:cr,appendAll:Gl,prepend:Ji,wrap:Yc}),remove:xe({unwrap:sl,remove:Sl}),create:xe({nu:Ft.fromTag,clone:h,text:Ft.fromText}),query:xe({comparePosition:ee,prevSibling:um,nextSibling:cd}),property:xe({children:Ba,name:Gr,parent:Ve,document:b,isText:Hu,isComment:Of,isElement:xi,isSpecial:Te,getLanguage:$e,getText:Zu,setText:Fd,isBoundary:T,isEmptyTag:N,isNonEditable:j}),eq:bs,is:ae}};const Lh=(h,b)=>({item:h,mode:b}),Cg=(h,b,T,N=Am)=>h.property().parent(b).map(j=>Lh(j,N)),Am=(h,b,T,N=Ap)=>T.sibling(h,b).map(j=>Lh(j,N)),Ap=(h,b,T,N=Ap)=>{const j=h.property().children(b);return T.first(j).map(ue=>Lh(ue,N))},YS=[{current:Cg,next:Am,fallback:Fe.none()},{current:Am,next:Ap,fallback:Fe.some(Cg)},{current:Ap,next:Ap,fallback:Fe.some(Am)}],GS=(h,b,T,N,j=YS)=>le(j,ue=>ue.current===T).bind(ue=>ue.current(h,b,N,ue.next).orThunk(()=>ue.fallback.bind(Te=>GS(h,b,Te,N)))),Ew={left:()=>({sibling:(T,N)=>T.query().prevSibling(N),first:T=>T.length>0?Fe.some(T[T.length-1]):Fe.none()}),right:()=>({sibling:(T,N)=>T.query().nextSibling(N),first:T=>T.length>0?Fe.some(T[0]):Fe.none()})},kw=(h,b,T,N,j,ee)=>GS(h,b,N,j).bind(Te=>ee(Te.item)?Fe.none():T(Te.item)?Fe.some(Te.item):kw(h,Te.item,T,Te.mode,j,ee)),sT=(h,b,T,N)=>kw(h,b,T,Am,Ew.left(),N),Dw=(h,b,T,N)=>kw(h,b,T,Am,Ew.right(),N),Sg=(h,b)=>({element:h,offset:b}),f0=(h,b,T)=>h.property().isText(b)&&h.property().getText(b).trim().length===0||h.property().isComment(b)?T(b).bind(N=>f0(h,N,T).orThunk(()=>Fe.some(N))):Fe.none(),Ph=(h,b)=>h.property().isText(b)?h.property().getText(b).length:h.property().children(b).length,Aw=(h,b)=>{const T=f0(h,b,h.query().prevSibling).getOr(b);if(h.property().isText(T))return Sg(T,Ph(h,T));const N=h.property().children(T);return N.length>0?Aw(h,N[N.length-1]):Sg(T,Ph(h,T))},WO=Aw,Ow=Rh(),Mw=h=>WO(Ow,h),rT=h=>b=>h.property().children(b).length===0,jO=(h,b,T)=>iT(h,b,rT(h),T),jb=(h,b,T)=>Om(h,b,rT(h),T),iT=sT,Om=Dw,Zb=Rh(),Nw=(h,b)=>jO(Zb,h,b),Mm=(h,b)=>jb(Zb,h,b),Nu=(h,b,T)=>iT(Zb,h,b,T),vd=(h,b,T)=>Om(Zb,h,b,T),bd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Rw=(h,b)=>{const T=h.property().name(b);return en(["ol","ul"],T)},KS=(h,b)=>{const T=h.property().name(b);return en(bd,T)},qb=(h,b)=>en(["br","img","hr","input"],h.property().name(b)),Nm=(h,b,T,N)=>{const j=T[0],ee=T.slice(1);return N(h,b,j,ee)},ZO=(h,b,T)=>T.length>0?Nm(h,b,T,Hl):Fe.none(),Hl=(h,b,T,N)=>{const j=b(h,T);return Ds(N,(ee,ue)=>{const Te=b(h,ue);return Lw(h,ee,Te)},j)},Lw=(h,b,T)=>b.bind(N=>T.filter(Et(h.eq,N))),Ju=(h,b)=>Et(h.eq,b),aT=(h,b,T,N=ln)=>{const j=[b].concat(h.up().all(b)),ee=[T].concat(h.up().all(T)),ue=St=>hi(St,N).fold(()=>St,Wn=>St.slice(0,Wn+1)),Te=ue(j),$e=ue(ee),tt=le(Te,St=>xt($e,Ju(h,St)));return{firstpath:Te,secondpath:$e,shared:tt}},lT=ZO,xg=aT,Op=Rh(),jr=(h,b)=>lT(Op,(T,N)=>h(N),b),mu=(h,b,T)=>xg(Op,h,b,T),h0=Rh(),Pw=h=>KS(h0,h),Iw=h=>Rw(h0,h),m0=h=>qb(h0,h),cT=h=>{const b=dl("br"),T=$e=>js($e,tt=>b(tt)||Hu(tt)&&Zu(tt).trim().length===0),N=$e=>Gr($e)==="li"||$r($e,Iw).isSome(),j=$e=>cd($e).map(tt=>Pw(tt)?!0:m0(tt)?Gr(tt)!=="img":!1).getOr(!1),ee=$e=>Ua($e).bind(tt=>{const St=j(tt);return Ve(tt).map(dn=>St===!0||N(dn)||b(tt)||Pw(dn)&&!bs($e,dn)?[]:[Ft.fromTag("br")])}).getOr([]),Te=(()=>{const $e=ns(h,tt=>{const St=Ba(tt);return T(St)?[]:St.concat(ee(tt))});return $e.length===0?[Ft.fromTag("br")]:$e})();rc(h[0]),Gl(h[0],Te)},Rm=h=>{kr(h,"width"),kr(h,"height")},_g=h=>{const b=An(h);nT(h,Fe.some(b),Fe.none()),Rm(h)},XS=h=>{const b=bt(h);nT(h,Fe.some(b),Fe.none()),Rm(h)},Wd=h=>{const b=sn(h);nT(h,Fe.none(),Fe.some(b)),Rm(h)},Yb=h=>{Xc(h,"width");const b=Sm(h),T=b.length>0?b:Cm(h);qt(T,N=>{Xc(N,"width"),Rm(N)}),Rm(h)},Dl={scope:["row","col"]},Qu=h=>()=>{const b=Ft.fromTag("td",h.dom);return cr(b,Ft.fromTag("br",h.dom)),b},Fw=h=>()=>Ft.fromTag("col",h.dom),uT=h=>()=>Ft.fromTag("colgroup",h.dom),JS=h=>()=>Ft.fromTag("tr",h.dom),Tg=(h,b,T)=>{const N=ud(h,b);return rr(T,(j,ee)=>{j===null?kr(N,ee):Za(N,ee,j)}),N},Pv=h=>h,QS=(h,b,T)=>xh(h).map(j=>{const ee=T.join(","),ue=Ur(j,ee,Te=>bs(Te,h));return Ds(ue,(Te,$e)=>{const tt=wc($e);return cr(Te,tt),tt},b)}).getOr(b),ex=(h,b)=>{rr(Dl,(T,N)=>Il(h,N).filter(j=>en(T,j)).each(j=>Za(b,N,j)))},p0=(h,b,T)=>{const N=(ue,Te)=>{Pd(ue.element,Te),Xc(Te,"height"),ue.colspan!==1&&Xc(Te,"width")},j=ue=>{const Te=Ft.fromTag(Gr(ue.element),b.dom),$e=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),tt=$e.length>0?QS(ue.element,Te,$e):Te;return cr(tt,Ft.fromTag("br")),N(ue,Te),ex(ue.element,Te),h(ue.element,Te),Te};return{col:ue=>{const Te=Ft.fromTag(Gr(ue.element),b.dom);return N(ue,Te),h(ue.element,Te),Te},colgroup:uT(b),row:JS(b),cell:j,replace:Tg,colGap:Fw(b),gap:Qu(b)}},tx=h=>({col:Fw(h),colgroup:uT(h),row:JS(h),cell:Qu(h),replace:Pv,colGap:Fw(h),gap:Qu(h)}),Eg=h=>Us.fromTable(h).grid,Mp=(h,b,T,N)=>{const j=ke(h).rows;if(j.length===0)return h;for(let ee=b.startRow;ee<=b.finishRow;ee++)for(let ue=b.startCol;ue<=b.finishCol;ue++){const Te=j[ee],$e=Po(Te,ue).isLocked;Ss(Te,ue,un(N(),!1,$e))}return h},dT=(h,b,T,N)=>{const j=ke(h).rows;let ee=!0;for(let ue=0;ue<j.length;ue++)for(let Te=0;Te<Re(j[0]);Te++){const $e=j[ue],tt=Po($e,Te),St=tt.element,dn=T(St,b);dn&&!ee?Ss($e,Te,un(N(),!0,tt.isLocked)):dn&&(ee=!1)}return h},Fc=(h,b)=>Yt(h,(T,N)=>xt(T,j=>b(j.element,N.element))?T:T.concat([N]),[]),fT=(h,b,T,N)=>(b>0&&b<h[0].cells.length&&qt(h,j=>{const ee=j.cells[b-1];let ue=0;const Te=N();for(;j.cells.length>b+ue&&T(ee.element,j.cells[b+ue].element);)Ss(j,b+ue,un(Te,!0,j.cells[b+ue].isLocked)),ue++}),h),kg=(h,b,T,N)=>{const j=ke(h).rows;if(b>0&&b<j.length){const ee=j[b-1].cells,ue=Fc(ee,T);qt(ue,Te=>{let $e=Fe.none();for(let tt=b;tt<j.length;tt++)for(let St=0;St<Re(j[0]);St++){const dn=j[tt],Wn=Po(dn,St);T(Wn.element,Te.element)&&($e.isNone()&&($e=Fe.some(N())),$e.each(Fo=>{Ss(dn,St,un(Fo,!0,Wn.isLocked))}))}})}return h},hT=(h,b,T)=>{if(h.row>=b.length||h.column>Re(b[0]))return ba.error("invalid start address out of table bounds, row: "+h.row+", column: "+h.column);const N=b.slice(h.row),j=N[0].cells.slice(h.column),ee=Re(T[0]),ue=T.length;return ba.value({rowDelta:N.length-ue,colDelta:j.length-ee})},Bw=(h,b)=>{const T=Re(h[0]),N=Re(b[0]);return{rowDelta:0,colDelta:T-N}},nx=(h,b)=>{const T=h.length,N=b.length;return{rowDelta:T-N,colDelta:0}},g0=(h,b,T,N)=>{const j=b.section==="colgroup"?T.col:T.cell;return Eo(h,ee=>un(j(),!0,N(ee)))},ox=(h,b,T,N)=>{const j=h[h.length-1];return h.concat(Eo(b,()=>{const ee=j.section==="colgroup"?T.colgroup:T.row,ue=ut(j,ee,dt),Te=g0(ue.cells.length,ue,T,$e=>ot(N,$e.toString()));return wu(ue,Te)}))},mT=(h,b,T,N)=>eo(h,j=>{const ee=g0(b,j,T,ln);return Da(j,N,ee)}),pT=(h,b,T)=>eo(h,N=>Yt(T,(j,ee)=>{const ue=g0(1,N,b,et)[0];return yl(j,ee,ue)},N)),v0=(h,b,T)=>{const N=b.colDelta<0?mT:dt,j=b.rowDelta<0?ox:dt,ee=Tl(h),ue=Re(h[0]),Te=xt(ee,St=>St===ue-1),$e=N(h,Math.abs(b.colDelta),T,Te?ue-1:ue),tt=Tl($e);return j($e,Math.abs(b.rowDelta),T,fo(tt,et))},zl=(h,b,T,N)=>{const j=Po(h[b],T),ee=Et(N,j.element),ue=h[b];return h.length>1&&Re(ue)>1&&(T>0&&ee(ie(ue,T-1))||T<ue.cells.length-1&&ee(ie(ue,T+1))||b>0&&ee(ie(h[b-1],T))||b<h.length-1&&ee(ie(h[b+1],T)))},aa=(h,b,T,N,j,ee)=>{const ue=h.row,Te=h.column,$e=T.length,tt=Re(T[0]),St=ue+$e,dn=Te+tt+ee.length,Wn=fo(ee,et);for(let Jn=ue;Jn<St;Jn++){let Fo=0;for(let zt=Te;zt<dn;zt++){if(Wn[zt]){Fo++;continue}zl(b,Jn,zt,j)&&dT(b,ie(b[Jn],zt),j,N.cell);const Kt=zt-Te-Fo,Ko=Po(T[Jn-ue],Kt),Ts=Ko.element,po=N.replace(Ts);Ss(b[Jn],zt,un(po,!0,Ko.isLocked))}}return b},Bc=(h,b,T)=>{const N=Re(b[0]),j=ke(b).cols.length+h.row,ee=Eo(N-h.column,Te=>Te+h.column),ue=le(ee,Te=>js(T,$e=>$e!==Te)).getOr(N-1);return{row:j,column:ue}},Jl=(h,b,T)=>Oo(T,N=>N>=h.column&&N<=Re(b[0])+h.column),fc=(h,b,T,N,j)=>{const ee=Tl(b),ue=Bc(h,b,ee),Te=ke(T).rows,$e=Jl(ue,Te,ee);return hT(ue,b,Te).map(St=>{const dn={...St,colDelta:St.colDelta-$e.length},Wn=v0(b,dn,N),Jn=Tl(Wn),Fo=Jl(ue,Te,Jn);return aa(ue,Wn,Te,N,j,Fo)})},Al=(h,b,T,N,j)=>{fT(b,h,j,N.cell);const ee=nx(T,b),ue=v0(T,ee,N),Te=nx(b,ue),$e=v0(b,Te,N);return eo($e,(tt,St)=>Da(tt,h,ue[St].cells))},$w=(h,b,T,N,j)=>{kg(b,h,j,N.cell);const ee=Tl(b),ue=Bw(b,T),Te={...ue,colDelta:ue.colDelta-ee.length},$e=v0(b,Te,N),{cols:tt,rows:St}=ke($e),dn=Tl($e),Wn=Bw(T,b),Jn={...Wn,colDelta:Wn.colDelta+dn.length},Fo=pT(T,N,dn),zt=v0(Fo,Jn,N);return[...tt,...St.slice(0,h),...zt,...St.slice(h,St.length)]},Hw=(h,b,T,N)=>ut(h,j=>N(j,T),b),zw=(h,b,T,N,j)=>{const{rows:ee,cols:ue}=ke(h),Te=ee.slice(0,b),$e=ee.slice(b),tt=Hw(ee[T],(St,dn)=>b>0&&b<ee.length&&N(ie(ee[b-1],dn),ie(ee[b],dn))?Po(ee[b],dn):un(j(St.element,N),!0,St.isLocked),N,j);return[...ue,...Te,tt,...$e]},gT=(h,b,T,N,j,ee,ue)=>{if(T==="colgroup"||!N){const Te=Po(h,j);return un(ue(Te.element,ee),!0,!1)}else return Po(h,b)},Vw=(h,b,T,N,j)=>eo(h,ee=>{const ue=b>0&&b<Re(ee)&&N(ie(ee,b-1),ie(ee,b)),Te=gT(ee,b,ee.section,ue,T,N,j);return yl(ee,b,Te)}),vT=(h,b)=>ns(h,T=>{const N=T.cells,j=Ds(b,(ee,ue)=>ue>=0&&ue<ee.length?ee.slice(0,ue).concat(ee.slice(ue+1)):ee,N);return j.length>0?[rs(T.element,j,T.section,T.isNew)]:[]}),Iv=(h,b,T)=>{const{rows:N,cols:j}=ke(h);return[...j,...N.slice(0,b),...N.slice(T+1)]},sx=(h,b,T,N)=>ie(h[b],T)!==void 0&&b>0&&N(ie(h[b-1],T),ie(h[b],T)),Fv=(h,b,T)=>b>0&&T(ie(h,b-1),ie(h,b)),Uw=(h,b,T,N)=>sx(h,b,T,N)||Fv(h[b],T,N),rx=(h,b)=>js(b,dt)&&Dh(h.cells)?et:(N,j,ee)=>!(Gr(N.element)==="th"&&b[ee]),Ww=(h,b)=>js(b,dt)&&Dh(h)?et:(N,j,ee)=>!(Gr(N.element)==="th"&&b[j]),Ih=(h,b,T,N)=>{const j=ue=>ue==="row"?hw(b):wm(b),ee=ue=>j(ue)?`${ue}group`:ue;return h?kh(b)?ee(T):null:N&&kh(b)?ee(T==="row"?"col":"row"):null},b0=(h,b)=>(T,N,j)=>Fe.some(Ih(h,T.element,"col",b[j])),ix=(h,b)=>(T,N)=>Fe.some(Ih(h,T.element,"row",b[N])),Gb=(h,b,T)=>un(T(h.element,b),!0,h.isLocked),y0=(h,b,T,N,j,ee,ue)=>{const Te=$e=>xt(b,tt=>T($e.element,tt.element));return eo(h,($e,tt)=>Si($e,(St,dn)=>{if(Te(St)){const Wn=ue(St,tt,dn)?j(St,T,N):St;return ee(Wn,tt,dn).each(Jn=>{Pl(Wn.element,{scope:Fe.from(Jn)})}),Wn}else return St}))},jw=(h,b,T)=>ns(h,(N,j)=>Uw(h,j,b,T)?[]:[Po(N,b)]),ax=(h,b,T)=>{const N=h[b];return ns(N.cells,(j,ee)=>Uw(h,b,ee,T)?[]:[j])},qf=(h,b,T,N,j)=>{const ee=ke(h).rows,ue=ns(b,St=>jw(ee,St,N)),Te=eo(ee,St=>Dh(St.cells)),$e=Ww(ue,Te),tt=ix(T,Te);return y0(h,ue,N,j,Gb,tt,$e)},Lm=(h,b,T,N,j,ee,ue)=>{const{cols:Te,rows:$e}=ke(h),tt=$e[b[0]],St=ns(b,Kt=>ax($e,Kt,j)),dn=eo(tt.cells,(Kt,Ko)=>Dh(jw($e,Ko,j))),Wn=[...$e];qt(b,Kt=>{Wn[Kt]=ue.transformRow($e[Kt],T)});const Jn=[...Te,...Wn],Fo=rx(tt,dn),zt=b0(N,dn);return y0(Jn,St,j,ee,ue.transformCell,zt,Fo)},Kb=(h,b,T,N)=>{const j=ke(h).rows,ee=eo(b,ue=>Po(j[ue.row],ue.column));return y0(h,ee,T,N,Gb,Fe.none,et)},It=h=>Yt(h,(T,N)=>xt(T,ee=>ee.column===N.column)?T:T.concat([N]),[]).sort((T,N)=>T.column-N.column),ed=h=>mm(h,!0),Xb=h=>{Cm(h).length===0&&Sl(h)},w0=(h,b)=>({grid:h,cursor:b}),Zw=h=>Ns(h,b=>Ns(b.cells,T=>{const N=T.element;return nc(ed(N),N)})),Fh=(h,b,T)=>{const N=ke(h).rows;return Fe.from(N[b]?.cells[T]?.element).filter(ed).orThunk(()=>Zw(N))},pu=(h,b,T)=>{const N=Fh(h,b,T);return w0(h,N)},C0=h=>Yt(h,(T,N)=>xt(T,ee=>ee.row===N.row)?T:T.concat([N]),[]).sort((T,N)=>T.row-N.row),bT=(h,b,T,N)=>{const j=b[0].row,ee=C0(b),ue=Ds(ee,(Te,$e)=>({grid:zw(Te.grid,j,$e.row+Te.delta,T,N.getOrInit),delta:Te.delta+1}),{grid:h,delta:0}).grid;return pu(ue,j,b[0].column)},qw=(h,b,T,N)=>{const j=C0(b),ee=j[j.length-1],ue=ee.row+ee.rowspan,Te=Ds(j,($e,tt)=>zw($e,ue,tt.row,T,N.getOrInit),h);return pu(Te,ue,b[0].column)},yT=(h,b,T,N)=>{const j=b.details,ee=It(j),ue=ee[0].column,Te=Ds(ee,($e,tt)=>({grid:Vw($e.grid,ue,tt.column+$e.delta,T,N.getOrInit),delta:$e.delta+1}),{grid:h,delta:0}).grid;return pu(Te,j[0].row,ue)},Bv=(h,b,T,N)=>{const j=b.details,ee=j[j.length-1],ue=ee.column+ee.colspan,Te=It(j),$e=Ds(Te,(tt,St)=>Vw(tt,ue,St.column,T,N.getOrInit),h);return pu($e,j[0].row,ue)},lx=(h,b,T,N)=>{const j=It(b),ee=eo(j,Te=>Te.column),ue=qf(h,ee,!0,T,N.replaceOrInit);return pu(ue,b[0].row,b[0].column)},Pm=(h,b,T,N)=>{const j=Kb(h,b,T,N.replaceOrInit);return pu(j,b[0].row,b[0].column)},cx=(h,b,T,N)=>{const j=It(b),ee=eo(j,Te=>Te.column),ue=qf(h,ee,!1,T,N.replaceOrInit);return pu(ue,b[0].row,b[0].column)},wT=(h,b,T,N)=>{const j=Kb(h,b,T,N.replaceOrInit);return pu(j,b[0].row,b[0].column)},gu=(h,b)=>(T,N,j,ee,ue)=>{const Te=C0(N),$e=eo(Te,St=>St.row),tt=Lm(T,$e,h,b,j,ee.replaceOrInit,ue);return pu(tt,N[0].row,N[0].column)},Bh=gu("thead",!0),yd=gu("tbody",!1),Yw=gu("tfoot",!1),Jb=(h,b,T,N)=>{const j=It(b.details),ee=vT(h,eo(j,Te=>Te.column)),ue=ee.length>0?ee[0].cells.length-1:0;return pu(ee,j[0].row,Math.min(j[0].column,ue))},CT=(h,b,T,N)=>{const j=C0(b),ee=Iv(h,j[0].row,j[j.length-1].row),ue=Math.max(ke(ee).rows.length-1,0);return pu(ee,Math.min(b[0].row,ue),b[0].column)},qO=(h,b,T,N)=>{const j=b.cells;cT(j);const ee=Mp(h,b.bounds,T,N.merge(j));return w0(ee,Fe.from(j[0]))},ux=(h,b,T,N)=>{const ee=Ds(b,(ue,Te)=>dT(ue,Te,T,N.unmerge(Te)),h);return w0(ee,Fe.from(b[0]))},ST=(h,b,T,N)=>{const ee=(($e,tt)=>{const St=Us.fromTable($e);return Ep(St,tt,!0)})(b.clipboard,b.generators),ue=mi(b.row,b.column);return fc(ue,h,ee,b.generators,T).fold(()=>w0(h,Fe.some(b.element)),$e=>pu($e,b.row,b.column))},Ys=(h,b,T)=>{const N=Fi(h,T.section),j=Us.generate(N);return Ep(j,b,!0)},$o=(h,b,T,N)=>{const j=ke(h).rows,ee=b.cells[0].column,ue=j[b.cells[0].row],Te=Ys(b.clipboard,b.generators,ue),$e=Al(ee,h,Te,b.generators,T);return pu($e,b.cells[0].row,b.cells[0].column)},S0=(h,b,T,N)=>{const j=ke(h).rows,ee=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,ue=j[b.cells[0].row],Te=Ys(b.clipboard,b.generators,ue),$e=Al(ee,h,Te,b.generators,T);return pu($e,b.cells[0].row,ee)},Gw=(h,b,T,N)=>{const j=ke(h).rows,ee=b.cells[0].row,ue=j[ee],Te=Ys(b.clipboard,b.generators,ue),$e=$w(ee,h,Te,b.generators,T);return pu($e,b.cells[0].row,b.cells[0].column)},dx=(h,b,T,N)=>{const j=ke(h).rows,ee=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,ue=j[b.cells[0].row],Te=Ys(b.clipboard,b.generators,ue),$e=$w(ee,h,Te,b.generators,T);return pu($e,ee,b.cells[0].column)},YO=(h,b)=>{const T=Us.fromTable(h);return dc(T,b).bind(j=>{const ee=j[j.length-1],ue=j[0].column,Te=ee.column+ee.colspan,$e=fs(eo(T.all,tt=>Oo(tt.cells,St=>St.column>=ue&&St.column<Te)));return yv($e)}).getOr("")},fx=(h,b)=>{const T=Us.fromTable(h);return dc(T,b).bind(yv).getOr("")},la=(h,b)=>{const T=Us.fromTable(h);return dc(T,b).bind(j=>{const ee=j[j.length-1],ue=j[0].row,Te=ee.row+ee.rowspan,$e=T.all.slice(ue,Te);return mw($e)}).getOr("")},Kw=(h,b,T,N)=>ww(h,b,T,N.sizing),x0=(h,b,T,N)=>yw(h,b,T,N.sizing,N.resize),$v=(h,b)=>xt(b,T=>T.column===0&&T.isLocked),Wt=(h,b)=>xt(b,T=>T.column+T.colspan>=h.grid.columns&&T.isLocked),Xw=(h,b)=>{const T=t0(h),N=It(b);return Yt(N,(j,ee)=>{const Te=T[ee.column].map(xr).getOr(0);return j+Te},0)},xT=h=>(b,T)=>dc(b,T).filter(N=>!(h?$v:Wt)(b,N)).map(N=>({details:N,pixelDelta:Xw(b,N)})),Jw=(h,b)=>Ub(h,b).map(T=>({details:T,pixelDelta:-Xw(h,T)})),_T=h=>(b,T)=>zf(b,T).filter(N=>!(h?$v:Wt)(b,N.cells)),Np=gd.transform("th"),Hv=gd.transform("td"),zv=(h,b,T,N)=>Xl(bT,dc,Ce,Ce,gd.modification,h,b,T,N),hx=(h,b,T,N)=>Xl(qw,dc,Ce,Ce,gd.modification,h,b,T,N),Vv=(h,b,T,N)=>Xl(yT,xT(!0),x0,Ce,gd.modification,h,b,T,N),ta=(h,b,T,N)=>Xl(Bv,xT(!1),x0,Ce,gd.modification,h,b,T,N),$h=(h,b,T,N)=>Xl(Jb,Jw,x0,Xb,gd.modification,h,b,T,N),TT=(h,b,T,N)=>Xl(CT,dc,Ce,Xb,gd.modification,h,b,T,N),Rp=(h,b,T,N)=>Xl(lx,Ub,Ce,Ce,Np,h,b,T,N),Yf=(h,b,T,N)=>Xl(cx,Ub,Ce,Ce,Hv,h,b,T,N),GO=(h,b,T,N)=>Xl(Bh,dc,Ce,Ce,Np,h,b,T,N),KO=(h,b,T,N)=>Xl(yd,dc,Ce,Ce,Hv,h,b,T,N),mx=(h,b,T,N)=>Xl(Yw,dc,Ce,Ce,Hv,h,b,T,N),XO=(h,b,T,N)=>Xl(Pm,Ub,Ce,Ce,Np,h,b,T,N),JO=(h,b,T,N)=>Xl(wT,Ub,Ce,Ce,Hv,h,b,T,N),QO=(h,b,T,N)=>Xl(qO,km,Kw,Ce,gd.merging,h,b,T,N),eM=(h,b,T,N)=>Xl(ux,i0,Kw,Ce,gd.merging,h,b,T,N),px=(h,b,T,N)=>Xl(ST,vw,Kw,Ce,gd.modification,h,b,T,N),On=(h,b,T,N)=>Xl($o,_T(!0),Ce,Ce,gd.modification,h,b,T,N),ET=(h,b,T,N)=>Xl(S0,_T(!1),Ce,Ce,gd.modification,h,b,T,N),xc=(h,b,T,N)=>Xl(Gw,zf,Ce,Ce,gd.modification,h,b,T,N),kT=(h,b,T,N)=>Xl(dx,zf,Ce,Ce,gd.modification,h,b,T,N),DT=YO,AT=fx,tM=la,hs=(h,b)=>{const T=b.column,N=b.column+b.colspan-1,j=b.row,ee=b.row+b.rowspan-1;return T<=h.finishCol&&N>=h.startCol&&j<=h.finishRow&&ee>=h.startRow},gx=(h,b)=>b.column>=h.startCol&&b.column+b.colspan-1<=h.finishCol&&b.row>=h.startRow&&b.row+b.rowspan-1<=h.finishRow,OT=(h,b)=>{let T=!0;const N=Et(gx,b);for(let j=b.startRow;j<=b.finishRow;j++)for(let ee=b.startCol;ee<=b.finishCol;ee++)T=T&&Us.getAt(h,j,ee).exists(N);return T?Fe.some(b):Fe.none()},wI=(h,b)=>oa(Math.min(h.row,b.row),Math.min(h.column,b.column),Math.max(h.row+h.rowspan-1,b.row+b.rowspan-1),Math.max(h.column+h.colspan-1,b.column+b.colspan-1)),nM=(h,b,T)=>{const N=Us.findItem(h,b,bs),j=Us.findItem(h,T,bs);return N.bind(ee=>j.map(ue=>wI(ee,ue)))},MT=(h,b,T)=>nM(h,b,T).bind(N=>OT(h,N)),CI=(h,b,T,N)=>Us.findItem(h,b,bs).bind(j=>{const ee=T>0?j.row+j.rowspan-1:j.row,ue=N>0?j.column+j.colspan-1:j.column;return Us.getAt(h,ee+T,ue+N).map($e=>$e.element)}),oM=(h,b,T)=>nM(h,b,T).map(N=>{const j=Us.filterItems(h,Et(hs,N));return eo(j,ee=>ee.element)}),NT=(h,b)=>{const T=(N,j)=>ar(j,N);return Us.findItem(h,b,T).map(N=>N.element)},vx=(h,b,T)=>fu(h).bind(N=>{const j=jd(N);return CI(j,h,b,T)}),ps=(h,b,T)=>{const N=jd(h);return oM(N,b,T)},bx=(h,b,T,N,j)=>{const ee=jd(h),ue=bs(h,T)?Fe.some(b):NT(ee,b),Te=bs(h,j)?Fe.some(N):NT(ee,N);return ue.bind($e=>Te.bind(tt=>oM(ee,$e,tt)))},Lp=(h,b,T)=>{const N=jd(h);return MT(N,b,T)},jd=Us.fromTable,so={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},vu=()=>Ft.fromTag("th"),_0=()=>Ft.fromTag("td"),T0=()=>Ft.fromTag("col"),Qw=(h,b,T,N)=>{const j=Ft.fromTag("tr");for(let ee=0;ee<h;ee++){const ue=N<b||ee<T?vu():_0();ee<T&&Za(ue,"scope","row"),N<b&&Za(ue,"scope","col"),cr(ue,Ft.fromTag("br")),cr(j,ue)}return j},Qb=h=>{const b=Ft.fromTag("colgroup");return Eo(h,()=>cr(b,T0())),b},E0=(h,b,T,N)=>Eo(h,j=>Qw(b,T,N,j)),Pp=(h,b,T,N,j,ee=so)=>{const ue=Ft.fromTag("table"),Te=j!=="cells";Di(ue,ee.styles),Uu(ue,ee.attributes),ee.colGroups&&cr(ue,Qb(b));const $e=Math.min(h,T);if(Te&&T>0){const Jn=Ft.fromTag("thead");cr(ue,Jn);const zt=E0(T,b,j==="sectionCells"?$e:0,N);Gl(Jn,zt)}const tt=Ft.fromTag("tbody");cr(ue,tt);const St=Te?h-$e:h,Wn=E0(St,b,Te?0:T,N);return Gl(tt,Wn),ue},nu=h=>{let b=[];return{bind:ee=>{if(ee===void 0)throw new Error("Event bind error: undefined handler");b.push(ee)},unbind:ee=>{b=Oo(b,ue=>ue!==ee)},trigger:(...ee)=>{const ue={};qt(h,(Te,$e)=>{ue[Te]=ee[$e]}),qt(b,Te=>{Te(ue)})}}},Im=h=>{const b=ir(h,N=>({bind:N.bind,unbind:N.unbind})),T=ir(h,N=>N.trigger);return{registry:b,trigger:T}},sM=Pn(["compare","extract","mutate","sink"]),$c=Pn(["element","start","stop","destroy"]),e1=Pn(["forceDrop","drop","move","delayDrop"]),rM=()=>{let h=Fe.none();const b=()=>{h=Fe.none()},T=(ee,ue)=>{const Te=h.map($e=>ee.compare($e,ue));return h=Fe.some(ue),Te},N=(ee,ue)=>{ue.extract(ee).each($e=>{T(ue,$e).each(St=>{j.trigger.move(St)})})},j=Im({move:nu(["info"])});return{onEvent:N,reset:b,events:j.registry}},Tr=()=>{const h=Im({move:nu(["info"])});return{onEvent:Ce,reset:Ce,events:h.registry}},Hh=()=>{const h=Tr(),b=rM();let T=h;return{on:()=>{T.reset(),T=b},off:()=>{T.reset(),T=h},isOn:()=>T===b,onEvent:(Te,$e)=>{T.onEvent(Te,$e)},events:b.events}},Uv=(h,b,T)=>{let N=!1;const j=Im({start:nu([]),stop:nu([])}),ee=Hh(),ue=()=>{Fo.stop(),ee.isOn()&&(ee.off(),j.trigger.stop())},Te=gr(ue,200),$e=Kt=>{Fo.start(Kt),ee.on(),j.trigger.start()},tt=Kt=>{Te.cancel(),ee.onEvent(Kt,b)};ee.events.move.bind(Kt=>{b.mutate(h,Kt.info)});const St=()=>{N=!0},dn=()=>{N=!1},Wn=()=>N,Jn=Kt=>(...Ko)=>{N&&Kt.apply(null,Ko)},Fo=b.sink(e1({forceDrop:ue,drop:Jn(ue),move:Jn(tt),delayDrop:Jn(Te.throttle)}),T),zt=()=>{Fo.destroy()};return{element:Fo.element,go:$e,on:St,off:dn,isActive:Wn,destroy:zt,events:j.registry}},Wv=Ks("ephox-dragster").resolve,Or=h=>{const b={layerClass:Wv("blocker"),...h},T=Ft.fromTag("div");return Za(T,"role","presentation"),Za(T,"data-mce-bogus","all"),Di(T,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Tu(T,Wv("blocker")),Tu(T,b.layerClass),{element:xe(T),destroy:()=>{Sl(T)}}};var k0=sM({compare:(h,b)=>_i(b.left-h.left,b.top-h.top),extract:h=>Fe.some(_i(h.x,h.y)),sink:(h,b)=>{const T=Or(b),N=Ha(T.element(),"mousedown",h.forceDrop),j=Ha(T.element(),"mouseup",h.drop),ee=Ha(T.element(),"mousemove",h.move),ue=Ha(T.element(),"mouseout",h.delayDrop),Te=()=>{T.destroy(),j.unbind(),ee.unbind(),ue.unbind(),N.unbind()},$e=St=>{cr(St,T.element())},tt=()=>{Sl(T.element())};return $c({element:T.element,start:$e,stop:tt,destroy:Te})},mutate:(h,b)=>{h.mutate(b.left,b.top)}});const iM=(h,b={})=>{const T=b.mode??k0;return Uv(h,T,b)},eC=Ks("ephox-snooker").resolve,yx=()=>{const h=Im({drag:nu(["xDelta","yDelta"])});return{mutate:(T,N)=>{h.trigger.drag(T,N)},events:h.registry}},D0=()=>{const h=Im({drag:nu(["xDelta","yDelta","target"])});let b=Fe.none();const T=yx();return T.events.drag.bind(ee=>{b.each(ue=>{h.trigger.drag(ee.xDelta,ee.yDelta,ue)})}),{assign:ee=>{b=Fe.some(ee)},get:()=>b,mutate:T.mutate,events:h.registry}},LT=(h,b,T,N,j)=>{const ee=Ft.fromTag("div");return Di(ee,{position:"absolute",left:b-N/2+"px",top:T+"px",height:j+"px",width:N+"px"}),Uu(ee,{"data-mce-bogus":"all","data-column":h,role:"presentation"}),ee},aM=(h,b,T,N,j)=>{const ee=Ft.fromTag("div");return Di(ee,{position:"absolute",left:b+"px",top:T-j/2+"px",height:j+"px",width:N+"px"}),Uu(ee,{"data-mce-bogus":"all","data-row":h,role:"presentation"}),ee},A0=eC("resizer-bar"),wx=eC("resizer-rows"),Cx=eC("resizer-cols"),PT=7,IT=(h,b)=>ns(h.all,(T,N)=>b(T.element)?[N]:[]),FT=(h,b)=>{const T=[];return Eo(h.grid.columns,N=>{Us.getColumnAt(h,N).map(ee=>ee.element).forall(b)&&T.push(N)}),Oo(T,N=>{const j=Us.filterItems(h,ee=>ee.column===N);return js(j,ee=>b(ee.element))})},Sx=h=>{const b=Du(h.parent(),"."+A0);qt(b,Sl)},xx=(h,b,T)=>{const N=h.origin();qt(b,j=>{j.each(ee=>{const ue=T(N,ee);Tu(ue,A0),cr(h.parent(),ue)})})},zr=(h,b,T,N)=>{xx(h,b,(j,ee)=>{const ue=LT(ee.col,ee.x-j.left,T.top-j.top,PT,N);return Tu(ue,Cx),ue})},BT=(h,b,T,N)=>{xx(h,b,(j,ee)=>{const ue=aM(ee.row,T.left-j.left,ee.y-j.top,N,PT);return Tu(ue,wx),ue})},tC=(h,b,T,N,j)=>{const ee=qs(T),ue=b.isResizable,Te=N.length>0?Au.positions(N,T):[],$e=Te.length>0?IT(h,ue):[],tt=Oo(Te,(Jn,Fo)=>xt($e,zt=>Fo===zt));BT(b,tt,ee,xr(T));const St=j.length>0?eu.positions(j,T):[],dn=St.length>0?FT(h,ue):[],Wn=Oo(St,(Jn,Fo)=>xt(dn,zt=>Fo===zt));zr(b,Wn,ee,Mb(T))},_x=(h,b)=>{if(Sx(h),h.isResizable(b)){const T=Us.fromTable(b),N=Oi(T),j=t0(T);tC(T,h,b,N,j)}},vf=(h,b)=>{const T=Du(h.parent(),"."+A0);qt(T,b)},$T=h=>{vf(h,b=>{Ya(b,"display","none")})},Tx=h=>{vf(h,b=>{Ya(b,"display","block")})},lM=h=>Eu(h,wx),Fm=h=>Eu(h,Cx),cM=eC("resizer-bar-dragging"),O0=h=>{const b=D0(),T=iM(b,{});let N=Fe.none();const j=(zt,Kt)=>Fe.from(Kc(zt,Kt));b.events.drag.bind(zt=>{j(zt.target,"data-row").each(Kt=>{const Ko=il(zt.target,"top");Ya(zt.target,"top",Ko+zt.yDelta+"px")}),j(zt.target,"data-column").each(Kt=>{const Ko=il(zt.target,"left");Ya(zt.target,"left",Ko+zt.xDelta+"px")})});const ee=(zt,Kt)=>{const Ko=il(zt,Kt),Ts=Eh(zt,"data-initial-"+Kt,0);return Ko-Ts};T.events.stop.bind(()=>{b.get().each(zt=>{N.each(Kt=>{j(zt,"data-row").each(Ko=>{const Ts=ee(zt,"top");kr(zt,"data-initial-top"),Fo.trigger.adjustHeight(Kt,Ts,parseInt(Ko,10))}),j(zt,"data-column").each(Ko=>{const Ts=ee(zt,"left");kr(zt,"data-initial-left"),Fo.trigger.adjustWidth(Kt,Ts,parseInt(Ko,10))}),_x(h,Kt)})})});const ue=(zt,Kt)=>{Fo.trigger.startAdjust(),b.assign(zt),Za(zt,"data-initial-"+Kt,il(zt,Kt)),Tu(zt,cM),Ya(zt,"opacity","0.2"),T.go(h.dragContainer())},Te=Ha(h.parent(),"mousedown",zt=>{lM(zt.target)&&ue(zt.target,"top"),Fm(zt.target)&&ue(zt.target,"left")}),$e=zt=>bs(zt,h.view()),tt=zt=>Vi(zt,"table",$e).filter(mm),St=zt=>Eu(zt,"ephox-snooker-resizer-bar")||Eu(zt,"ephox-dragster-blocker"),dn=Ha(h.view(),"mouseover",zt=>{tt(zt.target).fold(()=>{Io(zt.target)&&!St(zt.target)&&Sx(h)},Kt=>{T.isActive()&&(N=Fe.some(Kt),_x(h,Kt))})}),Wn=()=>{Te.unbind(),dn.unbind(),T.destroy(),Sx(h)},Jn=zt=>{_x(h,zt)},Fo=Im({adjustHeight:nu(["table","delta","row"]),adjustWidth:nu(["table","delta","column"]),startAdjust:nu([])});return{destroy:Wn,refresh:Jn,on:T.on,off:T.off,hideBars:Et($T,h),showBars:Et(Tx,h),events:Fo.registry}},uM={create:(h,b,T)=>{const N=Au,j=eu,ee=O0(h),ue=Im({beforeResize:nu(["table","type"]),afterResize:nu(["table","type"]),startDrag:nu([])});return ee.events.adjustHeight.bind(Te=>{const $e=Te.table;ue.trigger.beforeResize($e,"row");const tt=N.delta(Te.delta,$e);jS($e,tt,Te.row),ue.trigger.afterResize($e,"row")}),ee.events.startAdjust.bind(Te=>{ue.trigger.startDrag()}),ee.events.adjustWidth.bind(Te=>{const $e=Te.table;ue.trigger.beforeResize($e,"col");const tt=j.delta(Te.delta,$e),St=T($e);Av($e,tt,Te.column,b,St),ue.trigger.afterResize($e,"col")}),{on:ee.on,off:ee.off,refreshBars:ee.refresh,hideBars:ee.hideBars,showBars:ee.showBars,destroy:ee.destroy,events:ue.registry}}},Dg=h=>b=>b.options.get(h),nC="100%",HT=h=>{const b=h.dom,T=b.getParent(h.selection.getStart(),b.isBlock)??h.getBody();return ri(Ft.fromDom(T))+"px"},dM=(h,b)=>I0(h)||!sC(h)?b:Ip(h)?{...b,width:HT(h)}:{...b,width:nC},zT=(h,b)=>I0(h)||sC(h)?b:Ip(h)?{...b,width:HT(h)}:{...b,width:nC},kI=h=>{const b=h.options.register;b("table_clone_elements",{processor:"string[]"}),b("table_use_colgroups",{processor:"boolean",default:!0}),b("table_header_type",{processor:T=>{const N=en(["section","cells","sectionCells","auto"],T);return N?{value:T,valid:N}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),b("table_sizing_mode",{processor:"string",default:"auto"}),b("table_default_attributes",{processor:"object",default:{border:"1"}}),b("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),b("table_column_resizing",{processor:T=>{const N=en(["preservetable","resizetable"],T);return N?{value:T,valid:N}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),b("table_resize_bars",{processor:"boolean",default:!0}),b("table_style_by_css",{processor:"boolean",default:!0}),b("table_merge_content_on_paste",{processor:"boolean",default:!0})},VT=h=>Fe.from(h.options.get("table_clone_elements")),UT=h=>{const b=h.options.get("object_resizing");return en(b.split(","),"table")},N0=Dg("table_header_type"),R0=Dg("table_column_resizing"),L0=h=>R0(h)==="preservetable",jv=h=>R0(h)==="resizetable",oC=Dg("table_sizing_mode"),P0=h=>oC(h)==="relative",Ip=h=>oC(h)==="fixed",I0=h=>oC(h)==="responsive",Ex=Dg("table_resize_bars"),sC=Dg("table_style_by_css"),WT=Dg("table_merge_content_on_paste"),jT=h=>{const b=h.options,T=b.get("table_default_attributes");return b.isSet("table_default_attributes")?T:zT(h,T)},ZT=h=>{const b=h.options,T=b.get("table_default_styles");return b.isSet("table_default_styles")?T:dM(h,T)},fM=Dg("table_use_colgroups"),rC=h=>Ft.fromDom(h.getBody()),t1=h=>b=>bs(b,rC(h)),Zv=h=>{kr(h,"data-mce-style");const b=T=>kr(T,"data-mce-style");qt(Cm(h),b),qt(Sm(h),b),qt(G1(h),b)},qv=h=>Ft.fromDom(h.selection.getStart()),qT=h=>h.getBoundingClientRect().width,YT=h=>h.getBoundingClientRect().height,GT=h=>(b,T)=>{const N=b.dom.getStyle(T,h)||b.dom.getAttrib(T,h);return Fe.from(N).filter(er)},iC=GT("width"),KT=GT("height"),hM=h=>/^(\d+(\.\d+)?)%$/.test(h),XT=h=>/^(\d+(\.\d+)?)px$/.test(h),aC=h=>fv(h,dl("table")).exists(mm),kx=h=>_r(h,"table"),lC=(h,b,T)=>{const N=j=>ee=>T!==void 0&&T(ee)||bs(ee,j);return bs(h,b)?Fe.some({boxes:Fe.some([h]),start:h,finish:b}):kx(h).bind(j=>kx(b).bind(ee=>{if(bs(j,ee))return Fe.some({boxes:ps(j,h,b),start:h,finish:b});if(ar(j,ee)){const ue=Ur(b,"td,th",N(j)),Te=ue.length>0?ue[ue.length-1]:b;return Fe.some({boxes:bx(j,h,j,b,ee),start:h,finish:Te})}else if(ar(ee,j)){const ue=Ur(h,"td,th",N(ee)),Te=ue.length>0?ue[ue.length-1]:h;return Fe.some({boxes:bx(ee,h,j,b,ee),start:h,finish:Te})}else return mu(h,b).shared.bind(ue=>Vi(ue,"table",T).bind(Te=>{const $e=Ur(b,"td,th",N(Te)),tt=$e.length>0?$e[$e.length-1]:b,St=Ur(h,"td,th",N(Te)),dn=St.length>0?St[St.length-1]:h;return Fe.some({boxes:bx(Te,h,j,b,ee),start:dn,finish:tt})}))}))},Dx=(h,b)=>{const T=Du(h,b);return T.length>0?Fe.some(T):Fe.none()},mM=(h,b)=>le(h,T=>Bt(T,b)),Ax=(h,b,T)=>Rc(h,b).bind(N=>Rc(h,T).bind(j=>jr(kx,[N,j]).map(ee=>({first:N,last:j,table:ee})))),JT=(h,b)=>_r(h,"table").bind(T=>Rc(T,b).bind(N=>lC(N,h).bind(j=>j.boxes.map(ee=>({boxes:ee,start:j.start,finish:j.finish}))))),QT=(h,b,T,N,j)=>mM(h,j).bind(ee=>vx(ee,b,T).bind(ue=>JT(ue,N))),F0=(h,b)=>Dx(h,b),pM=(h,b,T)=>Ax(h,b,T).bind(N=>{const j=$e=>bs(h,$e),ee="thead,tfoot,tbody,table",ue=_r(N.first,ee,j),Te=_r(N.last,ee,j);return ue.bind($e=>Te.bind(tt=>bs($e,tt)?Lp(N.table,N.first,N.last):Fe.none()))}),Ox=dt,Mx=h=>{const b=(N,j)=>Il(N,j).exists(ee=>parseInt(ee,10)>1),T=N=>b(N,"rowspan")||b(N,"colspan");return h.length>0&&js(h,T)?Fe.some(h):Fe.none()},gM=(h,b,T)=>b.length<=1?Fe.none():pM(h,T.firstSelectedSelector,T.lastSelectedSelector).map(N=>({bounds:N,cells:b})),Yv={create:(h,b)=>({selection:h,kill:b})},eE=(h,b,T,N)=>{switch(h.tag){case"none":return b();case"single":return N(h.element);case"multiple":return T(h.elements)}},tE=()=>({tag:"none"}),bM=h=>({tag:"multiple",elements:h}),yM=h=>({tag:"single",element:h}),wM=(h,b,T)=>({get:()=>F0(h(),T).fold(()=>b().fold(tE,yM),bM)}),B0={create:(h,b,T,N)=>({start:La.on(h,b),finish:La.on(T,N)})},Nx=(h,b)=>{const T=Tn(h,b);return Yu.create(Ft.fromDom(T.startContainer),T.startOffset,Ft.fromDom(T.endContainer),T.endOffset)},$0=B0.create,nE=(h,b,T,N,j,ee,ue)=>bs(T,j)&&N===ee?Fe.none():Vi(T,"td,th",b).bind(Te=>Vi(j,"td,th",b).bind($e=>H0(h,b,Te,$e,ue))),H0=(h,b,T,N,j)=>bs(T,N)?Fe.none():lC(T,N,b).bind(ee=>{const ue=ee.boxes.getOr([]);return ue.length>1?(j(h,ue,ee.start,ee.finish),Fe.some(Yv.create(Fe.some($0(T,0,T,Jc(T))),!0))):Fe.none()}),CM=(h,b,T,N,j)=>{const ee=ue=>(j.clearBeforeUpdate(T),j.selectRange(T,ue.boxes,ue.start,ue.finish),ue.boxes);return QT(N,h,b,j.firstSelectedSelector,j.lastSelectedSelector).map(ee)},uC=Gn.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),SM=(h,b,T)=>{const N=h.getRect(b),j=h.getRect(T);return j.right>N.left&&j.left<N.right},oE=h=>Vi(h,"tr"),Gv={...uC,verify:(h,b,T,N,j,ee,ue)=>Vi(N,"td,th",ue).bind(Te=>Vi(b,"td,th",ue).map($e=>bs(Te,$e)?bs(N,Te)&&Jc(Te)===j?ee($e):uC.none("in same cell"):jr(oE,[Te,$e]).fold(()=>SM(h,$e,Te)?uC.success():ee($e),tt=>ee($e)))).getOr(uC.none("default")),cata:(h,b,T,N,j)=>h.fold(b,T,N,j)},dC=dl("br"),fC=(h,b,T)=>b(h,T).bind(N=>Hu(N)&&Zu(N).trim().length===0?fC(N,b,T):Fe.some(N)),sE=(h,b,T)=>T.traverse(b).orThunk(()=>fC(b,T.gather,h)).map(T.relative),_M=(h,b)=>Ke(h,b).filter(dC).orThunk(()=>Ke(h,b-1).filter(dC)),hC=(h,b,T,N)=>_M(b,T).bind(j=>N.traverse(j).fold(()=>fC(j,N.gather,h).map(N.relative),ee=>Nf(ee).map(ue=>La.on(ue.parent,ue.index)))),rE=(h,b,T,N)=>(dC(b)?sE(h,b,N):hC(h,b,T,N)).map(ee=>({start:ee,finish:ee})),iE=h=>Gv.cata(h,b=>Fe.none(),()=>Fe.none(),b=>Fe.some(Sg(b,0)),b=>Fe.some(Sg(b,Jc(b)))),mC=(h,b)=>({left:h.left,top:h.top+b,right:h.right,bottom:h.bottom+b}),Bm=(h,b)=>({left:h.left,top:h.top-b,right:h.right,bottom:h.bottom-b}),aE=(h,b,T)=>({left:h.left+b,top:h.top+T,right:h.right+b,bottom:h.bottom+T}),TM=h=>h.top,EM=h=>h.bottom,kM=(h,b,T)=>T>=0&&T<Jc(b)?h.getRangedRect(b,T,b,T+1):T>0?h.getRangedRect(b,T-1,b,T):Fe.none(),n1=h=>({left:h.left,top:h.top,right:h.right,bottom:h.bottom}),lE=(h,b)=>Fe.some(h.getRect(b)),Rx=(h,b,T)=>xi(b)?lE(h,b).map(n1):Hu(b)?kM(h,b,T).map(n1):Fe.none(),pC=(h,b)=>xi(b)?lE(h,b).map(n1):Hu(b)?h.getRangedRect(b,0,b,Jc(b)).map(n1):Fe.none(),zh=5,z0=100,$m=Gn.generate([{none:[]},{retry:["caret"]}]),gC=(h,b)=>h.left<b.left||Math.abs(b.right-h.left)<1||h.left>b.right,cE=(h,b,T)=>fv(b,Pw).fold(ln,N=>pC(h,N).exists(j=>gC(T,j))),uE=(h,b,T,N,j)=>{const ee=mC(j,zh);return Math.abs(T.bottom-N.bottom)<1||T.top>j.bottom?$m.retry(ee):T.top===j.bottom?$m.retry(mC(j,1)):cE(h,b,j)?$m.retry(aE(ee,zh,0)):$m.none()},dE={point:TM,adjuster:(h,b,T,N,j)=>{const ee=Bm(j,zh);return Math.abs(T.top-N.top)<1||T.bottom<j.top?$m.retry(ee):T.bottom===j.top?$m.retry(Bm(j,1)):cE(h,b,j)?$m.retry(aE(ee,zh,0)):$m.none()},move:Bm,gather:Nw},AM={point:EM,adjuster:uE,move:mC,gather:Mm},OM=(h,b,T)=>h.elementFromPoint(b,T).filter(N=>Gr(N)==="table").isSome(),MM=(h,b,T,N,j)=>o1(h,b,T,b.move(N,zh),j),o1=(h,b,T,N,j)=>j===0?Fe.some(N):OM(h,N.left,b.point(N))?MM(h,b,T,N,j-1):h.situsFromPoint(N.left,b.point(N)).bind(ee=>ee.start.fold(Fe.none,ue=>pC(h,ue).bind(Te=>b.adjuster(h,ue,Te,T,N).fold(Fe.none,$e=>o1(h,b,T,$e,j-1))).orThunk(()=>Fe.some(N)),Fe.none)),V0=(h,b,T)=>h.point(b)>T.getInnerHeight()?Fe.some(h.point(b)-T.getInnerHeight()):h.point(b)<0?Fe.some(-h.point(b)):Fe.none(),fE=(h,b,T)=>{const N=h.move(T,zh),j=o1(b,h,T,N,z0).getOr(N);return V0(h,j,b).fold(()=>b.situsFromPoint(j.left,h.point(j)),ee=>(b.scrollBy(0,ee),b.situsFromPoint(j.left,h.point(j)-ee)))},U0={tryUp:Et(fE,dE),tryDown:Et(fE,AM),getJumpSize:xe(zh)},NM=20,RM=(h,b,T)=>h.getSelection().bind(N=>rE(b,N.finish,N.foffset,T).fold(()=>Fe.some(Sg(N.finish,N.foffset)),j=>{const ee=h.fromSitus(j),ue=Gv.verify(h,N.finish,N.foffset,ee.finish,ee.foffset,T.failure,b);return iE(ue)})),Hm=(h,b,T,N,j,ee)=>ee===0?Fe.none():W0(h,b,T,N,j).bind(ue=>{const Te=h.fromSitus(ue),$e=Gv.verify(h,T,N,Te.finish,Te.foffset,j.failure,b);return Gv.cata($e,()=>Fe.none(),()=>Fe.some(ue),tt=>bs(T,tt)&&N===0?Vh(h,T,N,Bm,j):Hm(h,b,tt,0,j,ee-1),tt=>bs(T,tt)&&N===Jc(tt)?Vh(h,T,N,mC,j):Hm(h,b,tt,Jc(tt),j,ee-1))}),Vh=(h,b,T,N,j)=>Rx(h,b,T).bind(ee=>No(h,j,N(ee,U0.getJumpSize()))),No=(h,b,T)=>{const N=ja().browser;return N.isChromium()||N.isSafari()||N.isFirefox()?b.retry(h,T):Fe.none()},W0=(h,b,T,N,j)=>Rx(h,T,N).bind(ee=>No(h,j,ee)),hE=(h,b,T)=>RM(h,b,T).bind(N=>Hm(h,b,N.element,N.offset,T,NM).map(h.fromSitus)),mE=(h,b)=>mv(h,T=>Ve(T).exists(N=>bs(N,b))),Kv=(h,b,T,N,j)=>Vi(N,"td,th",b).bind(ee=>Vi(ee,"table",b).bind(ue=>mE(j,ue)?hE(h,b,T).bind(Te=>Vi(Te.finish,"td,th",b).map($e=>({start:ee,finish:$e,range:Te}))):Fe.none())),Fp=(h,b,T,N,j,ee)=>ee(N,b).orThunk(()=>Kv(h,b,T,N,j).map(ue=>{const Te=ue.range;return Yv.create(Fe.some($0(Te.start,Te.soffset,Te.finish,Te.foffset)),!0)})),j0=(h,b)=>Vi(h,"tr",b).bind(T=>Vi(T,"table",b).bind(N=>{const j=Du(N,"tr");return bs(T,j[0])?Nu(N,ee=>Ua(ee).isSome(),b).map(ee=>{const ue=Jc(ee);return Yv.create(Fe.some($0(ee,ue,ee,ue)),!0)}):Fe.none()})),s1=(h,b)=>Vi(h,"tr",b).bind(T=>Vi(T,"table",b).bind(N=>{const j=Du(N,"tr");return bs(T,j[j.length-1])?vd(N,ee=>xh(ee).isSome(),b).map(ee=>Yv.create(Fe.some($0(ee,0,ee,0)),!0)):Fe.none()})),Uh=(h,b,T,N,j,ee,ue)=>Kv(h,T,N,j,ee).bind(Te=>H0(b,T,Te.start,Te.finish,ue)),r1=(h,b)=>Vi(h,"td,th",b),Lx=h=>Yl(h).exists(mm),vC=(h,b,T,N)=>{const j=na(),ee=j.clear,ue=St=>{j.on(dn=>{N.clearBeforeUpdate(b),r1(St.target,T).each(Wn=>{lC(dn,Wn,T).each(Jn=>{const Fo=Jn.boxes.getOr([]);if(Fo.length===1){const zt=Fo[0],Kt=vp(zt)==="false",Ko=qo(Sh(St.target),zt,bs);Kt&&Ko&&N.selectRange(b,Fo,zt,zt)}else Fo.length>1&&(N.selectRange(b,Fo,Jn.start,Jn.finish),h.selectContents(Wn))})})})};return{clearstate:ee,mousedown:St=>{N.clear(b),r1(St.target,T).filter(Lx).each(j.set)},mouseover:St=>{ue(St)},mouseup:St=>{ue(St),ee()}}},Z0={traverse:cd,gather:Mm,relative:La.before,retry:U0.tryDown,failure:Gv.failedDown},pE={traverse:um,gather:Nw,relative:La.before,retry:U0.tryUp,failure:Gv.failedUp},wd=h=>b=>b===h,zm=wd(38),Xv=wd(40),Gf=h=>h>=37&&h<=40,Vm={isBackward:wd(37),isForward:wd(39)},q0={isBackward:wd(39),isForward:wd(37)},Y0=h=>({elementFromPoint:(Kt,Ko)=>Ft.fromPoint(Ft.fromDom(h.document),Kt,Ko),getRect:Kt=>Kt.dom.getBoundingClientRect(),getRangedRect:(Kt,Ko,Ts,po)=>{const ni=Z.exact(Kt,Ko,Ts,po);return ym(h,ni)},getSelection:()=>Rf(h).map(Kt=>Nx(h,Kt)),fromSitus:Kt=>{const Ko=Z.relative(Kt.start,Kt.finish);return Nx(h,Ko)},situsFromPoint:(Kt,Ko)=>hg(h,Kt,Ko).map(Ts=>B0.create(Ts.start,Ts.soffset,Ts.finish,Ts.foffset)),clearSelection:()=>{mg(h)},collapseSelection:(Kt=!1)=>{Rf(h).each(Ko=>Ko.fold(Ts=>Ts.collapse(Kt),(Ts,po)=>{const ni=Kt?Ts:po;$d(h,ni,ni)},(Ts,po,ni,Kr)=>{const gs=Kt?Ts:ni,pl=Kt?po:Kr;df(h,gs,pl,gs,pl)}))},setSelection:Kt=>{df(h,Kt.start,Kt.soffset,Kt.finish,Kt.foffset)},setRelativeSelection:(Kt,Ko)=>{$d(h,Kt,Ko)},selectNode:Kt=>{bm(h,Kt,!1)},selectContents:Kt=>{bm(h,Kt)},getInnerHeight:()=>h.innerHeight,getScrollY:()=>ii(Ft.fromDom(h.document)).top,scrollBy:(Kt,Ko)=>{Cc(Kt,Ko,Ft.fromDom(h.document))}}),Um=(h,b)=>({rows:h,cols:b}),Px=(h,b,T,N)=>{const j=Y0(h),ee=vC(j,b,T,N);return{clearstate:ee.clearstate,mousedown:ee.mousedown,mouseover:ee.mouseover,mouseup:ee.mouseup}},gE=h=>fv(h,vh).exists(mm),G0=(h,b)=>gE(h)||gE(b),Wh=(h,b,T,N)=>{const j=Y0(h),ee=()=>(N.clear(b),Fe.none());return{keydown:($e,tt,St,dn,Wn,Jn)=>{const Fo=$e.raw,zt=Fo.which,Kt=Fo.shiftKey===!0;return Dx(b,N.selectedSelector).fold(()=>(Gf(zt)&&!Kt&&N.clearBeforeUpdate(b),Gf(zt)&&Kt&&!G0(tt,dn)?Fe.none:Xv(zt)&&Kt?Et(Uh,j,b,T,Z0,dn,tt,N.selectRange):zm(zt)&&Kt?Et(Uh,j,b,T,pE,dn,tt,N.selectRange):Xv(zt)?Et(Fp,j,T,Z0,dn,tt,s1):zm(zt)?Et(Fp,j,T,pE,dn,tt,j0):Fe.none),Ts=>{const po=ni=>()=>Ns(ni,gs=>CM(gs.rows,gs.cols,b,Ts,N)).fold(()=>Ax(b,N.firstSelectedSelector,N.lastSelectedSelector).map(gs=>{const pl=Xv(zt)||Jn.isForward(zt)?La.after:La.before;return j.setRelativeSelection(La.on(gs.first,0),pl(gs.table)),N.clear(b),Yv.create(Fe.none(),!0)}),gs=>Fe.some(Yv.create(Fe.none(),!0)));return Gf(zt)&&Kt&&!G0(tt,dn)?Fe.none:Xv(zt)&&Kt?po([Um(1,0)]):zm(zt)&&Kt?po([Um(-1,0)]):Jn.isBackward(zt)&&Kt?po([Um(0,-1),Um(-1,0)]):Jn.isForward(zt)&&Kt?po([Um(0,1),Um(1,0)]):Gf(zt)&&!Kt?ee:Fe.none})()},keyup:($e,tt,St,dn,Wn)=>Dx(b,N.selectedSelector).fold(()=>{const Jn=$e.raw,Fo=Jn.which;return Jn.shiftKey===!0&&Gf(Fo)&&G0(tt,dn)?nE(b,T,tt,St,dn,Wn,N.selectRange):Fe.none()},Fe.none)}},vE=(h,b,T,N)=>{const j=Y0(h);return(ee,ue)=>{N.clearBeforeUpdate(b),lC(ee,ue,T).each(Te=>{const $e=Te.boxes.getOr([]);N.selectRange(b,$e,Te.start,Te.finish),j.selectContents(ue),j.collapseSelection()})}},bE={byClass:h=>{const b=pm(h.selected),T=cg([h.selected,h.lastSelected,h.firstSelected]),N=ee=>{const ue=Du(ee,h.selectedSelector);qt(ue,T)};return{clearBeforeUpdate:N,clear:N,selectRange:(ee,ue,Te,$e)=>{N(ee),qt(ue,b),Tu(Te,h.firstSelected),Tu($e,h.lastSelected)},selectedSelector:h.selectedSelector,firstSelectedSelector:h.firstSelectedSelector,lastSelectedSelector:h.lastSelectedSelector}},byAttr:(h,b,T)=>{const N=$e=>{kr($e,h.selected),kr($e,h.firstSelected),kr($e,h.lastSelected)},j=$e=>{Za($e,h.selected,"1")},ee=$e=>{ue($e),T()},ue=$e=>{const tt=Du($e,`${h.selectedSelector},${h.firstSelectedSelector},${h.lastSelectedSelector}`);qt(tt,N)};return{clearBeforeUpdate:ue,clear:ee,selectRange:($e,tt,St,dn)=>{ee($e),qt(tt,j),Za(St,h.firstSelected,"1"),Za(dn,h.lastSelected,"1"),b(tt,St,dn)},selectedSelector:h.selectedSelector,firstSelectedSelector:h.firstSelectedSelector,lastSelectedSelector:h.lastSelectedSelector}}},Jv="data-mce-selected",yE="td["+Jv+"],th["+Jv+"]",wE="["+Jv+"]",Cd="data-mce-first-selected",Ag="td["+Cd+"],th["+Cd+"]",bC="data-mce-last-selected",i1="td["+bC+"],th["+bC+"]",td=wE,_c={selected:Jv,selectedSelector:yE,firstSelected:Cd,firstSelectedSelector:Ag,lastSelected:bC,lastSelectedSelector:i1},Tc=(h,b,T)=>({element:T,mergable:gM(b,h,_c),unmergable:Mx(h),selection:Ox(h)}),Sd=(h,b,T)=>({element:h,clipboard:b,generators:T}),yC=(h,b,T,N)=>({selection:Ox(h),clipboard:T,generators:N}),Kf=h=>fu(h).bind(b=>F0(b,_c.firstSelectedSelector)).fold(xe(h),b=>b[0]),Og=h=>(b,T)=>{const N=Gr(b),j=N==="col"||N==="colgroup"?Kf(b):b;return Vi(j,h,T)},Cs=Og("th,td,caption"),Ix=Og("th,td"),Wm=h=>xl(h.model.table.getSelectedCells()),CE=h=>Oo(Wm(h),b=>Bt(b,_c.selectedSelector)),SE=h=>fu(h[0]).map(b=>{const T=Sw(b,td);return Zv(T),[T]}),wC=(h,b)=>eo(b,T=>h.selection.serializer.serialize(T.dom,{})).join(""),xE=(h,b)=>{const T=h.getDoc(),N=ko(Ft.fromDom(h.getBody())),j=Ft.fromTag("div",T);Za(j,"data-mce-bogus","all"),Di(j,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ee=So(N);Gl(j,b),cr(ee,j);const ue=j.dom.innerText;return Sl(j),ue},_E=(h,b)=>{h.on("BeforeGetContent",T=>{const N=j=>{T.preventDefault(),SE(j).each(ee=>{const ue=T.format==="text"?xE(h,ee):wC(h,ee);T.content=ue})};if(T.selection===!0){const j=CE(h);j.length>=1&&N(j)}}),h.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const N=Wm(h);vt(N).each(j=>{fu(j).each(ee=>{const ue=Oo(sg(T.content),$e=>Gr($e)!=="meta"),Te=dl("table");if(WT(h)&&ue.length===1&&Te(ue[0])){T.preventDefault();const $e=Ft.fromDom(h.getDoc()),tt=tx($e),St=Sd(j,ue[0],tt);b.pasteCells(ee,St).each(()=>{h.focus()})}})})}})},TE=(h,b)=>h.dispatch("NewRow",{node:b}),CC=(h,b)=>h.dispatch("NewCell",{node:b}),jh=(h,b,T)=>{h.dispatch("TableModified",{...T,table:b})},Qv=(h,b,T,N,j)=>{h.dispatch("TableSelectionChange",{cells:b,start:T,finish:N,otherCells:j})},EE=h=>{h.dispatch("TableSelectionClear")},a1=(h,b,T,N,j)=>{h.dispatch("ObjectResizeStart",{target:b,width:T,height:N,origin:j})},kE=(h,b,T,N,j)=>{h.dispatch("ObjectResized",{target:b,width:T,height:N,origin:j})},SC={structure:!1,style:!0},Ec={structure:!0,style:!1},IM={structure:!0,style:!0},Fx=(h,b)=>P0(h)?Qa.percentageSize(b):Ip(h)?Qa.pixelSize(b):Qa.getTableSize(b),FM=(h,b,T)=>{const N=ou=>Gr(rC(ou))==="table",j=ou=>!N(h)||Eg(ou).rows>1,ee=ou=>!N(h)||Eg(ou).columns>1,ue=VT(h),Te=jv(h)?Ce:Cw,$e=ou=>{switch(N0(h)){case"section":return $f.section();case"sectionCells":return $f.sectionCells();case"cells":return $f.cells();default:return $f.getTableSectionType(ou,"section")}},tt=(ou,X0)=>X0.cursor.fold(()=>{const u1=Cm(ou);return vt(u1).filter(Io).map(xd=>{T.clearSelectedCells(ou.dom);const hc=h.dom.createRng();return hc.selectNode(xd.dom),h.selection.setRng(hc),Za(xd,"data-mce-selected","1"),hc})},u1=>{const xd=Mw(u1),hc=h.dom.createRng();return hc.setStart(xd.element.dom,xd.offset),hc.setEnd(xd.element.dom,xd.offset),h.selection.setRng(hc),T.clearSelectedCells(ou.dom),Fe.some(hc)}),St=(ou,X0,u1,xd)=>(hc,WM,jM=!1)=>{Zv(hc);const Ao=Ft.fromDom(h.getDoc()),Jf=p0(u1,Ao,ue),PE={sizing:Fx(h,hc),resize:jv(h)?Lf():Pf(),section:$e(hc)};return X0(hc)?ou(hc,WM,Jf,PE).bind(kC=>{b.refresh(hc.dom),qt(kC.newRows,J0=>{TE(h,J0.dom)}),qt(kC.newCells,J0=>{CC(h,J0.dom)});const IE=tt(hc,kC);return Io(hc)&&(Zv(hc),jM||jh(h,hc.dom,xd)),IE.map(J0=>({rng:J0,effect:xd}))}):Fe.none()},dn=St(TT,j,Ce,Ec),Wn=St($h,ee,Ce,Ec),Jn=St(zv,et,Ce,Ec),Fo=St(hx,et,Ce,Ec),zt=St(Vv,et,Te,Ec),Kt=St(ta,et,Te,Ec),Ko=St(QO,et,Ce,Ec),Ts=St(eM,et,Ce,Ec),po=St(On,et,Ce,Ec),ni=St(ET,et,Ce,Ec),Kr=St(xc,et,Ce,Ec),gs=St(kT,et,Ce,Ec),pl=St(px,et,Ce,IM),Zd=St(XO,et,Ce,Ec),$p=St(JO,et,Ce,Ec),Mg=St(Rp,et,Ce,Ec),Ng=St(Yf,et,Ce,Ec),wi=St(GO,et,Ce,Ec),Ru=St(KO,et,Ce,Ec),Lu=St(mx,et,Ce,Ec);return{deleteRow:dn,deleteColumn:Wn,insertRowsBefore:Jn,insertRowsAfter:Fo,insertColumnsBefore:zt,insertColumnsAfter:Kt,mergeCells:Ko,unmergeCells:Ts,pasteColsBefore:po,pasteColsAfter:ni,pasteRowsBefore:Kr,pasteRowsAfter:gs,pasteCells:pl,makeCellsHeader:Zd,unmakeCellsHeader:$p,makeColumnsHeader:Mg,unmakeColumnsHeader:Ng,makeRowsHeader:wi,makeRowsBody:Ru,makeRowsFooter:Lu,getTableRowType:tM,getTableCellType:AT,getTableColType:DT}},BM=(h,b)=>{h.selection.select(b.dom,!0),h.selection.collapse(!0)},bf=(h,b)=>{Rc(b,"td,th").each(Et(BM,h))},AI=(h,b)=>{qt(Du(b,"tr"),T=>{TE(h,T.dom),qt(Du(T,"th,td"),N=>{CC(h,N.dom)})})},xC=h=>M(h)&&h.indexOf("%")!==-1,Bp=(h,b,T,N,j)=>{const ee=ZT(h),ue={styles:ee,attributes:jT(h),colGroups:fM(h)};return h.undoManager.ignore(()=>{const Te=Pp(T,b,j,N,N0(h),ue);Za(Te,"data-mce-id","__mce");const $e=rg(Te);h.insertContent($e),h.addVisual()}),Rc(rC(h),'table[data-mce-id="__mce"]').map(Te=>(Ip(h)?XS(Te):I0(h)?Yb(Te):(P0(h)||xC(ee.width))&&_g(Te),Zv(Te),kr(Te,"data-mce-id"),AI(h,Te),bf(h,Te),Te.dom)).getOrNull()},Bx=(h,b,T,N={})=>{const j=ee=>Ee(ee)&&ee>0;if(j(b)&&j(T)){const ee=N.headerRows||0,ue=N.headerColumns||0;return Bp(h,T,b,ue,ee)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var l1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const DE="x-tinymce/dom-table-",$x=DE+"rows",Hx=DE+"columns",AE=h=>{const b=l1.FakeClipboardItem(h);l1.write([b])},_C=h=>{const b=l1.read()??[];return Ns(b,T=>Fe.from(T.getType(h)))},eb=h=>{_C(h).isSome()&&l1.clear()},Xf=h=>{h.fold($M,b=>AE({[$x]:b}))},OE=()=>_C($x),$M=()=>eb($x),zx=h=>{h.fold(Vx,b=>AE({[Hx]:b}))},TC=()=>_C(Hx),Vx=()=>eb(Hx),c1=h=>Cs(qv(h),t1(h)).filter(aC),EC=h=>Ix(qv(h),t1(h)).filter(aC),Ux=(h,b)=>{const T=t1(h),N=()=>c1(h).each(Kt=>{fu(Kt,T).filter(P(T)).each(Ko=>{const Ts=Ft.fromText("");if(Vu(Ko,Ts),Sl(Ko),h.dom.isEmpty(h.getBody()))h.setContent(""),h.selection.setCursorLocation();else{const po=h.dom.createRng();po.setStart(Ts.dom,0),po.setEnd(Ts.dom,0),h.selection.setRng(po),h.nodeChanged()}})}),j=Kt=>c1(h).each(Ko=>{I0(h)||Ip(h)||P0(h)||fu(Ko,T).each(po=>{Kt==="relative"&&!oT(po)?_g(po):Kt==="fixed"&&!jf(po)?XS(po):Kt==="responsive"&&!tu(po)&&Yb(po),Zv(po),jh(h,po.dom,Ec)})}),ee=Kt=>fu(Kt,T),ue=Kt=>EC(h).bind(Ko=>ee(Ko).map(Ts=>Kt(Ts,Ko))),Te=(Kt,Ko)=>{ue(Ts=>{h.formatter.toggle("tableclass",{value:Ko},Ts.dom),jh(h,Ts.dom,SC)})},$e=(Kt,Ko)=>{ue(Ts=>{const po=Wm(h),Kr=js(po,gs=>h.formatter.match("tablecellclass",{value:Ko},gs.dom))?h.formatter.remove:h.formatter.apply;qt(po,gs=>Kr("tablecellclass",{value:Ko},gs.dom)),jh(h,Ts.dom,SC)})},tt=()=>{c1(h).each(Kt=>{fu(Kt,T).each(Ko=>{ai(Ko,"caption").fold(()=>{const Ts=Ft.fromTag("caption");cr(Ts,Ft.fromText("Caption")),bh(Ko,Ts,0),h.selection.setCursorLocation(Ts.dom,0)},Ts=>{dl("caption")(Kt)&&_s("td",Ko).each(po=>h.selection.setCursorLocation(po.dom,0)),Sl(Ts)}),jh(h,Ko.dom,Ec)})})},St=Kt=>{h.focus()},dn=(Kt,Ko=!1)=>ue((Ts,po)=>{const ni=Tc(Wm(h),Ts,po);Kt(Ts,ni,Ko).each(St)}),Wn=()=>ue((Kt,Ko)=>{const Ts=Tc(Wm(h),Kt,Ko),po=p0(Ce,Ft.fromDom(h.getDoc()),Fe.none());return Dp(Kt,Ts,po)}),Jn=()=>ue((Kt,Ko)=>{const Ts=Tc(Wm(h),Kt,Ko);return Nh(Kt,Ts)}),Fo=(Kt,Ko)=>Ko().each(Ts=>{const po=eo(Ts,ni=>qa(ni));ue((ni,Kr)=>{const gs=tx(Ft.fromDom(h.getDoc())),pl=yC(Wm(h),Kr,po,gs);Kt(ni,pl).each(St)})}),zt=Kt=>(Ko,Ts)=>Ie(Ts,"type").each(po=>{dn(Kt(po),Ts.no_events)});rr({mceTableSplitCells:()=>dn(b.unmergeCells),mceTableMergeCells:()=>dn(b.mergeCells),mceTableInsertRowBefore:()=>dn(b.insertRowsBefore),mceTableInsertRowAfter:()=>dn(b.insertRowsAfter),mceTableInsertColBefore:()=>dn(b.insertColumnsBefore),mceTableInsertColAfter:()=>dn(b.insertColumnsAfter),mceTableDeleteCol:()=>dn(b.deleteColumn),mceTableDeleteRow:()=>dn(b.deleteRow),mceTableCutCol:()=>Jn().each(Kt=>{zx(Kt),dn(b.deleteColumn)}),mceTableCutRow:()=>Wn().each(Kt=>{Xf(Kt),dn(b.deleteRow)}),mceTableCopyCol:()=>Jn().each(Kt=>zx(Kt)),mceTableCopyRow:()=>Wn().each(Kt=>Xf(Kt)),mceTablePasteColBefore:()=>Fo(b.pasteColsBefore,TC),mceTablePasteColAfter:()=>Fo(b.pasteColsAfter,TC),mceTablePasteRowBefore:()=>Fo(b.pasteRowsBefore,OE),mceTablePasteRowAfter:()=>Fo(b.pasteRowsAfter,OE),mceTableDelete:N,mceTableCellToggleClass:$e,mceTableToggleClass:Te,mceTableToggleCaption:tt,mceTableSizingMode:(Kt,Ko)=>j(Ko),mceTableCellType:zt(Kt=>Kt==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:zt(Kt=>Kt==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:zt(Kt=>{switch(Kt){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(Kt,Ko)=>h.addCommand(Ko,Kt)),h.addCommand("mceInsertTable",(Kt,Ko)=>{Bx(h,Ko.rows,Ko.columns,Ko.options)}),h.addCommand("mceTableApplyCellStyle",(Kt,Ko)=>{const Ts=Kr=>"tablecell"+Kr.toLowerCase().replace("-","");if(!H(Ko))return;const po=Oo(Wm(h),aC);if(po.length===0)return;const ni=J(Ko,(Kr,gs)=>h.formatter.has(Ts(gs))&&M(Kr));Cn(ni)||(rr(ni,(Kr,gs)=>{const pl=Ts(gs);qt(po,Zd=>{Kr===""?h.formatter.remove(pl,{value:null},Zd.dom,!0):h.formatter.apply(pl,{value:Kr},Zd.dom)})}),ee(po[0]).each(Kr=>jh(h,Kr.dom,SC)))})},ME=(h,b)=>{const T=t1(h),N=j=>Ix(qv(h)).bind(ee=>fu(ee,T).map(ue=>{const Te=Tc(Wm(h),ue,ee);return j(ue,Te)})).getOr("");rr({mceTableRowType:()=>N(b.getTableRowType),mceTableCellType:()=>N(b.getTableCellType),mceTableColType:()=>N(b.getTableColType)},(j,ee)=>h.addQueryValueHandler(ee,j))},K0=h=>!Eu(Ft.fromDom(h.target),"ephox-snooker-resizer-bar"),HM=(h,b)=>{const T=wM(()=>Ft.fromDom(h.getBody()),()=>Ix(qv(h),t1(h)),_c.selectedSelector),N=($e,tt,St)=>{fu(tt).each(Wn=>{const Jn=eo($e,Ts=>Ts.dom),Fo=VT(h),zt=p0(Ce,Ft.fromDom(h.getDoc()),Fo),Kt=Wm(h),Ko=wg(Wn,{selection:Kt},zt).map(Ts=>ir(Ts,po=>eo(po,ni=>ni.dom))).getOrUndefined();Qv(h,Jn,tt.dom,St.dom,Ko)})},j=()=>EE(h),ee=bE.byAttr(_c,N,j);return h.on("init",$e=>{const tt=h.getWin(),St=rC(h),dn=t1(h),Wn=()=>{const wi=h.selection,Ru=Ft.fromDom(wi.getStart()),Lu=Ft.fromDom(wi.getEnd());jr(fu,[Ru,Lu]).fold(()=>ee.clear(St),Ce)},Jn=Px(tt,St,dn,ee),Fo=Wh(tt,St,dn,ee),zt=vE(tt,St,dn,ee),Kt=wi=>wi.raw.shiftKey===!0;h.on("TableSelectorChange",wi=>zt(wi.start,wi.finish));const Ko=(wi,Ru)=>{Kt(wi)&&(Ru.kill&&wi.kill(),Ru.selection.each(Lu=>{const yf=Z.relative(Lu.start,Lu.finish),nd=Tn(tt,yf);h.selection.setRng(nd)}))},Ts=wi=>{const Ru=Ii(wi);if(Ru.raw.shiftKey&&Gf(Ru.raw.which)){const Lu=h.selection.getRng(),yf=Ft.fromDom(Lu.startContainer),nd=Ft.fromDom(Lu.endContainer);Fo.keyup(Ru,yf,Lu.startOffset,nd,Lu.endOffset).each(Hp=>{Ko(Ru,Hp)})}},po=wi=>{const Ru=Ii(wi);b.hide();const Lu=h.selection.getRng(),yf=Ft.fromDom(Lu.startContainer),nd=Ft.fromDom(Lu.endContainer),Hp=Bd(Vm,q0)(Ft.fromDom(h.selection.getStart()));Fo.keydown(Ru,yf,Lu.startOffset,nd,Lu.endOffset,Hp).each(ou=>{Ko(Ru,ou)}),b.show()},ni=wi=>wi.button===0,Kr=wi=>wi.buttons===void 0?!0:(wi.buttons&1)!==0,gs=wi=>{Jn.clearstate()},pl=wi=>{ni(wi)&&K0(wi)&&Jn.mousedown(Ii(wi))},Zd=wi=>{Kr(wi)&&K0(wi)&&Jn.mouseover(Ii(wi))},$p=wi=>{ni(wi)&&K0(wi)&&Jn.mouseup(Ii(wi))},Ng=(()=>{const wi=yn(Ft.fromDom(St)),Ru=yn(0);return{touchEnd:yf=>{const nd=Ft.fromDom(yf.target);if(dl("td")(nd)||dl("th")(nd)){const Hp=wi.get(),ou=Ru.get();bs(Hp,nd)&&yf.timeStamp-ou<300&&(yf.preventDefault(),zt(nd,nd))}wi.set(nd),Ru.set(yf.timeStamp)}}})();h.on("dragstart",gs),h.on("mousedown",pl),h.on("mouseover",Zd),h.on("mouseup",$p),h.on("touchend",Ng.touchEnd),h.on("keyup",Ts),h.on("keydown",po),h.on("NodeChange",Wn)}),h.on("PreInit",()=>{h.serializer.addTempAttr(_c.firstSelected),h.serializer.addTempAttr(_c.lastSelected)}),{getSelectedCells:()=>eE(T.get(),xe([]),$e=>eo($e,tt=>tt.dom),$e=>[$e.dom]),clearSelectedCells:$e=>ee.clear(Ft.fromDom($e))}},zM=(h,b)=>{const T=Ft.fromDom(h.getBody());return HO.body(T,b)},NE=h=>je(h)&&h.nodeName==="TABLE",tb="bar-",Wx=h=>Kc(h,"data-mce-resize")!=="false",VM=h=>{const b=Us.fromTable(h);Us.hasColumns(b)||qt(Cm(h),T=>{const N=cu(T,"width");Ya(T,"width",N),kr(T,"width")})},RE=h=>Rn(h,"corner-"),UM=h=>Qe(h,"corner-"),LE=h=>{const b=na(),T=na(),N=na();let j,ee,ue,Te;const $e=po=>Fx(h,po),tt=()=>L0(h)?Pf():Lf(),St=po=>Eg(po).columns,dn=po=>Eg(po).rows,Wn=(po,ni,Kr,gs)=>{const pl=UM(ni),Zd=jo(pl,"e"),$p=Rn(pl,"n");if(ee===""&&_g(po),Te===""&&Wd(po),Kr!==j&&ee!==""){Ya(po,"width",ee);const Mg=tt(),Ng=$e(po),wi=L0(h)||Zd?St(po)-1:0;Av(po,Kr-j,wi,Mg,Ng)}else if(hM(ee)){const Mg=parseFloat(ee.replace("%","")),Ng=Kr*Mg/j;Ya(po,"width",Ng+"%")}if(XT(ee)&&VM(po),gs!==ue&&Te!==""){Ya(po,"height",Te);const Mg=$p?0:dn(po)-1;jS(po,gs-ue,Mg)}},Jn=()=>{T.on(po=>{po.destroy()})};h.on("init",()=>{const po=zM(h,Wx);if(N.set(po),UT(h)&&Ex(h)){const ni=tt(),Kr=uM.create(po,ni,$e);h.mode.isReadOnly()||Kr.on(),Kr.events.startDrag.bind(gs=>{b.set(h.selection.getRng())}),Kr.events.beforeResize.bind(gs=>{const pl=gs.table.dom;a1(h,pl,qT(pl),YT(pl),tb+gs.type)}),Kr.events.afterResize.bind(gs=>{const pl=gs.table,Zd=pl.dom;Zv(pl),b.on($p=>{h.selection.setRng($p),h.focus()}),kE(h,Zd,qT(Zd),YT(Zd),tb+gs.type),h.undoManager.add()}),T.set(Kr)}}),h.on("ObjectResizeStart",po=>{const ni=po.target;if(NE(ni)&&!h.mode.isReadOnly()){const Kr=Ft.fromDom(ni);qt(h.dom.select(".mce-clonedresizable"),gs=>{h.dom.addClass(gs,"mce-"+R0(h)+"-columns")}),!jf(Kr)&&Ip(h)?XS(Kr):!oT(Kr)&&P0(h)&&_g(Kr),tu(Kr)&&Rn(po.origin,tb)&&_g(Kr),j=po.width,ee=I0(h)?"":iC(h,ni).getOr(""),ue=po.height,Te=KT(h,ni).getOr("")}}),h.on("ObjectResized",po=>{const ni=po.target;if(NE(ni)){const Kr=Ft.fromDom(ni),gs=po.origin;RE(gs)&&Wn(Kr,gs,po.width,po.height),Zv(Kr),jh(h,Kr.dom,SC)}});const Fo=()=>{T.on(po=>{po.on(),po.showBars()})},zt=()=>{T.on(po=>{po.off(),po.hideBars()})};return h.on("DisabledStateChange",po=>{po.state?zt():Fo()}),h.on("SwitchMode",()=>{h.mode.isReadOnly()?zt():Fo()}),h.on("dragstart dragend",po=>{po.type==="dragstart"?zt():Fo()}),h.on("remove",()=>{Jn()}),{refresh:po=>{T.on(ni=>ni.refreshBars(Ft.fromDom(po)))},hide:()=>{T.on(po=>po.hideBars())},show:()=>{T.on(po=>po.showBars())}}},qi=h=>{kI(h);const b=LE(h),T=HM(h,b),N=FM(h,b,T);return Ux(h,N),ME(h,N),_E(h,N),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}},nb=h=>({table:qi(h)});var jx=()=>{r.add("dom",nb)};jx()})()),kie}Hye();var Aie={},Oie={},Mie;function zye(){return Mie||(Mie=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=Object.getPrototypeOf,d=(ae,Ae,Ye)=>Ye(ae,Ae.prototype)?!0:ae.constructor?.name===Ae.name,g=ae=>{const Ae=typeof ae;return ae===null?"null":Ae==="object"&&Array.isArray(ae)?"array":Ae==="object"&&d(ae,String,(Ye,Ut)=>Ut.isPrototypeOf(Ye))?"string":Ae},C=ae=>Ae=>g(Ae)===ae,k=ae=>Ae=>typeof Ae===ae,M=ae=>Ae=>ae===Ae,H=(ae,Ae)=>V(ae)&&d(ae,Ae,(Ye,Ut)=>a(Ye)===Ut),Y=C("string"),V=C("object"),te=ae=>H(ae,Object),Se=C("array"),ye=M(null),je=k("boolean"),Le=ae=>ae==null,Ee=ae=>!Le(ae),Ce=k("function"),at=k("number"),Je=(ae,Ae)=>{if(Se(ae)){for(let Ye=0,Ut=ae.length;Ye<Ut;++Ye)if(!Ae(ae[Ye]))return!1;return!0}return!1},xe=()=>{};class dt{tag;value;static singletonNone=new dt(!1);constructor(Ae,Ye){this.tag=Ae,this.value=Ye}static some(Ae){return new dt(!0,Ae)}static none(){return dt.singletonNone}fold(Ae,Ye){return this.tag?Ye(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?dt.some(Ae(this.value)):dt.none()}bind(Ae){return this.tag?Ae(this.value):dt.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:dt.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return Ee(Ae)?dt.some(Ae):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Qt=Array.prototype.push,Et=ae=>{const Ae=[];for(let Ye=0,Ut=ae.length;Ye<Ut;++Ye){if(!Se(ae[Ye]))throw new Error("Arr.flatten item "+Ye+" was not an array, input: "+ae);Qt.apply(Ae,ae[Ye])}return Ae},P=(ae,Ae)=>Ae>=0&&Ae<ae.length?dt.some(ae[Ae]):dt.none(),mn=ae=>P(ae,0),Ln=(ae,Ae)=>{for(let Ye=0;Ye<ae.length;Ye++){const Ut=Ae(ae[Ye],Ye);if(Ut.isSome())return Ut}return dt.none()},ln=Object.keys,et=Object.hasOwnProperty,Fe=(ae,Ae)=>{const Ye=ln(ae);for(let Ut=0,co=Ye.length;Ut<co;Ut++){const Is=Ye[Ut],O=ae[Is];Ae(O,Is)}},En=ae=>(Ae,Ye)=>{ae[Ye]=Ae},wn=(ae,Ae,Ye,Ut)=>{Fe(ae,(co,Is)=>{(Ae(co,Is)?Ye:Ut)(co,Is)})},Ze=(ae,Ae)=>{const Ye={};return wn(ae,Ae,En(Ye),xe),Ye},U=(ae,Ae)=>et.call(ae,Ae),en=(ae,Ae)=>U(ae,Ae)&&ae[Ae]!==void 0&&ae[Ae]!==null,eo=(ae=>(...Ae)=>{if(Ae.length===0)throw new Error("Can't merge zero objects");const Ye={};for(let Ut=0;Ut<Ae.length;Ut++){const co=Ae[Ut];for(const Is in co)U(co,Is)&&(Ye[Is]=ae(Ye[Is],co[Is]))}return Ye})((ae,Ae)=>te(ae)&&te(Ae)?eo(ae,Ae):Ae),qt=ae=>ae.length>0,us=(ae,Ae)=>{const Ut=(Ae||document).createElement("div");if(Ut.innerHTML=ae,!Ut.hasChildNodes()||Ut.childNodes.length>1){const co="HTML does not have a single root node";throw console.error(co,ae),new Error(co)}return Ds(Ut.childNodes[0])},Er=(ae,Ae)=>{const Ut=(Ae||document).createElement(ae);return Ds(Ut)},Oo=(ae,Ae)=>{const Ut=(Ae||document).createTextNode(ae);return Ds(Ut)},Ds=ae=>{if(ae==null)throw new Error("Node cannot be null or undefined");return{dom:ae}},yt={fromHtml:us,fromTag:Er,fromText:Oo,fromDom:Ds,fromPoint:(ae,Ae,Ye)=>dt.from(ae.dom.elementFromPoint(Ae,Ye)).map(Ds)},le=(ae,Ae,Ye)=>{if(Y(Ye)||je(Ye)||at(Ye))ae.setAttribute(Ae,Ye+"");else throw console.error("Invalid call to Attribute.set. Key ",Ae,":: Value ",Ye,":: Element ",ae),new Error("Attribute value was not simple")},hi=(ae,Ae,Ye)=>{le(ae.dom,Ae,Ye)},fs=(ae,Ae)=>{ae.dom.removeAttribute(Ae)};var ns=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),js=tinymce.util.Tools.resolve("tinymce.util.URI");const Vr=ae=>Ae=>Ae.options.get(ae),fo=ae=>{const Ae=ae.options.register;Ae("image_dimensions",{processor:"boolean",default:!0}),Ae("image_advtab",{processor:"boolean",default:!1}),Ae("image_uploadtab",{processor:"boolean",default:!0}),Ae("image_prepend_url",{processor:"string",default:""}),Ae("image_class_list",{processor:"object[]"}),Ae("image_description",{processor:"boolean",default:!0}),Ae("image_title",{processor:"boolean",default:!1}),Ae("image_caption",{processor:"boolean",default:!1}),Ae("image_list",{processor:Ye=>{const Ut=Ye===!1||Y(Ye)||Je(Ye,V)||Ce(Ye);return Ut?{value:Ye,valid:Ut}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ws=Vr("image_dimensions"),In=Vr("image_advtab"),vt=Vr("image_uploadtab"),Un=Vr("image_prepend_url"),Ns=Vr("image_class_list"),At=Vr("image_description"),Bs=Vr("image_title"),rr=Vr("image_caption"),ir=Vr("image_list"),Gs=Vr("a11y_advanced_options"),Vn=Vr("automatic_uploads"),Vt=ae=>qt(ae.options.get("images_upload_url")),J=ae=>Ee(ae.options.get("images_upload_handler")),de=(ae,Ae)=>Math.max(parseInt(ae,10),parseInt(Ae,10)),_e=ae=>new Promise(Ae=>{const Ye=document.createElement("img"),Ut=Is=>{Ye.parentNode&&Ye.parentNode.removeChild(Ye),Ae(Is)};Ye.addEventListener("load",()=>{const Is=de(Ye.width,Ye.clientWidth),O=de(Ye.height,Ye.clientHeight),F={width:Is,height:O};Ut(Promise.resolve(F))}),Ye.addEventListener("error",()=>{Ut(Promise.reject(`Failed to get image dimensions for: ${ae}`))});const co=Ye.style;co.visibility="hidden",co.position="fixed",co.bottom=co.left="0px",co.width=co.height="auto",document.body.appendChild(Ye),Ye.src=ae}),Ie=ae=>(ae&&(ae=ae.replace(/px$/,"")),ae),ot=ae=>(ae.length>0&&/^[0-9]+$/.test(ae)&&(ae+="px"),ae),Tt=ae=>{if(ae.margin){const Ae=String(ae.margin).split(" ");switch(Ae.length){case 1:ae["margin-top"]=ae["margin-top"]||Ae[0],ae["margin-right"]=ae["margin-right"]||Ae[0],ae["margin-bottom"]=ae["margin-bottom"]||Ae[0],ae["margin-left"]=ae["margin-left"]||Ae[0];break;case 2:ae["margin-top"]=ae["margin-top"]||Ae[0],ae["margin-right"]=ae["margin-right"]||Ae[1],ae["margin-bottom"]=ae["margin-bottom"]||Ae[0],ae["margin-left"]=ae["margin-left"]||Ae[1];break;case 3:ae["margin-top"]=ae["margin-top"]||Ae[0],ae["margin-right"]=ae["margin-right"]||Ae[1],ae["margin-bottom"]=ae["margin-bottom"]||Ae[2],ae["margin-left"]=ae["margin-left"]||Ae[1];break;case 4:ae["margin-top"]=ae["margin-top"]||Ae[0],ae["margin-right"]=ae["margin-right"]||Ae[1],ae["margin-bottom"]=ae["margin-bottom"]||Ae[2],ae["margin-left"]=ae["margin-left"]||Ae[3]}delete ae.margin}return ae},Cn=(ae,Ae)=>{const Ye=ir(ae);Y(Ye)?fetch(Ye).then(Ut=>{Ut.ok&&Ut.json().then(Ae)}):Ce(Ye)?Ye(Ae):Ae(Ye)},ro=(ae,Ae,Ye)=>{const Ut=()=>{Ye.onload=Ye.onerror=null,ae.selection&&(ae.selection.select(Ye),ae.nodeChanged())};Ye.onload=()=>{!Ae.width&&!Ae.height&&Ws(ae)&&ae.dom.setAttribs(Ye,{width:String(Ye.clientWidth),height:String(Ye.clientHeight)}),Ut()},Ye.onerror=Ut},Gn=ae=>new Promise((Ae,Ye)=>{const Ut=new FileReader;Ut.onload=()=>{Ae(Ut.result)},Ut.onerror=()=>{Ye(Ut.error?.message)},Ut.readAsDataURL(ae)}),yn=ae=>ae.nodeName==="IMG"&&(ae.hasAttribute("data-mce-object")||ae.hasAttribute("data-mce-placeholder")),Uo=(ae,Ae)=>{const Ye=ae.options.get;return js.isDomSafe(Ae,"img",{allow_html_data_urls:Ye("allow_html_data_urls"),allow_script_urls:Ye("allow_script_urls"),allow_svg_data_urls:Ye("allow_svg_data_urls")})},zs=ns.DOM,Co=ae=>ae.style.marginLeft&&ae.style.marginRight&&ae.style.marginLeft===ae.style.marginRight?Ie(ae.style.marginLeft):"",Ci=ae=>ae.style.marginTop&&ae.style.marginBottom&&ae.style.marginTop===ae.style.marginBottom?Ie(ae.style.marginTop):"",Mn=ae=>ae.style.borderWidth?Ie(ae.style.borderWidth):"",go=(ae,Ae)=>ae.hasAttribute(Ae)?ae.getAttribute(Ae)??"":"",Mo=ae=>ae.parentNode!==null&&ae.parentNode.nodeName==="FIGURE",Wa=(ae,Ae,Ye)=>{Ye===""||Ye===null?ae.removeAttribute(Ae):ae.setAttribute(Ae,Ye)},pr=ae=>{const Ae=zs.create("figure",{class:"image"});zs.insertAfter(Ae,ae),Ae.appendChild(ae),Ae.appendChild(zs.create("figcaption",{contentEditable:"true"},"Caption")),Ae.contentEditable="false"},Pn=ae=>{const Ae=ae.parentNode;Ee(Ae)&&(zs.insertAfter(ae,Ae),zs.remove(Ae))},Cr=ae=>{Mo(ae)?Pn(ae):pr(ae)},Lr=(ae,Ae)=>{const Ye=ae.getAttribute("style"),Ut=Ae(Ye!==null?Ye:"");Ut.length>0?(ae.setAttribute("style",Ut),ae.setAttribute("data-mce-style",Ut)):ae.removeAttribute("style")},bl=(ae,Ae)=>(Ye,Ut,co)=>{const Is=Ye.style;Is[Ut]?(Is[Ut]=ot(co),Lr(Ye,Ae)):Wa(Ye,Ut,co)},ba=(ae,Ae)=>ae.style[Ae]?Ie(ae.style[Ae]):go(ae,Ae),Xi=(ae,Ae)=>{const Ye=ot(Ae);ae.style.marginLeft=Ye,ae.style.marginRight=Ye},Ks=(ae,Ae)=>{const Ye=ot(Ae);ae.style.marginTop=Ye,ae.style.marginBottom=Ye},qo=(ae,Ae)=>{const Ye=ot(Ae);ae.style.borderWidth=Ye},or=(ae,Ae)=>{ae.style.borderStyle=Ae},tc=ae=>ae.style.borderStyle??"",nc=ae=>Ee(ae)&&ae.nodeName==="FIGURE",Zl=ae=>ae.nodeName==="IMG",io=ae=>{const Ae=zs.getAttrib(ae,"alt"),Ye=zs.getAttrib(ae,"role");return ae.hasAttribute("alt")&&Ae.length===0||Ye==="presentation"||Ye==="none"},Ia=ae=>io(ae)?"":go(ae,"alt"),na=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),yc=(ae,Ae)=>{const Ye=document.createElement("img");return Wa(Ye,"style",Ae.style),(Co(Ye)||Ae.hspace!=="")&&Xi(Ye,Ae.hspace),(Ci(Ye)||Ae.vspace!=="")&&Ks(Ye,Ae.vspace),(Mn(Ye)||Ae.border!=="")&&qo(Ye,Ae.border),(tc(Ye)||Ae.borderStyle!=="")&&or(Ye,Ae.borderStyle),ae(Ye.getAttribute("style")??"")},Ge=(ae,Ae)=>{const Ye=document.createElement("img");if(Rs(ae,{...Ae,caption:!1},Ye),Rn(Ye,Ae.alt,Ae.isDecorative),Ae.caption){const Ut=zs.create("figure",{class:"image"});return Ut.appendChild(Ye),Ut.appendChild(zs.create("figcaption",{contentEditable:"true"},"Caption")),Ut.contentEditable="false",Ut}else return Ye},Qe=(ae,Ae)=>({src:go(Ae,"src"),alt:Ia(Ae),title:go(Ae,"title"),width:ba(Ae,"width"),height:ba(Ae,"height"),class:go(Ae,"class"),style:ae(go(Ae,"style")),caption:Mo(Ae),hspace:Co(Ae),vspace:Ci(Ae),border:Mn(Ae),borderStyle:tc(Ae),isDecorative:io(Ae)}),qe=(ae,Ae,Ye,Ut,co)=>{Ye[Ut]!==Ae[Ut]&&co(ae,Ut,String(Ye[Ut]))},Rn=(ae,Ae,Ye)=>{if(Ye){zs.setAttrib(ae,"role","presentation");const Ut=yt.fromDom(ae);hi(Ut,"alt","")}else{if(ye(Ae)){const Ut=yt.fromDom(ae);fs(Ut,"alt")}else{const Ut=yt.fromDom(ae);hi(Ut,"alt",Ae)}zs.getAttrib(ae,"role")==="presentation"&&zs.setAttrib(ae,"role","")}},jo=(ae,Ae,Ye)=>{(Ye.alt!==Ae.alt||Ye.isDecorative!==Ae.isDecorative)&&Rn(ae,Ye.alt,Ye.isDecorative)},Do=(ae,Ae)=>(Ye,Ut,co)=>{ae(Ye,co),Lr(Ye,Ae)},Rs=(ae,Ae,Ye)=>{const Ut=Qe(ae,Ye);qe(Ye,Ut,Ae,"caption",(co,Is,O)=>Cr(co)),qe(Ye,Ut,Ae,"src",Wa),qe(Ye,Ut,Ae,"title",Wa),qe(Ye,Ut,Ae,"width",bl("width",ae)),qe(Ye,Ut,Ae,"height",bl("height",ae)),qe(Ye,Ut,Ae,"class",Wa),qe(Ye,Ut,Ae,"style",Do((co,Is)=>Wa(co,"style",Is),ae)),qe(Ye,Ut,Ae,"hspace",Do(Xi,ae)),qe(Ye,Ut,Ae,"vspace",Do(Ks,ae)),qe(Ye,Ut,Ae,"border",Do(qo,ae)),qe(Ye,Ut,Ae,"borderStyle",Do(or,ae)),jo(Ye,Ut,Ae)},er=(ae,Ae)=>{const Ye=ae.dom.styles.parse(Ae),Ut=Tt(Ye),co=ae.dom.styles.parse(ae.dom.styles.serialize(Ut));return ae.dom.styles.serialize(co)},os=ae=>{const Ae=ae.selection.getNode(),Ye=ae.dom.getParent(Ae,"figure.image");return Ye?ae.dom.select("img",Ye)[0]:Ae&&(Ae.nodeName!=="IMG"||yn(Ae))?null:Ae},gr=(ae,Ae)=>{const Ye=ae.dom,Ut=Ze(ae.schema.getTextBlockElements(),(Is,O)=>!ae.schema.isValidChild(O,"figure")),co=Ye.getParent(Ae.parentNode,Is=>en(Ut,Is.nodeName),ae.getBody());return co?Ye.split(co,Ae)??Ae:Ae},_n=ae=>{const Ae=os(ae);return Ae?Qe(Ye=>er(ae,Ye),Ae):na()},da=(ae,Ae)=>{const Ye=Ge(co=>er(ae,co),Ae);ae.dom.setAttrib(Ye,"data-mce-id","__mcenew"),ae.focus(),ae.insertContent(Ye.outerHTML);const Ut=ae.dom.select('*[data-mce-id="__mcenew"]')[0];if(ae.dom.setAttrib(Ut,"data-mce-id",null),nc(Ut)){const co=gr(ae,Ut);ae.selection.select(co)}else ae.selection.select(Ut)},vr=(ae,Ae)=>{ae.dom.setAttrib(Ae,"src",Ae.getAttribute("src"))},Ho=(ae,Ae)=>{if(Ae){const Ye=ae.dom.is(Ae.parentNode,"figure.image")?Ae.parentNode:Ae;ae.dom.remove(Ye),ae.focus(),ae.nodeChanged(),ae.dom.isEmpty(ae.getBody())&&(ae.setContent(""),ae.selection.setCursorLocation())}},Ls=(ae,Ae)=>{const Ye=os(ae);if(Ye)if(Rs(Ut=>er(ae,Ut),Ae,Ye),vr(ae,Ye),nc(Ye.parentNode)){ae.dom.setStyle(Ye,"float","");const Ut=Ye.parentNode;gr(ae,Ut),ae.selection.select(Ye.parentNode)}else ae.selection.select(Ye),ro(ae,Ae,Ye)},mi=(ae,Ae)=>{const Ye=Ae.src;return{...Ae,src:Uo(ae,Ye)?Ye:""}},pi=(ae,Ae)=>{const Ye=os(ae);if(Ye){const co={...Qe(O=>er(ae,O),Ye),...Ae},Is=mi(ae,co);co.src?Ls(ae,Is):Ho(ae,Ye)}else Ae.src&&da(ae,{...na(),...Ae})};var Xo=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),gi=tinymce.util.Tools.resolve("tinymce.util.Tools");const ya=ae=>Y(ae.value)?ae.value:"",fa=ae=>Y(ae.text)?ae.text:Y(ae.title)?ae.title:"",un=(ae,Ae)=>{const Ye=[];return gi.each(ae,Ut=>{const co=fa(Ut);if(Ut.menu!==void 0){const Is=un(Ut.menu,Ae);Ye.push({text:co,items:Is})}else{const Is=Ae(Ut);Ye.push({text:co,value:Is})}}),Ye},rs=(ae=ya)=>Ae=>Ae?dt.from(Ae).map(Ye=>un(Ye,ae)):dt.none(),oa=ae=>rs(ya)(ae),Uc=ae=>U(ae,"items"),au=(ae,Ae)=>Ln(ae,Ye=>Uc(Ye)?au(Ye.items,Ae):Ye.value===Ae?dt.some(Ye):dt.none()),yl={sanitizer:rs,sanitize:oa,findEntry:(ae,Ae)=>ae.bind(Ye=>au(Ye,Ae))},wu={makeTab:ae=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Si=ae=>{const Ae=yl.sanitizer(on=>ae.convertURL(on.value||on.url||"","src")),Ye=new Promise(on=>{Cn(ae,Nn=>{on(Ae(Nn).map(Jt=>Et([[{text:"None",value:""}],Jt])))})}),Ut=yl.sanitize(Ns(ae)),co=In(ae),Is=vt(ae),O=Vt(ae),F=J(ae),G=_n(ae),ne=At(ae),fe=Bs(ae),ge=Ws(ae),Me=rr(ae),pt=Gs(ae),lt=Vn(ae),kt=dt.some(Un(ae)).filter(on=>Y(on)&&on.length>0);return Ye.then(on=>({image:G,imageList:on,classList:Ut,hasAdvTab:co,hasUploadTab:Is,hasUploadUrl:O,hasUploadHandler:F,hasDescription:ne,hasImageTitle:fe,hasDimensions:ge,hasImageCaption:Me,prependURL:kt,hasAccessibilityOptions:pt,automaticUploads:lt}))},Po=ae=>{const Ae={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Ye=ae.imageList.map(fe=>({name:"images",type:"listbox",label:"Image list",items:fe})),Ut={name:"alt",type:"input",label:"Alternative description",enabled:!(ae.hasAccessibilityOptions&&ae.image.isDecorative)},co={name:"title",type:"input",label:"Image title"},Is={name:"dimensions",type:"sizeinput"},O={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},F=ae.classList.map(fe=>({name:"classes",type:"listbox",label:"Class",items:fe})),G={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ne=fe=>fe?{type:"grid",columns:2}:{type:"panel"};return Et([[Ae],Ye.toArray(),ae.hasAccessibilityOptions&&ae.hasDescription?[O]:[],ae.hasDescription?[Ut]:[],ae.hasImageTitle?[co]:[],ae.hasDimensions?[Is]:[],[{...ne(ae.classList.isSome()&&ae.hasImageCaption),items:Et([F.toArray(),ae.hasImageCaption?[G]:[]])}]])},Re={makeTab:ae=>({title:"General",name:"general",items:Po(ae)}),makeItems:Po},ut={makeTab:ae=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Nt=ae=>({prevImage:yl.findEntry(ae.imageList,ae.image.src),prevAlt:ae.image.alt,open:!0}),Lt=ae=>({src:{value:ae.src,meta:{}},images:ae.src,alt:ae.alt,title:ae.title,dimensions:{width:ae.width,height:ae.height},classes:ae.class,caption:ae.caption,style:ae.style,vspace:ae.vspace,border:ae.border,hspace:ae.hspace,borderstyle:ae.borderStyle,fileinput:[],isDecorative:ae.isDecorative}),fn=(ae,Ae)=>({src:ae.src.value,alt:(ae.alt===null||ae.alt.length===0)&&Ae?null:ae.alt,title:ae.title,width:ae.dimensions.width,height:ae.dimensions.height,class:ae.classes,style:ae.style,caption:ae.caption,hspace:ae.hspace,vspace:ae.vspace,border:ae.border,borderStyle:ae.borderstyle,isDecorative:ae.isDecorative}),ao=(ae,Ae)=>/^(?:[a-zA-Z]+:)?\/\//.test(Ae)?dt.none():ae.prependURL.bind(Ye=>Ae.substring(0,Ye.length)!==Ye?dt.some(Ye+Ae):dt.none()),Yn=(ae,Ae)=>{const Ye=Ae.getData();ao(ae,Ye.src.value).each(Ut=>{Ae.setData({src:{value:Ut,meta:Ye.src.meta}})})},Ft=(ae,Ae,Ye)=>{ae.hasDescription&&Y(Ye.alt)&&(Ae.alt=Ye.alt),ae.hasAccessibilityOptions&&(Ae.isDecorative=Ye.isDecorative||Ae.isDecorative||!1),ae.hasImageTitle&&Y(Ye.title)&&(Ae.title=Ye.title),ae.hasDimensions&&(Y(Ye.width)&&(Ae.dimensions.width=Ye.width),Y(Ye.height)&&(Ae.dimensions.height=Ye.height)),Y(Ye.class)&&yl.findEntry(ae.classList,Ye.class).each(Ut=>{Ae.classes=Ut.value}),ae.hasImageCaption&&je(Ye.caption)&&(Ae.caption=Ye.caption),ae.hasAdvTab&&(Y(Ye.style)&&(Ae.style=Ye.style),Y(Ye.vspace)&&(Ae.vspace=Ye.vspace),Y(Ye.border)&&(Ae.border=Ye.border),Y(Ye.hspace)&&(Ae.hspace=Ye.hspace),Y(Ye.borderstyle)&&(Ae.borderstyle=Ye.borderstyle))},is=(ae,Ae)=>{const Ye=Ae.getData(),Ut=Ye.src.meta;if(Ut!==void 0){const co=eo({},Ye);Ft(ae,co,Ut),Ae.setData(co)}},ds=(ae,Ae,Ye,Ut)=>{const co=Ut.getData(),Is=co.src.value,O=co.src.meta||{};!O.width&&!O.height&&Ae.hasDimensions&&(qt(Is)?ae.imageSize(Is).then(F=>{Ye.open&&Ut.setData({dimensions:F})}).catch(F=>console.error(F)):Ut.setData({dimensions:{width:"",height:""}}))},Rr=(ae,Ae,Ye)=>{const Ut=Ye.getData(),co=yl.findEntry(ae.imageList,Ut.src.value);Ae.prevImage=co,Ye.setData({images:co.map(Is=>Is.value).getOr("")})},as=(ae,Ae,Ye,Ut)=>{Yn(Ae,Ut),is(Ae,Ut),ds(ae,Ae,Ye,Ut),Rr(Ae,Ye,Ut)},vi=(ae,Ae,Ye,Ut)=>{const co=Ut.getData(),Is=yl.findEntry(Ae.imageList,co.images);Is.each(O=>{co.alt===""||Ye.prevImage.map(G=>G.text===co.alt).getOr(!1)?O.value===""?Ut.setData({src:O,alt:Ye.prevAlt}):Ut.setData({src:O,alt:O.text}):Ut.setData({src:O})}),Ye.prevImage=Is,as(ae,Ae,Ye,Ut)},dr=(ae,Ae,Ye,Ut)=>{const co=Ut.getData();Ut.block("Uploading image"),mn(co.fileinput).fold(()=>{Ut.unblock()},Is=>{const O=URL.createObjectURL(Is),F=()=>{Ut.unblock(),URL.revokeObjectURL(O)},G=ne=>{Ut.setData({src:{value:ne,meta:{}}}),Ut.showTab("general"),as(ae,Ae,Ye,Ut),Ut.focus("src")};Gn(Is).then(ne=>{const fe=ae.createBlobCache(Is,O,ne);Ae.automaticUploads?ae.uploadImage(fe).then(ge=>{G(ge.url),F()}).catch(ge=>{F(),ae.alertErr(ge,()=>{Ut.focus("fileinput")})}):(ae.addToBlobCache(fe),G(fe.blobUri()),Ut.unblock())})})},Sa=(ae,Ae,Ye)=>(Ut,co)=>{co.name==="src"?as(ae,Ae,Ye,Ut):co.name==="images"?vi(ae,Ae,Ye,Ut):co.name==="alt"?Ye.prevAlt=Ut.getData().alt:co.name==="fileinput"?dr(ae,Ae,Ye,Ut):co.name==="isDecorative"&&Ut.setEnabled("alt",!Ut.getData().isDecorative)},ha=ae=>()=>{ae.open=!1},Fa=ae=>ae.hasAdvTab||ae.hasUploadUrl||ae.hasUploadHandler?{type:"tabpanel",tabs:Et([[Re.makeTab(ae)],ae.hasAdvTab?[wu.makeTab(ae)]:[],ae.hasUploadTab&&(ae.hasUploadUrl||ae.hasUploadHandler)?[ut.makeTab(ae)]:[]])}:{type:"panel",items:Re.makeItems(ae)},sa=(ae,Ae,Ye)=>Ut=>{const co=eo(Lt(Ae.image),Ut.getData()),Is={...co,style:yc(Ye.normalizeCss,fn(co,!1))};ae.execCommand("mceUpdateImage",!1,fn(Is,Ae.hasAccessibilityOptions)),ae.editorUpload.uploadImagesAuto(),Ut.close()},oc=ae=>Ae=>Uo(ae,Ae)?_e(ae.documentBaseURI.toAbsolute(Ae)).then(Ye=>({width:String(Ye.width),height:String(Ye.height)})):Promise.resolve({width:"",height:""}),ul=ae=>(Ae,Ye,Ut)=>ae.editorUpload.blobCache.create({blob:Ae,blobUri:Ye,name:Ae.name?.replace(/\.[^\.]+$/,""),filename:Ae.name,base64:Ut.split(",")[1]}),wl=ae=>Ae=>{ae.editorUpload.blobCache.add(Ae)},ql=ae=>(Ae,Ye)=>{ae.windowManager.alert(Ae,Ye)},Tn=ae=>Ae=>er(ae,Ae),Aa=ae=>Ae=>ae.dom.parseStyle(Ae),Nl=ae=>(Ae,Ye)=>ae.dom.serializeStyle(Ae,Ye),we=ae=>Ae=>Xo(ae).upload([Ae],!1).then(Ye=>Ye.length===0?Promise.reject("Failed to upload image"):Ye[0].status===!1?Promise.reject(Ye[0].error?.message):Ye[0]),We=ae=>{const Ae={imageSize:oc(ae),addToBlobCache:wl(ae),createBlobCache:ul(ae),alertErr:ql(ae),normalizeCss:Tn(ae),parseStyle:Aa(ae),serializeStyle:Nl(ae),uploadImage:we(ae)};return{open:()=>{Si(ae).then(Ut=>{const co=Nt(Ut);return{title:"Insert/Edit Image",size:"normal",body:Fa(Ut),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Lt(Ut.image),onSubmit:sa(ae,Ut,Ae),onChange:Sa(Ae,Ut,co),onClose:ha(co)}}).then(ae.windowManager.open)}}},ft=ae=>{ae.addCommand("mceImage",We(ae).open),ae.addCommand("mceUpdateImage",(Ae,Ye)=>{ae.undoManager.transact(()=>pi(ae,Ye))})},Bt=ae=>{const Ae=ae.attr("class");return Ee(Ae)&&/\bimage\b/.test(Ae)},kn=ae=>Ae=>{let Ye=Ae.length;const Ut=co=>{co.attr("contenteditable",ae?"true":null)};for(;Ye--;){const co=Ae[Ye];Bt(co)&&(co.attr("contenteditable",ae?"false":null),gi.each(co.getAll("figcaption"),Ut))}},Kn=ae=>{ae.on("PreInit",()=>{ae.parser.addNodeFilter("figure",kn(!0)),ae.serializer.addNodeFilter("figure",kn(!1))})},_s=ae=>Ae=>{const Ye=()=>{Ae.setEnabled(ae.selection.isEditable())};return ae.on("NodeChange",Ye),Ye(),()=>{ae.off("NodeChange",Ye)}},bs=ae=>{ae.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:We(ae).open,onSetup:Ae=>{Ae.setActive(Ee(os(ae)));const Ye=ae.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Ae.setActive).unbind,Ut=_s(ae)(Ae);return()=>{Ye(),Ut()}}}),ae.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:We(ae).open,onSetup:_s(ae)}),ae.ui.registry.addContextMenu("image",{update:Ae=>ae.selection.isEditable()&&(nc(Ae)||Zl(Ae)&&!yn(Ae))?["image"]:[]})};var ar=()=>{r.add("image",ae=>{fo(ae),Kn(ae),bs(ae),ft(ae)})};ar()})()),Oie}var Nie;function Vye(){return Nie||(Nie=1,zye()),Aie}Vye();var Rie={},Lie={},Pie;function Uye(){return Pie||(Pie=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=(Ge,Qe,qe)=>qe(Ge,Qe.prototype)?!0:Ge.constructor?.name===Qe.name,d=Ge=>{const Qe=typeof Ge;return Ge===null?"null":Qe==="object"&&Array.isArray(Ge)?"array":Qe==="object"&&a(Ge,String,(qe,Rn)=>Rn.isPrototypeOf(qe))?"string":Qe},g=Ge=>Qe=>d(Qe)===Ge,C=g("string"),k=g("object"),M=g("array"),H=Ge=>Ge==null,Y=Ge=>!H(Ge);class V{tag;value;static singletonNone=new V(!1);constructor(Qe,qe){this.tag=Qe,this.value=qe}static some(Qe){return new V(!0,Qe)}static none(){return V.singletonNone}fold(Qe,qe){return this.tag?qe(this.value):Qe()}isSome(){return this.tag}isNone(){return!this.tag}map(Qe){return this.tag?V.some(Qe(this.value)):V.none()}bind(Qe){return this.tag?Qe(this.value):V.none()}exists(Qe){return this.tag&&Qe(this.value)}forall(Qe){return!this.tag||Qe(this.value)}filter(Qe){return!this.tag||Qe(this.value)?this:V.none()}getOr(Qe){return this.tag?this.value:Qe}or(Qe){return this.tag?this:Qe}getOrThunk(Qe){return this.tag?this.value:Qe()}orThunk(Qe){return this.tag?this:Qe()}getOrDie(Qe){if(this.tag)return this.value;throw new Error(Qe??"Called getOrDie on None")}static from(Qe){return Y(Qe)?V.some(Qe):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Qe){this.tag&&Qe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const te=Array.prototype.push,Se=(Ge,Qe)=>{for(let qe=0,Rn=Ge.length;qe<Rn;qe++){const jo=Ge[qe];Qe(jo,qe)}},ye=Ge=>{const Qe=[];for(let qe=0,Rn=Ge.length;qe<Rn;++qe){if(!M(Ge[qe]))throw new Error("Arr.flatten item "+qe+" was not an array, input: "+Ge);te.apply(Qe,Ge[qe])}return Qe},je=Object.keys,Le=Object.hasOwnProperty,Ee=(Ge,Qe)=>{const qe=je(Ge);for(let Rn=0,jo=qe.length;Rn<jo;Rn++){const Do=qe[Rn],Rs=Ge[Do];Qe(Rs,Do)}},Ce=(Ge,Qe)=>at(Ge,Qe)?V.from(Ge[Qe]):V.none(),at=(Ge,Qe)=>Le.call(Ge,Qe),Je=Ge=>{let Qe=Ge;return{get:()=>Qe,set:jo=>{Qe=jo}}},xe=(Ge,Qe,qe)=>Ge.length>=Qe.length&&Ge.substr(qe,qe+Qe.length)===Qe,dt=(Ge,Qe)=>xe(Ge,Qe,0),Qt=Ge=>Qe=>Qe.options.get(Ge),Et=Ge=>{const Qe=Ge.options.register;Qe("audio_template_callback",{processor:"function"}),Qe("video_template_callback",{processor:"function"}),Qe("iframe_template_callback",{processor:"function"}),Qe("media_live_embeds",{processor:"boolean",default:!0}),Qe("media_filter_html",{processor:"boolean",default:!0}),Qe("media_url_resolver",{processor:"function"}),Qe("media_alt_source",{processor:"boolean",default:!0}),Qe("media_poster",{processor:"boolean",default:!0}),Qe("media_dimensions",{processor:"boolean",default:!0})},P=Qt("audio_template_callback"),mn=Qt("video_template_callback"),Ln=Qt("iframe_template_callback"),ln=Qt("media_live_embeds"),et=Qt("media_filter_html"),Fe=Qt("media_url_resolver"),En=Qt("media_alt_source"),wn=Qt("media_poster"),Ze=Qt("media_dimensions");var U=tinymce.util.Tools.resolve("tinymce.util.Tools"),en=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xt=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Eo=en.DOM,eo=Ge=>Ge.replace(/px$/,""),qt=Ge=>{const Qe=Ge.attr("style"),qe=Qe?Eo.parseStyle(Qe):{};return{type:"ephox-embed-iri",source:Ge.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Ce(qe,"max-width").map(eo).getOr(""),height:Ce(qe,"max-height").map(eo).getOr("")}},us=(Ge,Qe)=>{let qe={};const jo=xt({validate:!1,forced_root_block:!1},Qe).parse(Ge);for(let Do=jo;Do;Do=Do.walk())if(Do.type===1){const Rs=Do.name;if(Do.attr("data-ephox-embed-iri")){qe=qt(Do);break}else!qe.source&&Rs==="param"&&(qe.source=Do.attr("movie")),(Rs==="iframe"||Rs==="object"||Rs==="embed"||Rs==="video"||Rs==="audio")&&(qe.type||(qe.type=Rs),qe=U.extend(Do.attributes.map,qe)),Rs==="source"&&(qe.source?qe.altsource||(qe.altsource=Do.attr("src")):qe.source=Do.attr("src")),Rs==="img"&&!qe.poster&&(qe.poster=Do.attr("src"))}return qe.source=qe.source||qe.src||"",qe.altsource=qe.altsource||"",qe.poster=qe.poster||"",qe},Er=Ge=>{const Qe={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},qe=Ge.toLowerCase().split(".").pop()??"";return Ce(Qe,qe).getOr("")};var Oo=tinymce.util.Tools.resolve("tinymce.html.Node"),Ds=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Yt=(Ge,Qe={})=>xt({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Qe},Ge),yt=en.DOM,le=Ge=>/^[0-9.]+$/.test(Ge)?Ge+"px":Ge,hi=(Ge,Qe)=>{const qe=Qe.attr("style"),Rn=qe?yt.parseStyle(qe):{};Y(Ge.width)&&(Rn["max-width"]=le(Ge.width)),Y(Ge.height)&&(Rn["max-height"]=le(Ge.height)),Qe.attr("style",yt.serializeStyle(Rn))},fs=["source","altsource"],ns=(Ge,Qe,qe,Rn)=>{let jo=0,Do=0;const Rs=Yt(Rn);Rs.addNodeFilter("source",os=>jo=os.length);const er=Rs.parse(Ge);for(let os=er;os;os=os.walk())if(os.type===1){const gr=os.name;if(os.attr("data-ephox-embed-iri")){hi(Qe,os);break}else{switch(gr){case"video":case"object":case"embed":case"img":case"iframe":Qe.height!==void 0&&Qe.width!==void 0&&(os.attr("width",Qe.width),os.attr("height",Qe.height));break}if(qe)switch(gr){case"video":os.attr("poster",Qe.poster),os.attr("src",null);for(let da=jo;da<2;da++)if(Qe[fs[da]]){const vr=new Oo("source",1);vr.attr("src",Qe[fs[da]]),vr.attr("type",Qe[fs[da]+"mime"]||null),os.append(vr)}break;case"iframe":os.attr("src",Qe.source);break;case"object":const _n=os.getAll("img").length>0;if(Qe.poster&&!_n){os.attr("src",Qe.poster);const da=new Oo("img",1);da.attr("src",Qe.poster),da.attr("width",Qe.width),da.attr("height",Qe.height),os.append(da)}break;case"source":if(Do<2&&(os.attr("src",Qe[fs[Do]]),os.attr("type",Qe[fs[Do]+"mime"]||null),!Qe[fs[Do]])){os.remove();continue}Do++;break;case"img":Qe.poster||os.remove();break}}}return Ds({},Rn).serialize(er)},js=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Vr=Ge=>{const Qe=Ge.match(/^(https?:\/\/|www\.)(.+)$/i);return Qe&&Qe.length>1?Qe[1]==="www."?"https://":Qe[1]:"https://"},fo=(Ge,Qe)=>{const qe=Vr(Qe),Rn=Ge.regex.exec(Qe);let jo=qe+Ge.url;if(Y(Rn))for(let Do=0;Do<Rn.length;Do++)jo=jo.replace("$"+Do,()=>Rn[Do]?Rn[Do]:"");return jo.replace(/\?$/,"")},Ws=Ge=>{const Qe=js.filter(qe=>qe.regex.test(Ge));return Qe.length>0?U.extend({},Qe[0],{url:fo(Qe[0],Ge)}):null},In=(Ge,Qe)=>{if(Qe)return Qe(Ge);{const qe=Ge.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ge.source+'" width="'+Ge.width+'" height="'+Ge.height+'"'+qe+"></iframe>"}},vt=Ge=>{let Qe='<object data="'+Ge.source+'" width="'+Ge.width+'" height="'+Ge.height+'" type="application/x-shockwave-flash">';return Ge.poster&&(Qe+='<img src="'+Ge.poster+'" width="'+Ge.width+'" height="'+Ge.height+'" />'),Qe+="</object>",Qe},Un=(Ge,Qe)=>Qe?Qe(Ge):'<audio controls="controls" src="'+Ge.source+'">'+(Ge.altsource?`
<source src="`+Ge.altsource+'"'+(Ge.altsourcemime?' type="'+Ge.altsourcemime+'"':"")+` />
`:"")+"</audio>",Ns=(Ge,Qe)=>Qe?Qe(Ge):'<video width="'+Ge.width+'" height="'+Ge.height+'"'+(Ge.poster?' poster="'+Ge.poster+'"':"")+` controls="controls">
<source src="`+Ge.source+'"'+(Ge.sourcemime?' type="'+Ge.sourcemime+'"':"")+` />
`+(Ge.altsource?'<source src="'+Ge.altsource+'"'+(Ge.altsourcemime?' type="'+Ge.altsourcemime+'"':"")+` />
`:"")+"</video>",At=(Ge,Qe)=>{const qe=U.extend({},Qe);if(!qe.source&&(U.extend(qe,us(qe.embed??"",Ge.schema)),!qe.source))return"";qe.altsource||(qe.altsource=""),qe.poster||(qe.poster=""),qe.source=Ge.convertURL(qe.source,"source"),qe.altsource=Ge.convertURL(qe.altsource,"source"),qe.sourcemime=Er(qe.source),qe.altsourcemime=Er(qe.altsource),qe.poster=Ge.convertURL(qe.poster,"poster");const Rn=Ws(qe.source);if(Rn&&(qe.source=Rn.url,qe.type=Rn.type,qe.allowfullscreen=Rn.allowFullscreen,qe.width=qe.width||String(Rn.w),qe.height=qe.height||String(Rn.h)),qe.embed)return ns(qe.embed,qe,!0,Ge.schema);{const jo=P(Ge),Do=mn(Ge),Rs=Ln(Ge);return qe.width=qe.width||"300",qe.height=qe.height||"150",U.each(qe,(er,os)=>{qe[os]=Ge.dom.encode(""+er)}),qe.type==="iframe"?In(qe,Rs):qe.sourcemime==="application/x-shockwave-flash"?vt(qe):qe.sourcemime.indexOf("audio")!==-1?Un(qe,jo):Ns(qe,Do)}},Bs=Ge=>Ge.hasAttribute("data-mce-object")||Ge.hasAttribute("data-ephox-embed-iri"),rr=Ge=>{Ge.on("mousedown",Qe=>{const qe=Ge.dom.getParent(Qe.target,".mce-preview-object");qe&&Ge.dom.getAttrib(qe,"data-mce-selected")==="2"&&Qe.stopImmediatePropagation()}),Ge.on("click keyup touchend",()=>{const Qe=Ge.selection.getNode();Qe&&Ge.dom.hasClass(Qe,"mce-preview-object")&&Ge.dom.getAttrib(Qe,"data-mce-selected")&&Qe.setAttribute("data-mce-selected","2")}),Ge.on("ObjectResized",Qe=>{const qe=Qe.target;if(qe.getAttribute("data-mce-object")){let Rn=qe.getAttribute("data-mce-html");Rn&&(Rn=unescape(Rn),qe.setAttribute("data-mce-html",escape(ns(Rn,{width:String(Qe.width),height:String(Qe.height)},!1,Ge.schema))))}})},ir={},Gs=(Ge,Qe,qe)=>new Promise((Rn,jo)=>{const Do=Rs=>(Rs.html&&(ir[Ge.source]=Rs),Rn({url:Ge.source,html:Rs.html?Rs.html:Qe(Ge)}));ir[Ge.source]?Do(ir[Ge.source]):qe({url:Ge.source}).then(Do).catch(jo)}),Vn=(Ge,Qe)=>Promise.resolve({html:Qe(Ge),url:Ge.source}),Vt=Ge=>Qe=>At(Ge,Qe),J=(Ge,Qe)=>{const qe=Fe(Ge);return qe?Gs(Qe,Vt(Ge),qe):Vn(Qe,Vt(Ge))},de=Ge=>at(ir,Ge),_e=(Ge,Qe)=>Ce(Qe,Ge).bind(qe=>Ce(qe,"meta")),Ie=(Ge,Qe,qe)=>Rn=>{const jo=()=>Ce(Ge,Rn),Do=()=>Ce(Qe,Rn),Rs=gr=>Ce(gr,"value").bind(_n=>_n.length>0?V.some(_n):V.none()),er=()=>jo().bind(gr=>k(gr)?Rs(gr).orThunk(Do):Do().orThunk(()=>V.from(gr))),os=()=>Do().orThunk(()=>jo().bind(gr=>k(gr)?Rs(gr):V.from(gr)));return{[Rn]:(Rn===qe?er():os()).getOr("")}},ot=(Ge,Qe)=>{const qe={};return Ce(Ge,"dimensions").each(Rn=>{Se(["width","height"],jo=>{Ce(Qe,jo).orThunk(()=>Ce(Rn,jo)).each(Do=>qe[jo]=Do)})}),qe},Tt=(Ge,Qe)=>{const qe=Qe&&Qe!=="dimensions"?_e(Qe,Ge).getOr({}):{},Rn=Ie(Ge,qe,Qe);return{...Rn("source"),...Rn("altsource"),...Rn("poster"),...Rn("embed"),...ot(Ge,qe)}},Cn=Ge=>{const Qe={...Ge,source:{value:Ce(Ge,"source").getOr("")},altsource:{value:Ce(Ge,"altsource").getOr("")},poster:{value:Ce(Ge,"poster").getOr("")}};return Se(["width","height"],qe=>{Ce(Ge,qe).each(Rn=>{const jo=Qe.dimensions||{};jo[qe]=Rn,Qe.dimensions=jo})}),Qe},ro=Ge=>Qe=>{const qe=Qe&&Qe.msg?"Media embed handler error: "+Qe.msg:"Media embed handler threw unknown error.";Ge.notificationManager.open({type:"error",text:qe})},Gn=Ge=>{const Qe=Ge.selection.getNode(),qe=Bs(Qe)?Ge.serializer.serialize(Qe,{selection:!0}):"",Rn=us(qe,Ge.schema),Do=(()=>{if(Co(Rn.source,Rn.type)){const Rs=Ge.dom.getRect(Qe);return{width:Rs.w.toString().replace(/px$/,""),height:Rs.h.toString().replace(/px$/,"")}}else return{}})();return{embed:qe,...Rn,...Do}},yn=(Ge,Qe)=>qe=>{if(C(qe.url)&&qe.url.trim().length>0){const Rn=qe.html,Do={...us(Rn,Qe.schema),source:qe.url,embed:Rn};Ge.setData(Cn(Do))}},Uo=(Ge,Qe)=>{const qe=Ge.dom.select("*[data-mce-object]");for(let Rn=0;Rn<Qe.length;Rn++)for(let jo=qe.length-1;jo>=0;jo--)Qe[Rn]===qe[jo]&&qe.splice(jo,1);Ge.selection.select(qe[0])},zs=(Ge,Qe)=>{const qe=Ge.dom.select("*[data-mce-object]");Ge.insertContent(Qe),Uo(Ge,qe),Ge.nodeChanged()},Co=(Ge,Qe)=>Y(Qe)&&Qe==="ephox-embed-iri"&&Y(Ws(Ge)),Ci=(Ge,Qe)=>((Rn,jo)=>Rn.width!==jo.width||Rn.height!==jo.height)(Ge,Qe)&&Co(Qe.source,Ge.type),Mn=(Ge,Qe,qe)=>{Qe.embed=Ci(Ge,Qe)&&Ze(qe)?At(qe,{...Qe,embed:""}):ns(Qe.embed??"",Qe,!1,qe.schema),Qe.embed&&(Ge.source===Qe.source||de(Qe.source))?zs(qe,Qe.embed):J(qe,Qe).then(Rn=>{zs(qe,Rn.html)}).catch(ro(qe))},go=Ge=>{const Qe=Gn(Ge),qe=Je(Qe),Rn=Cn(Qe),jo=(Xo,gi)=>{const ya=Tt(gi.getData(),"source");Xo.source!==ya.source&&(yn(pi,Ge)({url:ya.source,html:""}),J(Ge,ya).then(yn(pi,Ge)).catch(ro(Ge)))},Do=Xo=>{const gi=Tt(Xo.getData()),ya=us(gi.embed??"",Ge.schema);Xo.setData(Cn(ya))},Rs=(Xo,gi,ya)=>{const fa=Tt(Xo.getData(),gi),un=Ci(ya,fa)&&Ze(Ge)?{...fa,embed:""}:fa,rs=At(Ge,un);Xo.setData(Cn({...un,embed:rs}))},er=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],os=Ze(Ge)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],gr={title:"General",name:"general",items:ye([er,os])},da={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},vr=[];En(Ge)&&vr.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),wn(Ge)&&vr.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Ho={title:"Advanced",name:"advanced",items:vr},Ls=[gr,da];vr.length>0&&Ls.push(Ho);const mi={type:"tabpanel",tabs:Ls},pi=Ge.windowManager.open({title:"Insert/Edit Media",size:"normal",body:mi,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Xo=>{const gi=Tt(Xo.getData());Mn(qe.get(),gi,Ge),Xo.close()},onChange:(Xo,gi)=>{switch(gi.name){case"source":jo(qe.get(),Xo);break;case"embed":Do(Xo);break;case"dimensions":case"altsource":case"poster":Rs(Xo,gi.name,qe.get());break}qe.set(Tt(Xo.getData()))},initialData:Rn})},Mo=Ge=>({showDialog:()=>{go(Ge)}}),Wa=Ge=>{const Qe=()=>{go(Ge)};Ge.addCommand("mceMedia",Qe)};var pr=tinymce.util.Tools.resolve("tinymce.Env");const Pn=Ge=>{const Qe=Ge.name;return Qe==="iframe"||Qe==="video"||Qe==="audio"},Cr=(Ge,Qe,qe,Rn=null)=>{const jo=Ge.attr(qe);return Y(jo)?jo:at(Qe,qe)?null:Rn},Lr=(Ge,Qe,qe)=>{const Rn=Qe.name==="img"||Ge.name==="video",jo=Rn?"300":null,Do=Ge.name==="audio"?"30":"150",Rs=Rn?Do:null;Qe.attr({width:Cr(Ge,qe,"width",jo),height:Cr(Ge,qe,"height",Rs)})},bl=(Ge,Qe,qe,Rn)=>{const jo=Yt(Ge.schema).parse(Rn,{context:Qe});for(;jo.firstChild;)qe.append(jo.firstChild)},ba=(Ge,Qe)=>{const qe=Qe.name,Rn=new Oo("img",1);return Ks(Ge,Qe,Rn),Lr(Qe,Rn,{}),Rn.attr({style:Qe.attr("style"),src:pr.transparentSrc,"data-mce-object":qe,class:"mce-object mce-object-"+qe}),Rn},Xi=(Ge,Qe)=>{const qe=Qe.name,Rn=new Oo("span",1);Rn.attr({contentEditable:"false",style:Qe.attr("style"),"data-mce-object":qe,class:"mce-preview-object mce-object-"+qe}),Ks(Ge,Qe,Rn);const jo=Ge.dom.parseStyle(Qe.attr("style")??""),Do=new Oo(qe,1);if(Lr(Qe,Do,jo),Do.attr({src:Qe.attr("src"),style:Qe.attr("style"),class:Qe.attr("class")}),qe==="iframe")Do.attr({allowfullscreen:Qe.attr("allowfullscreen"),frameborder:"0",sandbox:Qe.attr("sandbox"),referrerpolicy:Qe.attr("referrerpolicy")});else{Se(["controls","crossorigin","currentTime","loop","muted","poster","preload"],gr=>{Do.attr(gr,Qe.attr(gr))});const os=Rn.attr("data-mce-html");Y(os)&&bl(Ge,qe,Do,unescape(os))}const Rs=new Oo("span",1);return Rs.attr("class","mce-shim"),Rn.append(Do),Rn.append(Rs),Rn},Ks=(Ge,Qe,qe)=>{const Rn=Qe.attributes??[];let jo=Rn.length;for(;jo--;){const os=Rn[jo].name;let gr=Rn[jo].value;os!=="width"&&os!=="height"&&os!=="style"&&!dt(os,"data-mce-")&&((os==="data"||os==="src")&&(gr=Ge.convertURL(gr,os)),qe.attr("data-mce-p-"+os,gr))}const Do=Ds({inner:!0},Ge.schema),Rs=new Oo("div",1);Se(Qe.children(),os=>Rs.append(os));const er=Do.serialize(Rs);er&&(qe.attr("data-mce-html",escape(er)),qe.empty())},qo=Ge=>{const Qe=Ge.attr("class");return C(Qe)&&/\btiny-pageembed\b/.test(Qe)},or=Ge=>{let Qe=Ge;for(;Qe=Qe.parent;)if(Qe.attr("data-ephox-embed-iri")||qo(Qe))return!0;return!1},tc=Ge=>Qe=>{let qe=Qe.length,Rn;for(;qe--;)Rn=Qe[qe],Rn.parent&&(Rn.parent.attr("data-mce-object")||(Pn(Rn)&&ln(Ge)?or(Rn)||Rn.replace(Xi(Ge,Rn)):or(Rn)||Rn.replace(ba(Ge,Rn))))},nc=(Ge,Qe,qe)=>{const Rn=Ge.options.get,jo=Rn("xss_sanitization"),Do=et(Ge);return Yt(Ge.schema,{sanitize:jo,validate:Do}).parse(qe,{context:Qe})},Zl=Ge=>{Ge.on("PreInit",()=>{const{schema:Qe,serializer:qe,parser:Rn}=Ge,jo=Qe.getBoolAttrs();Se("webkitallowfullscreen mozallowfullscreen".split(" "),Do=>{jo[Do]={}}),Ee({embed:["wmode"]},(Do,Rs)=>{const er=Qe.getElementRule(Rs);er&&Se(Do,os=>{er.attributes[os]={},er.attributesOrder.push(os)})}),Rn.addNodeFilter("iframe,video,audio,object,embed",tc(Ge)),qe.addAttributeFilter("data-mce-object",(Do,Rs)=>{let er=Do.length;for(;er--;){const os=Do[er];if(!os.parent)continue;const gr=os.attr(Rs),_n=new Oo(gr,1);if(gr!=="audio"){const Ls=os.attr("class");Ls&&Ls.indexOf("mce-preview-object")!==-1&&os.firstChild?_n.attr({width:os.firstChild.attr("width"),height:os.firstChild.attr("height")}):_n.attr({width:os.attr("width"),height:os.attr("height")})}_n.attr({style:os.attr("style")});const da=os.attributes??[];let vr=da.length;for(;vr--;){const Ls=da[vr].name;Ls.indexOf("data-mce-p-")===0&&_n.attr(Ls.substr(11),da[vr].value)}const Ho=os.attr("data-mce-html");if(Ho){const Ls=nc(Ge,gr,unescape(Ho));Se(Ls.children(),mi=>_n.append(mi))}os.replace(_n)}})}),Ge.on("SetContent",()=>{const Qe=Ge.dom;Se(Qe.select("span.mce-preview-object"),qe=>{Qe.select("span.mce-shim",qe).length===0&&Qe.add(qe,"span",{class:"mce-shim"})})})},io=Ge=>{Ge.on("ResolveName",Qe=>{let qe;Qe.target.nodeType===1&&(qe=Qe.target.getAttribute("data-mce-object"))&&(Qe.name=qe)})},Ia=Ge=>Qe=>{const qe=()=>{Qe.setEnabled(Ge.selection.isEditable())};return Ge.on("NodeChange",qe),qe(),()=>{Ge.off("NodeChange",qe)}},na=Ge=>{const Qe=()=>Ge.execCommand("mceMedia");Ge.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Qe,onSetup:qe=>{const Rn=Ge.selection;qe.setActive(Bs(Rn.getNode()));const jo=Rn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",qe.setActive).unbind,Do=Ia(Ge)(qe);return()=>{jo(),Do()}}}),Ge.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Qe,onSetup:Ia(Ge)})};var yc=()=>{r.add("media",Ge=>(Et(Ge),Wa(Ge),na(Ge),io(Ge),Zl(Ge),rr(Ge),Mo(Ge)))};yc()})()),Lie}var Iie;function Wye(){return Iie||(Iie=1,Uye()),Rie}Wye();var Fie={},Bie={},$ie;function jye(){return $ie||($ie=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=(we,We,ft)=>ft(we,We.prototype)?!0:we.constructor?.name===We.name,d=we=>{const We=typeof we;return we===null?"null":We==="object"&&Array.isArray(we)?"array":We==="object"&&a(we,String,(ft,Bt)=>Bt.isPrototypeOf(ft))?"string":We},g=we=>We=>d(We)===we,C=we=>We=>typeof We===we,k=we=>We=>we===We,M=g("string"),H=g("object"),Y=g("array"),V=k(null),te=C("boolean"),Se=we=>we==null,ye=we=>!Se(we),je=C("function"),Le=(we,We)=>{if(Y(we)){for(let ft=0,Bt=we.length;ft<Bt;++ft)if(!We(we[ft]))return!1;return!0}return!1},Ee=()=>{},Ce=we=>()=>we,at=(we,We)=>we===We;class Je{tag;value;static singletonNone=new Je(!1);constructor(We,ft){this.tag=We,this.value=ft}static some(We){return new Je(!0,We)}static none(){return Je.singletonNone}fold(We,ft){return this.tag?ft(this.value):We()}isSome(){return this.tag}isNone(){return!this.tag}map(We){return this.tag?Je.some(We(this.value)):Je.none()}bind(We){return this.tag?We(this.value):Je.none()}exists(We){return this.tag&&We(this.value)}forall(We){return!this.tag||We(this.value)}filter(We){return!this.tag||We(this.value)?this:Je.none()}getOr(We){return this.tag?this.value:We}or(We){return this.tag?this:We}getOrThunk(We){return this.tag?this.value:We()}orThunk(We){return this.tag?this:We()}getOrDie(We){if(this.tag)return this.value;throw new Error(We??"Called getOrDie on None")}static from(We){return ye(We)?Je.some(We):Je.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(We){this.tag&&We(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const xe=Array.prototype.indexOf,dt=Array.prototype.push,Qt=(we,We)=>xe.call(we,We),Et=(we,We)=>Qt(we,We)>-1,P=(we,We)=>{const ft=we.length,Bt=new Array(ft);for(let kn=0;kn<ft;kn++){const Kn=we[kn];Bt[kn]=We(Kn,kn)}return Bt},mn=(we,We)=>{for(let ft=0,Bt=we.length;ft<Bt;ft++){const kn=we[ft];We(kn,ft)}},Ln=(we,We,ft)=>(mn(we,(Bt,kn)=>{ft=We(ft,Bt,kn)}),ft),ln=we=>{const We=[];for(let ft=0,Bt=we.length;ft<Bt;++ft){if(!Y(we[ft]))throw new Error("Arr.flatten item "+ft+" was not an array, input: "+we);dt.apply(We,we[ft])}return We},et=(we,We)=>ln(P(we,We)),Fe=(we,We)=>{for(let ft=0;ft<we.length;ft++){const Bt=We(we[ft],ft);if(Bt.isSome())return Bt}return Je.none()},En=Object.keys,wn=Object.hasOwnProperty,Ze=(we,We)=>{const ft=En(we);for(let Bt=0,kn=ft.length;Bt<kn;Bt++){const Kn=ft[Bt],_s=we[Kn];We(_s,Kn)}},U=we=>(We,ft)=>{we[ft]=We},en=(we,We,ft,Bt)=>{Ze(we,(kn,Kn)=>{(We(kn,Kn)?ft:Bt)(kn,Kn)})},xt=(we,We)=>{const ft={};return en(we,We,U(ft),Ee),ft},Eo=(we,We)=>wn.call(we,We),eo=(we,We)=>Eo(we,We)&&we[We]!==void 0&&we[We]!==null,qt=we=>{let We=we;return{get:()=>We,set:kn=>{We=kn}}},us=(we,We,ft=at)=>we.exists(Bt=>ft(Bt,We)),Er=we=>{const We=[],ft=Bt=>{We.push(Bt)};for(let Bt=0;Bt<we.length;Bt++)we[Bt].each(ft);return We},Oo=(we,We)=>we?Je.some(We):Je.none(),Ds=we=>{const We=qt(Je.none()),ft=()=>We.get().each(we);return{clear:()=>{ft(),We.set(Je.none())},isSet:()=>We.get().isSome(),get:()=>We.get(),set:bs=>{ft(),We.set(Je.some(bs))}}},Yt=()=>{const we=Ds(Ee);return{...we,on:ft=>we.get().each(ft)}},yt=(we,We)=>we.substring(We),le=(we,We,ft)=>We===""||we.length>=We.length&&we.substr(ft,ft+We.length)===We,hi=(we,We)=>fs(we,We)?yt(we,We.length):we,fs=(we,We)=>le(we,We,0),ns=we=>We=>We.options.get(we),js=we=>{const We=we.options.register;We("link_assume_external_targets",{processor:ft=>{const Bt=M(ft)||te(ft);return Bt?ft===!0?{value:1,valid:Bt}:ft==="http"||ft==="https"?{value:ft,valid:Bt}:{value:0,valid:Bt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),We("link_context_toolbar",{processor:"boolean",default:!1}),We("link_list",{processor:ft=>M(ft)||je(ft)||Le(ft,H)}),We("link_default_target",{processor:"string"}),We("link_default_protocol",{processor:"string",default:"https"}),We("link_target_list",{processor:ft=>te(ft)||Le(ft,H),default:!0}),We("link_rel_list",{processor:"object[]",default:[]}),We("link_class_list",{processor:"object[]",default:[]}),We("link_title",{processor:"boolean",default:!0}),We("allow_unsafe_link_target",{processor:"boolean",default:!1}),We("link_quicklink",{processor:"boolean",default:!1}),We("link_attributes_postprocess",{processor:"function"})},Vr=ns("link_assume_external_targets"),fo=ns("link_context_toolbar"),Ws=ns("link_list"),In=ns("link_default_target"),vt=ns("link_default_protocol"),Un=ns("link_target_list"),Ns=ns("link_rel_list"),At=ns("link_class_list"),Bs=ns("link_title"),rr=ns("allow_unsafe_link_target"),ir=ns("link_quicklink"),Gs=ns("link_attributes_postprocess");var Vn=tinymce.util.Tools.resolve("tinymce.util.URI"),Vt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),J=tinymce.util.Tools.resolve("tinymce.util.Tools");const de=we=>ye(we)&&we.nodeName.toLowerCase()==="a",_e=we=>de(we)&&!!Tt(we),Ie=(we,We)=>{if(we.collapsed)return[];{const ft=we.cloneContents(),Bt=ft.firstChild,kn=new Vt(Bt,ft),Kn=[];let _s=Bt;do We(_s)&&Kn.push(_s);while(_s=kn.next());return Kn}},ot=we=>/^\w+:/i.test(we),Tt=we=>we.getAttribute("data-mce-href")??we.getAttribute("href")??"",Cn=(we,We)=>{const ft=["noopener"],Bt=we?we.split(/\s+/):[],kn=ar=>J.trim(ar.sort().join(" ")),Kn=ar=>(ar=_s(ar),ar.length>0?ar.concat(ft):ft),_s=ar=>ar.filter(ae=>J.inArray(ft,ae)===-1),bs=We?Kn(Bt):_s(Bt);return bs.length>0?kn(bs):""},ro=we=>we.replace(/\uFEFF/g,""),Gn=(we,We)=>(We=We||zs(we.selection.getRng())[0]||we.selection.getNode(),Mo(We)?Je.from(we.dom.select("a[href]",We)[0]):Je.from(we.dom.getParent(We,"a[href]"))),yn=(we,We)=>Gn(we,We).isSome(),Uo=(we,We)=>{const ft=We.fold(()=>we.getContent({format:"text"}),Bt=>Bt.innerText||Bt.textContent||"");return ro(ft)},zs=we=>Ie(we,_e),Co=we=>J.grep(we,_e),Ci=we=>Co(we).length>0,Mn=we=>zs(we).length>0,go=we=>{const We=we.schema.getTextInlineElements(),ft=Kn=>Kn.nodeType===1&&!de(Kn)&&!Eo(We,Kn.nodeName.toLowerCase());if(Gn(we).exists(Kn=>Kn.hasAttribute("data-mce-block")))return!1;const kn=we.selection.getRng();return kn.collapsed?!0:Ie(kn,ft).length===0},Mo=we=>ye(we)&&we.nodeName==="FIGURE"&&/\bimage\b/i.test(we.className),Wa=we=>Ln(["title","rel","class","target"],(ft,Bt)=>(we[Bt].each(kn=>{ft[Bt]=kn.length>0?kn:null}),ft),{href:we.href}),pr=(we,We)=>(We==="http"||We==="https")&&!ot(we)?We+"://"+we:we,Pn=(we,We)=>{const ft={...We};if(Ns(we).length===0&&!rr(we)){const Bt=Cn(ft.rel,ft.target==="_blank");ft.rel=Bt||null}return Je.from(ft.target).isNone()&&Un(we)===!1&&(ft.target=In(we)),ft.href=pr(ft.href,Vr(we)),ft},Cr=(we,We,ft,Bt)=>{ft.each(Kn=>{Eo(We,"innerText")?We.innerText=Kn:We.textContent=Kn}),we.dom.setAttribs(We,Bt);const kn=we.dom.createRng();kn.setStartAfter(We),kn.setEndAfter(We),we.selection.setRng(kn)},Lr=(we,We,ft,Bt)=>{const kn=we.dom;Mo(We)?Zl(kn,We,Bt):ft.fold(()=>{we.execCommand("mceInsertLink",!1,Bt);const Kn=we.selection.getEnd(),_s=kn.createRng();_s.setStartAfter(Kn),_s.setEndAfter(Kn),we.selection.setRng(_s)},Kn=>{we.insertContent(kn.createHTML("a",Bt,kn.encode(Kn)))})},bl=(we,We,ft)=>{const Bt=we.selection.getNode(),kn=Gn(we,Bt),Kn=Pn(we,Wa(ft)),_s=Gs(we);ye(_s)&&_s(Kn),we.undoManager.transact(()=>{ft.href===We.href&&We.attach(),kn.fold(()=>{Lr(we,Bt,ft.text,Kn)},bs=>{we.focus(),Cr(we,bs,ft.text,Kn)})})},ba=we=>{const We=we.dom,ft=we.selection,Bt=ft.getBookmark(),kn=ft.getRng().cloneRange(),Kn=We.getParent(kn.startContainer,"a[href]",we.getBody()),_s=We.getParent(kn.endContainer,"a[href]",we.getBody());Kn&&kn.setStartBefore(Kn),_s&&kn.setEndAfter(_s),ft.setRng(kn),we.execCommand("unlink"),ft.moveToBookmark(Bt)},Xi=we=>{we.undoManager.transact(()=>{const We=we.selection.getNode();Mo(We)?nc(we,We):ba(we),we.focus()})},Ks=we=>{const{class:We,href:ft,rel:Bt,target:kn,text:Kn,title:_s}=we;return xt({class:We.getOrNull(),href:ft,rel:Bt.getOrNull(),target:kn.getOrNull(),text:Kn.getOrNull(),title:_s.getOrNull()},(bs,ar)=>V(bs)===!1)},qo=(we,We)=>{const ft=we.options.get,Bt={allow_html_data_urls:ft("allow_html_data_urls"),allow_script_urls:ft("allow_script_urls"),allow_svg_data_urls:ft("allow_svg_data_urls")},kn=We.href;return{...We,href:Vn.isDomSafe(kn,"a",Bt)?kn:""}},or=(we,We,ft)=>{const Bt=qo(we,ft);we.hasPlugin("rtc",!0)?we.execCommand("createlink",!1,Ks(Bt)):bl(we,We,Bt)},tc=we=>{we.hasPlugin("rtc",!0)?we.execCommand("unlink"):Xi(we)},nc=(we,We)=>{const ft=we.dom.select("img",We)[0];if(ft){const Bt=we.dom.getParents(ft,"a[href]",We)[0];Bt&&(Bt.parentNode?.insertBefore(ft,Bt),we.dom.remove(Bt))}},Zl=(we,We,ft)=>{const Bt=we.select("img",We)[0];if(Bt){const kn=we.create("a",ft);Bt.parentNode?.insertBefore(kn,Bt),kn.appendChild(Bt)}},io=we=>M(we.value)?we.value:"",Ia=we=>M(we.text)?we.text:M(we.title)?we.title:"",na=(we,We)=>{const ft=[];return J.each(we,Bt=>{const kn=Ia(Bt);if(Bt.menu!==void 0){const Kn=na(Bt.menu,We);ft.push({text:kn,items:Kn})}else{const Kn=We(Bt);ft.push({text:kn,value:Kn})}}),ft},yc=(we=io)=>We=>Je.from(We).map(ft=>na(ft,we)),qe={sanitize:we=>yc(io)(we),sanitizeWith:yc,createUi:(we,We)=>ft=>({name:we,type:"listbox",label:We,items:ft}),getValue:io},Rn=we=>eo(we,"items"),jo=(we,We)=>Fe(We,ft=>Rn(ft)?jo(we,ft.items):Oo(ft.value===we,ft)),Do=(we,We,ft,Bt)=>{const kn=Bt[We],Kn=we.length>0;return kn!==void 0?jo(kn,ft).map(_s=>({url:{value:_s.value,meta:{text:Kn?we:_s.text,attach:Ee}},text:Kn?we:_s.text})):Je.none()},Rs=(we,We)=>We==="link"?we.link:We==="anchor"?we.anchor:Je.none(),os={init:(we,We)=>{const ft={text:we.text,title:we.title},Bt=ar=>Oo(ft.title.length<=0,Je.from(ar.meta?.title).getOr("")),kn=ar=>Oo(ft.text.length<=0,Je.from(ar.meta?.text).getOr(ar.value)),Kn=ar=>{const ae=kn(ar.url),Ae=Bt(ar.url);return ae.isSome()||Ae.isSome()?Je.some({...ae.map(Ye=>({text:Ye})).getOr({}),...Ae.map(Ye=>({title:Ye})).getOr({})}):Je.none()},_s=(ar,ae)=>{const Ae=Rs(We,ae).getOr([]);return Do(ft.text,ae,Ae,ar)};return{onChange:(ar,ae)=>{const Ae=ae.name;return Ae==="url"?Kn(ar()):Et(["anchor","link"],Ae)?_s(ar(),Ae):((Ae==="text"||Ae==="title")&&(ft[Ae]=ar()[Ae]),Je.none())}}},getDelta:Do};var gr=tinymce.util.Tools.resolve("tinymce.util.Delay");const _n=(we,We,ft)=>{const Bt=we.selection.getRng();gr.setEditorTimeout(we,()=>{we.windowManager.confirm(We,kn=>{we.selection.setRng(Bt),ft(kn)})})},da=we=>{const We=we.href;return We.indexOf("@")>0&&We.indexOf("/")===-1&&We.indexOf("mailto:")===-1?Je.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Bt=>({...Bt,href:"mailto:"+We})}):Je.none()},vr=(we,We)=>ft=>{const Bt=ft.href;return we===1&&!ot(Bt)||we===0&&/^\s*www(\.|\d\.)/i.test(Bt)?Je.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${We}:// prefix?`,preprocess:Kn=>({...Kn,href:We+"://"+Bt})}):Je.none()},Ls={preprocess:(we,We)=>Fe([da,vr(Vr(we),vt(we))],ft=>ft(We)).fold(()=>Promise.resolve(We),ft=>new Promise(Bt=>{_n(we,ft.message,kn=>{Bt(kn?ft.preprocess(We):We)})}))},pi={getAnchors:we=>{const We=we.dom.select("a:not([href])"),ft=et(We,Bt=>{const kn=Bt.name||Bt.id;return kn?[{text:kn,value:"#"+kn}]:[]});return ft.length>0?Je.some([{text:"None",value:""}].concat(ft)):Je.none()}},gi={getClasses:we=>{const We=At(we);return We.length>0?qe.sanitize(We):Je.none()}},ya=we=>{try{return Je.some(JSON.parse(we))}catch{return Je.none()}},un={getLinks:we=>{const We=Bt=>we.convertURL(Bt.value||Bt.url||"","href"),ft=Ws(we);return new Promise(Bt=>{M(ft)?fetch(ft).then(kn=>kn.ok?kn.text().then(ya):Promise.reject()).then(Bt,()=>Bt(Je.none())):je(ft)?ft(kn=>Bt(Je.some(kn))):Bt(Je.from(ft))}).then(Bt=>Bt.bind(qe.sanitizeWith(We)).map(kn=>kn.length>0?[{text:"None",value:""}].concat(kn):kn))}},oa={getRels:(we,We)=>{const ft=Ns(we);if(ft.length>0){const Bt=us(We,"_blank"),kn=rr(we)===!1,Kn=bs=>Cn(qe.getValue(bs),Bt);return(kn?qe.sanitizeWith(Kn):qe.sanitize)(ft)}return Je.none()}},Uc=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Da={getTargets:we=>{const We=Un(we);return Y(We)?qe.sanitize(We).orThunk(()=>Je.some(Uc)):We===!1?Je.none():Je.some(Uc)}},yl=(we,We,ft)=>{const Bt=we.getAttrib(We,ft);return Bt!==null&&Bt.length>0?Je.some(Bt):Je.none()},Ss=(we,We)=>{const ft=we.dom,kn=go(we)?Je.some(Uo(we.selection,We)):Je.none(),Kn=We.bind(Ae=>Je.from(ft.getAttrib(Ae,"href"))),_s=We.bind(Ae=>Je.from(ft.getAttrib(Ae,"target"))),bs=We.bind(Ae=>yl(ft,Ae,"rel")),ar=We.bind(Ae=>yl(ft,Ae,"class")),ae=We.bind(Ae=>yl(ft,Ae,"title"));return{url:Kn,text:kn,title:ae,target:_s,rel:bs,linkClass:ar}},Si={collect:(we,We)=>un.getLinks(we).then(ft=>{const Bt=Ss(we,We);return{anchor:Bt,catalogs:{targets:Da.getTargets(we),rels:oa.getRels(we,Bt.target),classes:gi.getClasses(we),anchor:pi.getAnchors(we),link:ft},optNode:We,flags:{titleEnabled:Bs(we)}}})},Po=(we,We)=>ft=>{const Bt=ft.getData();if(!Bt.url.value){tc(we),ft.close();return}const kn=bs=>Je.from(Bt[bs]).filter(ar=>!us(We.anchor[bs],ar)),Kn={href:Bt.url.value,text:kn("text"),target:kn("target"),rel:kn("rel"),class:kn("linkClass"),title:kn("title")},_s={href:Bt.url.value,attach:Bt.url.meta!==void 0&&Bt.url.meta.attach?Bt.url.meta.attach:Ee};Ls.preprocess(we,Kn).then(bs=>{or(we,_s,bs)}),ft.close()},ie=we=>{const We=Gn(we);return Si.collect(we,We)},Re=(we,We)=>{const ft=we.anchor,Bt=ft.url.getOr("");return{url:{value:Bt,meta:{original:{value:Bt}}},text:ft.text.getOr(""),title:ft.title.getOr(""),anchor:Bt,link:Bt,rel:ft.rel.getOr(""),target:ft.target.or(We).getOr(""),linkClass:ft.linkClass.getOr("")}},ke=(we,We,ft)=>{const Bt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],kn=we.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Kn=we.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],_s=Je.from(In(ft)),bs=Re(we,_s),ar=we.catalogs,ae=os.init(bs,ar);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:ln([Bt,kn,Kn,Er([ar.anchor.map(qe.createUi("anchor","Anchors")),ar.rels.map(qe.createUi("rel","Rel")),ar.targets.map(qe.createUi("target","Open link in...")),ar.link.map(qe.createUi("link","Link list")),ar.classes.map(qe.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:bs,onChange:(Ye,{name:Ut})=>{ae.onChange(Ye.getData,{name:Ut}).each(co=>{Ye.setData(co)})},onSubmit:We}},ut=we=>{ie(we).then(ft=>{const Bt=Po(we,ft);return ke(ft,Bt,we)}).then(ft=>{we.windowManager.open(ft)})},Nt=we=>{we.addCommand("mceLink",(We,ft)=>{ft?.dialog===!0||!ir(we)?ut(we):we.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Lt=we=>{we.addShortcut("Meta+K","",()=>{we.execCommand("mceLink")})};var fn=tinymce.util.Tools.resolve("tinymce.util.VK");const ao=(we,We)=>{document.body.appendChild(we),we.dispatchEvent(We),document.body.removeChild(we)},Yn=we=>{const We=document.createElement("a");We.target="_blank",We.href=we,We.rel="noreferrer noopener";const ft=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(ft),ao(We,ft)},Ft=we=>we.altKey===!0&&we.shiftKey===!1&&we.ctrlKey===!1&&we.metaKey===!1,is=(we,We)=>{if(We){const ft=Tt(We);if(/^#/.test(ft)){const Bt=we.dom.select(`${ft},[name="${hi(ft,"#")}"]`);Bt.length&&we.selection.scrollIntoView(Bt[0],!0)}else Yn(We.href)}},ds=we=>{const We=we.selection.getRng(),ft=We.startContainer;return _e(ft)&&We.startContainer===We.endContainer&&we.dom.select("img",ft).length===1},Rr=(we,We)=>{const ft=Co(we.dom.getParents(We));return Oo(ft.length===1,ft[0])},as=we=>{const We=zs(we.selection.getRng());return Oo(We.length>0,We[0]).or(Rr(we,we.selection.getNode()))},vi=we=>we.selection.isCollapsed()||ds(we)?Rr(we,we.selection.getStart()):as(we),dr=we=>{const We=Yt(),ft=()=>We.get().or(vi(we)),Bt=()=>ft().each(kn=>is(we,kn));return we.on("contextmenu",kn=>{Rr(we,kn.target).each(We.set)}),we.on("SelectionChange",()=>{We.isSet()||vi(we).each(We.set)}),we.on("click",kn=>{We.clear();const Kn=Co(we.dom.getParents(kn.target));Kn.length===1&&fn.metaKeyPressed(kn)&&(kn.preventDefault(),is(we,Kn[0]))}),we.on("keydown",kn=>{We.clear(),!kn.isDefaultPrevented()&&kn.keyCode===13&&Ft(kn)&&ft().each(Kn=>{kn.preventDefault(),is(we,Kn)})}),{gotoSelectedLink:Bt}},Sa=we=>()=>{we.execCommand("mceLink",!1,{dialog:!0})},ha=(we,We)=>(we.on("NodeChange",We),()=>we.off("NodeChange",We)),Fa=we=>We=>{const ft=()=>{We.setActive(!we.mode.isReadOnly()&&yn(we,we.selection.getNode())),We.setEnabled(we.selection.isEditable())};return ft(),ha(we,ft)},sa=we=>We=>{const ft=()=>{We.setEnabled(we.selection.isEditable())};return ft(),ha(we,ft)},oc=we=>We=>{const ft=Kn=>Ci(Kn)||Mn(we.selection.getRng()),Bt=we.dom.getParents(we.selection.getStart()),kn=Kn=>{We.setEnabled(ft(Kn)&&we.selection.isEditable())};return kn(Bt),ha(we,Kn=>kn(Kn.parents))},ul=(we,We)=>{we.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Sa(we),onSetup:Fa(we)}),we.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:We.gotoSelectedLink,onSetup:oc(we)}),we.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>tc(we),onSetup:oc(we)})},wl=(we,We)=>{we.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:We.gotoSelectedLink,onSetup:oc(we)}),we.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Sa(we),onSetup:sa(we)}),we.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>tc(we),onSetup:oc(we)})},ql=we=>{const We="link unlink openlink",ft="link";we.ui.registry.addContextMenu("link",{update:Bt=>we.dom.isEditable(Bt)?Ci(we.dom.getParents(Bt,"a"))?We:ft:""})},Tn=(we,We)=>{const ft=Kn=>{Kn.selection.collapse(!1)},Bt=Kn=>{const _s=we.selection.getNode();return Kn.setEnabled(yn(we,_s)&&we.selection.isEditable()),Ee},kn=Kn=>{const _s=Gn(we),bs=go(we);if(_s.isNone()&&bs){const ar=Uo(we.selection,_s);return Oo(ar.length===0,Kn)}else return Je.none()};we.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Fa(we)},label:"Link",predicate:Kn=>fo(we)&&yn(we,Kn),initValue:()=>Gn(we).fold(Ce(""),Tt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Kn=>{const _s=we.selection.getNode();return Kn.setActive(yn(we,_s)),Fa(we)(Kn)},onAction:Kn=>{const _s=Kn.getValue(),bs=kn(_s);or(we,{href:_s,attach:Ee},{href:_s,text:bs,title:Je.none(),rel:Je.none(),target:Je.from(In(we)),class:Je.none()}),ft(we),Kn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Bt,onAction:Kn=>{tc(we),Kn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Bt,onAction:Kn=>{We.gotoSelectedLink(),Kn.hide()}}]})},Aa=we=>{const We=dr(we);ul(we,We),wl(we,We),ql(we),Tn(we,We)};var Nl=()=>{r.add("link",we=>{js(we),Nt(we),Aa(we),Lt(we)})};Nl()})()),Bie}var Hie;function Zye(){return Hie||(Hie=1,jye()),Fie}Zye();var zie={},Vie={},Uie;function qye(){return Uie||(Uie=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=(H,Y)=>{H.focus(),H.undoManager.transact(()=>{H.setContent(Y)}),H.selection.setCursorLocation(),H.nodeChanged()},d=H=>H.getContent({source_view:!0}),g=H=>{const Y=d(H);H.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Y},onSubmit:V=>{a(H,V.getData().code),V.close()}})},C=H=>{H.addCommand("mceCodeEditor",()=>{g(H)})},k=H=>{const Y=()=>H.execCommand("mceCodeEditor");H.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Y}),H.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Y})};var M=()=>{r.add("code",H=>(C(H),k(H),{}))};M()})()),Vie}var Wie;function Yye(){return Wie||(Wie=1,qye()),zie}Yye();var jie={},Zie={},qie;function Gye(){return qie||(qie=1,(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=(B,Z,he)=>he(B,Z.prototype)?!0:B.constructor?.name===Z.name,d=B=>{const Z=typeof B;return B===null?"null":Z==="object"&&Array.isArray(B)?"array":Z==="object"&&a(B,String,(he,Pe)=>Pe.isPrototypeOf(he))?"string":Z},g=B=>Z=>d(Z)===B,C=B=>Z=>typeof Z===B,k=B=>Z=>B===Z,M=g("string"),H=g("array"),Y=C("boolean"),V=k(void 0),te=B=>B==null,Se=B=>!te(B),ye=C("function"),je=C("number"),Le=()=>{},Ee=(B,Z)=>he=>B(Z(he)),Ce=B=>()=>B,at=B=>B,Je=(B,Z)=>B===Z;function xe(B,...Z){return(...he)=>{const Pe=Z.concat(he);return B.apply(null,Pe)}}const dt=B=>{B()},Qt=Ce(!1),Et=Ce(!0);class P{tag;value;static singletonNone=new P(!1);constructor(Z,he){this.tag=Z,this.value=he}static some(Z){return new P(!0,Z)}static none(){return P.singletonNone}fold(Z,he){return this.tag?he(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?P.some(Z(this.value)):P.none()}bind(Z){return this.tag?Z(this.value):P.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:P.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return Se(Z)?P.some(Z):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const mn=Array.prototype.indexOf,Ln=Array.prototype.push,ln=(B,Z)=>mn.call(B,Z),et=(B,Z)=>ln(B,Z)>-1,Fe=(B,Z)=>{for(let he=0,Pe=B.length;he<Pe;he++){const rt=B[he];if(Z(rt,he))return!0}return!1},En=(B,Z)=>{const he=[];for(let Pe=0;Pe<B;Pe++)he.push(Z(Pe));return he},wn=(B,Z)=>{const he=B.length,Pe=new Array(he);for(let rt=0;rt<he;rt++){const Ht=B[rt];Pe[rt]=Z(Ht,rt)}return Pe},Ze=(B,Z)=>{for(let he=0,Pe=B.length;he<Pe;he++){const rt=B[he];Z(rt,he)}},U=(B,Z)=>{for(let he=B.length-1;he>=0;he--){const Pe=B[he];Z(Pe,he)}},en=(B,Z)=>{const he=[],Pe=[];for(let rt=0,Ht=B.length;rt<Ht;rt++){const Fn=B[rt];(Z(Fn,rt)?he:Pe).push(Fn)}return{pass:he,fail:Pe}},xt=(B,Z)=>{const he=[];for(let Pe=0,rt=B.length;Pe<rt;Pe++){const Ht=B[Pe];Z(Ht,Pe)&&he.push(Ht)}return he},Eo=(B,Z,he)=>(U(B,(Pe,rt)=>{he=Z(he,Pe,rt)}),he),eo=(B,Z,he)=>(Ze(B,(Pe,rt)=>{he=Z(he,Pe,rt)}),he),qt=(B,Z,he)=>{for(let Pe=0,rt=B.length;Pe<rt;Pe++){const Ht=B[Pe];if(Z(Ht,Pe))return P.some(Ht);if(he(Ht,Pe))break}return P.none()},us=(B,Z)=>qt(B,Z,Qt),Er=B=>{const Z=[];for(let he=0,Pe=B.length;he<Pe;++he){if(!H(B[he]))throw new Error("Arr.flatten item "+he+" was not an array, input: "+B);Ln.apply(Z,B[he])}return Z},Oo=(B,Z)=>Er(wn(B,Z)),Ds=(B,Z)=>{for(let he=0,Pe=B.length;he<Pe;++he){const rt=B[he];if(Z(rt,he)!==!0)return!1}return!0},Yt=(B,Z)=>{const he={};for(let Pe=0,rt=B.length;Pe<rt;Pe++){const Ht=B[Pe];he[String(Ht)]=Z(Ht,Pe)}return he},yt=(B,Z)=>Z>=0&&Z<B.length?P.some(B[Z]):P.none(),le=B=>yt(B,0),hi=B=>yt(B,B.length-1),fs=(B,Z)=>{for(let he=0;he<B.length;he++){const Pe=Z(B[he],he);if(Pe.isSome())return Pe}return P.none()},ns=Object.keys,js=Object.hasOwnProperty,Vr=(B,Z)=>{const he=ns(B);for(let Pe=0,rt=he.length;Pe<rt;Pe++){const Ht=he[Pe],Fn=B[Ht];Z(Fn,Ht)}},fo=B=>(Z,he)=>{B[he]=Z},Ws=(B,Z,he,Pe)=>{Vr(B,(rt,Ht)=>{(Z(rt,Ht)?he:Pe)(rt,Ht)})},In=(B,Z)=>{const he={};return Ws(B,Z,fo(he),Le),he},vt=(B,Z)=>{const he=[];return Vr(B,(Pe,rt)=>{he.push(Z(Pe,rt))}),he},Un=B=>vt(B,at),Ns=B=>ns(B).length,At=(B,Z)=>Bs(B,Z)?P.from(B[Z]):P.none(),Bs=(B,Z)=>js.call(B,Z),rr=(B,Z)=>Bs(B,Z)&&B[Z]!==void 0&&B[Z]!==null,ir=B=>{for(const Z in B)if(js.call(B,Z))return!1;return!0},Gs=B=>{let Z=B;return{get:()=>Z,set:rt=>{Z=rt}}},Vn=(B,Z,he=Je)=>B.exists(Pe=>he(Pe,Z)),Vt=B=>{const Z=[],he=Pe=>{Z.push(Pe)};for(let Pe=0;Pe<B.length;Pe++)B[Pe].each(he);return Z},J=(B,Z,he)=>B.isSome()&&Z.isSome()?P.some(he(B.getOrDie(),Z.getOrDie())):P.none(),de=B=>B.bind(at),_e=(B,Z)=>B?P.some(Z):P.none(),Ie=B=>{const Z=Gs(P.none()),he=()=>Z.get().each(B);return{clear:()=>{he(),Z.set(P.none())},isSet:()=>Z.get().isSome(),get:()=>Z.get(),set:bo=>{he(),Z.set(P.some(bo))}}},ot=()=>Ie(B=>B.unbind()),Tt=(B,Z)=>B.substring(Z),Cn=(B,Z,he)=>Z===""||B.length>=Z.length&&B.substr(he,he+Z.length)===Z,ro=(B,Z)=>Gn(B,Z)?Tt(B,Z.length):B,Gn=(B,Z)=>Cn(B,Z,0),Uo=(B=>Z=>Z.replace(B,""))(/^\s+|\s+$/g),zs=B=>B.length>0,Co=B=>!zs(B),Ci=(B,Z=10)=>{const he=parseInt(B,Z);return isNaN(he)?P.none():P.some(he)},Mn=B=>{const Z=parseFloat(B);return isNaN(Z)?P.none():P.some(Z)},go=B=>{let Z=!1,he;return(...Pe)=>(Z||(Z=!0,he=B.apply(null,Pe)),he)},Mo=(B,Z)=>{const Pe=(Z||document).createElement("div");if(Pe.innerHTML=B,!Pe.hasChildNodes()||Pe.childNodes.length>1){const rt="HTML does not have a single root node";throw console.error(rt,B),new Error(rt)}return Pn(Pe.childNodes[0])},Wa=(B,Z)=>{const Pe=(Z||document).createElement(B);return Pn(Pe)},pr=(B,Z)=>{const Pe=(Z||document).createTextNode(B);return Pn(Pe)},Pn=B=>{if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},Lr={fromHtml:Mo,fromTag:Wa,fromText:pr,fromDom:Pn,fromPoint:(B,Z,he)=>P.from(B.dom.elementFromPoint(Z,he)).map(Pn)},bl=8,ba=9,Xi=11,Ks=1,qo=3,or=(B,Z)=>{const he=B.dom;if(he.nodeType!==Ks)return!1;{const Pe=he;if(Pe.matches!==void 0)return Pe.matches(Z);if(Pe.msMatchesSelector!==void 0)return Pe.msMatchesSelector(Z);if(Pe.webkitMatchesSelector!==void 0)return Pe.webkitMatchesSelector(Z);if(Pe.mozMatchesSelector!==void 0)return Pe.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},tc=B=>B.nodeType!==Ks&&B.nodeType!==ba&&B.nodeType!==Xi||B.childElementCount===0,nc=(B,Z)=>{const he=Z===void 0?document:Z.dom;return tc(he)?[]:wn(he.querySelectorAll(B),Lr.fromDom)},Zl=(B,Z)=>{const he=Z===void 0?document:Z.dom;return tc(he)?P.none():P.from(he.querySelector(B)).map(Lr.fromDom)},io=(B,Z)=>B.dom===Z.dom,Ia=or,na=B=>B.dom.nodeName.toLowerCase(),yc=B=>B.dom.nodeType,Ge=B=>Z=>yc(Z)===B,Qe=B=>yc(B)===bl||na(B)==="#comment",qe=Ge(Ks),Rn=Ge(qo),jo=Ge(ba),Do=Ge(Xi),Rs=B=>Z=>qe(Z)&&na(Z)===B,er=B=>Lr.fromDom(B.dom.ownerDocument),os=B=>jo(B)?B:er(B),gr=B=>P.from(B.dom.parentNode).map(Lr.fromDom),_n=(B,Z)=>{const he=ye(Z)?Z:Qt;let Pe=B.dom;const rt=[];for(;Pe.parentNode!==null&&Pe.parentNode!==void 0;){const Ht=Pe.parentNode,Fn=Lr.fromDom(Ht);if(rt.push(Fn),he(Fn)===!0)break;Pe=Ht}return rt},da=B=>P.from(B.dom.previousSibling).map(Lr.fromDom),vr=B=>P.from(B.dom.nextSibling).map(Lr.fromDom),Ho=B=>wn(B.dom.childNodes,Lr.fromDom),Ls=(B,Z)=>{const he=B.dom.childNodes;return P.from(he[Z]).map(Lr.fromDom)},mi=B=>Ls(B,0),pi=B=>Do(B)&&Se(B.dom.host),Xo=B=>Lr.fromDom(B.dom.getRootNode()),gi=B=>{const Z=Xo(B);return pi(Z)?P.some(Z):P.none()},ya=B=>Lr.fromDom(B.dom.host),fa=(B,Z)=>{gr(B).each(Pe=>{Pe.dom.insertBefore(Z.dom,B.dom)})},un=(B,Z)=>{vr(B).fold(()=>{gr(B).each(rt=>{oa(rt,Z)})},Pe=>{fa(Pe,Z)})},rs=(B,Z)=>{mi(B).fold(()=>{oa(B,Z)},Pe=>{B.dom.insertBefore(Z.dom,Pe.dom)})},oa=(B,Z)=>{B.dom.appendChild(Z.dom)},Uc=(B,Z)=>{fa(B,Z),oa(Z,B)},au=(B,Z)=>{Ze(Z,(he,Pe)=>{const rt=Pe===0?B:Z[Pe-1];un(rt,he)})},Da=(B,Z)=>{Ze(Z,he=>{oa(B,he)})},yl=(B,Z,he)=>{if(M(he)||Y(he)||je(he))B.setAttribute(Z,he+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",he,":: Element ",B),new Error("Attribute value was not simple")},Ss=(B,Z,he)=>{yl(B.dom,Z,he)},wu=(B,Z)=>{const he=B.dom;Vr(Z,(Pe,rt)=>{yl(he,rt,Pe)})},Si=(B,Z)=>{const he=B.dom.getAttribute(Z);return he===null?void 0:he},Po=(B,Z)=>P.from(Si(B,Z)),ie=(B,Z)=>{B.dom.removeAttribute(Z)},Re=B=>eo(B.dom.attributes,(Z,he)=>(Z[he.name]=he.value,Z),{}),ke=B=>{const Z=B.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)},ut=B=>{const Z=Ho(B);Z.length>0&&au(B,Z),ke(B)},Nt=B=>wn(B,Lr.fromDom),Lt=B=>B.style!==void 0&&ye(B.style.getPropertyValue),fn=B=>{const Z=Rn(B)?B.dom.parentNode:B.dom;if(Z==null||Z.ownerDocument===null)return!1;const he=Z.ownerDocument;return gi(Lr.fromDom(Z)).fold(()=>he.body.contains(Z),Ee(fn,ya))},ao=(B,Z,he)=>{if(!M(he))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",he,":: Element ",B),new Error("CSS value must be a string: "+he);Lt(B)&&B.style.setProperty(Z,he)},Yn=(B,Z)=>{Lt(B)&&B.style.removeProperty(Z)},Ft=(B,Z,he)=>{const Pe=B.dom;ao(Pe,Z,he)},is=(B,Z)=>{const he=B.dom,rt=window.getComputedStyle(he).getPropertyValue(Z);return rt===""&&!fn(B)?ds(he,Z):rt},ds=(B,Z)=>Lt(B)?B.style.getPropertyValue(Z):"",Rr=(B,Z)=>{const he=B.dom,Pe=ds(he,Z);return P.from(Pe).filter(rt=>rt.length>0)},as=(B,Z)=>{const he=B.dom;Yn(he,Z),Vn(Po(B,"style").map(Uo),"")&&ie(B,"style")},vi=(B,Z)=>Mn(B).getOr(Z),dr=(B,Z,he)=>vi(is(B,Z),he),Sa=(B,Z,he,Pe)=>{const rt=dr(B,`padding-${he}`,0),Ht=dr(B,`padding-${Pe}`,0),Fn=dr(B,`border-${he}-width`,0),bo=dr(B,`border-${Pe}-width`,0);return Z-rt-Ht-Fn-bo},ha=(B,Z)=>{const he=B.dom,Pe=he.getBoundingClientRect().width||he.offsetWidth;return Sa(B,Pe,"left","right")},sa=B=>ha(B),ul=((B,Z)=>{const he=Ht=>{if(!B(Ht))throw new Error("Can only get "+Z+" value of a "+Z+" node");return Pe(Ht).getOr("")},Pe=Ht=>B(Ht)?P.from(Ht.dom.nodeValue):P.none();return{get:he,getOption:Pe,set:(Ht,Fn)=>{if(!B(Ht))throw new Error("Can only set raw "+Z+" value of a "+Z+" node");Ht.dom.nodeValue=Fn}}})(Rn,"text"),wl=B=>ul.get(B),ql=(B,Z)=>ul.set(B,Z);var Tn=(B,Z,he,Pe,rt)=>B(he,Pe)?P.some(he):ye(rt)&&rt(he)?P.none():Z(he,Pe,rt);const Aa=(B,Z,he)=>{let Pe=B.dom;const rt=ye(he)?he:Qt;for(;Pe.parentNode;){Pe=Pe.parentNode;const Ht=Lr.fromDom(Pe);if(Z(Ht))return P.some(Ht);if(rt(Ht))break}return P.none()},Nl=(B,Z,he)=>Tn((rt,Ht)=>Ht(rt),Aa,B,Z,he),we=(B,Z)=>{const he=rt=>Z(Lr.fromDom(rt));return us(B.dom.childNodes,he).map(Lr.fromDom)},We=(B,Z,he)=>Aa(B,Pe=>or(Pe,Z),he),ft=(B,Z)=>we(B,he=>or(he,Z)),Bt=(B,Z)=>Zl(Z,B),kn=(B,Z,he)=>Tn((rt,Ht)=>or(rt,Ht),We,B,Z,he),Kn=B=>kn(B,"[contenteditable]"),_s=(B,Z=!1)=>fn(B)?B.dom.isContentEditable:Kn(B).fold(Ce(Z),he=>bs(he)==="true"),bs=B=>B.dom.contentEditable,ar=(B,Z)=>xt(Ho(B),Z),ae=(B,Z)=>{let he=[];return Ze(Ho(B),Pe=>{Z(Pe)&&(he=he.concat([Pe])),he=he.concat(ae(Pe,Z))}),he},Ae=(B,Z)=>ar(B,he=>or(he,Z)),Ye=(B,Z)=>nc(Z,B),Ut=(B,Z)=>ft(B,Z).isSome(),co=B=>B.nodeName.toLowerCase(),Is=B=>Lr.fromDom(B.getBody()),O=B=>Z=>io(Z,Is(B)),F=B=>B?B.replace(/px$/,""):"",G=B=>/^\d+(\.\d+)?$/.test(B)?B+"px":B,ne=B=>Lr.fromDom(B.selection.getStart()),fe=B=>Lr.fromDom(B.selection.getEnd()),ge=B=>Nl(B,Rs("table")).forall(_s),Me=["tfoot","thead","tbody","colgroup"],pt=B=>et(Me,B),lt=(B,Z)=>({rows:B,columns:Z}),kt=(B,Z,he)=>({element:B,rowspan:Z,colspan:he}),on=(B,Z,he,Pe,rt,Ht)=>({element:B,rowspan:Z,colspan:he,row:Pe,column:rt,isLocked:Ht}),Nn=(B,Z,he)=>({element:B,cells:Z,section:he}),Jt=(B,Z,he,Pe)=>({startRow:B,startCol:Z,finishRow:he,finishCol:Pe}),ho=(B,Z,he)=>({element:B,colspan:Z,column:he}),lr=(B,Z)=>({element:B,columns:Z}),Qr=(B,Z,he=0)=>Po(B,Z).map(Pe=>parseInt(Pe,10)).getOr(he),Pr=(B,Z)=>ol(B,Z,Et),ol=(B,Z,he)=>Oo(Ho(B),Pe=>or(Pe,Z)?he(Pe)?[Pe]:[]:ol(Pe,Z,he)),Pi=(B,Z,he=Qt)=>{if(he(Z))return P.none();if(et(B,na(Z)))return P.some(Z);const Pe=rt=>or(rt,"table")||he(rt);return We(Z,B.join(","),Pe)},sc=(B,Z)=>Pi(["td","th"],B,Z),Cu=B=>Pr(B,"th,td"),qr=B=>or(B,"colgroup")?Ae(B,"col"):Oo(Ir(B),Z=>Ae(Z,"col")),Rl=(B,Z)=>kn(B,"table",Z),Yr=B=>Pr(B,"tr"),Ir=B=>Rl(B).fold(Ce([]),Z=>Ae(Z,"colgroup")),mh=Rs("th"),Wc=(B,Z)=>B&&Z?"sectionCells":B?"section":"cells",Mc=B=>{const Z=B.section==="thead",he=Vn(ph(B.cells),"th");return B.section==="tfoot"?{type:"footer"}:Z||he?{type:"header",subType:Wc(Z,he)}:{type:"body"}},ph=B=>{const Z=xt(B,he=>mh(he.element));return Z.length===0?P.some("td"):Z.length===B.length?P.some("th"):P.none()},jc=B=>{const Z=wn(B,rt=>Mc(rt).type),he=et(Z,"header"),Pe=et(Z,"footer");if(!he&&!Pe)return P.some("body");{const rt=et(Z,"body");return he&&!rt&&!Pe?P.some("header"):!he&&!rt&&Pe?P.some("footer"):P.none()}},Bu=(B,Z)=>wn(B,he=>{if(na(he)==="colgroup"){const Pe=wn(qr(he),rt=>{const Ht=Qr(rt,"span",1);return kt(rt,1,Ht)});return Nn(he,Pe,"colgroup")}else{const Pe=wn(Cu(he),rt=>{const Ht=Qr(rt,"rowspan",1),Fn=Qr(rt,"colspan",1);return kt(rt,Ht,Fn)});return Nn(he,Pe,Z(he))}}),ad=B=>gr(B).map(Z=>{const he=na(Z);return pt(he)?he:"tbody"}).getOr("tbody"),Zc=B=>{const Z=Yr(B),Pe=[...Ir(B),...Z];return Bu(Pe,ad)},gh="data-snooker-locked-cols",Ll=B=>Po(B,gh).bind(Z=>P.from(Z.match(/\d+/g))).map(Z=>Yt(Z,Et)),ja=(B,Z)=>B+","+Z,Rd=(B,Z,he)=>P.from(B.access[ja(Z,he)]),cv=(B,Z,he)=>{const Pe=Xs(B,rt=>he(Z,rt.element));return Pe.length>0?P.some(Pe[0]):P.none()},Xs=(B,Z)=>{const he=Oo(B.all,Pe=>Pe.cells);return xt(he,Z)},ei=B=>{const Z={};let he=0;return Ze(B.cells,Pe=>{const rt=Pe.colspan;En(rt,Ht=>{const Fn=he+Ht;Z[Fn]=ho(Pe.element,rt,Fn)}),he+=rt}),Z},$u=B=>{const Z={},he=[],rt=le(B).map(Fl=>Fl.element).bind(Rl).bind(Ll).getOr({});let Ht=0,Fn=0,bo=0;const{pass:ms,fail:Vs}=en(B,Fl=>Fl.section==="colgroup");Ze(Vs,Fl=>{const df=[];Ze(Fl.cells,$d=>{let Ku=0;for(;Z[ja(bo,Ku)]!==void 0;)Ku++;const vv=rr(rt,Ku.toString()),bm=on($d.element,$d.rowspan,$d.colspan,bo,Ku,vv);for(let lc=0;lc<$d.colspan;lc++)for(let Rf=0;Rf<$d.rowspan;Rf++){const ym=bo+Rf,hg=Ku+lc,mg=ja(ym,hg);Z[mg]=bm,Fn=Math.max(Fn,hg+1)}df.push(bm)}),Ht++,he.push(Nn(Fl.element,df,Fl.section)),bo++});const{columns:bi,colgroups:ti}=hi(ms).map(Fl=>{const df=ei(Fl);return{colgroups:[lr(Fl.element,Un(df))],columns:df}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:lt(Ht,Fn),access:Z,all:he,columns:bi,colgroups:ti}},xi={fromTable:B=>{const Z=Zc(B);return $u(Z)},generate:$u,getAt:Rd,findItem:cv,filterItems:Xs,justCells:B=>Oo(B.all,Z=>Z.cells),justColumns:B=>Un(B.columns),hasColumns:B=>ns(B.columns).length>0,getColumnAt:(B,Z)=>P.from(B.columns[Z])},Hu=(B,Z)=>fs(B.all,he=>us(he.cells,Pe=>io(Z,Pe.element))),Ld=(B,Z,he)=>{const Pe=wn(Z.selection,Ht=>sc(Ht).bind(Fn=>Hu(B,Fn)).filter(he)),rt=Vt(Pe);return _e(rt.length>0,rt)},gn=(B,Z)=>Z.mergable,dl=(B,Z)=>Z.unmergable,qc=(B,Z)=>Ld(B,Z,Et),Oa=(B,Z)=>Hu(B,Z).exists(he=>!he.isLocked),ld=(B,Z)=>Ds(Z,he=>Oa(B,he)),cm=(B,Z)=>gn(B,Z).filter(he=>ld(B,he.cells)),Ve=(B,Z)=>dl(B,Z).filter(he=>ld(B,he));var Yl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],zu=()=>{const B=Vs=>Lr.fromDom(Vs.dom.cloneNode(!1)),Z=Vs=>os(Vs).dom,he=Vs=>qe(Vs)?na(Vs)==="body"?!0:et(Yl,na(Vs)):!1,Pe=Vs=>qe(Vs)?et(["br","img","hr","input"],na(Vs)):!1,rt=Vs=>qe(Vs)&&Si(Vs,"contenteditable")==="false",Ht=(Vs,bi)=>Vs.dom.compareDocumentPosition(bi.dom),Fn=(Vs,bi)=>{const ti=Re(Vs);wu(bi,ti)},bo=Vs=>{const bi=na(Vs);return et(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],bi)},ms=Vs=>qe(Vs)?Po(Vs,"lang"):P.none();return{up:Ce({selector:We,closest:kn,predicate:Aa,all:_n}),down:Ce({selector:Ye,predicate:ae}),styles:Ce({get:is,getRaw:Rr,set:Ft,remove:as}),attrs:Ce({get:Si,set:Ss,remove:ie,copyTo:Fn}),insert:Ce({before:fa,after:un,afterAll:au,append:oa,appendAll:Da,prepend:rs,wrap:Uc}),remove:Ce({unwrap:ut,remove:ke}),create:Ce({nu:Lr.fromTag,clone:B,text:Lr.fromText}),query:Ce({comparePosition:Ht,prevSibling:da,nextSibling:vr}),property:Ce({children:Ho,name:na,parent:gr,document:Z,isText:Rn,isComment:Qe,isElement:qe,isSpecial:bo,getLanguage:ms,getText:wl,setText:ql,isBoundary:he,isEmptyTag:Pe,isNonEditable:rt}),eq:io,is:Ia}};const um=(B,Z,he,Pe)=>{const rt=he[0],Ht=he.slice(1);return Pe(B,Z,rt,Ht)},cd=(B,Z,he)=>he.length>0?um(B,Z,he,Ba):P.none(),Ba=(B,Z,he,Pe)=>{const rt=Z(B,he);return Eo(Pe,(Ht,Fn)=>{const bo=Z(B,Fn);return Ke(B,Ht,bo)},rt)},Ke=(B,Z,he)=>Z.bind(Pe=>he.filter(xe(B.eq,Pe))),Ct=cd,Xt=zu(),tn=(B,Z)=>Ct(Xt,(he,Pe)=>B(Pe),Z),ko=(B,Z)=>{const he=xi.fromTable(B);return qc(he,Z).bind(rt=>{const Ht=rt[rt.length-1],Fn=rt[0].row,bo=Ht.row+Ht.rowspan,ms=he.all.slice(Fn,bo);return jc(ms)}).getOr("")},So=(B,Z)=>Z.column>=B.startCol&&Z.column+Z.colspan-1<=B.finishCol&&Z.row>=B.startRow&&Z.row+Z.rowspan-1<=B.finishRow,ys=(B,Z)=>{let he=!0;const Pe=xe(So,Z);for(let rt=Z.startRow;rt<=Z.finishRow;rt++)for(let Ht=Z.startCol;Ht<=Z.finishCol;Ht++)he=he&&xi.getAt(B,rt,Ht).exists(Pe);return he?P.some(Z):P.none()},Jo=(B,Z)=>Jt(Math.min(B.row,Z.row),Math.min(B.column,Z.column),Math.max(B.row+B.rowspan-1,Z.row+Z.rowspan-1),Math.max(B.column+B.colspan-1,Z.column+Z.colspan-1)),Zs=(B,Z,he)=>{const Pe=xi.findItem(B,Z,io),rt=xi.findItem(B,he,io);return Pe.bind(Ht=>rt.map(Fn=>Jo(Ht,Fn)))},Js=(B,Z,he)=>Zs(B,Z,he).bind(Pe=>ys(B,Pe)),$s=(B,Z,he)=>{const Pe=fr(B);return Js(Pe,Z,he)},fr=xi.fromTable;var no=tinymce.util.Tools.resolve("tinymce.util.Tools");const Fr=(B,Z,he)=>{const Pe=B.select("td,th",Z);let rt;for(let Ht=0;Ht<Pe.length;Ht++){const Fn=B.getStyle(Pe[Ht],he);if(V(rt)&&(rt=Fn),rt!==Fn)return""}return rt},Cl=(B,Z,he)=>{no.each("left center right".split(" "),Pe=>{Pe!==he&&B.formatter.remove("align"+Pe,{},Z)}),he&&B.formatter.apply("align"+he,{},Z)},$a=(B,Z,he)=>{no.each("top middle bottom".split(" "),Pe=>{Pe!==he&&B.formatter.remove("valign"+Pe,{},Z)}),he&&B.formatter.apply("valign"+he,{},Z)},Qo=(B,Z,he)=>{B.dispatch("TableModified",{...he,table:Z})};var Ha=tinymce.util.Tools.resolve("tinymce.Env");const Ii="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ma=En(5,B=>{const Z=`${B+1}px`;return{title:Z,value:Z}}),Vu=wn(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],B=>({title:B,value:B.toLowerCase()})),Ji="100%",cr=B=>{const Z=B.dom,he=Z.getParent(B.selection.getStart(),Z.isBlock)??B.getBody();return sa(Lr.fromDom(he))+"px"},bh=(B,Z)=>uv(B)||!rc(B)?Z:ud(B)?{...Z,width:cr(B)}:{...Z,width:Ji},Yc=(B,Z)=>uv(B)||rc(B)?Z:ud(B)?{...Z,width:cr(B)}:{...Z,width:Ji},Qi=B=>Z=>Z.options.get(B),Gl=B=>{const Z=B.options.register;Z("table_border_widths",{processor:"object[]",default:ma}),Z("table_border_styles",{processor:"object[]",default:Vu}),Z("table_cell_advtab",{processor:"boolean",default:!0}),Z("table_row_advtab",{processor:"boolean",default:!0}),Z("table_advtab",{processor:"boolean",default:!0}),Z("table_appearance_options",{processor:"boolean",default:!0}),Z("table_grid",{processor:"boolean",default:!Ha.deviceType.isTouch()}),Z("table_cell_class_list",{processor:"object[]",default:[]}),Z("table_row_class_list",{processor:"object[]",default:[]}),Z("table_class_list",{processor:"object[]",default:[]}),Z("table_toolbar",{processor:"string",default:Ii}),Z("table_background_color_map",{processor:"object[]",default:[]}),Z("table_border_color_map",{processor:"object[]",default:[]})},Gc=Qi("table_sizing_mode"),Za=Qi("table_border_widths"),Uu=Qi("table_border_styles"),Pl=Qi("table_cell_advtab"),Kc=Qi("table_row_advtab"),Il=Qi("table_advtab"),kr=Qi("table_appearance_options"),Su=Qi("table_grid"),rc=Qi("table_style_by_css"),Sl=Qi("table_cell_class_list"),sl=Qi("table_row_class_list"),zi=Qi("table_class_list"),wc=Qi("table_toolbar"),qa=Qi("table_background_color_map"),Ma=Qi("table_border_color_map"),ud=B=>Gc(B)==="fixed",uv=B=>Gc(B)==="responsive",sg=B=>{const Z=B.options,he=Z.get("table_default_styles");return Z.isSet("table_default_styles")?he:bh(B,he)},xl=B=>{const Z=B.options,he=Z.get("table_default_attributes");return Z.isSet("table_default_attributes")?he:Yc(B,he)},hp=B=>We(B,"table"),rg=(B,Z)=>{const he=Ye(B,Z);return he.length>0?P.some(he):P.none()},Wu=(B,Z,he)=>Bt(B,Z).bind(Pe=>Bt(B,he).bind(rt=>tn(hp,[Pe,rt]).map(Ht=>({first:Pe,last:rt,table:Ht})))),Io=(B,Z)=>rg(B,Z),dv=(B,Z,he)=>Wu(B,Z,he).bind(Pe=>{const rt=ms=>io(B,ms),Ht="thead,tfoot,tbody,table",Fn=We(Pe.first,Ht,rt),bo=We(Pe.last,Ht,rt);return Fn.bind(ms=>bo.bind(Vs=>io(ms,Vs)?$s(Pe.table,Pe.first,Pe.last):P.none()))}),za=at,_l=B=>{const Z=(Pe,rt)=>Po(Pe,rt).exists(Ht=>parseInt(Ht,10)>1),he=Pe=>Z(Pe,"rowspan")||Z(Pe,"colspan");return B.length>0&&Ds(B,he)?P.some(B):P.none()},Ya=(B,Z,he)=>Z.length<=1?P.none():dv(B,he.firstSelectedSelector,he.lastSelectedSelector).map(Pe=>({bounds:Pe,cells:Z})),Di="data-mce-selected",cu="data-mce-first-selected",Mf="td["+cu+"],th["+cu+"]",Kl="data-mce-last-selected",Xc="td["+Kl+"],th["+Kl+"]",Pd={selected:Di,firstSelectedSelector:Mf,lastSelectedSelector:Xc},mp=B=>Rl(B).bind(Z=>Io(Z,Pd.firstSelectedSelector)).fold(Ce(B),Z=>Z[0]),dm=B=>(Z,he)=>{const Pe=na(Z),rt=Pe==="col"||Pe==="colgroup"?mp(Z):Z;return kn(rt,B,he)},dd=dm("th,td,caption"),ju=dm("th,td"),sf=B=>Nt(B.model.table.getSelectedCells()),Va=(B,Z)=>{const he=ju(B),Pe=he.bind(rt=>Rl(rt)).map(rt=>Yr(rt));return J(he,Pe,(rt,Ht)=>xt(Ht,Fn=>Fe(Nt(Fn.dom.cells),bo=>Si(bo,Z)==="1"||io(bo,rt)))).getOr([])},xu=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Id=B=>({value:pp(B)}),Sr=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,uu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mb=B=>Sr.test(B)||uu.test(B),pp=B=>ro(B,"#").toUpperCase(),Na=B=>Mb(B)?P.some({value:pp(B)}):P.none(),vo=B=>{const Z=B.toString(16);return(Z.length===1?"0"+Z:Z).toUpperCase()},xr=B=>{const Z=vo(B.red)+vo(B.green)+vo(B.blue);return Id(Z)},ri=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ui=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,_u=(B,Z,he,Pe)=>({red:B,green:Z,blue:he,alpha:Pe}),_i=(B,Z,he,Pe)=>{const rt=parseInt(B,10),Ht=parseInt(Z,10),Fn=parseInt(he,10),bo=parseFloat(Pe);return _u(rt,Ht,Fn,bo)},Ga=B=>{const Z=ri.exec(B);if(Z!==null)return P.some(_i(Z[1],Z[2],Z[3],"1"));const he=ui.exec(B);return he!==null?P.some(_i(he[1],he[2],he[3],he[4])):P.none()},fm=B=>Na(B).orThunk(()=>Ga(B).map(xr)).getOrThunk(()=>{const Z=document.createElement("canvas");Z.height=1,Z.width=1;const he=Z.getContext("2d");he.clearRect(0,0,Z.width,Z.height),he.fillStyle="#FFFFFF",he.fillStyle=B,he.fillRect(0,0,1,1);const Pe=he.getImageData(0,0,1,1).data,rt=Pe[0],Ht=Pe[1],Fn=Pe[2],bo=Pe[3];return xr(_u(rt,Ht,Fn,bo))}),qs=B=>Ga(B).map(xr).map(Z=>"#"+Z.value).getOr(B),du=(B,Z,he)=>Pe=>{const rt=ot(),Ht=Co(he),Fn=()=>{const bo=sf(B),ms=Vs=>B.formatter.match(Z,{value:he},Vs.dom,Ht);Ht?(Pe.setActive(!Fe(bo,ms)),rt.set(B.formatter.formatChanged(Z,Vs=>Pe.setActive(!Vs),!0))):(Pe.setActive(Ds(bo,ms)),rt.set(B.formatter.formatChanged(Z,Pe.setActive,!1,{value:he})))};return B.initialized?Fn():B.on("init",Fn),rt.clear},ii=B=>rr(B,"menu"),Cc=B=>wn(B,Z=>{const he=Z.text||Z.title||"";return ii(Z)?{text:he,items:Cc(Z.menu)}:{text:he,value:Z.value}}),Ka=B=>B.length?P.some(Cc([{text:"Select...",value:"mce-no-match"},...B])):P.none(),Ra=(B,Z,he,Pe)=>wn(Z,rt=>{const Ht=rt.text||rt.title;return ii(rt)?{type:"nestedmenuitem",text:Ht,getSubmenuItems:()=>Ra(B,rt.menu,he,Pe)}:{text:Ht,type:"togglemenuitem",onAction:()=>Pe(rt.value),onSetup:du(B,he,rt.value)}}),Zu=(B,Z)=>he=>{B.execCommand("mceTableApplyCellStyle",!1,{[Z]:he})},yh=B=>Oo(B,Z=>ii(Z)?[{...Z,menu:yh(Z.menu)}]:zs(Z.value)?[Z]:[]),Fd=(B,Z,he,Pe)=>rt=>rt(Ra(B,Z,he,Pe)),Bd=(B,Z,he)=>{const Pe=wn(Z,rt=>({text:rt.title,value:"#"+fm(rt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Pe.length>0?Pe:void 0,allowCustomColors:!1},onAction:rt=>{const Ht=rt.value==="remove"?"":rt.value;B.execCommand("mceTableApplyCellStyle",!1,{[he]:Ht})}}]},rf=B=>()=>{const he=B.queryCommandValue("mceTableRowType")==="header"?"body":"header";B.execCommand("mceTableRowType",!1,{type:he})},rl=B=>()=>{const he=B.queryCommandValue("mceTableColType")==="th"?"td":"th";B.execCommand("mceTableColType",!1,{type:he})},af=B=>Ka(Sl(B)).map(Z=>({name:"class",type:"listbox",label:"Class",items:Z})),ig=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:xu}],Nc=B=>ig.concat(af(B).toArray()),$r=(B,Z)=>{const Pe=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Cc(Uu(B)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:Z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Pe):Pe}},wh={normal:(B,Z)=>{const he=B.dom;return{setAttrib:(Fn,bo)=>{he.setAttrib(Z,Fn,bo)},setStyle:(Fn,bo)=>{he.setStyle(Z,Fn,bo)},setFormat:(Fn,bo)=>{bo===""?B.formatter.remove(Fn,{value:null},Z,!0):B.formatter.apply(Fn,{value:bo},Z)}}}},ra=B=>Gn(B,"rgb")?qs(B):B,_r=B=>{const Z=Lr.fromDom(B);return{borderwidth:Rr(Z,"border-width").getOr(""),borderstyle:Rr(Z,"border-style").getOr(""),bordercolor:Rr(Z,"border-color").map(ra).getOr(""),backgroundcolor:Rr(Z,"background-color").map(ra).getOr("")}},ai=B=>{const Z=B[0],he=B.slice(1);return Ze(he,Pe=>{Ze(ns(Z),rt=>{Vr(Pe,(Ht,Fn)=>{const bo=Z[rt];bo!==""&&rt===Fn&&bo!==Ht&&(Z[rt]=rt==="class"?"mce-no-match":"")})})}),Z},Rc=(B,Z,he,Pe)=>us(B,rt=>!V(he.formatter.matchNode(Pe,Z+rt))).getOr(""),Vi=xe(Rc,["left","center","right"],"align"),Ch=xe(Rc,["top","middle","bottom"],"valign"),hm=(B,Z)=>{const he=sg(B),Pe=xl(B),rt=()=>({borderstyle:At(he,"border-style").getOr(""),bordercolor:ra(At(he,"border-color").getOr("")),backgroundcolor:ra(At(he,"background-color").getOr(""))}),Ht={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Fn=()=>{const bi=he["border-width"];return rc(B)&&bi?{border:bi}:At(Pe,"border").fold(()=>({}),ti=>({border:ti}))},bo=Z?rt():{},ms=()=>{const bi=At(he,"border-spacing").or(At(Pe,"cellspacing")).fold(()=>({}),pa=>({cellspacing:pa})),ti=At(he,"border-padding").or(At(Pe,"cellpadding")).fold(()=>({}),pa=>({cellpadding:pa}));return{...bi,...ti}};return{...Ht,...he,...Pe,...bo,...Fn(),...ms()}},ag=B=>Rl(Lr.fromDom(B)).map(Z=>{const he={selection:Nt(B.cells)};return ko(Z,he)}).getOr(""),dw=(B,Z,he)=>{const Pe=(bo,ms)=>{const Vs=Rr(Lr.fromDom(ms),"border-width");return rc(B)&&Vs.isSome()?Vs.getOr(""):bo.getAttrib(ms,"border")||Fr(B.dom,ms,"border-width")||Fr(B.dom,ms,"border")||""},rt=B.dom,Ht=rc(B)?rt.getStyle(Z,"border-spacing")||rt.getAttrib(Z,"cellspacing"):rt.getAttrib(Z,"cellspacing")||rt.getStyle(Z,"border-spacing"),Fn=rc(B)?Fr(rt,Z,"padding")||rt.getAttrib(Z,"cellpadding"):rt.getAttrib(Z,"cellpadding")||Fr(rt,Z,"padding");return{width:rt.getStyle(Z,"width")||rt.getAttrib(Z,"width"),height:rt.getStyle(Z,"height")||rt.getAttrib(Z,"height"),cellspacing:Ht??"",cellpadding:Fn??"",border:Pe(rt,Z),caption:!!rt.select("caption",Z)[0],class:rt.getAttrib(Z,"class",""),align:Vi(B,Z),...he?_r(Z):{}}},Tu=(B,Z,he)=>{const Pe=B.dom;return{height:Pe.getStyle(Z,"height")||Pe.getAttrib(Z,"height"),class:Pe.getAttrib(Z,"class",""),type:ag(Z),align:Vi(B,Z),...he?_r(Z):{}}},gp=(B,Z,he,Pe)=>{const rt=B.dom,Ht=Pe.getOr(Z);return{width:((bo,ms)=>rt.getStyle(bo,ms)||rt.getAttrib(bo,ms))(Ht,"width"),scope:rt.getAttrib(Z,"scope"),celltype:co(Z),class:rt.getAttrib(Z,"class",""),halign:Vi(B,Z),valign:Ch(B,Z),...he?_r(Z):{}}},lg=(B,Z)=>{const he=xi.fromTable(B),Pe=xi.justCells(he),rt=xt(Pe,Ht=>Fe(Z,Fn=>io(Ht.element,Fn)));return wn(rt,Ht=>({element:Ht.element.dom,column:xi.getColumnAt(he,Ht.column).map(Fn=>Fn.element.dom)}))},Eu=(B,Z,he,Pe)=>{Pe("scope")&&B.setAttrib("scope",he.scope),Pe("class")&&he.class!=="mce-no-match"&&B.setAttrib("class",he.class),Pe("width")&&Z.setStyle("width",G(he.width))},lf=(B,Z,he)=>{he("backgroundcolor")&&B.setFormat("tablecellbackgroundcolor",Z.backgroundcolor),he("bordercolor")&&B.setFormat("tablecellbordercolor",Z.bordercolor),he("borderstyle")&&B.setFormat("tablecellborderstyle",Z.borderstyle),he("borderwidth")&&B.setFormat("tablecellborderwidth",G(Z.borderwidth))},Sh=(B,Z,he,Pe)=>{const rt=Z.length===1;Ze(Z,Ht=>{const Fn=Ht.element,bo=rt?Et:Pe,ms=wh.normal(B,Fn),Vs=Ht.column.map(bi=>wh.normal(B,bi)).getOr(ms);Eu(ms,Vs,he,bo),Pl(B)&&lf(ms,he,bo),Pe("halign")&&Cl(B,Fn,he.halign),Pe("valign")&&$a(B,Fn,he.valign)})},mm=(B,Z)=>{B.execCommand("mceTableCellType",!1,{type:Z.celltype,no_events:!0})},vp=(B,Z,he,Pe)=>{const rt=In(Pe,(Ht,Fn)=>he[Fn]!==Ht);Ns(rt)>0&&Z.length>=1&&Rl(Z[0]).each(Ht=>{const Fn=lg(Ht,Z),bo=Ns(In(rt,(Vs,bi)=>bi!=="scope"&&bi!=="celltype"))>0,ms=Bs(rt,"celltype");(bo||Bs(rt,"scope"))&&Sh(B,Fn,Pe,xe(Bs,rt)),ms&&mm(B,Pe),Qo(B,Ht.dom,{structure:ms,style:bo})})},pm=(B,Z,he,Pe)=>{const rt=Pe.getData();Pe.close(),B.undoManager.transact(()=>{vp(B,Z,he,rt),B.focus()})},cg=(B,Z)=>{const he=Rl(Z[0]).map(Pe=>wn(lg(Pe,Z),rt=>gp(B,rt.element,Pl(B),rt.column)));return ai(he.getOrDie())},ku=B=>{const Z=sf(B);if(Z.length===0)return;const he=cg(B,Z),Pe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Nc(B)},$r(B,"cell")]},rt={type:"panel",items:[{type:"grid",columns:2,items:Nc(B)}]};B.windowManager.open({title:"Cell Properties",size:"normal",body:Pl(B)?Pe:rt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:he,onSubmit:xe(pm,B,Z,he)})},Y1=B=>Ka(sl(B)).map(Z=>({name:"class",type:"listbox",label:"Class",items:Z})),cf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ur=B=>cf.concat(Y1(B).toArray()),ic=(B,Z,he)=>{he("class")&&Z.class!=="mce-no-match"&&B.setAttrib("class",Z.class),he("height")&&B.setStyle("height",G(Z.height))},Du=(B,Z,he)=>{he("backgroundcolor")&&B.setStyle("background-color",Z.backgroundcolor),he("bordercolor")&&B.setStyle("border-color",Z.bordercolor),he("borderstyle")&&B.setStyle("border-style",Z.borderstyle)},ug=(B,Z,he,Pe)=>{const Ht=Z.length===1?Et:Pe;Ze(Z,Fn=>{const bo=Ae(Lr.fromDom(Fn),"td,th"),ms=wh.normal(B,Fn);ic(ms,he,Ht),Kc(B)&&Du(ms,he,Ht),Pe("height")&&Ze(bo,Vs=>{B.dom.setStyle(Vs.dom,"height",null)}),Pe("align")&&Cl(B,Fn,he.align)})},Nf=(B,Z)=>{B.execCommand("mceTableRowType",!1,{type:Z.type,no_events:!0})},hv=(B,Z,he,Pe)=>{const rt=In(Pe,(Ht,Fn)=>he[Fn]!==Ht);if(Ns(rt)>0){const Ht=Bs(rt,"type"),Fn=Ht?Ns(rt)>1:!0;Fn&&ug(B,Z,Pe,xe(Bs,rt)),Ht&&Nf(B,Pe),Rl(Lr.fromDom(Z[0])).each(bo=>Qo(B,bo.dom,{structure:Ht,style:Fn}))}},mv=(B,Z,he,Pe)=>{const rt=Pe.getData();Pe.close(),B.undoManager.transact(()=>{hv(B,Z,he,rt),B.focus()})},Jc=B=>{const Z=Va(ne(B),Pd.selected);if(Z.length===0)return;const he=wn(Z,Fn=>Tu(B,Fn.dom,Kc(B))),Pe=ai(he),rt={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ur(B)},$r(B,"row")]},Ht={type:"panel",items:[{type:"grid",columns:2,items:Ur(B)}]};B.windowManager.open({title:"Row Properties",size:"normal",body:Kc(B)?rt:Ht,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pe,onSubmit:xe(mv,B,wn(Z,Fn=>Fn.dom),Pe)})},qu=(B,Z,he)=>{const Pe=he?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],rt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ht=kr(B)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Fn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],bo=Z.length>0?[{name:"class",type:"listbox",label:"Class",items:Z}]:[];return Pe.concat(rt).concat(Ht).concat(Fn).concat(bo)},Hr=(B,Z,he,Pe)=>{if(Z.tagName==="TD"||Z.tagName==="TH")M(he)&&Se(Pe)?B.setStyle(Z,he,Pe):B.setStyles(Z,he);else if(Z.children)for(let rt=0;rt<Z.children.length;rt++)Hr(B,Z.children[rt],he,Pe)},pv=(B,Z,he,Pe)=>{const rt=B.dom,Ht={},Fn={},bo=rc(B),ms=Il(B),Vs=parseFloat(he.border)===0;if(!V(he.class)&&he.class!=="mce-no-match"&&(Ht.class=he.class),Fn.height=G(he.height),bo?Fn.width=G(he.width):rt.getAttrib(Z,"width")&&(Ht.width=F(he.width)),bo?(Vs?(Ht.border=0,Fn["border-width"]=""):(Fn["border-width"]=G(he.border),Ht.border=1),Fn["border-spacing"]=G(he.cellspacing)):(Ht.border=Vs?0:he.border,Ht.cellpadding=he.cellpadding,Ht.cellspacing=he.cellspacing),bo&&Z.children){const bi={};if(Vs?bi["border-width"]="":Pe.border&&(bi["border-width"]=G(he.border)),Pe.cellpadding&&(bi.padding=G(he.cellpadding)),ms&&Pe.bordercolor&&(bi["border-color"]=he.bordercolor),!ir(bi))for(let ti=0;ti<Z.children.length;ti++)Hr(rt,Z.children[ti],bi)}if(ms){const bi=he;Fn["background-color"]=bi.backgroundcolor,Fn["border-color"]=bi.bordercolor,Fn["border-style"]=bi.borderstyle}rt.setStyles(Z,{...sg(B),...Fn}),rt.setAttribs(Z,{...xl(B),...Ht})},Ui=(B,Z,he,Pe)=>{const rt=B.dom,Ht=Pe.getData(),Fn=In(Ht,(bo,ms)=>he[ms]!==bo);Pe.close(),B.undoManager.transact(()=>{if(!Z){const bo=Ci(Ht.cols).getOr(1),ms=Ci(Ht.rows).getOr(1);B.execCommand("mceInsertTable",!1,{rows:ms,columns:bo}),Z=ju(ne(B),O(B)).bind(Vs=>Rl(Vs,O(B))).map(Vs=>Vs.dom).getOrDie()}if(Ns(Fn)>0){const bo={border:Bs(Fn,"border"),bordercolor:Bs(Fn,"bordercolor"),cellpadding:Bs(Fn,"cellpadding")};pv(B,Z,Ht,bo);const ms=rt.select("caption",Z)[0];(ms&&!Ht.caption||!ms&&Ht.caption)&&B.execCommand("mceTableToggleCaption"),Cl(B,Z,Ht.align)}if(B.focus(),B.addVisual(),Ns(Fn)>0){const bo=Bs(Fn,"caption"),ms=bo?Ns(Fn)>1:!0;Qo(B,Z,{structure:bo,style:ms})}})},xh=(B,Z)=>{const he=B.dom;let Pe,rt=hm(B,Il(B));Z?(rt.cols="1",rt.rows="1",Il(B)&&(rt.borderstyle="",rt.bordercolor="",rt.backgroundcolor="")):(Pe=he.getParent(B.selection.getStart(),"table",B.getBody()),Pe?rt=dw(B,Pe,Il(B)):Il(B)&&(rt.borderstyle="",rt.bordercolor="",rt.backgroundcolor=""));const Ht=Ka(zi(B));Ht.isSome()&&rt.class&&(rt.class=rt.class.replace(/\s*mce\-item\-table\s*/g,""));const Fn={type:"grid",columns:2,items:qu(B,Ht.getOr([]),Z)},bo=()=>({type:"panel",items:[Fn]}),ms=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Fn]},$r(B,"table")]}),Vs=Il(B)?ms():bo();B.windowManager.open({title:"Table Properties",size:"normal",body:Vs,onSubmit:xe(Ui,B,Pe,rt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:rt})},Ua=B=>{const Z=he=>{ge(ne(B))&&he()};Vr({mceTableProps:xe(xh,B,!1),mceTableRowProps:xe(Jc,B),mceTableCellProps:xe(ku,B),mceInsertTableDialog:xe(xh,B,!0)},(he,Pe)=>B.addCommand(Pe,()=>Z(he)))},fd=B=>({element:B,mergable:P.none(),unmergable:P.none(),selection:[B]}),Ai=(B,Z,he)=>({element:he,mergable:Ya(Z,B,Pd),unmergable:_l(B),selection:za(B)}),Yu=B=>{const Z=Gs(P.none()),he=Gs([]);let Pe=P.none();const rt=Rs("caption"),Ht=br=>Pe.forall(yi=>!yi[br]),Fn=()=>dd(ne(B),O(B)),bo=()=>dd(fe(B),O(B)),ms=()=>Fn().bind(br=>de(J(Rl(br),bo().bind(Rl),(yi,hl)=>io(yi,hl)?rt(br)?P.some(fd(br)):P.some(Ai(sf(B),yi,br)):P.none()))),Vs=br=>Rl(br.element).map(hl=>{const Qc=xi.fromTable(hl),hd=qc(Qc,br).getOr([]),ff=eo(hd,(Th,Lf)=>(Lf.isLocked&&(Th.onAny=!0,Lf.column===0?Th.onFirst=!0:Lf.column+Lf.colspan>=Qc.grid.columns&&(Th.onLast=!0)),Th),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:cm(Qc,br).isSome(),unmergeable:Ve(Qc,br).isSome(),locked:ff}}),bi=()=>{Z.set(go(ms)()),Pe=Z.get().bind(Vs),Ze(he.get(),dt)},ti=br=>(br(),he.set(he.get().concat([br])),()=>{he.set(xt(he.get(),yi=>yi!==br))}),pa=(br,yi)=>ti(()=>Z.get().fold(()=>{br.setEnabled(!1)},hl=>{br.setEnabled(!yi(hl)&&B.selection.isEditable())})),Fl=(br,yi,hl)=>ti(()=>Z.get().fold(()=>{br.setEnabled(!1),br.setActive(!1)},Qc=>{br.setEnabled(!yi(Qc)&&B.selection.isEditable()),br.setActive(hl(Qc))})),df=br=>Pe.exists(yi=>yi.locked[br]),$d=br=>pa(br,yi=>!1),Ku=br=>pa(br,yi=>rt(yi.element)),vv=br=>yi=>pa(yi,hl=>rt(hl.element)||df(br)),bm=br=>yi=>pa(yi,hl=>rt(hl.element)||br().isNone()),lc=(br,yi)=>hl=>pa(hl,Qc=>rt(Qc.element)||br().isNone()||df(yi)),Rf=br=>pa(br,yi=>Ht("mergeable")),ym=br=>pa(br,yi=>Ht("unmergeable")),hg=br=>Fl(br,Qt,yi=>Rl(yi.element,O(B)).exists(Qc=>Ut(Qc,"caption"))),mg=(br,yi)=>hl=>Fl(hl,Qc=>rt(Qc.element),()=>B.queryCommandValue(br)===yi),Nb=mg("mceTableRowType","header"),Rb=mg("mceTableColType","th");return B.on("NodeChange ExecCommand TableSelectorChange",bi),{onSetupTable:$d,onSetupCellOrRow:Ku,onSetupColumn:vv,onSetupPasteable:bm,onSetupPasteableColumn:lc,onSetupMergeable:Rf,onSetupUnmergeable:ym,resetTargets:bi,onSetupTableWithCaption:hg,onSetupTableRowHeaders:Nb,onSetupTableColumnHeaders:Rb,targets:Z.get}};var bp=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const dg="x-tinymce/dom-table-",fg=dg+"rows",gm=dg+"columns",ac=B=>{const Z=bp.read()??[];return fs(Z,he=>P.from(he.getType(B)))},Gu=()=>ac(fg),La=()=>ac(gm),fl=B=>Z=>{const he=()=>{Z.setEnabled(B.selection.isEditable())};return B.on("NodeChange",he),he(),()=>{B.off("NodeChange",he)}},uf=(B,Z)=>{B.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:fl(B),fetch:bo=>bo("inserttable | cell row column | advtablesort | tableprops deletetable")});const he=bo=>()=>B.execCommand(bo),Pe=(bo,ms)=>{B.queryCommandSupported(ms.command)&&B.ui.registry.addButton(bo,{...ms,onAction:ye(ms.onAction)?ms.onAction:he(ms.command)})},rt=(bo,ms)=>{B.queryCommandSupported(ms.command)&&B.ui.registry.addToggleButton(bo,{...ms,onAction:ye(ms.onAction)?ms.onAction:he(ms.command)})};Pe("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:Z.onSetupTable}),Pe("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:Z.onSetupTable}),Pe("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:Z.onSetupCellOrRow}),Pe("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:Z.onSetupMergeable}),Pe("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:Z.onSetupUnmergeable}),Pe("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:Z.onSetupCellOrRow}),Pe("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:Z.onSetupCellOrRow}),Pe("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:Z.onSetupCellOrRow}),Pe("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:Z.onSetupCellOrRow}),Pe("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:Z.onSetupColumn("onFirst")}),Pe("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:Z.onSetupColumn("onLast")}),Pe("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:Z.onSetupColumn("onAny")}),Pe("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:Z.onSetupCellOrRow}),Pe("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:Z.onSetupCellOrRow}),Pe("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:Z.onSetupPasteable(Gu)}),Pe("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:Z.onSetupPasteable(Gu)}),Pe("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:Z.onSetupColumn("onAny")}),Pe("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:Z.onSetupColumn("onAny")}),Pe("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:Z.onSetupPasteableColumn(La,"onFirst")}),Pe("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:Z.onSetupPasteableColumn(La,"onLast")}),Pe("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:fl(B)});const Ht=yh(zi(B));Ht.length!==0&&B.queryCommandSupported("mceTableToggleClass")&&B.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Fd(B,Ht,"tableclass",bo=>B.execCommand("mceTableToggleClass",!1,bo)),onSetup:Z.onSetupTable});const Fn=yh(Sl(B));Fn.length!==0&&B.queryCommandSupported("mceTableCellToggleClass")&&B.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Fd(B,Fn,"tablecellclass",bo=>B.execCommand("mceTableCellToggleClass",!1,bo)),onSetup:Z.onSetupCellOrRow}),B.queryCommandSupported("mceTableApplyCellStyle")&&(B.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Fd(B,xu,"tablecellverticalalign",Zu(B,"vertical-align")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Fd(B,Za(B),"tablecellborderwidth",Zu(B,"border-width")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Fd(B,Uu(B),"tablecellborderstyle",Zu(B,"border-style")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:bo=>bo(Bd(B,qa(B),"background-color")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:bo=>bo(Bd(B,Ma(B),"border-color")),onSetup:Z.onSetupCellOrRow})),rt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:Z.onSetupTableWithCaption}),rt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:rf(B),onSetup:Z.onSetupTableRowHeaders}),rt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:rl(B),onSetup:Z.onSetupTableColumnHeaders})},vm=B=>{const Z=Pe=>B.dom.is(Pe,"table")&&B.getBody().contains(Pe)&&B.dom.isEditable(Pe.parentNode),he=wc(B);he.length>0&&B.ui.registry.addContextToolbar("table",{predicate:Z,items:he,scope:"node",position:"node"})},_h=B=>Z=>{const he=()=>{Z.setEnabled(B.selection.isEditable())};return B.on("NodeChange",he),he(),()=>{B.off("NodeChange",he)}},gv=(B,Z)=>{const he=ti=>()=>B.execCommand(ti),Pe=(ti,pa)=>B.queryCommandSupported(pa.command)?(B.ui.registry.addMenuItem(ti,{...pa,onAction:ye(pa.onAction)?pa.onAction:he(pa.command)}),!0):!1,rt=(ti,pa)=>{B.queryCommandSupported(pa.command)&&B.ui.registry.addToggleMenuItem(ti,{...pa,onAction:ye(pa.onAction)?pa.onAction:he(pa.command)})},Ht=ti=>{B.execCommand("mceInsertTable",!1,{rows:ti.numRows,columns:ti.numColumns})},Fn=[Pe("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:Z.onSetupCellOrRow}),Pe("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:Z.onSetupCellOrRow}),Pe("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:Z.onSetupCellOrRow}),Pe("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:Z.onSetupCellOrRow}),Pe("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:Z.onSetupCellOrRow}),Pe("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:Z.onSetupCellOrRow}),Pe("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:Z.onSetupPasteable(Gu)}),Pe("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:Z.onSetupPasteable(Gu)})],bo=[Pe("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:Z.onSetupColumn("onFirst")}),Pe("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:Z.onSetupColumn("onLast")}),Pe("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:Z.onSetupColumn("onAny")}),Pe("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:Z.onSetupColumn("onAny")}),Pe("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:Z.onSetupColumn("onAny")}),Pe("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:Z.onSetupPasteableColumn(La,"onFirst")}),Pe("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:Z.onSetupPasteableColumn(La,"onLast")})],ms=[Pe("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:Z.onSetupCellOrRow}),Pe("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:Z.onSetupMergeable}),Pe("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:Z.onSetupUnmergeable})];Su(B)?B.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ht}],onSetup:_h(B)}):B.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:he("mceInsertTableDialog"),onSetup:_h(B)}),B.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:he("mceInsertTableDialog"),onSetup:_h(B)}),Pe("tableprops",{text:"Table properties",onSetup:Z.onSetupTable,command:"mceTableProps"}),Pe("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:Z.onSetupTable,command:"mceTableDelete"}),et(Fn,!0)&&B.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ce("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),et(bo,!0)&&B.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ce("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),et(ms,!0)&&B.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ce("tablecellprops tablemergecells tablesplitcells")}),B.ui.registry.addContextMenu("table",{update:()=>(Z.resetTargets(),Z.targets().fold(Ce(""),ti=>na(ti.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Vs=yh(zi(B));Vs.length!==0&&B.queryCommandSupported("mceTableToggleClass")&&B.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ra(B,Vs,"tableclass",ti=>B.execCommand("mceTableToggleClass",!1,ti)),onSetup:Z.onSetupTable});const bi=yh(Sl(B));bi.length!==0&&B.queryCommandSupported("mceTableCellToggleClass")&&B.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ra(B,bi,"tablecellclass",ti=>B.execCommand("mceTableCellToggleClass",!1,ti)),onSetup:Z.onSetupCellOrRow}),B.queryCommandSupported("mceTableApplyCellStyle")&&(B.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ra(B,xu,"tablecellverticalalign",Zu(B,"vertical-align")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ra(B,Za(B),"tablecellborderwidth",Zu(B,"border-width")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ra(B,Uu(B),"tablecellborderstyle",Zu(B,"border-style")),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Bd(B,qa(B),"background-color"),onSetup:Z.onSetupCellOrRow}),B.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Bd(B,Ma(B),"border-color"),onSetup:Z.onSetupCellOrRow})),rt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:Z.onSetupTableWithCaption}),rt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:rf(B),onSetup:Z.onSetupTableRowHeaders}),rt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:rl(B),onSetup:Z.onSetupTableRowHeaders})},Lc=B=>{const Z=Yu(B);Gl(B),Ua(B),gv(B,Z),uf(B,Z),vm(B)};var fw=()=>{r.add("table",Lc)};fw()})()),Zie}var Yie;function Kye(){return Yie||(Yie=1,Gye()),jie}Kye();tinymce.init({selector:".editor",plugins:"image media link code table",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | image media link | table code",relative_urls:!1,remove_script_host:!1,convert_urls:!0,file_picker_callback:function(r,a,d){tinymce.activeEditor.windowManager.openUrl({title:"File Manager",url:"/file-manager/tinymce",buttons:[{type:"cancel",text:"Close",onClick:"close"}]}),window.addEventListener("tinymceFileSelected",function(C){const k=C.detail.url;console.log("Received URL from custom event:",k),r(k),tinymce.activeEditor.windowManager.close()},{once:!0})},skin:!1,content_css:!1})});export default Xye();
